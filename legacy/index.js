(function() {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __markAsModule = function(target) {
    return __defProp(target, "__esModule", { value: true });
  };
  var __commonJS = function(cb, mod) {
    return function __require() {
      return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
    };
  };
  var __reExport = function(target, module, desc) {
    if (module && typeof module === "object" || typeof module === "function")
      for (var keys = __getOwnPropNames(module), i = 0, n = keys.length, key; i < n; i++) {
        key = keys[i];
        if (!__hasOwnProp.call(target, key) && key !== "default")
          __defProp(target, key, { get: function(k) {
            return module[k];
          }.bind(null, key), enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });
      }
    return target;
  };
  var __toModule = function(module) {
    return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", module && module.__esModule && "default" in module ? { get: function() {
      return module.default;
    }, enumerable: true } : { value: module, enumerable: true })), module);
  };

  // ../../node_modules/asap/browser-raw.js
  var require_browser_raw = __commonJS({
    "../../node_modules/asap/browser-raw.js": function(exports, module) {
      "use strict";
      module.exports = rawAsap;
      function rawAsap(task) {
        if (!queue.length) {
          requestFlush();
          flushing = true;
        }
        queue[queue.length] = task;
      }
      var queue = [];
      var flushing = false;
      var requestFlush;
      var index = 0;
      var capacity = 1024;
      function flush() {
        while (index < queue.length) {
          var currentIndex = index;
          index = index + 1;
          queue[currentIndex].call();
          if (index > capacity) {
            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
              queue[scan] = queue[scan + index];
            }
            queue.length -= index;
            index = 0;
          }
        }
        queue.length = 0;
        index = 0;
        flushing = false;
      }
      var scope = typeof global !== "undefined" ? global : self;
      var BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;
      if (typeof BrowserMutationObserver === "function") {
        requestFlush = makeRequestCallFromMutationObserver(flush);
      } else {
        requestFlush = makeRequestCallFromTimer(flush);
      }
      rawAsap.requestFlush = requestFlush;
      function makeRequestCallFromMutationObserver(callback) {
        var toggle = 1;
        var observer = new BrowserMutationObserver(callback);
        var node = document.createTextNode("");
        observer.observe(node, { characterData: true });
        return function requestCall() {
          toggle = -toggle;
          node.data = toggle;
        };
      }
      function makeRequestCallFromTimer(callback) {
        return function requestCall() {
          var timeoutHandle = setTimeout(handleTimer, 0);
          var intervalHandle = setInterval(handleTimer, 50);
          function handleTimer() {
            clearTimeout(timeoutHandle);
            clearInterval(intervalHandle);
            callback();
          }
        };
      }
      rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;
    }
  });

  // ../../node_modules/promise/lib/core.js
  var require_core = __commonJS({
    "../../node_modules/promise/lib/core.js": function(exports, module) {
      "use strict";
      var asap = require_browser_raw();
      function noop() {
      }
      var LAST_ERROR = null;
      var IS_ERROR = {};
      function getThen(obj) {
        try {
          return obj.then;
        } catch (ex) {
          LAST_ERROR = ex;
          return IS_ERROR;
        }
      }
      function tryCallOne(fn, a) {
        try {
          return fn(a);
        } catch (ex) {
          LAST_ERROR = ex;
          return IS_ERROR;
        }
      }
      function tryCallTwo(fn, a, b) {
        try {
          fn(a, b);
        } catch (ex) {
          LAST_ERROR = ex;
          return IS_ERROR;
        }
      }
      module.exports = Promise2;
      function Promise2(fn) {
        if (typeof this !== "object") {
          throw new TypeError("Promises must be constructed via new");
        }
        if (typeof fn !== "function") {
          throw new TypeError("Promise constructor's argument is not a function");
        }
        this._U = 0;
        this._V = 0;
        this._W = null;
        this._X = null;
        if (fn === noop)
          return;
        doResolve(fn, this);
      }
      Promise2._Y = null;
      Promise2._Z = null;
      Promise2._0 = noop;
      Promise2.prototype.then = function(onFulfilled, onRejected) {
        if (this.constructor !== Promise2) {
          return safeThen(this, onFulfilled, onRejected);
        }
        var res = new Promise2(noop);
        handle(this, new Handler(onFulfilled, onRejected, res));
        return res;
      };
      function safeThen(self2, onFulfilled, onRejected) {
        return new self2.constructor(function(resolve2, reject2) {
          var res = new Promise2(noop);
          res.then(resolve2, reject2);
          handle(self2, new Handler(onFulfilled, onRejected, res));
        });
      }
      function handle(self2, deferred) {
        while (self2._V === 3) {
          self2 = self2._W;
        }
        if (Promise2._Y) {
          Promise2._Y(self2);
        }
        if (self2._V === 0) {
          if (self2._U === 0) {
            self2._U = 1;
            self2._X = deferred;
            return;
          }
          if (self2._U === 1) {
            self2._U = 2;
            self2._X = [self2._X, deferred];
            return;
          }
          self2._X.push(deferred);
          return;
        }
        handleResolved(self2, deferred);
      }
      function handleResolved(self2, deferred) {
        asap(function() {
          var cb = self2._V === 1 ? deferred.onFulfilled : deferred.onRejected;
          if (cb === null) {
            if (self2._V === 1) {
              resolve(deferred.promise, self2._W);
            } else {
              reject(deferred.promise, self2._W);
            }
            return;
          }
          var ret = tryCallOne(cb, self2._W);
          if (ret === IS_ERROR) {
            reject(deferred.promise, LAST_ERROR);
          } else {
            resolve(deferred.promise, ret);
          }
        });
      }
      function resolve(self2, newValue) {
        if (newValue === self2) {
          return reject(self2, new TypeError("A promise cannot be resolved with itself."));
        }
        if (newValue && (typeof newValue === "object" || typeof newValue === "function")) {
          var then = getThen(newValue);
          if (then === IS_ERROR) {
            return reject(self2, LAST_ERROR);
          }
          if (then === self2.then && newValue instanceof Promise2) {
            self2._V = 3;
            self2._W = newValue;
            finale(self2);
            return;
          } else if (typeof then === "function") {
            doResolve(then.bind(newValue), self2);
            return;
          }
        }
        self2._V = 1;
        self2._W = newValue;
        finale(self2);
      }
      function reject(self2, newValue) {
        self2._V = 2;
        self2._W = newValue;
        if (Promise2._Z) {
          Promise2._Z(self2, newValue);
        }
        finale(self2);
      }
      function finale(self2) {
        if (self2._U === 1) {
          handle(self2, self2._X);
          self2._X = null;
        }
        if (self2._U === 2) {
          for (var i = 0; i < self2._X.length; i++) {
            handle(self2, self2._X[i]);
          }
          self2._X = null;
        }
      }
      function Handler(onFulfilled, onRejected, promise) {
        this.onFulfilled = typeof onFulfilled === "function" ? onFulfilled : null;
        this.onRejected = typeof onRejected === "function" ? onRejected : null;
        this.promise = promise;
      }
      function doResolve(fn, promise) {
        var done = false;
        var res = tryCallTwo(fn, function(value) {
          if (done)
            return;
          done = true;
          resolve(promise, value);
        }, function(reason) {
          if (done)
            return;
          done = true;
          reject(promise, reason);
        });
        if (!done && res === IS_ERROR) {
          done = true;
          reject(promise, LAST_ERROR);
        }
      }
    }
  });

  // ../../node_modules/promise/lib/rejection-tracking.js
  var require_rejection_tracking = __commonJS({
    "../../node_modules/promise/lib/rejection-tracking.js": function(exports) {
      "use strict";
      var Promise2 = require_core();
      var DEFAULT_WHITELIST = [
        ReferenceError,
        TypeError,
        RangeError
      ];
      var enabled = false;
      exports.disable = disable;
      function disable() {
        enabled = false;
        Promise2._Y = null;
        Promise2._Z = null;
      }
      exports.enable = enable;
      function enable(options) {
        options = options || {};
        if (enabled)
          disable();
        enabled = true;
        var id = 0;
        var displayId = 0;
        var rejections = {};
        Promise2._Y = function(promise) {
          if (promise._V === 2 && rejections[promise._1]) {
            if (rejections[promise._1].logged) {
              onHandled(promise._1);
            } else {
              clearTimeout(rejections[promise._1].timeout);
            }
            delete rejections[promise._1];
          }
        };
        Promise2._Z = function(promise, err) {
          if (promise._U === 0) {
            promise._1 = id++;
            rejections[promise._1] = {
              displayId: null,
              error: err,
              timeout: setTimeout(onUnhandled.bind(null, promise._1), matchWhitelist(err, DEFAULT_WHITELIST) ? 100 : 2e3),
              logged: false
            };
          }
        };
        function onUnhandled(id2) {
          if (options.allRejections || matchWhitelist(rejections[id2].error, options.whitelist || DEFAULT_WHITELIST)) {
            rejections[id2].displayId = displayId++;
            if (options.onUnhandled) {
              rejections[id2].logged = true;
              options.onUnhandled(rejections[id2].displayId, rejections[id2].error);
            } else {
              rejections[id2].logged = true;
              logError(rejections[id2].displayId, rejections[id2].error);
            }
          }
        }
        function onHandled(id2) {
          if (rejections[id2].logged) {
            if (options.onHandled) {
              options.onHandled(rejections[id2].displayId, rejections[id2].error);
            } else if (!rejections[id2].onUnhandled) {
              console.warn("Promise Rejection Handled (id: " + rejections[id2].displayId + "):");
              console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id ' + rejections[id2].displayId + ".");
            }
          }
        }
      }
      function logError(id, error) {
        console.warn("Possible Unhandled Promise Rejection (id: " + id + "):");
        var errStr = (error && (error.stack || error)) + "";
        errStr.split("\n").forEach(function(line) {
          console.warn("  " + line);
        });
      }
      function matchWhitelist(error, list) {
        return list.some(function(cls) {
          return error instanceof cls;
        });
      }
    }
  });

  // ../../node_modules/promise/lib/es6-extensions.js
  var require_es6_extensions = __commonJS({
    "../../node_modules/promise/lib/es6-extensions.js": function(exports, module) {
      "use strict";
      var Promise2 = require_core();
      module.exports = Promise2;
      var TRUE = valuePromise(true);
      var FALSE = valuePromise(false);
      var NULL = valuePromise(null);
      var UNDEFINED = valuePromise(void 0);
      var ZERO = valuePromise(0);
      var EMPTYSTRING = valuePromise("");
      function valuePromise(value) {
        var p = new Promise2(Promise2._0);
        p._V = 1;
        p._W = value;
        return p;
      }
      Promise2.resolve = function(value) {
        if (value instanceof Promise2)
          return value;
        if (value === null)
          return NULL;
        if (value === void 0)
          return UNDEFINED;
        if (value === true)
          return TRUE;
        if (value === false)
          return FALSE;
        if (value === 0)
          return ZERO;
        if (value === "")
          return EMPTYSTRING;
        if (typeof value === "object" || typeof value === "function") {
          try {
            var then = value.then;
            if (typeof then === "function") {
              return new Promise2(then.bind(value));
            }
          } catch (ex) {
            return new Promise2(function(resolve, reject) {
              reject(ex);
            });
          }
        }
        return valuePromise(value);
      };
      var iterableToArray = function(iterable) {
        if (typeof Array.from === "function") {
          iterableToArray = Array.from;
          return Array.from(iterable);
        }
        iterableToArray = function(x) {
          return Array.prototype.slice.call(x);
        };
        return Array.prototype.slice.call(iterable);
      };
      Promise2.all = function(arr) {
        var args = iterableToArray(arr);
        return new Promise2(function(resolve, reject) {
          if (args.length === 0)
            return resolve([]);
          var remaining = args.length;
          function res(i2, val) {
            if (val && (typeof val === "object" || typeof val === "function")) {
              if (val instanceof Promise2 && val.then === Promise2.prototype.then) {
                while (val._V === 3) {
                  val = val._W;
                }
                if (val._V === 1)
                  return res(i2, val._W);
                if (val._V === 2)
                  reject(val._W);
                val.then(function(val2) {
                  res(i2, val2);
                }, reject);
                return;
              } else {
                var then = val.then;
                if (typeof then === "function") {
                  var p = new Promise2(then.bind(val));
                  p.then(function(val2) {
                    res(i2, val2);
                  }, reject);
                  return;
                }
              }
            }
            args[i2] = val;
            if (--remaining === 0) {
              resolve(args);
            }
          }
          for (var i = 0; i < args.length; i++) {
            res(i, args[i]);
          }
        });
      };
      Promise2.reject = function(value) {
        return new Promise2(function(resolve, reject) {
          reject(value);
        });
      };
      Promise2.race = function(values) {
        return new Promise2(function(resolve, reject) {
          iterableToArray(values).forEach(function(value) {
            Promise2.resolve(value).then(resolve, reject);
          });
        });
      };
      Promise2.prototype["catch"] = function(onRejected) {
        return this.then(null, onRejected);
      };
    }
  });

  // ../../node_modules/whatwg-fetch/dist/fetch.umd.js
  var require_fetch_umd = __commonJS({
    "../../node_modules/whatwg-fetch/dist/fetch.umd.js": function(exports, module) {
      (function(global2, factory) {
        typeof exports === "object" && typeof module !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : factory(global2.WHATWGFetch = {});
      })(exports, function(exports2) {
        "use strict";
        var global2 = typeof globalThis !== "undefined" && globalThis || typeof self !== "undefined" && self || typeof global2 !== "undefined" && global2;
        var support = {
          searchParams: "URLSearchParams" in global2,
          iterable: "Symbol" in global2 && "iterator" in Symbol,
          blob: "FileReader" in global2 && "Blob" in global2 && function() {
            try {
              new Blob();
              return true;
            } catch (e) {
              return false;
            }
          }(),
          formData: "FormData" in global2,
          arrayBuffer: "ArrayBuffer" in global2
        };
        function isDataView(obj) {
          return obj && DataView.prototype.isPrototypeOf(obj);
        }
        if (support.arrayBuffer) {
          var viewClasses = [
            "[object Int8Array]",
            "[object Uint8Array]",
            "[object Uint8ClampedArray]",
            "[object Int16Array]",
            "[object Uint16Array]",
            "[object Int32Array]",
            "[object Uint32Array]",
            "[object Float32Array]",
            "[object Float64Array]"
          ];
          var isArrayBufferView = ArrayBuffer.isView || function(obj) {
            return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
          };
        }
        function normalizeName(name) {
          if (typeof name !== "string") {
            name = String(name);
          }
          if (/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name) || name === "") {
            throw new TypeError("Invalid character in header field name");
          }
          return name.toLowerCase();
        }
        function normalizeValue(value) {
          if (typeof value !== "string") {
            value = String(value);
          }
          return value;
        }
        function iteratorFor(items) {
          var iterator = {
            next: function() {
              var value = items.shift();
              return { done: value === void 0, value: value };
            }
          };
          if (support.iterable) {
            iterator[Symbol.iterator] = function() {
              return iterator;
            };
          }
          return iterator;
        }
        function Headers(headers) {
          this.map = {};
          if (headers instanceof Headers) {
            headers.forEach(function(value, name) {
              this.append(name, value);
            }, this);
          } else if (Array.isArray(headers)) {
            headers.forEach(function(header) {
              this.append(header[0], header[1]);
            }, this);
          } else if (headers) {
            Object.getOwnPropertyNames(headers).forEach(function(name) {
              this.append(name, headers[name]);
            }, this);
          }
        }
        Headers.prototype.append = function(name, value) {
          name = normalizeName(name);
          value = normalizeValue(value);
          var oldValue = this.map[name];
          this.map[name] = oldValue ? oldValue + ", " + value : value;
        };
        Headers.prototype["delete"] = function(name) {
          delete this.map[normalizeName(name)];
        };
        Headers.prototype.get = function(name) {
          name = normalizeName(name);
          return this.has(name) ? this.map[name] : null;
        };
        Headers.prototype.has = function(name) {
          return this.map.hasOwnProperty(normalizeName(name));
        };
        Headers.prototype.set = function(name, value) {
          this.map[normalizeName(name)] = normalizeValue(value);
        };
        Headers.prototype.forEach = function(callback, thisArg) {
          for (var name in this.map) {
            if (this.map.hasOwnProperty(name)) {
              callback.call(thisArg, this.map[name], name, this);
            }
          }
        };
        Headers.prototype.keys = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push(name);
          });
          return iteratorFor(items);
        };
        Headers.prototype.values = function() {
          var items = [];
          this.forEach(function(value) {
            items.push(value);
          });
          return iteratorFor(items);
        };
        Headers.prototype.entries = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push([name, value]);
          });
          return iteratorFor(items);
        };
        if (support.iterable) {
          Headers.prototype[Symbol.iterator] = Headers.prototype.entries;
        }
        function consumed(body) {
          if (body.bodyUsed) {
            return Promise.reject(new TypeError("Already read"));
          }
          body.bodyUsed = true;
        }
        function fileReaderReady(reader) {
          return new Promise(function(resolve, reject) {
            reader.onload = function() {
              resolve(reader.result);
            };
            reader.onerror = function() {
              reject(reader.error);
            };
          });
        }
        function readBlobAsArrayBuffer(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsArrayBuffer(blob);
          return promise;
        }
        function readBlobAsText(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsText(blob);
          return promise;
        }
        function readArrayBufferAsText(buf) {
          var view = new Uint8Array(buf);
          var chars = new Array(view.length);
          for (var i = 0; i < view.length; i++) {
            chars[i] = String.fromCharCode(view[i]);
          }
          return chars.join("");
        }
        function bufferClone(buf) {
          if (buf.slice) {
            return buf.slice(0);
          } else {
            var view = new Uint8Array(buf.byteLength);
            view.set(new Uint8Array(buf));
            return view.buffer;
          }
        }
        function Body() {
          this.bodyUsed = false;
          this._initBody = function(body) {
            this.bodyUsed = this.bodyUsed;
            this._bodyInit = body;
            if (!body) {
              this._bodyText = "";
            } else if (typeof body === "string") {
              this._bodyText = body;
            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
              this._bodyBlob = body;
            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
              this._bodyFormData = body;
            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
              this._bodyText = body.toString();
            } else if (support.arrayBuffer && support.blob && isDataView(body)) {
              this._bodyArrayBuffer = bufferClone(body.buffer);
              this._bodyInit = new Blob([this._bodyArrayBuffer]);
            } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
              this._bodyArrayBuffer = bufferClone(body);
            } else {
              this._bodyText = body = Object.prototype.toString.call(body);
            }
            if (!this.headers.get("content-type")) {
              if (typeof body === "string") {
                this.headers.set("content-type", "text/plain;charset=UTF-8");
              } else if (this._bodyBlob && this._bodyBlob.type) {
                this.headers.set("content-type", this._bodyBlob.type);
              } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
                this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
              }
            }
          };
          if (support.blob) {
            this.blob = function() {
              var rejected = consumed(this);
              if (rejected) {
                return rejected;
              }
              if (this._bodyBlob) {
                return Promise.resolve(this._bodyBlob);
              } else if (this._bodyArrayBuffer) {
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
              } else if (this._bodyFormData) {
                throw new Error("could not read FormData body as blob");
              } else {
                return Promise.resolve(new Blob([this._bodyText]));
              }
            };
            this.arrayBuffer = function() {
              if (this._bodyArrayBuffer) {
                var isConsumed = consumed(this);
                if (isConsumed) {
                  return isConsumed;
                }
                if (ArrayBuffer.isView(this._bodyArrayBuffer)) {
                  return Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset, this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength));
                } else {
                  return Promise.resolve(this._bodyArrayBuffer);
                }
              } else {
                return this.blob().then(readBlobAsArrayBuffer);
              }
            };
          }
          this.text = function() {
            var rejected = consumed(this);
            if (rejected) {
              return rejected;
            }
            if (this._bodyBlob) {
              return readBlobAsText(this._bodyBlob);
            } else if (this._bodyArrayBuffer) {
              return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
            } else if (this._bodyFormData) {
              throw new Error("could not read FormData body as text");
            } else {
              return Promise.resolve(this._bodyText);
            }
          };
          if (support.formData) {
            this.formData = function() {
              return this.text().then(decode);
            };
          }
          this.json = function() {
            return this.text().then(JSON.parse);
          };
          return this;
        }
        var methods = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        function normalizeMethod(method) {
          var upcased = method.toUpperCase();
          return methods.indexOf(upcased) > -1 ? upcased : method;
        }
        function Request(input, options) {
          if (!(this instanceof Request)) {
            throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
          }
          options = options || {};
          var body = options.body;
          if (input instanceof Request) {
            if (input.bodyUsed) {
              throw new TypeError("Already read");
            }
            this.url = input.url;
            this.credentials = input.credentials;
            if (!options.headers) {
              this.headers = new Headers(input.headers);
            }
            this.method = input.method;
            this.mode = input.mode;
            this.signal = input.signal;
            if (!body && input._bodyInit != null) {
              body = input._bodyInit;
              input.bodyUsed = true;
            }
          } else {
            this.url = String(input);
          }
          this.credentials = options.credentials || this.credentials || "same-origin";
          if (options.headers || !this.headers) {
            this.headers = new Headers(options.headers);
          }
          this.method = normalizeMethod(options.method || this.method || "GET");
          this.mode = options.mode || this.mode || null;
          this.signal = options.signal || this.signal;
          this.referrer = null;
          if ((this.method === "GET" || this.method === "HEAD") && body) {
            throw new TypeError("Body not allowed for GET or HEAD requests");
          }
          this._initBody(body);
          if (this.method === "GET" || this.method === "HEAD") {
            if (options.cache === "no-store" || options.cache === "no-cache") {
              var reParamSearch = /([?&])_=[^&]*/;
              if (reParamSearch.test(this.url)) {
                this.url = this.url.replace(reParamSearch, "$1_=" + new Date().getTime());
              } else {
                var reQueryString = /\?/;
                this.url += (reQueryString.test(this.url) ? "&" : "?") + "_=" + new Date().getTime();
              }
            }
          }
        }
        Request.prototype.clone = function() {
          return new Request(this, { body: this._bodyInit });
        };
        function decode(body) {
          var form = new FormData();
          body.trim().split("&").forEach(function(bytes) {
            if (bytes) {
              var split = bytes.split("=");
              var name = split.shift().replace(/\+/g, " ");
              var value = split.join("=").replace(/\+/g, " ");
              form.append(decodeURIComponent(name), decodeURIComponent(value));
            }
          });
          return form;
        }
        function parseHeaders(rawHeaders) {
          var headers = new Headers();
          var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
          preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
            var parts = line.split(":");
            var key = parts.shift().trim();
            if (key) {
              var value = parts.join(":").trim();
              headers.append(key, value);
            }
          });
          return headers;
        }
        Body.call(Request.prototype);
        function Response(bodyInit, options) {
          if (!(this instanceof Response)) {
            throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
          }
          if (!options) {
            options = {};
          }
          this.type = "default";
          this.status = options.status === void 0 ? 200 : options.status;
          this.ok = this.status >= 200 && this.status < 300;
          this.statusText = "statusText" in options ? options.statusText : "";
          this.headers = new Headers(options.headers);
          this.url = options.url || "";
          this._initBody(bodyInit);
        }
        Body.call(Response.prototype);
        Response.prototype.clone = function() {
          return new Response(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new Headers(this.headers),
            url: this.url
          });
        };
        Response.error = function() {
          var response = new Response(null, { status: 0, statusText: "" });
          response.type = "error";
          return response;
        };
        var redirectStatuses = [301, 302, 303, 307, 308];
        Response.redirect = function(url, status) {
          if (redirectStatuses.indexOf(status) === -1) {
            throw new RangeError("Invalid status code");
          }
          return new Response(null, { status: status, headers: { location: url } });
        };
        exports2.DOMException = global2.DOMException;
        try {
          new exports2.DOMException();
        } catch (err) {
          exports2.DOMException = function(message, name) {
            this.message = message;
            this.name = name;
            var error = Error(message);
            this.stack = error.stack;
          };
          exports2.DOMException.prototype = Object.create(Error.prototype);
          exports2.DOMException.prototype.constructor = exports2.DOMException;
        }
        function fetch(input, init) {
          return new Promise(function(resolve, reject) {
            var request = new Request(input, init);
            if (request.signal && request.signal.aborted) {
              return reject(new exports2.DOMException("Aborted", "AbortError"));
            }
            var xhr = new XMLHttpRequest();
            function abortXhr() {
              xhr.abort();
            }
            xhr.onload = function() {
              var options = {
                status: xhr.status,
                statusText: xhr.statusText,
                headers: parseHeaders(xhr.getAllResponseHeaders() || "")
              };
              options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
              var body = "response" in xhr ? xhr.response : xhr.responseText;
              setTimeout(function() {
                resolve(new Response(body, options));
              }, 0);
            };
            xhr.onerror = function() {
              setTimeout(function() {
                reject(new TypeError("Network request failed"));
              }, 0);
            };
            xhr.ontimeout = function() {
              setTimeout(function() {
                reject(new TypeError("Network request failed"));
              }, 0);
            };
            xhr.onabort = function() {
              setTimeout(function() {
                reject(new exports2.DOMException("Aborted", "AbortError"));
              }, 0);
            };
            function fixUrl(url) {
              try {
                return url === "" && global2.location.href ? global2.location.href : url;
              } catch (e) {
                return url;
              }
            }
            xhr.open(request.method, fixUrl(request.url), true);
            if (request.credentials === "include") {
              xhr.withCredentials = true;
            } else if (request.credentials === "omit") {
              xhr.withCredentials = false;
            }
            if ("responseType" in xhr) {
              if (support.blob) {
                xhr.responseType = "blob";
              } else if (support.arrayBuffer && request.headers.get("Content-Type") && request.headers.get("Content-Type").indexOf("application/octet-stream") !== -1) {
                xhr.responseType = "arraybuffer";
              }
            }
            if (init && typeof init.headers === "object" && !(init.headers instanceof Headers)) {
              Object.getOwnPropertyNames(init.headers).forEach(function(name) {
                xhr.setRequestHeader(name, normalizeValue(init.headers[name]));
              });
            } else {
              request.headers.forEach(function(value, name) {
                xhr.setRequestHeader(name, value);
              });
            }
            if (request.signal) {
              request.signal.addEventListener("abort", abortXhr);
              xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                  request.signal.removeEventListener("abort", abortXhr);
                }
              };
            }
            xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
          });
        }
        fetch.polyfill = true;
        if (!global2.fetch) {
          global2.fetch = fetch;
          global2.Headers = Headers;
          global2.Request = Request;
          global2.Response = Response;
        }
        exports2.Headers = Headers;
        exports2.Request = Request;
        exports2.Response = Response;
        exports2.fetch = fetch;
        Object.defineProperty(exports2, "__esModule", { value: true });
      });
    }
  });

  // ../../node_modules/object-assign/index.js
  var require_object_assign = __commonJS({
    "../../node_modules/object-assign/index.js": function(exports, module) {
      "use strict";
      var getOwnPropertySymbols = Object.getOwnPropertySymbols;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var propIsEnumerable = Object.prototype.propertyIsEnumerable;
      function toObject(val) {
        if (val === null || val === void 0) {
          throw new TypeError("Object.assign cannot be called with null or undefined");
        }
        return Object(val);
      }
      function shouldUseNative() {
        try {
          if (!Object.assign) {
            return false;
          }
          var test1 = new String("abc");
          test1[5] = "de";
          if (Object.getOwnPropertyNames(test1)[0] === "5") {
            return false;
          }
          var test2 = {};
          for (var i = 0; i < 10; i++) {
            test2["_" + String.fromCharCode(i)] = i;
          }
          var order2 = Object.getOwnPropertyNames(test2).map(function(n) {
            return test2[n];
          });
          if (order2.join("") !== "0123456789") {
            return false;
          }
          var test3 = {};
          "abcdefghijklmnopqrst".split("").forEach(function(letter) {
            test3[letter] = letter;
          });
          if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
            return false;
          }
          return true;
        } catch (err) {
          return false;
        }
      }
      module.exports = shouldUseNative() ? Object.assign : function(target, source) {
        var from;
        var to = toObject(target);
        var symbols;
        for (var s = 1; s < arguments.length; s++) {
          from = Object(arguments[s]);
          for (var key in from) {
            if (hasOwnProperty.call(from, key)) {
              to[key] = from[key];
            }
          }
          if (getOwnPropertySymbols) {
            symbols = getOwnPropertySymbols(from);
            for (var i = 0; i < symbols.length; i++) {
              if (propIsEnumerable.call(from, symbols[i])) {
                to[symbols[i]] = from[symbols[i]];
              }
            }
          }
        }
        return to;
      };
    }
  });

  // ../../node_modules/core-js/internals/global.js
  var require_global = __commonJS({
    "../../node_modules/core-js/internals/global.js": function(exports, module) {
      var check = function(it) {
        return it && it.Math == Math && it;
      };
      module.exports = check(typeof globalThis == "object" && globalThis) || check(typeof window == "object" && window) || check(typeof self == "object" && self) || check(typeof global == "object" && global) || Function("return this")();
    }
  });

  // ../../node_modules/core-js/internals/fails.js
  var require_fails = __commonJS({
    "../../node_modules/core-js/internals/fails.js": function(exports, module) {
      module.exports = function(exec) {
        try {
          return !!exec();
        } catch (error) {
          return true;
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/descriptors.js
  var require_descriptors = __commonJS({
    "../../node_modules/core-js/internals/descriptors.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !fails(function() {
        return Object.defineProperty({}, 1, { get: function() {
          return 7;
        } })[1] != 7;
      });
    }
  });

  // ../../node_modules/core-js/internals/object-property-is-enumerable.js
  var require_object_property_is_enumerable = __commonJS({
    "../../node_modules/core-js/internals/object-property-is-enumerable.js": function(exports) {
      "use strict";
      var nativePropertyIsEnumerable = {}.propertyIsEnumerable;
      var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
      var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);
      exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
        var descriptor = getOwnPropertyDescriptor(this, V);
        return !!descriptor && descriptor.enumerable;
      } : nativePropertyIsEnumerable;
    }
  });

  // ../../node_modules/core-js/internals/create-property-descriptor.js
  var require_create_property_descriptor = __commonJS({
    "../../node_modules/core-js/internals/create-property-descriptor.js": function(exports, module) {
      module.exports = function(bitmap, value) {
        return {
          enumerable: !(bitmap & 1),
          configurable: !(bitmap & 2),
          writable: !(bitmap & 4),
          value: value
        };
      };
    }
  });

  // ../../node_modules/core-js/internals/classof-raw.js
  var require_classof_raw = __commonJS({
    "../../node_modules/core-js/internals/classof-raw.js": function(exports, module) {
      var toString = {}.toString;
      module.exports = function(it) {
        return toString.call(it).slice(8, -1);
      };
    }
  });

  // ../../node_modules/core-js/internals/indexed-object.js
  var require_indexed_object = __commonJS({
    "../../node_modules/core-js/internals/indexed-object.js": function(exports, module) {
      var fails = require_fails();
      var classof = require_classof_raw();
      var split = "".split;
      module.exports = fails(function() {
        return !Object("z").propertyIsEnumerable(0);
      }) ? function(it) {
        return classof(it) == "String" ? split.call(it, "") : Object(it);
      } : Object;
    }
  });

  // ../../node_modules/core-js/internals/require-object-coercible.js
  var require_require_object_coercible = __commonJS({
    "../../node_modules/core-js/internals/require-object-coercible.js": function(exports, module) {
      module.exports = function(it) {
        if (it == void 0)
          throw TypeError("Can't call method on " + it);
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/to-indexed-object.js
  var require_to_indexed_object = __commonJS({
    "../../node_modules/core-js/internals/to-indexed-object.js": function(exports, module) {
      var IndexedObject = require_indexed_object();
      var requireObjectCoercible = require_require_object_coercible();
      module.exports = function(it) {
        return IndexedObject(requireObjectCoercible(it));
      };
    }
  });

  // ../../node_modules/core-js/internals/is-object.js
  var require_is_object = __commonJS({
    "../../node_modules/core-js/internals/is-object.js": function(exports, module) {
      module.exports = function(it) {
        return typeof it === "object" ? it !== null : typeof it === "function";
      };
    }
  });

  // ../../node_modules/core-js/internals/to-primitive.js
  var require_to_primitive = __commonJS({
    "../../node_modules/core-js/internals/to-primitive.js": function(exports, module) {
      var isObject = require_is_object();
      module.exports = function(input, PREFERRED_STRING) {
        if (!isObject(input))
          return input;
        var fn, val;
        if (PREFERRED_STRING && typeof (fn = input.toString) == "function" && !isObject(val = fn.call(input)))
          return val;
        if (typeof (fn = input.valueOf) == "function" && !isObject(val = fn.call(input)))
          return val;
        if (!PREFERRED_STRING && typeof (fn = input.toString) == "function" && !isObject(val = fn.call(input)))
          return val;
        throw TypeError("Can't convert object to primitive value");
      };
    }
  });

  // ../../node_modules/core-js/internals/has.js
  var require_has = __commonJS({
    "../../node_modules/core-js/internals/has.js": function(exports, module) {
      var hasOwnProperty = {}.hasOwnProperty;
      module.exports = function(it, key) {
        return hasOwnProperty.call(it, key);
      };
    }
  });

  // ../../node_modules/core-js/internals/document-create-element.js
  var require_document_create_element = __commonJS({
    "../../node_modules/core-js/internals/document-create-element.js": function(exports, module) {
      var global2 = require_global();
      var isObject = require_is_object();
      var document2 = global2.document;
      var EXISTS = isObject(document2) && isObject(document2.createElement);
      module.exports = function(it) {
        return EXISTS ? document2.createElement(it) : {};
      };
    }
  });

  // ../../node_modules/core-js/internals/ie8-dom-define.js
  var require_ie8_dom_define = __commonJS({
    "../../node_modules/core-js/internals/ie8-dom-define.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var fails = require_fails();
      var createElement = require_document_create_element();
      module.exports = !DESCRIPTORS && !fails(function() {
        return Object.defineProperty(createElement("div"), "a", {
          get: function() {
            return 7;
          }
        }).a != 7;
      });
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-descriptor.js
  var require_object_get_own_property_descriptor = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-descriptor.js": function(exports) {
      var DESCRIPTORS = require_descriptors();
      var propertyIsEnumerableModule = require_object_property_is_enumerable();
      var createPropertyDescriptor = require_create_property_descriptor();
      var toIndexedObject = require_to_indexed_object();
      var toPrimitive = require_to_primitive();
      var has = require_has();
      var IE8_DOM_DEFINE = require_ie8_dom_define();
      var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
      exports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
        O = toIndexedObject(O);
        P = toPrimitive(P, true);
        if (IE8_DOM_DEFINE)
          try {
            return nativeGetOwnPropertyDescriptor(O, P);
          } catch (error) {
          }
        if (has(O, P))
          return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);
      };
    }
  });

  // ../../node_modules/core-js/internals/an-object.js
  var require_an_object = __commonJS({
    "../../node_modules/core-js/internals/an-object.js": function(exports, module) {
      var isObject = require_is_object();
      module.exports = function(it) {
        if (!isObject(it)) {
          throw TypeError(String(it) + " is not an object");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/object-define-property.js
  var require_object_define_property = __commonJS({
    "../../node_modules/core-js/internals/object-define-property.js": function(exports) {
      var DESCRIPTORS = require_descriptors();
      var IE8_DOM_DEFINE = require_ie8_dom_define();
      var anObject = require_an_object();
      var toPrimitive = require_to_primitive();
      var nativeDefineProperty = Object.defineProperty;
      exports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {
        anObject(O);
        P = toPrimitive(P, true);
        anObject(Attributes);
        if (IE8_DOM_DEFINE)
          try {
            return nativeDefineProperty(O, P, Attributes);
          } catch (error) {
          }
        if ("get" in Attributes || "set" in Attributes)
          throw TypeError("Accessors not supported");
        if ("value" in Attributes)
          O[P] = Attributes.value;
        return O;
      };
    }
  });

  // ../../node_modules/core-js/internals/create-non-enumerable-property.js
  var require_create_non_enumerable_property = __commonJS({
    "../../node_modules/core-js/internals/create-non-enumerable-property.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var definePropertyModule = require_object_define_property();
      var createPropertyDescriptor = require_create_property_descriptor();
      module.exports = DESCRIPTORS ? function(object, key, value) {
        return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
      } : function(object, key, value) {
        object[key] = value;
        return object;
      };
    }
  });

  // ../../node_modules/core-js/internals/set-global.js
  var require_set_global = __commonJS({
    "../../node_modules/core-js/internals/set-global.js": function(exports, module) {
      var global2 = require_global();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      module.exports = function(key, value) {
        try {
          createNonEnumerableProperty(global2, key, value);
        } catch (error) {
          global2[key] = value;
        }
        return value;
      };
    }
  });

  // ../../node_modules/core-js/internals/shared-store.js
  var require_shared_store = __commonJS({
    "../../node_modules/core-js/internals/shared-store.js": function(exports, module) {
      var global2 = require_global();
      var setGlobal = require_set_global();
      var SHARED = "__core-js_shared__";
      var store = global2[SHARED] || setGlobal(SHARED, {});
      module.exports = store;
    }
  });

  // ../../node_modules/core-js/internals/inspect-source.js
  var require_inspect_source = __commonJS({
    "../../node_modules/core-js/internals/inspect-source.js": function(exports, module) {
      var store = require_shared_store();
      var functionToString = Function.toString;
      if (typeof store.inspectSource != "function") {
        store.inspectSource = function(it) {
          return functionToString.call(it);
        };
      }
      module.exports = store.inspectSource;
    }
  });

  // ../../node_modules/core-js/internals/native-weak-map.js
  var require_native_weak_map = __commonJS({
    "../../node_modules/core-js/internals/native-weak-map.js": function(exports, module) {
      var global2 = require_global();
      var inspectSource = require_inspect_source();
      var WeakMap = global2.WeakMap;
      module.exports = typeof WeakMap === "function" && /native code/.test(inspectSource(WeakMap));
    }
  });

  // ../../node_modules/core-js/internals/is-pure.js
  var require_is_pure = __commonJS({
    "../../node_modules/core-js/internals/is-pure.js": function(exports, module) {
      module.exports = false;
    }
  });

  // ../../node_modules/core-js/internals/shared.js
  var require_shared = __commonJS({
    "../../node_modules/core-js/internals/shared.js": function(exports, module) {
      var IS_PURE = require_is_pure();
      var store = require_shared_store();
      (module.exports = function(key, value) {
        return store[key] || (store[key] = value !== void 0 ? value : {});
      })("versions", []).push({
        version: "3.6.5",
        mode: IS_PURE ? "pure" : "global",
        copyright: "\xA9 2020 Denis Pushkarev (zloirock.ru)"
      });
    }
  });

  // ../../node_modules/core-js/internals/uid.js
  var require_uid = __commonJS({
    "../../node_modules/core-js/internals/uid.js": function(exports, module) {
      var id = 0;
      var postfix = Math.random();
      module.exports = function(key) {
        return "Symbol(" + String(key === void 0 ? "" : key) + ")_" + (++id + postfix).toString(36);
      };
    }
  });

  // ../../node_modules/core-js/internals/shared-key.js
  var require_shared_key = __commonJS({
    "../../node_modules/core-js/internals/shared-key.js": function(exports, module) {
      var shared = require_shared();
      var uid = require_uid();
      var keys = shared("keys");
      module.exports = function(key) {
        return keys[key] || (keys[key] = uid(key));
      };
    }
  });

  // ../../node_modules/core-js/internals/hidden-keys.js
  var require_hidden_keys = __commonJS({
    "../../node_modules/core-js/internals/hidden-keys.js": function(exports, module) {
      module.exports = {};
    }
  });

  // ../../node_modules/core-js/internals/internal-state.js
  var require_internal_state = __commonJS({
    "../../node_modules/core-js/internals/internal-state.js": function(exports, module) {
      var NATIVE_WEAK_MAP = require_native_weak_map();
      var global2 = require_global();
      var isObject = require_is_object();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var objectHas = require_has();
      var sharedKey = require_shared_key();
      var hiddenKeys = require_hidden_keys();
      var WeakMap = global2.WeakMap;
      var set;
      var get;
      var has;
      var enforce = function(it) {
        return has(it) ? get(it) : set(it, {});
      };
      var getterFor = function(TYPE) {
        return function(it) {
          var state;
          if (!isObject(it) || (state = get(it)).type !== TYPE) {
            throw TypeError("Incompatible receiver, " + TYPE + " required");
          }
          return state;
        };
      };
      if (NATIVE_WEAK_MAP) {
        store = new WeakMap();
        wmget = store.get;
        wmhas = store.has;
        wmset = store.set;
        set = function(it, metadata) {
          wmset.call(store, it, metadata);
          return metadata;
        };
        get = function(it) {
          return wmget.call(store, it) || {};
        };
        has = function(it) {
          return wmhas.call(store, it);
        };
      } else {
        STATE = sharedKey("state");
        hiddenKeys[STATE] = true;
        set = function(it, metadata) {
          createNonEnumerableProperty(it, STATE, metadata);
          return metadata;
        };
        get = function(it) {
          return objectHas(it, STATE) ? it[STATE] : {};
        };
        has = function(it) {
          return objectHas(it, STATE);
        };
      }
      var store;
      var wmget;
      var wmhas;
      var wmset;
      var STATE;
      module.exports = {
        set: set,
        get: get,
        has: has,
        enforce: enforce,
        getterFor: getterFor
      };
    }
  });

  // ../../node_modules/core-js/internals/redefine.js
  var require_redefine = __commonJS({
    "../../node_modules/core-js/internals/redefine.js": function(exports, module) {
      var global2 = require_global();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var has = require_has();
      var setGlobal = require_set_global();
      var inspectSource = require_inspect_source();
      var InternalStateModule = require_internal_state();
      var getInternalState = InternalStateModule.get;
      var enforceInternalState = InternalStateModule.enforce;
      var TEMPLATE = String(String).split("String");
      (module.exports = function(O, key, value, options) {
        var unsafe = options ? !!options.unsafe : false;
        var simple = options ? !!options.enumerable : false;
        var noTargetGet = options ? !!options.noTargetGet : false;
        if (typeof value == "function") {
          if (typeof key == "string" && !has(value, "name"))
            createNonEnumerableProperty(value, "name", key);
          enforceInternalState(value).source = TEMPLATE.join(typeof key == "string" ? key : "");
        }
        if (O === global2) {
          if (simple)
            O[key] = value;
          else
            setGlobal(key, value);
          return;
        } else if (!unsafe) {
          delete O[key];
        } else if (!noTargetGet && O[key]) {
          simple = true;
        }
        if (simple)
          O[key] = value;
        else
          createNonEnumerableProperty(O, key, value);
      })(Function.prototype, "toString", function toString() {
        return typeof this == "function" && getInternalState(this).source || inspectSource(this);
      });
    }
  });

  // ../../node_modules/core-js/internals/path.js
  var require_path = __commonJS({
    "../../node_modules/core-js/internals/path.js": function(exports, module) {
      var global2 = require_global();
      module.exports = global2;
    }
  });

  // ../../node_modules/core-js/internals/get-built-in.js
  var require_get_built_in = __commonJS({
    "../../node_modules/core-js/internals/get-built-in.js": function(exports, module) {
      var path = require_path();
      var global2 = require_global();
      var aFunction = function(variable) {
        return typeof variable == "function" ? variable : void 0;
      };
      module.exports = function(namespace, method) {
        return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global2[namespace]) : path[namespace] && path[namespace][method] || global2[namespace] && global2[namespace][method];
      };
    }
  });

  // ../../node_modules/core-js/internals/to-integer.js
  var require_to_integer = __commonJS({
    "../../node_modules/core-js/internals/to-integer.js": function(exports, module) {
      var ceil = Math.ceil;
      var floor = Math.floor;
      module.exports = function(argument) {
        return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);
      };
    }
  });

  // ../../node_modules/core-js/internals/to-length.js
  var require_to_length = __commonJS({
    "../../node_modules/core-js/internals/to-length.js": function(exports, module) {
      var toInteger = require_to_integer();
      var min = Math.min;
      module.exports = function(argument) {
        return argument > 0 ? min(toInteger(argument), 9007199254740991) : 0;
      };
    }
  });

  // ../../node_modules/core-js/internals/to-absolute-index.js
  var require_to_absolute_index = __commonJS({
    "../../node_modules/core-js/internals/to-absolute-index.js": function(exports, module) {
      var toInteger = require_to_integer();
      var max = Math.max;
      var min = Math.min;
      module.exports = function(index, length) {
        var integer = toInteger(index);
        return integer < 0 ? max(integer + length, 0) : min(integer, length);
      };
    }
  });

  // ../../node_modules/core-js/internals/array-includes.js
  var require_array_includes = __commonJS({
    "../../node_modules/core-js/internals/array-includes.js": function(exports, module) {
      var toIndexedObject = require_to_indexed_object();
      var toLength = require_to_length();
      var toAbsoluteIndex = require_to_absolute_index();
      var createMethod = function(IS_INCLUDES) {
        return function($this, el, fromIndex) {
          var O = toIndexedObject($this);
          var length = toLength(O.length);
          var index = toAbsoluteIndex(fromIndex, length);
          var value;
          if (IS_INCLUDES && el != el)
            while (length > index) {
              value = O[index++];
              if (value != value)
                return true;
            }
          else
            for (; length > index; index++) {
              if ((IS_INCLUDES || index in O) && O[index] === el)
                return IS_INCLUDES || index || 0;
            }
          return !IS_INCLUDES && -1;
        };
      };
      module.exports = {
        includes: createMethod(true),
        indexOf: createMethod(false)
      };
    }
  });

  // ../../node_modules/core-js/internals/object-keys-internal.js
  var require_object_keys_internal = __commonJS({
    "../../node_modules/core-js/internals/object-keys-internal.js": function(exports, module) {
      var has = require_has();
      var toIndexedObject = require_to_indexed_object();
      var indexOf = require_array_includes().indexOf;
      var hiddenKeys = require_hidden_keys();
      module.exports = function(object, names) {
        var O = toIndexedObject(object);
        var i = 0;
        var result = [];
        var key;
        for (key in O)
          !has(hiddenKeys, key) && has(O, key) && result.push(key);
        while (names.length > i)
          if (has(O, key = names[i++])) {
            ~indexOf(result, key) || result.push(key);
          }
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/enum-bug-keys.js
  var require_enum_bug_keys = __commonJS({
    "../../node_modules/core-js/internals/enum-bug-keys.js": function(exports, module) {
      module.exports = [
        "constructor",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "toLocaleString",
        "toString",
        "valueOf"
      ];
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-names.js
  var require_object_get_own_property_names = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-names.js": function(exports) {
      var internalObjectKeys = require_object_keys_internal();
      var enumBugKeys = require_enum_bug_keys();
      var hiddenKeys = enumBugKeys.concat("length", "prototype");
      exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
        return internalObjectKeys(O, hiddenKeys);
      };
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-symbols.js
  var require_object_get_own_property_symbols = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-symbols.js": function(exports) {
      exports.f = Object.getOwnPropertySymbols;
    }
  });

  // ../../node_modules/core-js/internals/own-keys.js
  var require_own_keys = __commonJS({
    "../../node_modules/core-js/internals/own-keys.js": function(exports, module) {
      var getBuiltIn = require_get_built_in();
      var getOwnPropertyNamesModule = require_object_get_own_property_names();
      var getOwnPropertySymbolsModule = require_object_get_own_property_symbols();
      var anObject = require_an_object();
      module.exports = getBuiltIn("Reflect", "ownKeys") || function ownKeys(it) {
        var keys = getOwnPropertyNamesModule.f(anObject(it));
        var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
        return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;
      };
    }
  });

  // ../../node_modules/core-js/internals/copy-constructor-properties.js
  var require_copy_constructor_properties = __commonJS({
    "../../node_modules/core-js/internals/copy-constructor-properties.js": function(exports, module) {
      var has = require_has();
      var ownKeys = require_own_keys();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var definePropertyModule = require_object_define_property();
      module.exports = function(target, source) {
        var keys = ownKeys(source);
        var defineProperty = definePropertyModule.f;
        var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
        for (var i = 0; i < keys.length; i++) {
          var key = keys[i];
          if (!has(target, key))
            defineProperty(target, key, getOwnPropertyDescriptor(source, key));
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/is-forced.js
  var require_is_forced = __commonJS({
    "../../node_modules/core-js/internals/is-forced.js": function(exports, module) {
      var fails = require_fails();
      var replacement = /#|\.prototype\./;
      var isForced = function(feature, detection) {
        var value = data[normalize(feature)];
        return value == POLYFILL ? true : value == NATIVE ? false : typeof detection == "function" ? fails(detection) : !!detection;
      };
      var normalize = isForced.normalize = function(string) {
        return String(string).replace(replacement, ".").toLowerCase();
      };
      var data = isForced.data = {};
      var NATIVE = isForced.NATIVE = "N";
      var POLYFILL = isForced.POLYFILL = "P";
      module.exports = isForced;
    }
  });

  // ../../node_modules/core-js/internals/export.js
  var require_export = __commonJS({
    "../../node_modules/core-js/internals/export.js": function(exports, module) {
      var global2 = require_global();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var setGlobal = require_set_global();
      var copyConstructorProperties = require_copy_constructor_properties();
      var isForced = require_is_forced();
      module.exports = function(options, source) {
        var TARGET = options.target;
        var GLOBAL = options.global;
        var STATIC = options.stat;
        var FORCED, target, key, targetProperty, sourceProperty, descriptor;
        if (GLOBAL) {
          target = global2;
        } else if (STATIC) {
          target = global2[TARGET] || setGlobal(TARGET, {});
        } else {
          target = (global2[TARGET] || {}).prototype;
        }
        if (target)
          for (key in source) {
            sourceProperty = source[key];
            if (options.noTargetGet) {
              descriptor = getOwnPropertyDescriptor(target, key);
              targetProperty = descriptor && descriptor.value;
            } else
              targetProperty = target[key];
            FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? "." : "#") + key, options.forced);
            if (!FORCED && targetProperty !== void 0) {
              if (typeof sourceProperty === typeof targetProperty)
                continue;
              copyConstructorProperties(sourceProperty, targetProperty);
            }
            if (options.sham || targetProperty && targetProperty.sham) {
              createNonEnumerableProperty(sourceProperty, "sham", true);
            }
            redefine(target, key, sourceProperty, options);
          }
      };
    }
  });

  // ../../node_modules/core-js/internals/is-array.js
  var require_is_array = __commonJS({
    "../../node_modules/core-js/internals/is-array.js": function(exports, module) {
      var classof = require_classof_raw();
      module.exports = Array.isArray || function isArray(arg) {
        return classof(arg) == "Array";
      };
    }
  });

  // ../../node_modules/core-js/internals/to-object.js
  var require_to_object = __commonJS({
    "../../node_modules/core-js/internals/to-object.js": function(exports, module) {
      var requireObjectCoercible = require_require_object_coercible();
      module.exports = function(argument) {
        return Object(requireObjectCoercible(argument));
      };
    }
  });

  // ../../node_modules/core-js/internals/create-property.js
  var require_create_property = __commonJS({
    "../../node_modules/core-js/internals/create-property.js": function(exports, module) {
      "use strict";
      var toPrimitive = require_to_primitive();
      var definePropertyModule = require_object_define_property();
      var createPropertyDescriptor = require_create_property_descriptor();
      module.exports = function(object, key, value) {
        var propertyKey = toPrimitive(key);
        if (propertyKey in object)
          definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));
        else
          object[propertyKey] = value;
      };
    }
  });

  // ../../node_modules/core-js/internals/native-symbol.js
  var require_native_symbol = __commonJS({
    "../../node_modules/core-js/internals/native-symbol.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !!Object.getOwnPropertySymbols && !fails(function() {
        return !String(Symbol());
      });
    }
  });

  // ../../node_modules/core-js/internals/use-symbol-as-uid.js
  var require_use_symbol_as_uid = __commonJS({
    "../../node_modules/core-js/internals/use-symbol-as-uid.js": function(exports, module) {
      var NATIVE_SYMBOL = require_native_symbol();
      module.exports = NATIVE_SYMBOL && !Symbol.sham && typeof Symbol.iterator == "symbol";
    }
  });

  // ../../node_modules/core-js/internals/well-known-symbol.js
  var require_well_known_symbol = __commonJS({
    "../../node_modules/core-js/internals/well-known-symbol.js": function(exports, module) {
      var global2 = require_global();
      var shared = require_shared();
      var has = require_has();
      var uid = require_uid();
      var NATIVE_SYMBOL = require_native_symbol();
      var USE_SYMBOL_AS_UID = require_use_symbol_as_uid();
      var WellKnownSymbolsStore = shared("wks");
      var Symbol2 = global2.Symbol;
      var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol2 : Symbol2 && Symbol2.withoutSetter || uid;
      module.exports = function(name) {
        if (!has(WellKnownSymbolsStore, name)) {
          if (NATIVE_SYMBOL && has(Symbol2, name))
            WellKnownSymbolsStore[name] = Symbol2[name];
          else
            WellKnownSymbolsStore[name] = createWellKnownSymbol("Symbol." + name);
        }
        return WellKnownSymbolsStore[name];
      };
    }
  });

  // ../../node_modules/core-js/internals/array-species-create.js
  var require_array_species_create = __commonJS({
    "../../node_modules/core-js/internals/array-species-create.js": function(exports, module) {
      var isObject = require_is_object();
      var isArray = require_is_array();
      var wellKnownSymbol = require_well_known_symbol();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(originalArray, length) {
        var C;
        if (isArray(originalArray)) {
          C = originalArray.constructor;
          if (typeof C == "function" && (C === Array || isArray(C.prototype)))
            C = void 0;
          else if (isObject(C)) {
            C = C[SPECIES];
            if (C === null)
              C = void 0;
          }
        }
        return new (C === void 0 ? Array : C)(length === 0 ? 0 : length);
      };
    }
  });

  // ../../node_modules/core-js/internals/engine-user-agent.js
  var require_engine_user_agent = __commonJS({
    "../../node_modules/core-js/internals/engine-user-agent.js": function(exports, module) {
      var getBuiltIn = require_get_built_in();
      module.exports = getBuiltIn("navigator", "userAgent") || "";
    }
  });

  // ../../node_modules/core-js/internals/engine-v8-version.js
  var require_engine_v8_version = __commonJS({
    "../../node_modules/core-js/internals/engine-v8-version.js": function(exports, module) {
      var global2 = require_global();
      var userAgent = require_engine_user_agent();
      var process = global2.process;
      var versions = process && process.versions;
      var v8 = versions && versions.v8;
      var match;
      var version;
      if (v8) {
        match = v8.split(".");
        version = match[0] + match[1];
      } else if (userAgent) {
        match = userAgent.match(/Edge\/(\d+)/);
        if (!match || match[1] >= 74) {
          match = userAgent.match(/Chrome\/(\d+)/);
          if (match)
            version = match[1];
        }
      }
      module.exports = version && +version;
    }
  });

  // ../../node_modules/core-js/internals/array-method-has-species-support.js
  var require_array_method_has_species_support = __commonJS({
    "../../node_modules/core-js/internals/array-method-has-species-support.js": function(exports, module) {
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var V8_VERSION = require_engine_v8_version();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(METHOD_NAME) {
        return V8_VERSION >= 51 || !fails(function() {
          var array = [];
          var constructor = array.constructor = {};
          constructor[SPECIES] = function() {
            return { foo: 1 };
          };
          return array[METHOD_NAME](Boolean).foo !== 1;
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.concat.js
  var require_es_array_concat = __commonJS({
    "../../node_modules/core-js/modules/es.array.concat.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var isArray = require_is_array();
      var isObject = require_is_object();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var createProperty = require_create_property();
      var arraySpeciesCreate = require_array_species_create();
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var wellKnownSymbol = require_well_known_symbol();
      var V8_VERSION = require_engine_v8_version();
      var IS_CONCAT_SPREADABLE = wellKnownSymbol("isConcatSpreadable");
      var MAX_SAFE_INTEGER = 9007199254740991;
      var MAXIMUM_ALLOWED_INDEX_EXCEEDED = "Maximum allowed index exceeded";
      var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function() {
        var array = [];
        array[IS_CONCAT_SPREADABLE] = false;
        return array.concat()[0] !== array;
      });
      var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("concat");
      var isConcatSpreadable = function(O) {
        if (!isObject(O))
          return false;
        var spreadable = O[IS_CONCAT_SPREADABLE];
        return spreadable !== void 0 ? !!spreadable : isArray(O);
      };
      var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;
      $({ target: "Array", proto: true, forced: FORCED }, {
        concat: function concat(arg) {
          var O = toObject(this);
          var A = arraySpeciesCreate(O, 0);
          var n = 0;
          var i, k, length, len, E;
          for (i = -1, length = arguments.length; i < length; i++) {
            E = i === -1 ? O : arguments[i];
            if (isConcatSpreadable(E)) {
              len = toLength(E.length);
              if (n + len > MAX_SAFE_INTEGER)
                throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
              for (k = 0; k < len; k++, n++)
                if (k in E)
                  createProperty(A, n, E[k]);
            } else {
              if (n >= MAX_SAFE_INTEGER)
                throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
              createProperty(A, n++, E);
            }
          }
          A.length = n;
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/to-string-tag-support.js
  var require_to_string_tag_support = __commonJS({
    "../../node_modules/core-js/internals/to-string-tag-support.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var test = {};
      test[TO_STRING_TAG] = "z";
      module.exports = String(test) === "[object z]";
    }
  });

  // ../../node_modules/core-js/internals/classof.js
  var require_classof = __commonJS({
    "../../node_modules/core-js/internals/classof.js": function(exports, module) {
      var TO_STRING_TAG_SUPPORT = require_to_string_tag_support();
      var classofRaw = require_classof_raw();
      var wellKnownSymbol = require_well_known_symbol();
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var CORRECT_ARGUMENTS = classofRaw(function() {
        return arguments;
      }()) == "Arguments";
      var tryGet = function(it, key) {
        try {
          return it[key];
        } catch (error) {
        }
      };
      module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function(it) {
        var O, tag, result;
        return it === void 0 ? "Undefined" : it === null ? "Null" : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == "string" ? tag : CORRECT_ARGUMENTS ? classofRaw(O) : (result = classofRaw(O)) == "Object" && typeof O.callee == "function" ? "Arguments" : result;
      };
    }
  });

  // ../../node_modules/core-js/internals/object-to-string.js
  var require_object_to_string = __commonJS({
    "../../node_modules/core-js/internals/object-to-string.js": function(exports, module) {
      "use strict";
      var TO_STRING_TAG_SUPPORT = require_to_string_tag_support();
      var classof = require_classof();
      module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {
        return "[object " + classof(this) + "]";
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.to-string.js
  var require_es_object_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.object.to-string.js": function() {
      var TO_STRING_TAG_SUPPORT = require_to_string_tag_support();
      var redefine = require_redefine();
      var toString = require_object_to_string();
      if (!TO_STRING_TAG_SUPPORT) {
        redefine(Object.prototype, "toString", toString, { unsafe: true });
      }
    }
  });

  // ../../node_modules/core-js/internals/object-keys.js
  var require_object_keys = __commonJS({
    "../../node_modules/core-js/internals/object-keys.js": function(exports, module) {
      var internalObjectKeys = require_object_keys_internal();
      var enumBugKeys = require_enum_bug_keys();
      module.exports = Object.keys || function keys(O) {
        return internalObjectKeys(O, enumBugKeys);
      };
    }
  });

  // ../../node_modules/core-js/internals/object-define-properties.js
  var require_object_define_properties = __commonJS({
    "../../node_modules/core-js/internals/object-define-properties.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var definePropertyModule = require_object_define_property();
      var anObject = require_an_object();
      var objectKeys = require_object_keys();
      module.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {
        anObject(O);
        var keys = objectKeys(Properties);
        var length = keys.length;
        var index = 0;
        var key;
        while (length > index)
          definePropertyModule.f(O, key = keys[index++], Properties[key]);
        return O;
      };
    }
  });

  // ../../node_modules/core-js/internals/html.js
  var require_html = __commonJS({
    "../../node_modules/core-js/internals/html.js": function(exports, module) {
      var getBuiltIn = require_get_built_in();
      module.exports = getBuiltIn("document", "documentElement");
    }
  });

  // ../../node_modules/core-js/internals/object-create.js
  var require_object_create = __commonJS({
    "../../node_modules/core-js/internals/object-create.js": function(exports, module) {
      var anObject = require_an_object();
      var defineProperties = require_object_define_properties();
      var enumBugKeys = require_enum_bug_keys();
      var hiddenKeys = require_hidden_keys();
      var html = require_html();
      var documentCreateElement = require_document_create_element();
      var sharedKey = require_shared_key();
      var GT = ">";
      var LT = "<";
      var PROTOTYPE = "prototype";
      var SCRIPT = "script";
      var IE_PROTO = sharedKey("IE_PROTO");
      var EmptyConstructor = function() {
      };
      var scriptTag = function(content) {
        return LT + SCRIPT + GT + content + LT + "/" + SCRIPT + GT;
      };
      var NullProtoObjectViaActiveX = function(activeXDocument2) {
        activeXDocument2.write(scriptTag(""));
        activeXDocument2.close();
        var temp = activeXDocument2.parentWindow.Object;
        activeXDocument2 = null;
        return temp;
      };
      var NullProtoObjectViaIFrame = function() {
        var iframe = documentCreateElement("iframe");
        var JS = "java" + SCRIPT + ":";
        var iframeDocument;
        iframe.style.display = "none";
        html.appendChild(iframe);
        iframe.src = String(JS);
        iframeDocument = iframe.contentWindow.document;
        iframeDocument.open();
        iframeDocument.write(scriptTag("document.F=Object"));
        iframeDocument.close();
        return iframeDocument.F;
      };
      var activeXDocument;
      var NullProtoObject = function() {
        try {
          activeXDocument = document.domain && new ActiveXObject("htmlfile");
        } catch (error) {
        }
        NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();
        var length = enumBugKeys.length;
        while (length--)
          delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
        return NullProtoObject();
      };
      hiddenKeys[IE_PROTO] = true;
      module.exports = Object.create || function create(O, Properties) {
        var result;
        if (O !== null) {
          EmptyConstructor[PROTOTYPE] = anObject(O);
          result = new EmptyConstructor();
          EmptyConstructor[PROTOTYPE] = null;
          result[IE_PROTO] = O;
        } else
          result = NullProtoObject();
        return Properties === void 0 ? result : defineProperties(result, Properties);
      };
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-names-external.js
  var require_object_get_own_property_names_external = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-names-external.js": function(exports, module) {
      var toIndexedObject = require_to_indexed_object();
      var nativeGetOwnPropertyNames = require_object_get_own_property_names().f;
      var toString = {}.toString;
      var windowNames = typeof window == "object" && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
      var getWindowNames = function(it) {
        try {
          return nativeGetOwnPropertyNames(it);
        } catch (error) {
          return windowNames.slice();
        }
      };
      module.exports.f = function getOwnPropertyNames(it) {
        return windowNames && toString.call(it) == "[object Window]" ? getWindowNames(it) : nativeGetOwnPropertyNames(toIndexedObject(it));
      };
    }
  });

  // ../../node_modules/core-js/internals/well-known-symbol-wrapped.js
  var require_well_known_symbol_wrapped = __commonJS({
    "../../node_modules/core-js/internals/well-known-symbol-wrapped.js": function(exports) {
      var wellKnownSymbol = require_well_known_symbol();
      exports.f = wellKnownSymbol;
    }
  });

  // ../../node_modules/core-js/internals/define-well-known-symbol.js
  var require_define_well_known_symbol = __commonJS({
    "../../node_modules/core-js/internals/define-well-known-symbol.js": function(exports, module) {
      var path = require_path();
      var has = require_has();
      var wrappedWellKnownSymbolModule = require_well_known_symbol_wrapped();
      var defineProperty = require_object_define_property().f;
      module.exports = function(NAME) {
        var Symbol2 = path.Symbol || (path.Symbol = {});
        if (!has(Symbol2, NAME))
          defineProperty(Symbol2, NAME, {
            value: wrappedWellKnownSymbolModule.f(NAME)
          });
      };
    }
  });

  // ../../node_modules/core-js/internals/set-to-string-tag.js
  var require_set_to_string_tag = __commonJS({
    "../../node_modules/core-js/internals/set-to-string-tag.js": function(exports, module) {
      var defineProperty = require_object_define_property().f;
      var has = require_has();
      var wellKnownSymbol = require_well_known_symbol();
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      module.exports = function(it, TAG, STATIC) {
        if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {
          defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/a-function.js
  var require_a_function = __commonJS({
    "../../node_modules/core-js/internals/a-function.js": function(exports, module) {
      module.exports = function(it) {
        if (typeof it != "function") {
          throw TypeError(String(it) + " is not a function");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/function-bind-context.js
  var require_function_bind_context = __commonJS({
    "../../node_modules/core-js/internals/function-bind-context.js": function(exports, module) {
      var aFunction = require_a_function();
      module.exports = function(fn, that, length) {
        aFunction(fn);
        if (that === void 0)
          return fn;
        switch (length) {
          case 0:
            return function() {
              return fn.call(that);
            };
          case 1:
            return function(a) {
              return fn.call(that, a);
            };
          case 2:
            return function(a, b) {
              return fn.call(that, a, b);
            };
          case 3:
            return function(a, b, c) {
              return fn.call(that, a, b, c);
            };
        }
        return function() {
          return fn.apply(that, arguments);
        };
      };
    }
  });

  // ../../node_modules/core-js/internals/array-iteration.js
  var require_array_iteration = __commonJS({
    "../../node_modules/core-js/internals/array-iteration.js": function(exports, module) {
      var bind = require_function_bind_context();
      var IndexedObject = require_indexed_object();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var arraySpeciesCreate = require_array_species_create();
      var push = [].push;
      var createMethod = function(TYPE) {
        var IS_MAP = TYPE == 1;
        var IS_FILTER = TYPE == 2;
        var IS_SOME = TYPE == 3;
        var IS_EVERY = TYPE == 4;
        var IS_FIND_INDEX = TYPE == 6;
        var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
        return function($this, callbackfn, that, specificCreate) {
          var O = toObject($this);
          var self2 = IndexedObject(O);
          var boundFunction = bind(callbackfn, that, 3);
          var length = toLength(self2.length);
          var index = 0;
          var create = specificCreate || arraySpeciesCreate;
          var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : void 0;
          var value, result;
          for (; length > index; index++)
            if (NO_HOLES || index in self2) {
              value = self2[index];
              result = boundFunction(value, index, O);
              if (TYPE) {
                if (IS_MAP)
                  target[index] = result;
                else if (result)
                  switch (TYPE) {
                    case 3:
                      return true;
                    case 5:
                      return value;
                    case 6:
                      return index;
                    case 2:
                      push.call(target, value);
                  }
                else if (IS_EVERY)
                  return false;
              }
            }
          return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
        };
      };
      module.exports = {
        forEach: createMethod(0),
        map: createMethod(1),
        filter: createMethod(2),
        some: createMethod(3),
        every: createMethod(4),
        find: createMethod(5),
        findIndex: createMethod(6)
      };
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.js
  var require_es_symbol = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.js": function() {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var getBuiltIn = require_get_built_in();
      var IS_PURE = require_is_pure();
      var DESCRIPTORS = require_descriptors();
      var NATIVE_SYMBOL = require_native_symbol();
      var USE_SYMBOL_AS_UID = require_use_symbol_as_uid();
      var fails = require_fails();
      var has = require_has();
      var isArray = require_is_array();
      var isObject = require_is_object();
      var anObject = require_an_object();
      var toObject = require_to_object();
      var toIndexedObject = require_to_indexed_object();
      var toPrimitive = require_to_primitive();
      var createPropertyDescriptor = require_create_property_descriptor();
      var nativeObjectCreate = require_object_create();
      var objectKeys = require_object_keys();
      var getOwnPropertyNamesModule = require_object_get_own_property_names();
      var getOwnPropertyNamesExternal = require_object_get_own_property_names_external();
      var getOwnPropertySymbolsModule = require_object_get_own_property_symbols();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var definePropertyModule = require_object_define_property();
      var propertyIsEnumerableModule = require_object_property_is_enumerable();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var shared = require_shared();
      var sharedKey = require_shared_key();
      var hiddenKeys = require_hidden_keys();
      var uid = require_uid();
      var wellKnownSymbol = require_well_known_symbol();
      var wrappedWellKnownSymbolModule = require_well_known_symbol_wrapped();
      var defineWellKnownSymbol = require_define_well_known_symbol();
      var setToStringTag = require_set_to_string_tag();
      var InternalStateModule = require_internal_state();
      var $forEach = require_array_iteration().forEach;
      var HIDDEN = sharedKey("hidden");
      var SYMBOL = "Symbol";
      var PROTOTYPE = "prototype";
      var TO_PRIMITIVE = wellKnownSymbol("toPrimitive");
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(SYMBOL);
      var ObjectPrototype = Object[PROTOTYPE];
      var $Symbol = global2.Symbol;
      var $stringify = getBuiltIn("JSON", "stringify");
      var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
      var nativeDefineProperty = definePropertyModule.f;
      var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
      var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;
      var AllSymbols = shared("symbols");
      var ObjectPrototypeSymbols = shared("op-symbols");
      var StringToSymbolRegistry = shared("string-to-symbol-registry");
      var SymbolToStringRegistry = shared("symbol-to-string-registry");
      var WellKnownSymbolsStore = shared("wks");
      var QObject = global2.QObject;
      var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;
      var setSymbolDescriptor = DESCRIPTORS && fails(function() {
        return nativeObjectCreate(nativeDefineProperty({}, "a", {
          get: function() {
            return nativeDefineProperty(this, "a", { value: 7 }).a;
          }
        })).a != 7;
      }) ? function(O, P, Attributes) {
        var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);
        if (ObjectPrototypeDescriptor)
          delete ObjectPrototype[P];
        nativeDefineProperty(O, P, Attributes);
        if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {
          nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);
        }
      } : nativeDefineProperty;
      var wrap = function(tag, description) {
        var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);
        setInternalState(symbol, {
          type: SYMBOL,
          tag: tag,
          description: description
        });
        if (!DESCRIPTORS)
          symbol.description = description;
        return symbol;
      };
      var isSymbol = USE_SYMBOL_AS_UID ? function(it) {
        return typeof it == "symbol";
      } : function(it) {
        return Object(it) instanceof $Symbol;
      };
      var $defineProperty = function defineProperty(O, P, Attributes) {
        if (O === ObjectPrototype)
          $defineProperty(ObjectPrototypeSymbols, P, Attributes);
        anObject(O);
        var key = toPrimitive(P, true);
        anObject(Attributes);
        if (has(AllSymbols, key)) {
          if (!Attributes.enumerable) {
            if (!has(O, HIDDEN))
              nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));
            O[HIDDEN][key] = true;
          } else {
            if (has(O, HIDDEN) && O[HIDDEN][key])
              O[HIDDEN][key] = false;
            Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });
          }
          return setSymbolDescriptor(O, key, Attributes);
        }
        return nativeDefineProperty(O, key, Attributes);
      };
      var $defineProperties = function defineProperties(O, Properties) {
        anObject(O);
        var properties = toIndexedObject(Properties);
        var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));
        $forEach(keys, function(key) {
          if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key))
            $defineProperty(O, key, properties[key]);
        });
        return O;
      };
      var $create = function create(O, Properties) {
        return Properties === void 0 ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
      };
      var $propertyIsEnumerable = function propertyIsEnumerable(V) {
        var P = toPrimitive(V, true);
        var enumerable = nativePropertyIsEnumerable.call(this, P);
        if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P))
          return false;
        return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;
      };
      var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
        var it = toIndexedObject(O);
        var key = toPrimitive(P, true);
        if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key))
          return;
        var descriptor = nativeGetOwnPropertyDescriptor(it, key);
        if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {
          descriptor.enumerable = true;
        }
        return descriptor;
      };
      var $getOwnPropertyNames = function getOwnPropertyNames(O) {
        var names = nativeGetOwnPropertyNames(toIndexedObject(O));
        var result = [];
        $forEach(names, function(key) {
          if (!has(AllSymbols, key) && !has(hiddenKeys, key))
            result.push(key);
        });
        return result;
      };
      var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {
        var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;
        var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));
        var result = [];
        $forEach(names, function(key) {
          if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {
            result.push(AllSymbols[key]);
          }
        });
        return result;
      };
      if (!NATIVE_SYMBOL) {
        $Symbol = function Symbol2() {
          if (this instanceof $Symbol)
            throw TypeError("Symbol is not a constructor");
          var description = !arguments.length || arguments[0] === void 0 ? void 0 : String(arguments[0]);
          var tag = uid(description);
          var setter = function(value) {
            if (this === ObjectPrototype)
              setter.call(ObjectPrototypeSymbols, value);
            if (has(this, HIDDEN) && has(this[HIDDEN], tag))
              this[HIDDEN][tag] = false;
            setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));
          };
          if (DESCRIPTORS && USE_SETTER)
            setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });
          return wrap(tag, description);
        };
        redefine($Symbol[PROTOTYPE], "toString", function toString() {
          return getInternalState(this).tag;
        });
        redefine($Symbol, "withoutSetter", function(description) {
          return wrap(uid(description), description);
        });
        propertyIsEnumerableModule.f = $propertyIsEnumerable;
        definePropertyModule.f = $defineProperty;
        getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;
        getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
        getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;
        wrappedWellKnownSymbolModule.f = function(name) {
          return wrap(wellKnownSymbol(name), name);
        };
        if (DESCRIPTORS) {
          nativeDefineProperty($Symbol[PROTOTYPE], "description", {
            configurable: true,
            get: function description() {
              return getInternalState(this).description;
            }
          });
          if (!IS_PURE) {
            redefine(ObjectPrototype, "propertyIsEnumerable", $propertyIsEnumerable, { unsafe: true });
          }
        }
      }
      $({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
        Symbol: $Symbol
      });
      $forEach(objectKeys(WellKnownSymbolsStore), function(name) {
        defineWellKnownSymbol(name);
      });
      $({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
        "for": function(key) {
          var string = String(key);
          if (has(StringToSymbolRegistry, string))
            return StringToSymbolRegistry[string];
          var symbol = $Symbol(string);
          StringToSymbolRegistry[string] = symbol;
          SymbolToStringRegistry[symbol] = string;
          return symbol;
        },
        keyFor: function keyFor(sym) {
          if (!isSymbol(sym))
            throw TypeError(sym + " is not a symbol");
          if (has(SymbolToStringRegistry, sym))
            return SymbolToStringRegistry[sym];
        },
        useSetter: function() {
          USE_SETTER = true;
        },
        useSimple: function() {
          USE_SETTER = false;
        }
      });
      $({ target: "Object", stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {
        create: $create,
        defineProperty: $defineProperty,
        defineProperties: $defineProperties,
        getOwnPropertyDescriptor: $getOwnPropertyDescriptor
      });
      $({ target: "Object", stat: true, forced: !NATIVE_SYMBOL }, {
        getOwnPropertyNames: $getOwnPropertyNames,
        getOwnPropertySymbols: $getOwnPropertySymbols
      });
      $({ target: "Object", stat: true, forced: fails(function() {
        getOwnPropertySymbolsModule.f(1);
      }) }, {
        getOwnPropertySymbols: function getOwnPropertySymbols(it) {
          return getOwnPropertySymbolsModule.f(toObject(it));
        }
      });
      if ($stringify) {
        FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function() {
          var symbol = $Symbol();
          return $stringify([symbol]) != "[null]" || $stringify({ a: symbol }) != "{}" || $stringify(Object(symbol)) != "{}";
        });
        $({ target: "JSON", stat: true, forced: FORCED_JSON_STRINGIFY }, {
          stringify: function stringify(it, replacer, space) {
            var args = [it];
            var index = 1;
            var $replacer;
            while (arguments.length > index)
              args.push(arguments[index++]);
            $replacer = replacer;
            if (!isObject(replacer) && it === void 0 || isSymbol(it))
              return;
            if (!isArray(replacer))
              replacer = function(key, value) {
                if (typeof $replacer == "function")
                  value = $replacer.call(this, key, value);
                if (!isSymbol(value))
                  return value;
              };
            args[1] = replacer;
            return $stringify.apply(null, args);
          }
        });
      }
      var FORCED_JSON_STRINGIFY;
      if (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {
        createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
      }
      setToStringTag($Symbol, SYMBOL);
      hiddenKeys[HIDDEN] = true;
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.async-iterator.js
  var require_es_symbol_async_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.async-iterator.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("asyncIterator");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.description.js
  var require_es_symbol_description = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.description.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var has = require_has();
      var isObject = require_is_object();
      var defineProperty = require_object_define_property().f;
      var copyConstructorProperties = require_copy_constructor_properties();
      var NativeSymbol = global2.Symbol;
      if (DESCRIPTORS && typeof NativeSymbol == "function" && (!("description" in NativeSymbol.prototype) || NativeSymbol().description !== void 0)) {
        EmptyStringDescriptionStore = {};
        SymbolWrapper = function Symbol2() {
          var description = arguments.length < 1 || arguments[0] === void 0 ? void 0 : String(arguments[0]);
          var result = this instanceof SymbolWrapper ? new NativeSymbol(description) : description === void 0 ? NativeSymbol() : NativeSymbol(description);
          if (description === "")
            EmptyStringDescriptionStore[result] = true;
          return result;
        };
        copyConstructorProperties(SymbolWrapper, NativeSymbol);
        symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;
        symbolPrototype.constructor = SymbolWrapper;
        symbolToString = symbolPrototype.toString;
        native = String(NativeSymbol("test")) == "Symbol(test)";
        regexp = /^Symbol\((.*)\)[^)]+$/;
        defineProperty(symbolPrototype, "description", {
          configurable: true,
          get: function description() {
            var symbol = isObject(this) ? this.valueOf() : this;
            var string = symbolToString.call(symbol);
            if (has(EmptyStringDescriptionStore, symbol))
              return "";
            var desc = native ? string.slice(7, -1) : string.replace(regexp, "$1");
            return desc === "" ? void 0 : desc;
          }
        });
        $({ global: true, forced: true }, {
          Symbol: SymbolWrapper
        });
      }
      var EmptyStringDescriptionStore;
      var SymbolWrapper;
      var symbolPrototype;
      var symbolToString;
      var native;
      var regexp;
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.has-instance.js
  var require_es_symbol_has_instance = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.has-instance.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("hasInstance");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.is-concat-spreadable.js
  var require_es_symbol_is_concat_spreadable = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.is-concat-spreadable.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("isConcatSpreadable");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.iterator.js
  var require_es_symbol_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.iterator.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("iterator");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.match.js
  var require_es_symbol_match = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.match.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("match");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.match-all.js
  var require_es_symbol_match_all = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.match-all.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("matchAll");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.replace.js
  var require_es_symbol_replace = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.replace.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("replace");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.search.js
  var require_es_symbol_search = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.search.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("search");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.species.js
  var require_es_symbol_species = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.species.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("species");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.split.js
  var require_es_symbol_split = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.split.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("split");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.to-primitive.js
  var require_es_symbol_to_primitive = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.to-primitive.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("toPrimitive");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.to-string-tag.js
  var require_es_symbol_to_string_tag = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.to-string-tag.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("toStringTag");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.unscopables.js
  var require_es_symbol_unscopables = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.unscopables.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("unscopables");
    }
  });

  // ../../node_modules/core-js/modules/es.math.to-string-tag.js
  var require_es_math_to_string_tag = __commonJS({
    "../../node_modules/core-js/modules/es.math.to-string-tag.js": function() {
      var setToStringTag = require_set_to_string_tag();
      setToStringTag(Math, "Math", true);
    }
  });

  // ../../node_modules/core-js/modules/es.json.to-string-tag.js
  var require_es_json_to_string_tag = __commonJS({
    "../../node_modules/core-js/modules/es.json.to-string-tag.js": function() {
      var global2 = require_global();
      var setToStringTag = require_set_to_string_tag();
      setToStringTag(global2.JSON, "JSON", true);
    }
  });

  // ../../node_modules/core-js/es/symbol/index.js
  var require_symbol = __commonJS({
    "../../node_modules/core-js/es/symbol/index.js": function(exports, module) {
      require_es_array_concat();
      require_es_object_to_string();
      require_es_symbol();
      require_es_symbol_async_iterator();
      require_es_symbol_description();
      require_es_symbol_has_instance();
      require_es_symbol_is_concat_spreadable();
      require_es_symbol_iterator();
      require_es_symbol_match();
      require_es_symbol_match_all();
      require_es_symbol_replace();
      require_es_symbol_search();
      require_es_symbol_species();
      require_es_symbol_split();
      require_es_symbol_to_primitive();
      require_es_symbol_to_string_tag();
      require_es_symbol_unscopables();
      require_es_math_to_string_tag();
      require_es_json_to_string_tag();
      var path = require_path();
      module.exports = path.Symbol;
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.async-dispose.js
  var require_esnext_symbol_async_dispose = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.async-dispose.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("asyncDispose");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.dispose.js
  var require_esnext_symbol_dispose = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.dispose.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("dispose");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.observable.js
  var require_esnext_symbol_observable = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.observable.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("observable");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.pattern-match.js
  var require_esnext_symbol_pattern_match = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.pattern-match.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("patternMatch");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.replace-all.js
  var require_esnext_symbol_replace_all = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.replace-all.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("replaceAll");
    }
  });

  // ../../node_modules/core-js/features/symbol/index.js
  var require_symbol2 = __commonJS({
    "../../node_modules/core-js/features/symbol/index.js": function(exports, module) {
      var parent = require_symbol();
      require_esnext_symbol_async_dispose();
      require_esnext_symbol_dispose();
      require_esnext_symbol_observable();
      require_esnext_symbol_pattern_match();
      require_esnext_symbol_replace_all();
      module.exports = parent;
    }
  });

  // ../../node_modules/core-js/internals/string-multibyte.js
  var require_string_multibyte = __commonJS({
    "../../node_modules/core-js/internals/string-multibyte.js": function(exports, module) {
      var toInteger = require_to_integer();
      var requireObjectCoercible = require_require_object_coercible();
      var createMethod = function(CONVERT_TO_STRING) {
        return function($this, pos) {
          var S = String(requireObjectCoercible($this));
          var position = toInteger(pos);
          var size = S.length;
          var first, second;
          if (position < 0 || position >= size)
            return CONVERT_TO_STRING ? "" : void 0;
          first = S.charCodeAt(position);
          return first < 55296 || first > 56319 || position + 1 === size || (second = S.charCodeAt(position + 1)) < 56320 || second > 57343 ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 55296 << 10) + (second - 56320) + 65536;
        };
      };
      module.exports = {
        codeAt: createMethod(false),
        charAt: createMethod(true)
      };
    }
  });

  // ../../node_modules/core-js/internals/correct-prototype-getter.js
  var require_correct_prototype_getter = __commonJS({
    "../../node_modules/core-js/internals/correct-prototype-getter.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !fails(function() {
        function F() {
        }
        F.prototype.constructor = null;
        return Object.getPrototypeOf(new F()) !== F.prototype;
      });
    }
  });

  // ../../node_modules/core-js/internals/object-get-prototype-of.js
  var require_object_get_prototype_of = __commonJS({
    "../../node_modules/core-js/internals/object-get-prototype-of.js": function(exports, module) {
      var has = require_has();
      var toObject = require_to_object();
      var sharedKey = require_shared_key();
      var CORRECT_PROTOTYPE_GETTER = require_correct_prototype_getter();
      var IE_PROTO = sharedKey("IE_PROTO");
      var ObjectPrototype = Object.prototype;
      module.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function(O) {
        O = toObject(O);
        if (has(O, IE_PROTO))
          return O[IE_PROTO];
        if (typeof O.constructor == "function" && O instanceof O.constructor) {
          return O.constructor.prototype;
        }
        return O instanceof Object ? ObjectPrototype : null;
      };
    }
  });

  // ../../node_modules/core-js/internals/iterators-core.js
  var require_iterators_core = __commonJS({
    "../../node_modules/core-js/internals/iterators-core.js": function(exports, module) {
      "use strict";
      var getPrototypeOf = require_object_get_prototype_of();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var has = require_has();
      var wellKnownSymbol = require_well_known_symbol();
      var IS_PURE = require_is_pure();
      var ITERATOR = wellKnownSymbol("iterator");
      var BUGGY_SAFARI_ITERATORS = false;
      var returnThis = function() {
        return this;
      };
      var IteratorPrototype;
      var PrototypeOfArrayIteratorPrototype;
      var arrayIterator;
      if ([].keys) {
        arrayIterator = [].keys();
        if (!("next" in arrayIterator))
          BUGGY_SAFARI_ITERATORS = true;
        else {
          PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
          if (PrototypeOfArrayIteratorPrototype !== Object.prototype)
            IteratorPrototype = PrototypeOfArrayIteratorPrototype;
        }
      }
      if (IteratorPrototype == void 0)
        IteratorPrototype = {};
      if (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {
        createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);
      }
      module.exports = {
        IteratorPrototype: IteratorPrototype,
        BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS
      };
    }
  });

  // ../../node_modules/core-js/internals/iterators.js
  var require_iterators = __commonJS({
    "../../node_modules/core-js/internals/iterators.js": function(exports, module) {
      module.exports = {};
    }
  });

  // ../../node_modules/core-js/internals/create-iterator-constructor.js
  var require_create_iterator_constructor = __commonJS({
    "../../node_modules/core-js/internals/create-iterator-constructor.js": function(exports, module) {
      "use strict";
      var IteratorPrototype = require_iterators_core().IteratorPrototype;
      var create = require_object_create();
      var createPropertyDescriptor = require_create_property_descriptor();
      var setToStringTag = require_set_to_string_tag();
      var Iterators = require_iterators();
      var returnThis = function() {
        return this;
      };
      module.exports = function(IteratorConstructor, NAME, next) {
        var TO_STRING_TAG = NAME + " Iterator";
        IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });
        setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
        Iterators[TO_STRING_TAG] = returnThis;
        return IteratorConstructor;
      };
    }
  });

  // ../../node_modules/core-js/internals/a-possible-prototype.js
  var require_a_possible_prototype = __commonJS({
    "../../node_modules/core-js/internals/a-possible-prototype.js": function(exports, module) {
      var isObject = require_is_object();
      module.exports = function(it) {
        if (!isObject(it) && it !== null) {
          throw TypeError("Can't set " + String(it) + " as a prototype");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/object-set-prototype-of.js
  var require_object_set_prototype_of = __commonJS({
    "../../node_modules/core-js/internals/object-set-prototype-of.js": function(exports, module) {
      var anObject = require_an_object();
      var aPossiblePrototype = require_a_possible_prototype();
      module.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
        var CORRECT_SETTER = false;
        var test = {};
        var setter;
        try {
          setter = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set;
          setter.call(test, []);
          CORRECT_SETTER = test instanceof Array;
        } catch (error) {
        }
        return function setPrototypeOf(O, proto) {
          anObject(O);
          aPossiblePrototype(proto);
          if (CORRECT_SETTER)
            setter.call(O, proto);
          else
            O.__proto__ = proto;
          return O;
        };
      }() : void 0);
    }
  });

  // ../../node_modules/core-js/internals/define-iterator.js
  var require_define_iterator = __commonJS({
    "../../node_modules/core-js/internals/define-iterator.js": function(exports, module) {
      "use strict";
      var $ = require_export();
      var createIteratorConstructor = require_create_iterator_constructor();
      var getPrototypeOf = require_object_get_prototype_of();
      var setPrototypeOf = require_object_set_prototype_of();
      var setToStringTag = require_set_to_string_tag();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var wellKnownSymbol = require_well_known_symbol();
      var IS_PURE = require_is_pure();
      var Iterators = require_iterators();
      var IteratorsCore = require_iterators_core();
      var IteratorPrototype = IteratorsCore.IteratorPrototype;
      var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
      var ITERATOR = wellKnownSymbol("iterator");
      var KEYS = "keys";
      var VALUES = "values";
      var ENTRIES = "entries";
      var returnThis = function() {
        return this;
      };
      module.exports = function(Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
        createIteratorConstructor(IteratorConstructor, NAME, next);
        var getIterationMethod = function(KIND) {
          if (KIND === DEFAULT && defaultIterator)
            return defaultIterator;
          if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype)
            return IterablePrototype[KIND];
          switch (KIND) {
            case KEYS:
              return function keys() {
                return new IteratorConstructor(this, KIND);
              };
            case VALUES:
              return function values() {
                return new IteratorConstructor(this, KIND);
              };
            case ENTRIES:
              return function entries() {
                return new IteratorConstructor(this, KIND);
              };
          }
          return function() {
            return new IteratorConstructor(this);
          };
        };
        var TO_STRING_TAG = NAME + " Iterator";
        var INCORRECT_VALUES_NAME = false;
        var IterablePrototype = Iterable.prototype;
        var nativeIterator = IterablePrototype[ITERATOR] || IterablePrototype["@@iterator"] || DEFAULT && IterablePrototype[DEFAULT];
        var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
        var anyNativeIterator = NAME == "Array" ? IterablePrototype.entries || nativeIterator : nativeIterator;
        var CurrentIteratorPrototype, methods, KEY;
        if (anyNativeIterator) {
          CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));
          if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
            if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {
              if (setPrototypeOf) {
                setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);
              } else if (typeof CurrentIteratorPrototype[ITERATOR] != "function") {
                createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);
              }
            }
            setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
            if (IS_PURE)
              Iterators[TO_STRING_TAG] = returnThis;
          }
        }
        if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
          INCORRECT_VALUES_NAME = true;
          defaultIterator = function values() {
            return nativeIterator.call(this);
          };
        }
        if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {
          createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);
        }
        Iterators[NAME] = defaultIterator;
        if (DEFAULT) {
          methods = {
            values: getIterationMethod(VALUES),
            keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
            entries: getIterationMethod(ENTRIES)
          };
          if (FORCED)
            for (KEY in methods) {
              if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
                redefine(IterablePrototype, KEY, methods[KEY]);
              }
            }
          else
            $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
        }
        return methods;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.iterator.js
  var require_es_string_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.string.iterator.js": function() {
      "use strict";
      var charAt = require_string_multibyte().charAt;
      var InternalStateModule = require_internal_state();
      var defineIterator = require_define_iterator();
      var STRING_ITERATOR = "String Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);
      defineIterator(String, "String", function(iterated) {
        setInternalState(this, {
          type: STRING_ITERATOR,
          string: String(iterated),
          index: 0
        });
      }, function next() {
        var state = getInternalState(this);
        var string = state.string;
        var index = state.index;
        var point;
        if (index >= string.length)
          return { value: void 0, done: true };
        point = charAt(string, index);
        state.index += point.length;
        return { value: point, done: false };
      });
    }
  });

  // ../../node_modules/core-js/internals/call-with-safe-iteration-closing.js
  var require_call_with_safe_iteration_closing = __commonJS({
    "../../node_modules/core-js/internals/call-with-safe-iteration-closing.js": function(exports, module) {
      var anObject = require_an_object();
      module.exports = function(iterator, fn, value, ENTRIES) {
        try {
          return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
        } catch (error) {
          var returnMethod = iterator["return"];
          if (returnMethod !== void 0)
            anObject(returnMethod.call(iterator));
          throw error;
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/is-array-iterator-method.js
  var require_is_array_iterator_method = __commonJS({
    "../../node_modules/core-js/internals/is-array-iterator-method.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var Iterators = require_iterators();
      var ITERATOR = wellKnownSymbol("iterator");
      var ArrayPrototype = Array.prototype;
      module.exports = function(it) {
        return it !== void 0 && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
      };
    }
  });

  // ../../node_modules/core-js/internals/get-iterator-method.js
  var require_get_iterator_method = __commonJS({
    "../../node_modules/core-js/internals/get-iterator-method.js": function(exports, module) {
      var classof = require_classof();
      var Iterators = require_iterators();
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      module.exports = function(it) {
        if (it != void 0)
          return it[ITERATOR] || it["@@iterator"] || Iterators[classof(it)];
      };
    }
  });

  // ../../node_modules/core-js/internals/array-from.js
  var require_array_from = __commonJS({
    "../../node_modules/core-js/internals/array-from.js": function(exports, module) {
      "use strict";
      var bind = require_function_bind_context();
      var toObject = require_to_object();
      var callWithSafeIterationClosing = require_call_with_safe_iteration_closing();
      var isArrayIteratorMethod = require_is_array_iterator_method();
      var toLength = require_to_length();
      var createProperty = require_create_property();
      var getIteratorMethod = require_get_iterator_method();
      module.exports = function from(arrayLike) {
        var O = toObject(arrayLike);
        var C = typeof this == "function" ? this : Array;
        var argumentsLength = arguments.length;
        var mapfn = argumentsLength > 1 ? arguments[1] : void 0;
        var mapping = mapfn !== void 0;
        var iteratorMethod = getIteratorMethod(O);
        var index = 0;
        var length, result, step, iterator, next, value;
        if (mapping)
          mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : void 0, 2);
        if (iteratorMethod != void 0 && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {
          iterator = iteratorMethod.call(O);
          next = iterator.next;
          result = new C();
          for (; !(step = next.call(iterator)).done; index++) {
            value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
            createProperty(result, index, value);
          }
        } else {
          length = toLength(O.length);
          result = new C(length);
          for (; length > index; index++) {
            value = mapping ? mapfn(O[index], index) : O[index];
            createProperty(result, index, value);
          }
        }
        result.length = index;
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/check-correctness-of-iteration.js
  var require_check_correctness_of_iteration = __commonJS({
    "../../node_modules/core-js/internals/check-correctness-of-iteration.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      var SAFE_CLOSING = false;
      try {
        called = 0;
        iteratorWithReturn = {
          next: function() {
            return { done: !!called++ };
          },
          "return": function() {
            SAFE_CLOSING = true;
          }
        };
        iteratorWithReturn[ITERATOR] = function() {
          return this;
        };
        Array.from(iteratorWithReturn, function() {
          throw 2;
        });
      } catch (error) {
      }
      var called;
      var iteratorWithReturn;
      module.exports = function(exec, SKIP_CLOSING) {
        if (!SKIP_CLOSING && !SAFE_CLOSING)
          return false;
        var ITERATION_SUPPORT = false;
        try {
          var object = {};
          object[ITERATOR] = function() {
            return {
              next: function() {
                return { done: ITERATION_SUPPORT = true };
              }
            };
          };
          exec(object);
        } catch (error) {
        }
        return ITERATION_SUPPORT;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.from.js
  var require_es_array_from = __commonJS({
    "../../node_modules/core-js/modules/es.array.from.js": function() {
      var $ = require_export();
      var from = require_array_from();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var INCORRECT_ITERATION = !checkCorrectnessOfIteration(function(iterable) {
        Array.from(iterable);
      });
      $({ target: "Array", stat: true, forced: INCORRECT_ITERATION }, {
        from: from
      });
    }
  });

  // ../../node_modules/core-js/es/array/from.js
  var require_from = __commonJS({
    "../../node_modules/core-js/es/array/from.js": function(exports, module) {
      require_es_string_iterator();
      require_es_array_from();
      var path = require_path();
      module.exports = path.Array.from;
    }
  });

  // ../../node_modules/core-js/features/array/from.js
  var require_from2 = __commonJS({
    "../../node_modules/core-js/features/array/from.js": function(exports, module) {
      var parent = require_from();
      module.exports = parent;
    }
  });

  // ../../node_modules/core-js/internals/object-assign.js
  var require_object_assign2 = __commonJS({
    "../../node_modules/core-js/internals/object-assign.js": function(exports, module) {
      "use strict";
      var DESCRIPTORS = require_descriptors();
      var fails = require_fails();
      var objectKeys = require_object_keys();
      var getOwnPropertySymbolsModule = require_object_get_own_property_symbols();
      var propertyIsEnumerableModule = require_object_property_is_enumerable();
      var toObject = require_to_object();
      var IndexedObject = require_indexed_object();
      var nativeAssign = Object.assign;
      var defineProperty = Object.defineProperty;
      module.exports = !nativeAssign || fails(function() {
        if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, "a", {
          enumerable: true,
          get: function() {
            defineProperty(this, "b", {
              value: 3,
              enumerable: false
            });
          }
        }), { b: 2 })).b !== 1)
          return true;
        var A = {};
        var B = {};
        var symbol = Symbol();
        var alphabet = "abcdefghijklmnopqrst";
        A[symbol] = 7;
        alphabet.split("").forEach(function(chr) {
          B[chr] = chr;
        });
        return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join("") != alphabet;
      }) ? function assign(target, source) {
        var T = toObject(target);
        var argumentsLength = arguments.length;
        var index = 1;
        var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
        var propertyIsEnumerable = propertyIsEnumerableModule.f;
        while (argumentsLength > index) {
          var S = IndexedObject(arguments[index++]);
          var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);
          var length = keys.length;
          var j = 0;
          var key;
          while (length > j) {
            key = keys[j++];
            if (!DESCRIPTORS || propertyIsEnumerable.call(S, key))
              T[key] = S[key];
          }
        }
        return T;
      } : nativeAssign;
    }
  });

  // ../../node_modules/core-js/modules/es.object.assign.js
  var require_es_object_assign = __commonJS({
    "../../node_modules/core-js/modules/es.object.assign.js": function() {
      var $ = require_export();
      var assign = require_object_assign2();
      $({ target: "Object", stat: true, forced: Object.assign !== assign }, {
        assign: assign
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.create.js
  var require_es_object_create = __commonJS({
    "../../node_modules/core-js/modules/es.object.create.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var create = require_object_create();
      $({ target: "Object", stat: true, sham: !DESCRIPTORS }, {
        create: create
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-property.js
  var require_es_object_define_property = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-property.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var objectDefinePropertyModile = require_object_define_property();
      $({ target: "Object", stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {
        defineProperty: objectDefinePropertyModile.f
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-properties.js
  var require_es_object_define_properties = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-properties.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var defineProperties = require_object_define_properties();
      $({ target: "Object", stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {
        defineProperties: defineProperties
      });
    }
  });

  // ../../node_modules/core-js/internals/object-to-array.js
  var require_object_to_array = __commonJS({
    "../../node_modules/core-js/internals/object-to-array.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var objectKeys = require_object_keys();
      var toIndexedObject = require_to_indexed_object();
      var propertyIsEnumerable = require_object_property_is_enumerable().f;
      var createMethod = function(TO_ENTRIES) {
        return function(it) {
          var O = toIndexedObject(it);
          var keys = objectKeys(O);
          var length = keys.length;
          var i = 0;
          var result = [];
          var key;
          while (length > i) {
            key = keys[i++];
            if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {
              result.push(TO_ENTRIES ? [key, O[key]] : O[key]);
            }
          }
          return result;
        };
      };
      module.exports = {
        entries: createMethod(true),
        values: createMethod(false)
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.entries.js
  var require_es_object_entries = __commonJS({
    "../../node_modules/core-js/modules/es.object.entries.js": function() {
      var $ = require_export();
      var $entries = require_object_to_array().entries;
      $({ target: "Object", stat: true }, {
        entries: function entries(O) {
          return $entries(O);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/freezing.js
  var require_freezing = __commonJS({
    "../../node_modules/core-js/internals/freezing.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !fails(function() {
        return Object.isExtensible(Object.preventExtensions({}));
      });
    }
  });

  // ../../node_modules/core-js/internals/internal-metadata.js
  var require_internal_metadata = __commonJS({
    "../../node_modules/core-js/internals/internal-metadata.js": function(exports, module) {
      var hiddenKeys = require_hidden_keys();
      var isObject = require_is_object();
      var has = require_has();
      var defineProperty = require_object_define_property().f;
      var uid = require_uid();
      var FREEZING = require_freezing();
      var METADATA = uid("meta");
      var id = 0;
      var isExtensible = Object.isExtensible || function() {
        return true;
      };
      var setMetadata = function(it) {
        defineProperty(it, METADATA, { value: {
          objectID: "O" + ++id,
          weakData: {}
        } });
      };
      var fastKey = function(it, create) {
        if (!isObject(it))
          return typeof it == "symbol" ? it : (typeof it == "string" ? "S" : "P") + it;
        if (!has(it, METADATA)) {
          if (!isExtensible(it))
            return "F";
          if (!create)
            return "E";
          setMetadata(it);
        }
        return it[METADATA].objectID;
      };
      var getWeakData = function(it, create) {
        if (!has(it, METADATA)) {
          if (!isExtensible(it))
            return true;
          if (!create)
            return false;
          setMetadata(it);
        }
        return it[METADATA].weakData;
      };
      var onFreeze = function(it) {
        if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA))
          setMetadata(it);
        return it;
      };
      var meta = module.exports = {
        REQUIRED: false,
        fastKey: fastKey,
        getWeakData: getWeakData,
        onFreeze: onFreeze
      };
      hiddenKeys[METADATA] = true;
    }
  });

  // ../../node_modules/core-js/modules/es.object.freeze.js
  var require_es_object_freeze = __commonJS({
    "../../node_modules/core-js/modules/es.object.freeze.js": function() {
      var $ = require_export();
      var FREEZING = require_freezing();
      var fails = require_fails();
      var isObject = require_is_object();
      var onFreeze = require_internal_metadata().onFreeze;
      var nativeFreeze = Object.freeze;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeFreeze(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {
        freeze: function freeze(it) {
          return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/iterate.js
  var require_iterate = __commonJS({
    "../../node_modules/core-js/internals/iterate.js": function(exports, module) {
      var anObject = require_an_object();
      var isArrayIteratorMethod = require_is_array_iterator_method();
      var toLength = require_to_length();
      var bind = require_function_bind_context();
      var getIteratorMethod = require_get_iterator_method();
      var callWithSafeIterationClosing = require_call_with_safe_iteration_closing();
      var Result = function(stopped, result) {
        this.stopped = stopped;
        this.result = result;
      };
      var iterate = module.exports = function(iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {
        var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);
        var iterator, iterFn, index, length, result, next, step;
        if (IS_ITERATOR) {
          iterator = iterable;
        } else {
          iterFn = getIteratorMethod(iterable);
          if (typeof iterFn != "function")
            throw TypeError("Target is not iterable");
          if (isArrayIteratorMethod(iterFn)) {
            for (index = 0, length = toLength(iterable.length); length > index; index++) {
              result = AS_ENTRIES ? boundFunction(anObject(step = iterable[index])[0], step[1]) : boundFunction(iterable[index]);
              if (result && result instanceof Result)
                return result;
            }
            return new Result(false);
          }
          iterator = iterFn.call(iterable);
        }
        next = iterator.next;
        while (!(step = next.call(iterator)).done) {
          result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);
          if (typeof result == "object" && result && result instanceof Result)
            return result;
        }
        return new Result(false);
      };
      iterate.stop = function(result) {
        return new Result(true, result);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.from-entries.js
  var require_es_object_from_entries = __commonJS({
    "../../node_modules/core-js/modules/es.object.from-entries.js": function() {
      var $ = require_export();
      var iterate = require_iterate();
      var createProperty = require_create_property();
      $({ target: "Object", stat: true }, {
        fromEntries: function fromEntries(iterable) {
          var obj = {};
          iterate(iterable, function(k, v) {
            createProperty(obj, k, v);
          }, void 0, true);
          return obj;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js
  var require_es_object_get_own_property_descriptor = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var toIndexedObject = require_to_indexed_object();
      var nativeGetOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var DESCRIPTORS = require_descriptors();
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeGetOwnPropertyDescriptor(1);
      });
      var FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;
      $({ target: "Object", stat: true, forced: FORCED, sham: !DESCRIPTORS }, {
        getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {
          return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js
  var require_es_object_get_own_property_descriptors = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var ownKeys = require_own_keys();
      var toIndexedObject = require_to_indexed_object();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var createProperty = require_create_property();
      $({ target: "Object", stat: true, sham: !DESCRIPTORS }, {
        getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
          var O = toIndexedObject(object);
          var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
          var keys = ownKeys(O);
          var result = {};
          var index = 0;
          var key, descriptor;
          while (keys.length > index) {
            descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);
            if (descriptor !== void 0)
              createProperty(result, key, descriptor);
          }
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-own-property-names.js
  var require_es_object_get_own_property_names = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-own-property-names.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var nativeGetOwnPropertyNames = require_object_get_own_property_names_external().f;
      var FAILS_ON_PRIMITIVES = fails(function() {
        return !Object.getOwnPropertyNames(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        getOwnPropertyNames: nativeGetOwnPropertyNames
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-prototype-of.js
  var require_es_object_get_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-prototype-of.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var toObject = require_to_object();
      var nativeGetPrototypeOf = require_object_get_prototype_of();
      var CORRECT_PROTOTYPE_GETTER = require_correct_prototype_getter();
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeGetPrototypeOf(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {
        getPrototypeOf: function getPrototypeOf(it) {
          return nativeGetPrototypeOf(toObject(it));
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/same-value.js
  var require_same_value = __commonJS({
    "../../node_modules/core-js/internals/same-value.js": function(exports, module) {
      module.exports = Object.is || function is(x, y) {
        return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.is.js
  var require_es_object_is = __commonJS({
    "../../node_modules/core-js/modules/es.object.is.js": function() {
      var $ = require_export();
      var is = require_same_value();
      $({ target: "Object", stat: true }, {
        is: is
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.is-extensible.js
  var require_es_object_is_extensible = __commonJS({
    "../../node_modules/core-js/modules/es.object.is-extensible.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var isObject = require_is_object();
      var nativeIsExtensible = Object.isExtensible;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeIsExtensible(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        isExtensible: function isExtensible(it) {
          return isObject(it) ? nativeIsExtensible ? nativeIsExtensible(it) : true : false;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.is-frozen.js
  var require_es_object_is_frozen = __commonJS({
    "../../node_modules/core-js/modules/es.object.is-frozen.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var isObject = require_is_object();
      var nativeIsFrozen = Object.isFrozen;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeIsFrozen(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        isFrozen: function isFrozen(it) {
          return isObject(it) ? nativeIsFrozen ? nativeIsFrozen(it) : false : true;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.is-sealed.js
  var require_es_object_is_sealed = __commonJS({
    "../../node_modules/core-js/modules/es.object.is-sealed.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var isObject = require_is_object();
      var nativeIsSealed = Object.isSealed;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeIsSealed(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        isSealed: function isSealed(it) {
          return isObject(it) ? nativeIsSealed ? nativeIsSealed(it) : false : true;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.keys.js
  var require_es_object_keys = __commonJS({
    "../../node_modules/core-js/modules/es.object.keys.js": function() {
      var $ = require_export();
      var toObject = require_to_object();
      var nativeKeys = require_object_keys();
      var fails = require_fails();
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeKeys(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        keys: function keys(it) {
          return nativeKeys(toObject(it));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.prevent-extensions.js
  var require_es_object_prevent_extensions = __commonJS({
    "../../node_modules/core-js/modules/es.object.prevent-extensions.js": function() {
      var $ = require_export();
      var isObject = require_is_object();
      var onFreeze = require_internal_metadata().onFreeze;
      var FREEZING = require_freezing();
      var fails = require_fails();
      var nativePreventExtensions = Object.preventExtensions;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativePreventExtensions(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {
        preventExtensions: function preventExtensions(it) {
          return nativePreventExtensions && isObject(it) ? nativePreventExtensions(onFreeze(it)) : it;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.seal.js
  var require_es_object_seal = __commonJS({
    "../../node_modules/core-js/modules/es.object.seal.js": function() {
      var $ = require_export();
      var isObject = require_is_object();
      var onFreeze = require_internal_metadata().onFreeze;
      var FREEZING = require_freezing();
      var fails = require_fails();
      var nativeSeal = Object.seal;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeSeal(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {
        seal: function seal(it) {
          return nativeSeal && isObject(it) ? nativeSeal(onFreeze(it)) : it;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.set-prototype-of.js
  var require_es_object_set_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.object.set-prototype-of.js": function() {
      var $ = require_export();
      var setPrototypeOf = require_object_set_prototype_of();
      $({ target: "Object", stat: true }, {
        setPrototypeOf: setPrototypeOf
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.values.js
  var require_es_object_values = __commonJS({
    "../../node_modules/core-js/modules/es.object.values.js": function() {
      var $ = require_export();
      var $values = require_object_to_array().values;
      $({ target: "Object", stat: true }, {
        values: function values(O) {
          return $values(O);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/object-prototype-accessors-forced.js
  var require_object_prototype_accessors_forced = __commonJS({
    "../../node_modules/core-js/internals/object-prototype-accessors-forced.js": function(exports, module) {
      "use strict";
      var IS_PURE = require_is_pure();
      var global2 = require_global();
      var fails = require_fails();
      module.exports = IS_PURE || !fails(function() {
        var key = Math.random();
        __defineSetter__.call(null, key, function() {
        });
        delete global2[key];
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-getter.js
  var require_es_object_define_getter = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-getter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var aFunction = require_a_function();
      var definePropertyModule = require_object_define_property();
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __defineGetter__: function __defineGetter__(P, getter) {
            definePropertyModule.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-setter.js
  var require_es_object_define_setter = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-setter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var aFunction = require_a_function();
      var definePropertyModule = require_object_define_property();
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __defineSetter__: function __defineSetter__2(P, setter) {
            definePropertyModule.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.object.lookup-getter.js
  var require_es_object_lookup_getter = __commonJS({
    "../../node_modules/core-js/modules/es.object.lookup-getter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var toPrimitive = require_to_primitive();
      var getPrototypeOf = require_object_get_prototype_of();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __lookupGetter__: function __lookupGetter__(P) {
            var O = toObject(this);
            var key = toPrimitive(P, true);
            var desc;
            do {
              if (desc = getOwnPropertyDescriptor(O, key))
                return desc.get;
            } while (O = getPrototypeOf(O));
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.object.lookup-setter.js
  var require_es_object_lookup_setter = __commonJS({
    "../../node_modules/core-js/modules/es.object.lookup-setter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var toPrimitive = require_to_primitive();
      var getPrototypeOf = require_object_get_prototype_of();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __lookupSetter__: function __lookupSetter__(P) {
            var O = toObject(this);
            var key = toPrimitive(P, true);
            var desc;
            do {
              if (desc = getOwnPropertyDescriptor(O, key))
                return desc.set;
            } while (O = getPrototypeOf(O));
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/internals/function-bind.js
  var require_function_bind = __commonJS({
    "../../node_modules/core-js/internals/function-bind.js": function(exports, module) {
      "use strict";
      var aFunction = require_a_function();
      var isObject = require_is_object();
      var slice = [].slice;
      var factories = {};
      var construct = function(C, argsLength, args) {
        if (!(argsLength in factories)) {
          for (var list = [], i = 0; i < argsLength; i++)
            list[i] = "a[" + i + "]";
          factories[argsLength] = Function("C,a", "return new C(" + list.join(",") + ")");
        }
        return factories[argsLength](C, args);
      };
      module.exports = Function.bind || function bind(that) {
        var fn = aFunction(this);
        var partArgs = slice.call(arguments, 1);
        var boundFunction = function bound() {
          var args = partArgs.concat(slice.call(arguments));
          return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);
        };
        if (isObject(fn.prototype))
          boundFunction.prototype = fn.prototype;
        return boundFunction;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.function.bind.js
  var require_es_function_bind = __commonJS({
    "../../node_modules/core-js/modules/es.function.bind.js": function() {
      var $ = require_export();
      var bind = require_function_bind();
      $({ target: "Function", proto: true }, {
        bind: bind
      });
    }
  });

  // ../../node_modules/core-js/modules/es.function.name.js
  var require_es_function_name = __commonJS({
    "../../node_modules/core-js/modules/es.function.name.js": function() {
      var DESCRIPTORS = require_descriptors();
      var defineProperty = require_object_define_property().f;
      var FunctionPrototype = Function.prototype;
      var FunctionPrototypeToString = FunctionPrototype.toString;
      var nameRE = /^\s*function ([^ (]*)/;
      var NAME = "name";
      if (DESCRIPTORS && !(NAME in FunctionPrototype)) {
        defineProperty(FunctionPrototype, NAME, {
          configurable: true,
          get: function() {
            try {
              return FunctionPrototypeToString.call(this).match(nameRE)[1];
            } catch (error) {
              return "";
            }
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.function.has-instance.js
  var require_es_function_has_instance = __commonJS({
    "../../node_modules/core-js/modules/es.function.has-instance.js": function() {
      "use strict";
      var isObject = require_is_object();
      var definePropertyModule = require_object_define_property();
      var getPrototypeOf = require_object_get_prototype_of();
      var wellKnownSymbol = require_well_known_symbol();
      var HAS_INSTANCE = wellKnownSymbol("hasInstance");
      var FunctionPrototype = Function.prototype;
      if (!(HAS_INSTANCE in FunctionPrototype)) {
        definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: function(O) {
          if (typeof this != "function" || !isObject(O))
            return false;
          if (!isObject(this.prototype))
            return O instanceof this;
          while (O = getPrototypeOf(O))
            if (this.prototype === O)
              return true;
          return false;
        } });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.global-this.js
  var require_es_global_this = __commonJS({
    "../../node_modules/core-js/modules/es.global-this.js": function() {
      var $ = require_export();
      var global2 = require_global();
      $({ global: true }, {
        globalThis: global2
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.is-array.js
  var require_es_array_is_array = __commonJS({
    "../../node_modules/core-js/modules/es.array.is-array.js": function() {
      var $ = require_export();
      var isArray = require_is_array();
      $({ target: "Array", stat: true }, {
        isArray: isArray
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.of.js
  var require_es_array_of = __commonJS({
    "../../node_modules/core-js/modules/es.array.of.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var createProperty = require_create_property();
      var ISNT_GENERIC = fails(function() {
        function F() {
        }
        return !(Array.of.call(F) instanceof F);
      });
      $({ target: "Array", stat: true, forced: ISNT_GENERIC }, {
        of: function of() {
          var index = 0;
          var argumentsLength = arguments.length;
          var result = new (typeof this == "function" ? this : Array)(argumentsLength);
          while (argumentsLength > index)
            createProperty(result, index, arguments[index++]);
          result.length = argumentsLength;
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-copy-within.js
  var require_array_copy_within = __commonJS({
    "../../node_modules/core-js/internals/array-copy-within.js": function(exports, module) {
      "use strict";
      var toObject = require_to_object();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      var min = Math.min;
      module.exports = [].copyWithin || function copyWithin(target, start) {
        var O = toObject(this);
        var len = toLength(O.length);
        var to = toAbsoluteIndex(target, len);
        var from = toAbsoluteIndex(start, len);
        var end = arguments.length > 2 ? arguments[2] : void 0;
        var count = min((end === void 0 ? len : toAbsoluteIndex(end, len)) - from, len - to);
        var inc = 1;
        if (from < to && to < from + count) {
          inc = -1;
          from += count - 1;
          to += count - 1;
        }
        while (count-- > 0) {
          if (from in O)
            O[to] = O[from];
          else
            delete O[to];
          to += inc;
          from += inc;
        }
        return O;
      };
    }
  });

  // ../../node_modules/core-js/internals/add-to-unscopables.js
  var require_add_to_unscopables = __commonJS({
    "../../node_modules/core-js/internals/add-to-unscopables.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var create = require_object_create();
      var definePropertyModule = require_object_define_property();
      var UNSCOPABLES = wellKnownSymbol("unscopables");
      var ArrayPrototype = Array.prototype;
      if (ArrayPrototype[UNSCOPABLES] == void 0) {
        definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {
          configurable: true,
          value: create(null)
        });
      }
      module.exports = function(key) {
        ArrayPrototype[UNSCOPABLES][key] = true;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.copy-within.js
  var require_es_array_copy_within = __commonJS({
    "../../node_modules/core-js/modules/es.array.copy-within.js": function() {
      var $ = require_export();
      var copyWithin = require_array_copy_within();
      var addToUnscopables = require_add_to_unscopables();
      $({ target: "Array", proto: true }, {
        copyWithin: copyWithin
      });
      addToUnscopables("copyWithin");
    }
  });

  // ../../node_modules/core-js/internals/array-method-is-strict.js
  var require_array_method_is_strict = __commonJS({
    "../../node_modules/core-js/internals/array-method-is-strict.js": function(exports, module) {
      "use strict";
      var fails = require_fails();
      module.exports = function(METHOD_NAME, argument) {
        var method = [][METHOD_NAME];
        return !!method && fails(function() {
          method.call(null, argument || function() {
            throw 1;
          }, 1);
        });
      };
    }
  });

  // ../../node_modules/core-js/internals/array-method-uses-to-length.js
  var require_array_method_uses_to_length = __commonJS({
    "../../node_modules/core-js/internals/array-method-uses-to-length.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var fails = require_fails();
      var has = require_has();
      var defineProperty = Object.defineProperty;
      var cache = {};
      var thrower = function(it) {
        throw it;
      };
      module.exports = function(METHOD_NAME, options) {
        if (has(cache, METHOD_NAME))
          return cache[METHOD_NAME];
        if (!options)
          options = {};
        var method = [][METHOD_NAME];
        var ACCESSORS = has(options, "ACCESSORS") ? options.ACCESSORS : false;
        var argument0 = has(options, 0) ? options[0] : thrower;
        var argument1 = has(options, 1) ? options[1] : void 0;
        return cache[METHOD_NAME] = !!method && !fails(function() {
          if (ACCESSORS && !DESCRIPTORS)
            return true;
          var O = { length: -1 };
          if (ACCESSORS)
            defineProperty(O, 1, { enumerable: true, get: thrower });
          else
            O[1] = 1;
          method.call(O, argument0, argument1);
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.every.js
  var require_es_array_every = __commonJS({
    "../../node_modules/core-js/modules/es.array.every.js": function() {
      "use strict";
      var $ = require_export();
      var $every = require_array_iteration().every;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("every");
      var USES_TO_LENGTH = arrayMethodUsesToLength("every");
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        every: function every(callbackfn) {
          return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-fill.js
  var require_array_fill = __commonJS({
    "../../node_modules/core-js/internals/array-fill.js": function(exports, module) {
      "use strict";
      var toObject = require_to_object();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      module.exports = function fill(value) {
        var O = toObject(this);
        var length = toLength(O.length);
        var argumentsLength = arguments.length;
        var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : void 0, length);
        var end = argumentsLength > 2 ? arguments[2] : void 0;
        var endPos = end === void 0 ? length : toAbsoluteIndex(end, length);
        while (endPos > index)
          O[index++] = value;
        return O;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.fill.js
  var require_es_array_fill = __commonJS({
    "../../node_modules/core-js/modules/es.array.fill.js": function() {
      var $ = require_export();
      var fill = require_array_fill();
      var addToUnscopables = require_add_to_unscopables();
      $({ target: "Array", proto: true }, {
        fill: fill
      });
      addToUnscopables("fill");
    }
  });

  // ../../node_modules/core-js/modules/es.array.filter.js
  var require_es_array_filter = __commonJS({
    "../../node_modules/core-js/modules/es.array.filter.js": function() {
      "use strict";
      var $ = require_export();
      var $filter = require_array_iteration().filter;
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("filter");
      var USES_TO_LENGTH = arrayMethodUsesToLength("filter");
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        filter: function filter(callbackfn) {
          return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.find.js
  var require_es_array_find = __commonJS({
    "../../node_modules/core-js/modules/es.array.find.js": function() {
      "use strict";
      var $ = require_export();
      var $find = require_array_iteration().find;
      var addToUnscopables = require_add_to_unscopables();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var FIND = "find";
      var SKIPS_HOLES = true;
      var USES_TO_LENGTH = arrayMethodUsesToLength(FIND);
      if (FIND in [])
        Array(1)[FIND](function() {
          SKIPS_HOLES = false;
        });
      $({ target: "Array", proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {
        find: function find(callbackfn) {
          return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
      addToUnscopables(FIND);
    }
  });

  // ../../node_modules/core-js/modules/es.array.find-index.js
  var require_es_array_find_index = __commonJS({
    "../../node_modules/core-js/modules/es.array.find-index.js": function() {
      "use strict";
      var $ = require_export();
      var $findIndex = require_array_iteration().findIndex;
      var addToUnscopables = require_add_to_unscopables();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var FIND_INDEX = "findIndex";
      var SKIPS_HOLES = true;
      var USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);
      if (FIND_INDEX in [])
        Array(1)[FIND_INDEX](function() {
          SKIPS_HOLES = false;
        });
      $({ target: "Array", proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {
        findIndex: function findIndex(callbackfn) {
          return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
      addToUnscopables(FIND_INDEX);
    }
  });

  // ../../node_modules/core-js/internals/flatten-into-array.js
  var require_flatten_into_array = __commonJS({
    "../../node_modules/core-js/internals/flatten-into-array.js": function(exports, module) {
      "use strict";
      var isArray = require_is_array();
      var toLength = require_to_length();
      var bind = require_function_bind_context();
      var flattenIntoArray = function(target, original, source, sourceLen, start, depth, mapper, thisArg) {
        var targetIndex = start;
        var sourceIndex = 0;
        var mapFn = mapper ? bind(mapper, thisArg, 3) : false;
        var element;
        while (sourceIndex < sourceLen) {
          if (sourceIndex in source) {
            element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];
            if (depth > 0 && isArray(element)) {
              targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;
            } else {
              if (targetIndex >= 9007199254740991)
                throw TypeError("Exceed the acceptable array length");
              target[targetIndex] = element;
            }
            targetIndex++;
          }
          sourceIndex++;
        }
        return targetIndex;
      };
      module.exports = flattenIntoArray;
    }
  });

  // ../../node_modules/core-js/modules/es.array.flat.js
  var require_es_array_flat = __commonJS({
    "../../node_modules/core-js/modules/es.array.flat.js": function() {
      "use strict";
      var $ = require_export();
      var flattenIntoArray = require_flatten_into_array();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var toInteger = require_to_integer();
      var arraySpeciesCreate = require_array_species_create();
      $({ target: "Array", proto: true }, {
        flat: function flat() {
          var depthArg = arguments.length ? arguments[0] : void 0;
          var O = toObject(this);
          var sourceLen = toLength(O.length);
          var A = arraySpeciesCreate(O, 0);
          A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === void 0 ? 1 : toInteger(depthArg));
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.flat-map.js
  var require_es_array_flat_map = __commonJS({
    "../../node_modules/core-js/modules/es.array.flat-map.js": function() {
      "use strict";
      var $ = require_export();
      var flattenIntoArray = require_flatten_into_array();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var aFunction = require_a_function();
      var arraySpeciesCreate = require_array_species_create();
      $({ target: "Array", proto: true }, {
        flatMap: function flatMap(callbackfn) {
          var O = toObject(this);
          var sourceLen = toLength(O.length);
          var A;
          aFunction(callbackfn);
          A = arraySpeciesCreate(O, 0);
          A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-for-each.js
  var require_array_for_each = __commonJS({
    "../../node_modules/core-js/internals/array-for-each.js": function(exports, module) {
      "use strict";
      var $forEach = require_array_iteration().forEach;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("forEach");
      var USES_TO_LENGTH = arrayMethodUsesToLength("forEach");
      module.exports = !STRICT_METHOD || !USES_TO_LENGTH ? function forEach(callbackfn) {
        return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      } : [].forEach;
    }
  });

  // ../../node_modules/core-js/modules/es.array.for-each.js
  var require_es_array_for_each = __commonJS({
    "../../node_modules/core-js/modules/es.array.for-each.js": function() {
      "use strict";
      var $ = require_export();
      var forEach = require_array_for_each();
      $({ target: "Array", proto: true, forced: [].forEach != forEach }, {
        forEach: forEach
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.includes.js
  var require_es_array_includes = __commonJS({
    "../../node_modules/core-js/modules/es.array.includes.js": function() {
      "use strict";
      var $ = require_export();
      var $includes = require_array_includes().includes;
      var addToUnscopables = require_add_to_unscopables();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
      $({ target: "Array", proto: true, forced: !USES_TO_LENGTH }, {
        includes: function includes(el) {
          return $includes(this, el, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
      addToUnscopables("includes");
    }
  });

  // ../../node_modules/core-js/modules/es.array.index-of.js
  var require_es_array_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.array.index-of.js": function() {
      "use strict";
      var $ = require_export();
      var $indexOf = require_array_includes().indexOf;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var nativeIndexOf = [].indexOf;
      var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;
      var STRICT_METHOD = arrayMethodIsStrict("indexOf");
      var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
      $({ target: "Array", proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {
        indexOf: function indexOf(searchElement) {
          return NEGATIVE_ZERO ? nativeIndexOf.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.join.js
  var require_es_array_join = __commonJS({
    "../../node_modules/core-js/modules/es.array.join.js": function() {
      "use strict";
      var $ = require_export();
      var IndexedObject = require_indexed_object();
      var toIndexedObject = require_to_indexed_object();
      var arrayMethodIsStrict = require_array_method_is_strict();
      var nativeJoin = [].join;
      var ES3_STRINGS = IndexedObject != Object;
      var STRICT_METHOD = arrayMethodIsStrict("join", ",");
      $({ target: "Array", proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {
        join: function join(separator) {
          return nativeJoin.call(toIndexedObject(this), separator === void 0 ? "," : separator);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-last-index-of.js
  var require_array_last_index_of = __commonJS({
    "../../node_modules/core-js/internals/array-last-index-of.js": function(exports, module) {
      "use strict";
      var toIndexedObject = require_to_indexed_object();
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var min = Math.min;
      var nativeLastIndexOf = [].lastIndexOf;
      var NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;
      var STRICT_METHOD = arrayMethodIsStrict("lastIndexOf");
      var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
      var FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;
      module.exports = FORCED ? function lastIndexOf(searchElement) {
        if (NEGATIVE_ZERO)
          return nativeLastIndexOf.apply(this, arguments) || 0;
        var O = toIndexedObject(this);
        var length = toLength(O.length);
        var index = length - 1;
        if (arguments.length > 1)
          index = min(index, toInteger(arguments[1]));
        if (index < 0)
          index = length + index;
        for (; index >= 0; index--)
          if (index in O && O[index] === searchElement)
            return index || 0;
        return -1;
      } : nativeLastIndexOf;
    }
  });

  // ../../node_modules/core-js/modules/es.array.last-index-of.js
  var require_es_array_last_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.array.last-index-of.js": function() {
      var $ = require_export();
      var lastIndexOf = require_array_last_index_of();
      $({ target: "Array", proto: true, forced: lastIndexOf !== [].lastIndexOf }, {
        lastIndexOf: lastIndexOf
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.map.js
  var require_es_array_map = __commonJS({
    "../../node_modules/core-js/modules/es.array.map.js": function() {
      "use strict";
      var $ = require_export();
      var $map = require_array_iteration().map;
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("map");
      var USES_TO_LENGTH = arrayMethodUsesToLength("map");
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        map: function map(callbackfn) {
          return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-reduce.js
  var require_array_reduce = __commonJS({
    "../../node_modules/core-js/internals/array-reduce.js": function(exports, module) {
      var aFunction = require_a_function();
      var toObject = require_to_object();
      var IndexedObject = require_indexed_object();
      var toLength = require_to_length();
      var createMethod = function(IS_RIGHT) {
        return function(that, callbackfn, argumentsLength, memo) {
          aFunction(callbackfn);
          var O = toObject(that);
          var self2 = IndexedObject(O);
          var length = toLength(O.length);
          var index = IS_RIGHT ? length - 1 : 0;
          var i = IS_RIGHT ? -1 : 1;
          if (argumentsLength < 2)
            while (true) {
              if (index in self2) {
                memo = self2[index];
                index += i;
                break;
              }
              index += i;
              if (IS_RIGHT ? index < 0 : length <= index) {
                throw TypeError("Reduce of empty array with no initial value");
              }
            }
          for (; IS_RIGHT ? index >= 0 : length > index; index += i)
            if (index in self2) {
              memo = callbackfn(memo, self2[index], index, O);
            }
          return memo;
        };
      };
      module.exports = {
        left: createMethod(false),
        right: createMethod(true)
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.reduce.js
  var require_es_array_reduce = __commonJS({
    "../../node_modules/core-js/modules/es.array.reduce.js": function() {
      "use strict";
      var $ = require_export();
      var $reduce = require_array_reduce().left;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("reduce");
      var USES_TO_LENGTH = arrayMethodUsesToLength("reduce", { 1: 0 });
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        reduce: function reduce(callbackfn) {
          return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.reduce-right.js
  var require_es_array_reduce_right = __commonJS({
    "../../node_modules/core-js/modules/es.array.reduce-right.js": function() {
      "use strict";
      var $ = require_export();
      var $reduceRight = require_array_reduce().right;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("reduceRight");
      var USES_TO_LENGTH = arrayMethodUsesToLength("reduce", { 1: 0 });
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        reduceRight: function reduceRight(callbackfn) {
          return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.reverse.js
  var require_es_array_reverse = __commonJS({
    "../../node_modules/core-js/modules/es.array.reverse.js": function() {
      "use strict";
      var $ = require_export();
      var isArray = require_is_array();
      var nativeReverse = [].reverse;
      var test = [1, 2];
      $({ target: "Array", proto: true, forced: String(test) === String(test.reverse()) }, {
        reverse: function reverse() {
          if (isArray(this))
            this.length = this.length;
          return nativeReverse.call(this);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.slice.js
  var require_es_array_slice = __commonJS({
    "../../node_modules/core-js/modules/es.array.slice.js": function() {
      "use strict";
      var $ = require_export();
      var isObject = require_is_object();
      var isArray = require_is_array();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      var toIndexedObject = require_to_indexed_object();
      var createProperty = require_create_property();
      var wellKnownSymbol = require_well_known_symbol();
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("slice");
      var USES_TO_LENGTH = arrayMethodUsesToLength("slice", { ACCESSORS: true, 0: 0, 1: 2 });
      var SPECIES = wellKnownSymbol("species");
      var nativeSlice = [].slice;
      var max = Math.max;
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        slice: function slice(start, end) {
          var O = toIndexedObject(this);
          var length = toLength(O.length);
          var k = toAbsoluteIndex(start, length);
          var fin = toAbsoluteIndex(end === void 0 ? length : end, length);
          var Constructor, result, n;
          if (isArray(O)) {
            Constructor = O.constructor;
            if (typeof Constructor == "function" && (Constructor === Array || isArray(Constructor.prototype))) {
              Constructor = void 0;
            } else if (isObject(Constructor)) {
              Constructor = Constructor[SPECIES];
              if (Constructor === null)
                Constructor = void 0;
            }
            if (Constructor === Array || Constructor === void 0) {
              return nativeSlice.call(O, k, fin);
            }
          }
          result = new (Constructor === void 0 ? Array : Constructor)(max(fin - k, 0));
          for (n = 0; k < fin; k++, n++)
            if (k in O)
              createProperty(result, n, O[k]);
          result.length = n;
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.some.js
  var require_es_array_some = __commonJS({
    "../../node_modules/core-js/modules/es.array.some.js": function() {
      "use strict";
      var $ = require_export();
      var $some = require_array_iteration().some;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("some");
      var USES_TO_LENGTH = arrayMethodUsesToLength("some");
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        some: function some(callbackfn) {
          return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.sort.js
  var require_es_array_sort = __commonJS({
    "../../node_modules/core-js/modules/es.array.sort.js": function() {
      "use strict";
      var $ = require_export();
      var aFunction = require_a_function();
      var toObject = require_to_object();
      var fails = require_fails();
      var arrayMethodIsStrict = require_array_method_is_strict();
      var test = [];
      var nativeSort = test.sort;
      var FAILS_ON_UNDEFINED = fails(function() {
        test.sort(void 0);
      });
      var FAILS_ON_NULL = fails(function() {
        test.sort(null);
      });
      var STRICT_METHOD = arrayMethodIsStrict("sort");
      var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;
      $({ target: "Array", proto: true, forced: FORCED }, {
        sort: function sort(comparefn) {
          return comparefn === void 0 ? nativeSort.call(toObject(this)) : nativeSort.call(toObject(this), aFunction(comparefn));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.splice.js
  var require_es_array_splice = __commonJS({
    "../../node_modules/core-js/modules/es.array.splice.js": function() {
      "use strict";
      var $ = require_export();
      var toAbsoluteIndex = require_to_absolute_index();
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      var toObject = require_to_object();
      var arraySpeciesCreate = require_array_species_create();
      var createProperty = require_create_property();
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("splice");
      var USES_TO_LENGTH = arrayMethodUsesToLength("splice", { ACCESSORS: true, 0: 0, 1: 2 });
      var max = Math.max;
      var min = Math.min;
      var MAX_SAFE_INTEGER = 9007199254740991;
      var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = "Maximum allowed length exceeded";
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        splice: function splice(start, deleteCount) {
          var O = toObject(this);
          var len = toLength(O.length);
          var actualStart = toAbsoluteIndex(start, len);
          var argumentsLength = arguments.length;
          var insertCount, actualDeleteCount, A, k, from, to;
          if (argumentsLength === 0) {
            insertCount = actualDeleteCount = 0;
          } else if (argumentsLength === 1) {
            insertCount = 0;
            actualDeleteCount = len - actualStart;
          } else {
            insertCount = argumentsLength - 2;
            actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);
          }
          if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {
            throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);
          }
          A = arraySpeciesCreate(O, actualDeleteCount);
          for (k = 0; k < actualDeleteCount; k++) {
            from = actualStart + k;
            if (from in O)
              createProperty(A, k, O[from]);
          }
          A.length = actualDeleteCount;
          if (insertCount < actualDeleteCount) {
            for (k = actualStart; k < len - actualDeleteCount; k++) {
              from = k + actualDeleteCount;
              to = k + insertCount;
              if (from in O)
                O[to] = O[from];
              else
                delete O[to];
            }
            for (k = len; k > len - actualDeleteCount + insertCount; k--)
              delete O[k - 1];
          } else if (insertCount > actualDeleteCount) {
            for (k = len - actualDeleteCount; k > actualStart; k--) {
              from = k + actualDeleteCount - 1;
              to = k + insertCount - 1;
              if (from in O)
                O[to] = O[from];
              else
                delete O[to];
            }
          }
          for (k = 0; k < insertCount; k++) {
            O[k + actualStart] = arguments[k + 2];
          }
          O.length = len - actualDeleteCount + insertCount;
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/set-species.js
  var require_set_species = __commonJS({
    "../../node_modules/core-js/internals/set-species.js": function(exports, module) {
      "use strict";
      var getBuiltIn = require_get_built_in();
      var definePropertyModule = require_object_define_property();
      var wellKnownSymbol = require_well_known_symbol();
      var DESCRIPTORS = require_descriptors();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(CONSTRUCTOR_NAME) {
        var Constructor = getBuiltIn(CONSTRUCTOR_NAME);
        var defineProperty = definePropertyModule.f;
        if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {
          defineProperty(Constructor, SPECIES, {
            configurable: true,
            get: function() {
              return this;
            }
          });
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.species.js
  var require_es_array_species = __commonJS({
    "../../node_modules/core-js/modules/es.array.species.js": function() {
      var setSpecies = require_set_species();
      setSpecies("Array");
    }
  });

  // ../../node_modules/core-js/modules/es.array.unscopables.flat.js
  var require_es_array_unscopables_flat = __commonJS({
    "../../node_modules/core-js/modules/es.array.unscopables.flat.js": function() {
      var addToUnscopables = require_add_to_unscopables();
      addToUnscopables("flat");
    }
  });

  // ../../node_modules/core-js/modules/es.array.unscopables.flat-map.js
  var require_es_array_unscopables_flat_map = __commonJS({
    "../../node_modules/core-js/modules/es.array.unscopables.flat-map.js": function() {
      var addToUnscopables = require_add_to_unscopables();
      addToUnscopables("flatMap");
    }
  });

  // ../../node_modules/core-js/modules/es.array.iterator.js
  var require_es_array_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.array.iterator.js": function(exports, module) {
      "use strict";
      var toIndexedObject = require_to_indexed_object();
      var addToUnscopables = require_add_to_unscopables();
      var Iterators = require_iterators();
      var InternalStateModule = require_internal_state();
      var defineIterator = require_define_iterator();
      var ARRAY_ITERATOR = "Array Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);
      module.exports = defineIterator(Array, "Array", function(iterated, kind) {
        setInternalState(this, {
          type: ARRAY_ITERATOR,
          target: toIndexedObject(iterated),
          index: 0,
          kind: kind
        });
      }, function() {
        var state = getInternalState(this);
        var target = state.target;
        var kind = state.kind;
        var index = state.index++;
        if (!target || index >= target.length) {
          state.target = void 0;
          return { value: void 0, done: true };
        }
        if (kind == "keys")
          return { value: index, done: false };
        if (kind == "values")
          return { value: target[index], done: false };
        return { value: [index, target[index]], done: false };
      }, "values");
      Iterators.Arguments = Iterators.Array;
      addToUnscopables("keys");
      addToUnscopables("values");
      addToUnscopables("entries");
    }
  });

  // ../../node_modules/core-js/modules/es.string.from-code-point.js
  var require_es_string_from_code_point = __commonJS({
    "../../node_modules/core-js/modules/es.string.from-code-point.js": function() {
      var $ = require_export();
      var toAbsoluteIndex = require_to_absolute_index();
      var fromCharCode = String.fromCharCode;
      var nativeFromCodePoint = String.fromCodePoint;
      var INCORRECT_LENGTH = !!nativeFromCodePoint && nativeFromCodePoint.length != 1;
      $({ target: "String", stat: true, forced: INCORRECT_LENGTH }, {
        fromCodePoint: function fromCodePoint(x) {
          var elements = [];
          var length = arguments.length;
          var i = 0;
          var code;
          while (length > i) {
            code = +arguments[i++];
            if (toAbsoluteIndex(code, 1114111) !== code)
              throw RangeError(code + " is not a valid code point");
            elements.push(code < 65536 ? fromCharCode(code) : fromCharCode(((code -= 65536) >> 10) + 55296, code % 1024 + 56320));
          }
          return elements.join("");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.raw.js
  var require_es_string_raw = __commonJS({
    "../../node_modules/core-js/modules/es.string.raw.js": function() {
      var $ = require_export();
      var toIndexedObject = require_to_indexed_object();
      var toLength = require_to_length();
      $({ target: "String", stat: true }, {
        raw: function raw(template) {
          var rawTemplate = toIndexedObject(template.raw);
          var literalSegments = toLength(rawTemplate.length);
          var argumentsLength = arguments.length;
          var elements = [];
          var i = 0;
          while (literalSegments > i) {
            elements.push(String(rawTemplate[i++]));
            if (i < argumentsLength)
              elements.push(String(arguments[i]));
          }
          return elements.join("");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.code-point-at.js
  var require_es_string_code_point_at = __commonJS({
    "../../node_modules/core-js/modules/es.string.code-point-at.js": function() {
      "use strict";
      var $ = require_export();
      var codeAt = require_string_multibyte().codeAt;
      $({ target: "String", proto: true }, {
        codePointAt: function codePointAt(pos) {
          return codeAt(this, pos);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/is-regexp.js
  var require_is_regexp = __commonJS({
    "../../node_modules/core-js/internals/is-regexp.js": function(exports, module) {
      var isObject = require_is_object();
      var classof = require_classof_raw();
      var wellKnownSymbol = require_well_known_symbol();
      var MATCH = wellKnownSymbol("match");
      module.exports = function(it) {
        var isRegExp;
        return isObject(it) && ((isRegExp = it[MATCH]) !== void 0 ? !!isRegExp : classof(it) == "RegExp");
      };
    }
  });

  // ../../node_modules/core-js/internals/not-a-regexp.js
  var require_not_a_regexp = __commonJS({
    "../../node_modules/core-js/internals/not-a-regexp.js": function(exports, module) {
      var isRegExp = require_is_regexp();
      module.exports = function(it) {
        if (isRegExp(it)) {
          throw TypeError("The method doesn't accept regular expressions");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/correct-is-regexp-logic.js
  var require_correct_is_regexp_logic = __commonJS({
    "../../node_modules/core-js/internals/correct-is-regexp-logic.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var MATCH = wellKnownSymbol("match");
      module.exports = function(METHOD_NAME) {
        var regexp = /./;
        try {
          "/./"[METHOD_NAME](regexp);
        } catch (e) {
          try {
            regexp[MATCH] = false;
            return "/./"[METHOD_NAME](regexp);
          } catch (f) {
          }
        }
        return false;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.ends-with.js
  var require_es_string_ends_with = __commonJS({
    "../../node_modules/core-js/modules/es.string.ends-with.js": function() {
      "use strict";
      var $ = require_export();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var toLength = require_to_length();
      var notARegExp = require_not_a_regexp();
      var requireObjectCoercible = require_require_object_coercible();
      var correctIsRegExpLogic = require_correct_is_regexp_logic();
      var IS_PURE = require_is_pure();
      var nativeEndsWith = "".endsWith;
      var min = Math.min;
      var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic("endsWith");
      var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function() {
        var descriptor = getOwnPropertyDescriptor(String.prototype, "endsWith");
        return descriptor && !descriptor.writable;
      }();
      $({ target: "String", proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
        endsWith: function endsWith(searchString) {
          var that = String(requireObjectCoercible(this));
          notARegExp(searchString);
          var endPosition = arguments.length > 1 ? arguments[1] : void 0;
          var len = toLength(that.length);
          var end = endPosition === void 0 ? len : min(toLength(endPosition), len);
          var search = String(searchString);
          return nativeEndsWith ? nativeEndsWith.call(that, search, end) : that.slice(end - search.length, end) === search;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.includes.js
  var require_es_string_includes = __commonJS({
    "../../node_modules/core-js/modules/es.string.includes.js": function() {
      "use strict";
      var $ = require_export();
      var notARegExp = require_not_a_regexp();
      var requireObjectCoercible = require_require_object_coercible();
      var correctIsRegExpLogic = require_correct_is_regexp_logic();
      $({ target: "String", proto: true, forced: !correctIsRegExpLogic("includes") }, {
        includes: function includes(searchString) {
          return !!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/regexp-flags.js
  var require_regexp_flags = __commonJS({
    "../../node_modules/core-js/internals/regexp-flags.js": function(exports, module) {
      "use strict";
      var anObject = require_an_object();
      module.exports = function() {
        var that = anObject(this);
        var result = "";
        if (that.global)
          result += "g";
        if (that.ignoreCase)
          result += "i";
        if (that.multiline)
          result += "m";
        if (that.dotAll)
          result += "s";
        if (that.unicode)
          result += "u";
        if (that.sticky)
          result += "y";
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/regexp-sticky-helpers.js
  var require_regexp_sticky_helpers = __commonJS({
    "../../node_modules/core-js/internals/regexp-sticky-helpers.js": function(exports) {
      "use strict";
      var fails = require_fails();
      function RE(s, f) {
        return RegExp(s, f);
      }
      exports.UNSUPPORTED_Y = fails(function() {
        var re = RE("a", "y");
        re.lastIndex = 2;
        return re.exec("abcd") != null;
      });
      exports.BROKEN_CARET = fails(function() {
        var re = RE("^r", "gy");
        re.lastIndex = 2;
        return re.exec("str") != null;
      });
    }
  });

  // ../../node_modules/core-js/internals/regexp-exec.js
  var require_regexp_exec = __commonJS({
    "../../node_modules/core-js/internals/regexp-exec.js": function(exports, module) {
      "use strict";
      var regexpFlags = require_regexp_flags();
      var stickyHelpers = require_regexp_sticky_helpers();
      var nativeExec = RegExp.prototype.exec;
      var nativeReplace = String.prototype.replace;
      var patchedExec = nativeExec;
      var UPDATES_LAST_INDEX_WRONG = function() {
        var re1 = /a/;
        var re2 = /b*/g;
        nativeExec.call(re1, "a");
        nativeExec.call(re2, "a");
        return re1.lastIndex !== 0 || re2.lastIndex !== 0;
      }();
      var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;
      var NPCG_INCLUDED = /()??/.exec("")[1] !== void 0;
      var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;
      if (PATCH) {
        patchedExec = function exec(str) {
          var re = this;
          var lastIndex, reCopy, match, i;
          var sticky = UNSUPPORTED_Y && re.sticky;
          var flags = regexpFlags.call(re);
          var source = re.source;
          var charsAdded = 0;
          var strCopy = str;
          if (sticky) {
            flags = flags.replace("y", "");
            if (flags.indexOf("g") === -1) {
              flags += "g";
            }
            strCopy = String(str).slice(re.lastIndex);
            if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== "\n")) {
              source = "(?: " + source + ")";
              strCopy = " " + strCopy;
              charsAdded++;
            }
            reCopy = new RegExp("^(?:" + source + ")", flags);
          }
          if (NPCG_INCLUDED) {
            reCopy = new RegExp("^" + source + "$(?!\\s)", flags);
          }
          if (UPDATES_LAST_INDEX_WRONG)
            lastIndex = re.lastIndex;
          match = nativeExec.call(sticky ? reCopy : re, strCopy);
          if (sticky) {
            if (match) {
              match.input = match.input.slice(charsAdded);
              match[0] = match[0].slice(charsAdded);
              match.index = re.lastIndex;
              re.lastIndex += match[0].length;
            } else
              re.lastIndex = 0;
          } else if (UPDATES_LAST_INDEX_WRONG && match) {
            re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
          }
          if (NPCG_INCLUDED && match && match.length > 1) {
            nativeReplace.call(match[0], reCopy, function() {
              for (i = 1; i < arguments.length - 2; i++) {
                if (arguments[i] === void 0)
                  match[i] = void 0;
              }
            });
          }
          return match;
        };
      }
      module.exports = patchedExec;
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.exec.js
  var require_es_regexp_exec = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.exec.js": function() {
      "use strict";
      var $ = require_export();
      var exec = require_regexp_exec();
      $({ target: "RegExp", proto: true, forced: /./.exec !== exec }, {
        exec: exec
      });
    }
  });

  // ../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js
  var require_fix_regexp_well_known_symbol_logic = __commonJS({
    "../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js": function(exports, module) {
      "use strict";
      require_es_regexp_exec();
      var redefine = require_redefine();
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var regexpExec = require_regexp_exec();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var SPECIES = wellKnownSymbol("species");
      var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function() {
        var re = /./;
        re.exec = function() {
          var result = [];
          result.groups = { a: "7" };
          return result;
        };
        return "".replace(re, "$<a>") !== "7";
      });
      var REPLACE_KEEPS_$0 = function() {
        return "a".replace(/./, "$0") === "$0";
      }();
      var REPLACE = wellKnownSymbol("replace");
      var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = function() {
        if (/./[REPLACE]) {
          return /./[REPLACE]("a", "$0") === "";
        }
        return false;
      }();
      var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function() {
        var re = /(?:)/;
        var originalExec = re.exec;
        re.exec = function() {
          return originalExec.apply(this, arguments);
        };
        var result = "ab".split(re);
        return result.length !== 2 || result[0] !== "a" || result[1] !== "b";
      });
      module.exports = function(KEY, length, exec, sham) {
        var SYMBOL = wellKnownSymbol(KEY);
        var DELEGATES_TO_SYMBOL = !fails(function() {
          var O = {};
          O[SYMBOL] = function() {
            return 7;
          };
          return ""[KEY](O) != 7;
        });
        var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function() {
          var execCalled = false;
          var re = /a/;
          if (KEY === "split") {
            re = {};
            re.constructor = {};
            re.constructor[SPECIES] = function() {
              return re;
            };
            re.flags = "";
            re[SYMBOL] = /./[SYMBOL];
          }
          re.exec = function() {
            execCalled = true;
            return null;
          };
          re[SYMBOL]("");
          return !execCalled;
        });
        if (!DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || KEY === "replace" && !(REPLACE_SUPPORTS_NAMED_GROUPS && REPLACE_KEEPS_$0 && !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE) || KEY === "split" && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) {
          var nativeRegExpMethod = /./[SYMBOL];
          var methods = exec(SYMBOL, ""[KEY], function(nativeMethod, regexp, str, arg2, forceStringMethod) {
            if (regexp.exec === regexpExec) {
              if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
                return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };
              }
              return { done: true, value: nativeMethod.call(str, regexp, arg2) };
            }
            return { done: false };
          }, {
            REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,
            REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE
          });
          var stringMethod = methods[0];
          var regexMethod = methods[1];
          redefine(String.prototype, KEY, stringMethod);
          redefine(RegExp.prototype, SYMBOL, length == 2 ? function(string, arg) {
            return regexMethod.call(string, this, arg);
          } : function(string) {
            return regexMethod.call(string, this);
          });
        }
        if (sham)
          createNonEnumerableProperty(RegExp.prototype[SYMBOL], "sham", true);
      };
    }
  });

  // ../../node_modules/core-js/internals/advance-string-index.js
  var require_advance_string_index = __commonJS({
    "../../node_modules/core-js/internals/advance-string-index.js": function(exports, module) {
      "use strict";
      var charAt = require_string_multibyte().charAt;
      module.exports = function(S, index, unicode) {
        return index + (unicode ? charAt(S, index).length : 1);
      };
    }
  });

  // ../../node_modules/core-js/internals/regexp-exec-abstract.js
  var require_regexp_exec_abstract = __commonJS({
    "../../node_modules/core-js/internals/regexp-exec-abstract.js": function(exports, module) {
      var classof = require_classof_raw();
      var regexpExec = require_regexp_exec();
      module.exports = function(R, S) {
        var exec = R.exec;
        if (typeof exec === "function") {
          var result = exec.call(R, S);
          if (typeof result !== "object") {
            throw TypeError("RegExp exec method returned something other than an Object or null");
          }
          return result;
        }
        if (classof(R) !== "RegExp") {
          throw TypeError("RegExp#exec called on incompatible receiver");
        }
        return regexpExec.call(R, S);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.match.js
  var require_es_string_match = __commonJS({
    "../../node_modules/core-js/modules/es.string.match.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var anObject = require_an_object();
      var toLength = require_to_length();
      var requireObjectCoercible = require_require_object_coercible();
      var advanceStringIndex = require_advance_string_index();
      var regExpExec = require_regexp_exec_abstract();
      fixRegExpWellKnownSymbolLogic("match", 1, function(MATCH, nativeMatch, maybeCallNative) {
        return [
          function match(regexp) {
            var O = requireObjectCoercible(this);
            var matcher = regexp == void 0 ? void 0 : regexp[MATCH];
            return matcher !== void 0 ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
          },
          function(regexp) {
            var res = maybeCallNative(nativeMatch, regexp, this);
            if (res.done)
              return res.value;
            var rx = anObject(regexp);
            var S = String(this);
            if (!rx.global)
              return regExpExec(rx, S);
            var fullUnicode = rx.unicode;
            rx.lastIndex = 0;
            var A = [];
            var n = 0;
            var result;
            while ((result = regExpExec(rx, S)) !== null) {
              var matchStr = String(result[0]);
              A[n] = matchStr;
              if (matchStr === "")
                rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
              n++;
            }
            return n === 0 ? null : A;
          }
        ];
      });
    }
  });

  // ../../node_modules/core-js/internals/species-constructor.js
  var require_species_constructor = __commonJS({
    "../../node_modules/core-js/internals/species-constructor.js": function(exports, module) {
      var anObject = require_an_object();
      var aFunction = require_a_function();
      var wellKnownSymbol = require_well_known_symbol();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(O, defaultConstructor) {
        var C = anObject(O).constructor;
        var S;
        return C === void 0 || (S = anObject(C)[SPECIES]) == void 0 ? defaultConstructor : aFunction(S);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.match-all.js
  var require_es_string_match_all = __commonJS({
    "../../node_modules/core-js/modules/es.string.match-all.js": function() {
      "use strict";
      var $ = require_export();
      var createIteratorConstructor = require_create_iterator_constructor();
      var requireObjectCoercible = require_require_object_coercible();
      var toLength = require_to_length();
      var aFunction = require_a_function();
      var anObject = require_an_object();
      var classof = require_classof_raw();
      var isRegExp = require_is_regexp();
      var getRegExpFlags = require_regexp_flags();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var speciesConstructor = require_species_constructor();
      var advanceStringIndex = require_advance_string_index();
      var InternalStateModule = require_internal_state();
      var IS_PURE = require_is_pure();
      var MATCH_ALL = wellKnownSymbol("matchAll");
      var REGEXP_STRING = "RegExp String";
      var REGEXP_STRING_ITERATOR = REGEXP_STRING + " Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(REGEXP_STRING_ITERATOR);
      var RegExpPrototype = RegExp.prototype;
      var regExpBuiltinExec = RegExpPrototype.exec;
      var nativeMatchAll = "".matchAll;
      var WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails(function() {
        "a".matchAll(/./);
      });
      var regExpExec = function(R, S) {
        var exec = R.exec;
        var result;
        if (typeof exec == "function") {
          result = exec.call(R, S);
          if (typeof result != "object")
            throw TypeError("Incorrect exec result");
          return result;
        }
        return regExpBuiltinExec.call(R, S);
      };
      var $RegExpStringIterator = createIteratorConstructor(function RegExpStringIterator(regexp, string, global2, fullUnicode) {
        setInternalState(this, {
          type: REGEXP_STRING_ITERATOR,
          regexp: regexp,
          string: string,
          global: global2,
          unicode: fullUnicode,
          done: false
        });
      }, REGEXP_STRING, function next() {
        var state = getInternalState(this);
        if (state.done)
          return { value: void 0, done: true };
        var R = state.regexp;
        var S = state.string;
        var match = regExpExec(R, S);
        if (match === null)
          return { value: void 0, done: state.done = true };
        if (state.global) {
          if (String(match[0]) == "")
            R.lastIndex = advanceStringIndex(S, toLength(R.lastIndex), state.unicode);
          return { value: match, done: false };
        }
        state.done = true;
        return { value: match, done: false };
      });
      var $matchAll = function(string) {
        var R = anObject(this);
        var S = String(string);
        var C, flagsValue, flags, matcher, global2, fullUnicode;
        C = speciesConstructor(R, RegExp);
        flagsValue = R.flags;
        if (flagsValue === void 0 && R instanceof RegExp && !("flags" in RegExpPrototype)) {
          flagsValue = getRegExpFlags.call(R);
        }
        flags = flagsValue === void 0 ? "" : String(flagsValue);
        matcher = new C(C === RegExp ? R.source : R, flags);
        global2 = !!~flags.indexOf("g");
        fullUnicode = !!~flags.indexOf("u");
        matcher.lastIndex = toLength(R.lastIndex);
        return new $RegExpStringIterator(matcher, S, global2, fullUnicode);
      };
      $({ target: "String", proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {
        matchAll: function matchAll(regexp) {
          var O = requireObjectCoercible(this);
          var flags, S, matcher, rx;
          if (regexp != null) {
            if (isRegExp(regexp)) {
              flags = String(requireObjectCoercible("flags" in RegExpPrototype ? regexp.flags : getRegExpFlags.call(regexp)));
              if (!~flags.indexOf("g"))
                throw TypeError("`.matchAll` does not allow non-global regexes");
            }
            if (WORKS_WITH_NON_GLOBAL_REGEX)
              return nativeMatchAll.apply(O, arguments);
            matcher = regexp[MATCH_ALL];
            if (matcher === void 0 && IS_PURE && classof(regexp) == "RegExp")
              matcher = $matchAll;
            if (matcher != null)
              return aFunction(matcher).call(regexp, O);
          } else if (WORKS_WITH_NON_GLOBAL_REGEX)
            return nativeMatchAll.apply(O, arguments);
          S = String(O);
          rx = new RegExp(regexp, "g");
          return IS_PURE ? $matchAll.call(rx, S) : rx[MATCH_ALL](S);
        }
      });
      IS_PURE || MATCH_ALL in RegExpPrototype || createNonEnumerableProperty(RegExpPrototype, MATCH_ALL, $matchAll);
    }
  });

  // ../../node_modules/core-js/internals/string-repeat.js
  var require_string_repeat = __commonJS({
    "../../node_modules/core-js/internals/string-repeat.js": function(exports, module) {
      "use strict";
      var toInteger = require_to_integer();
      var requireObjectCoercible = require_require_object_coercible();
      module.exports = "".repeat || function repeat(count) {
        var str = String(requireObjectCoercible(this));
        var result = "";
        var n = toInteger(count);
        if (n < 0 || n == Infinity)
          throw RangeError("Wrong number of repetitions");
        for (; n > 0; (n >>>= 1) && (str += str))
          if (n & 1)
            result += str;
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/string-pad.js
  var require_string_pad = __commonJS({
    "../../node_modules/core-js/internals/string-pad.js": function(exports, module) {
      var toLength = require_to_length();
      var repeat = require_string_repeat();
      var requireObjectCoercible = require_require_object_coercible();
      var ceil = Math.ceil;
      var createMethod = function(IS_END) {
        return function($this, maxLength, fillString) {
          var S = String(requireObjectCoercible($this));
          var stringLength = S.length;
          var fillStr = fillString === void 0 ? " " : String(fillString);
          var intMaxLength = toLength(maxLength);
          var fillLen, stringFiller;
          if (intMaxLength <= stringLength || fillStr == "")
            return S;
          fillLen = intMaxLength - stringLength;
          stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));
          if (stringFiller.length > fillLen)
            stringFiller = stringFiller.slice(0, fillLen);
          return IS_END ? S + stringFiller : stringFiller + S;
        };
      };
      module.exports = {
        start: createMethod(false),
        end: createMethod(true)
      };
    }
  });

  // ../../node_modules/core-js/internals/string-pad-webkit-bug.js
  var require_string_pad_webkit_bug = __commonJS({
    "../../node_modules/core-js/internals/string-pad-webkit-bug.js": function(exports, module) {
      var userAgent = require_engine_user_agent();
      module.exports = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent);
    }
  });

  // ../../node_modules/core-js/modules/es.string.pad-end.js
  var require_es_string_pad_end = __commonJS({
    "../../node_modules/core-js/modules/es.string.pad-end.js": function() {
      "use strict";
      var $ = require_export();
      var $padEnd = require_string_pad().end;
      var WEBKIT_BUG = require_string_pad_webkit_bug();
      $({ target: "String", proto: true, forced: WEBKIT_BUG }, {
        padEnd: function padEnd(maxLength) {
          return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.pad-start.js
  var require_es_string_pad_start = __commonJS({
    "../../node_modules/core-js/modules/es.string.pad-start.js": function() {
      "use strict";
      var $ = require_export();
      var $padStart = require_string_pad().start;
      var WEBKIT_BUG = require_string_pad_webkit_bug();
      $({ target: "String", proto: true, forced: WEBKIT_BUG }, {
        padStart: function padStart(maxLength) {
          return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.repeat.js
  var require_es_string_repeat = __commonJS({
    "../../node_modules/core-js/modules/es.string.repeat.js": function() {
      var $ = require_export();
      var repeat = require_string_repeat();
      $({ target: "String", proto: true }, {
        repeat: repeat
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.replace.js
  var require_es_string_replace = __commonJS({
    "../../node_modules/core-js/modules/es.string.replace.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var anObject = require_an_object();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var toInteger = require_to_integer();
      var requireObjectCoercible = require_require_object_coercible();
      var advanceStringIndex = require_advance_string_index();
      var regExpExec = require_regexp_exec_abstract();
      var max = Math.max;
      var min = Math.min;
      var floor = Math.floor;
      var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d\d?|<[^>]*>)/g;
      var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d\d?)/g;
      var maybeToString = function(it) {
        return it === void 0 ? it : String(it);
      };
      fixRegExpWellKnownSymbolLogic("replace", 2, function(REPLACE, nativeReplace, maybeCallNative, reason) {
        var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;
        var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;
        var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? "$" : "$0";
        return [
          function replace(searchValue, replaceValue) {
            var O = requireObjectCoercible(this);
            var replacer = searchValue == void 0 ? void 0 : searchValue[REPLACE];
            return replacer !== void 0 ? replacer.call(searchValue, O, replaceValue) : nativeReplace.call(String(O), searchValue, replaceValue);
          },
          function(regexp, replaceValue) {
            if (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0 || typeof replaceValue === "string" && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1) {
              var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);
              if (res.done)
                return res.value;
            }
            var rx = anObject(regexp);
            var S = String(this);
            var functionalReplace = typeof replaceValue === "function";
            if (!functionalReplace)
              replaceValue = String(replaceValue);
            var global2 = rx.global;
            if (global2) {
              var fullUnicode = rx.unicode;
              rx.lastIndex = 0;
            }
            var results = [];
            while (true) {
              var result = regExpExec(rx, S);
              if (result === null)
                break;
              results.push(result);
              if (!global2)
                break;
              var matchStr = String(result[0]);
              if (matchStr === "")
                rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
            }
            var accumulatedResult = "";
            var nextSourcePosition = 0;
            for (var i = 0; i < results.length; i++) {
              result = results[i];
              var matched = String(result[0]);
              var position = max(min(toInteger(result.index), S.length), 0);
              var captures = [];
              for (var j = 1; j < result.length; j++)
                captures.push(maybeToString(result[j]));
              var namedCaptures = result.groups;
              if (functionalReplace) {
                var replacerArgs = [matched].concat(captures, position, S);
                if (namedCaptures !== void 0)
                  replacerArgs.push(namedCaptures);
                var replacement = String(replaceValue.apply(void 0, replacerArgs));
              } else {
                replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
              }
              if (position >= nextSourcePosition) {
                accumulatedResult += S.slice(nextSourcePosition, position) + replacement;
                nextSourcePosition = position + matched.length;
              }
            }
            return accumulatedResult + S.slice(nextSourcePosition);
          }
        ];
        function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {
          var tailPos = position + matched.length;
          var m = captures.length;
          var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
          if (namedCaptures !== void 0) {
            namedCaptures = toObject(namedCaptures);
            symbols = SUBSTITUTION_SYMBOLS;
          }
          return nativeReplace.call(replacement, symbols, function(match, ch) {
            var capture;
            switch (ch.charAt(0)) {
              case "$":
                return "$";
              case "&":
                return matched;
              case "`":
                return str.slice(0, position);
              case "'":
                return str.slice(tailPos);
              case "<":
                capture = namedCaptures[ch.slice(1, -1)];
                break;
              default:
                var n = +ch;
                if (n === 0)
                  return match;
                if (n > m) {
                  var f = floor(n / 10);
                  if (f === 0)
                    return match;
                  if (f <= m)
                    return captures[f - 1] === void 0 ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);
                  return match;
                }
                capture = captures[n - 1];
            }
            return capture === void 0 ? "" : capture;
          });
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.search.js
  var require_es_string_search = __commonJS({
    "../../node_modules/core-js/modules/es.string.search.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var anObject = require_an_object();
      var requireObjectCoercible = require_require_object_coercible();
      var sameValue = require_same_value();
      var regExpExec = require_regexp_exec_abstract();
      fixRegExpWellKnownSymbolLogic("search", 1, function(SEARCH, nativeSearch, maybeCallNative) {
        return [
          function search(regexp) {
            var O = requireObjectCoercible(this);
            var searcher = regexp == void 0 ? void 0 : regexp[SEARCH];
            return searcher !== void 0 ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));
          },
          function(regexp) {
            var res = maybeCallNative(nativeSearch, regexp, this);
            if (res.done)
              return res.value;
            var rx = anObject(regexp);
            var S = String(this);
            var previousLastIndex = rx.lastIndex;
            if (!sameValue(previousLastIndex, 0))
              rx.lastIndex = 0;
            var result = regExpExec(rx, S);
            if (!sameValue(rx.lastIndex, previousLastIndex))
              rx.lastIndex = previousLastIndex;
            return result === null ? -1 : result.index;
          }
        ];
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.split.js
  var require_es_string_split = __commonJS({
    "../../node_modules/core-js/modules/es.string.split.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var isRegExp = require_is_regexp();
      var anObject = require_an_object();
      var requireObjectCoercible = require_require_object_coercible();
      var speciesConstructor = require_species_constructor();
      var advanceStringIndex = require_advance_string_index();
      var toLength = require_to_length();
      var callRegExpExec = require_regexp_exec_abstract();
      var regexpExec = require_regexp_exec();
      var fails = require_fails();
      var arrayPush = [].push;
      var min = Math.min;
      var MAX_UINT32 = 4294967295;
      var SUPPORTS_Y = !fails(function() {
        return !RegExp(MAX_UINT32, "y");
      });
      fixRegExpWellKnownSymbolLogic("split", 2, function(SPLIT, nativeSplit, maybeCallNative) {
        var internalSplit;
        if ("abbc".split(/(b)*/)[1] == "c" || "test".split(/(?:)/, -1).length != 4 || "ab".split(/(?:ab)*/).length != 2 || ".".split(/(.?)(.?)/).length != 4 || ".".split(/()()/).length > 1 || "".split(/.?/).length) {
          internalSplit = function(separator, limit) {
            var string = String(requireObjectCoercible(this));
            var lim = limit === void 0 ? MAX_UINT32 : limit >>> 0;
            if (lim === 0)
              return [];
            if (separator === void 0)
              return [string];
            if (!isRegExp(separator)) {
              return nativeSplit.call(string, separator, lim);
            }
            var output = [];
            var flags = (separator.ignoreCase ? "i" : "") + (separator.multiline ? "m" : "") + (separator.unicode ? "u" : "") + (separator.sticky ? "y" : "");
            var lastLastIndex = 0;
            var separatorCopy = new RegExp(separator.source, flags + "g");
            var match, lastIndex, lastLength;
            while (match = regexpExec.call(separatorCopy, string)) {
              lastIndex = separatorCopy.lastIndex;
              if (lastIndex > lastLastIndex) {
                output.push(string.slice(lastLastIndex, match.index));
                if (match.length > 1 && match.index < string.length)
                  arrayPush.apply(output, match.slice(1));
                lastLength = match[0].length;
                lastLastIndex = lastIndex;
                if (output.length >= lim)
                  break;
              }
              if (separatorCopy.lastIndex === match.index)
                separatorCopy.lastIndex++;
            }
            if (lastLastIndex === string.length) {
              if (lastLength || !separatorCopy.test(""))
                output.push("");
            } else
              output.push(string.slice(lastLastIndex));
            return output.length > lim ? output.slice(0, lim) : output;
          };
        } else if ("0".split(void 0, 0).length) {
          internalSplit = function(separator, limit) {
            return separator === void 0 && limit === 0 ? [] : nativeSplit.call(this, separator, limit);
          };
        } else
          internalSplit = nativeSplit;
        return [
          function split(separator, limit) {
            var O = requireObjectCoercible(this);
            var splitter = separator == void 0 ? void 0 : separator[SPLIT];
            return splitter !== void 0 ? splitter.call(separator, O, limit) : internalSplit.call(String(O), separator, limit);
          },
          function(regexp, limit) {
            var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);
            if (res.done)
              return res.value;
            var rx = anObject(regexp);
            var S = String(this);
            var C = speciesConstructor(rx, RegExp);
            var unicodeMatching = rx.unicode;
            var flags = (rx.ignoreCase ? "i" : "") + (rx.multiline ? "m" : "") + (rx.unicode ? "u" : "") + (SUPPORTS_Y ? "y" : "g");
            var splitter = new C(SUPPORTS_Y ? rx : "^(?:" + rx.source + ")", flags);
            var lim = limit === void 0 ? MAX_UINT32 : limit >>> 0;
            if (lim === 0)
              return [];
            if (S.length === 0)
              return callRegExpExec(splitter, S) === null ? [S] : [];
            var p = 0;
            var q = 0;
            var A = [];
            while (q < S.length) {
              splitter.lastIndex = SUPPORTS_Y ? q : 0;
              var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));
              var e;
              if (z === null || (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p) {
                q = advanceStringIndex(S, q, unicodeMatching);
              } else {
                A.push(S.slice(p, q));
                if (A.length === lim)
                  return A;
                for (var i = 1; i <= z.length - 1; i++) {
                  A.push(z[i]);
                  if (A.length === lim)
                    return A;
                }
                q = p = e;
              }
            }
            A.push(S.slice(p));
            return A;
          }
        ];
      }, !SUPPORTS_Y);
    }
  });

  // ../../node_modules/core-js/modules/es.string.starts-with.js
  var require_es_string_starts_with = __commonJS({
    "../../node_modules/core-js/modules/es.string.starts-with.js": function() {
      "use strict";
      var $ = require_export();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var toLength = require_to_length();
      var notARegExp = require_not_a_regexp();
      var requireObjectCoercible = require_require_object_coercible();
      var correctIsRegExpLogic = require_correct_is_regexp_logic();
      var IS_PURE = require_is_pure();
      var nativeStartsWith = "".startsWith;
      var min = Math.min;
      var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic("startsWith");
      var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function() {
        var descriptor = getOwnPropertyDescriptor(String.prototype, "startsWith");
        return descriptor && !descriptor.writable;
      }();
      $({ target: "String", proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
        startsWith: function startsWith(searchString) {
          var that = String(requireObjectCoercible(this));
          notARegExp(searchString);
          var index = toLength(min(arguments.length > 1 ? arguments[1] : void 0, that.length));
          var search = String(searchString);
          return nativeStartsWith ? nativeStartsWith.call(that, search, index) : that.slice(index, index + search.length) === search;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/whitespaces.js
  var require_whitespaces = __commonJS({
    "../../node_modules/core-js/internals/whitespaces.js": function(exports, module) {
      module.exports = "	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";
    }
  });

  // ../../node_modules/core-js/internals/string-trim.js
  var require_string_trim = __commonJS({
    "../../node_modules/core-js/internals/string-trim.js": function(exports, module) {
      var requireObjectCoercible = require_require_object_coercible();
      var whitespaces = require_whitespaces();
      var whitespace = "[" + whitespaces + "]";
      var ltrim = RegExp("^" + whitespace + whitespace + "*");
      var rtrim = RegExp(whitespace + whitespace + "*$");
      var createMethod = function(TYPE) {
        return function($this) {
          var string = String(requireObjectCoercible($this));
          if (TYPE & 1)
            string = string.replace(ltrim, "");
          if (TYPE & 2)
            string = string.replace(rtrim, "");
          return string;
        };
      };
      module.exports = {
        start: createMethod(1),
        end: createMethod(2),
        trim: createMethod(3)
      };
    }
  });

  // ../../node_modules/core-js/internals/string-trim-forced.js
  var require_string_trim_forced = __commonJS({
    "../../node_modules/core-js/internals/string-trim-forced.js": function(exports, module) {
      var fails = require_fails();
      var whitespaces = require_whitespaces();
      var non = "\u200B\x85\u180E";
      module.exports = function(METHOD_NAME) {
        return fails(function() {
          return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.trim.js
  var require_es_string_trim = __commonJS({
    "../../node_modules/core-js/modules/es.string.trim.js": function() {
      "use strict";
      var $ = require_export();
      var $trim = require_string_trim().trim;
      var forcedStringTrimMethod = require_string_trim_forced();
      $({ target: "String", proto: true, forced: forcedStringTrimMethod("trim") }, {
        trim: function trim() {
          return $trim(this);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.trim-start.js
  var require_es_string_trim_start = __commonJS({
    "../../node_modules/core-js/modules/es.string.trim-start.js": function() {
      "use strict";
      var $ = require_export();
      var $trimStart = require_string_trim().start;
      var forcedStringTrimMethod = require_string_trim_forced();
      var FORCED = forcedStringTrimMethod("trimStart");
      var trimStart = FORCED ? function trimStart2() {
        return $trimStart(this);
      } : "".trimStart;
      $({ target: "String", proto: true, forced: FORCED }, {
        trimStart: trimStart,
        trimLeft: trimStart
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.trim-end.js
  var require_es_string_trim_end = __commonJS({
    "../../node_modules/core-js/modules/es.string.trim-end.js": function() {
      "use strict";
      var $ = require_export();
      var $trimEnd = require_string_trim().end;
      var forcedStringTrimMethod = require_string_trim_forced();
      var FORCED = forcedStringTrimMethod("trimEnd");
      var trimEnd = FORCED ? function trimEnd2() {
        return $trimEnd(this);
      } : "".trimEnd;
      $({ target: "String", proto: true, forced: FORCED }, {
        trimEnd: trimEnd,
        trimRight: trimEnd
      });
    }
  });

  // ../../node_modules/core-js/internals/create-html.js
  var require_create_html = __commonJS({
    "../../node_modules/core-js/internals/create-html.js": function(exports, module) {
      var requireObjectCoercible = require_require_object_coercible();
      var quot = /"/g;
      module.exports = function(string, tag, attribute, value) {
        var S = String(requireObjectCoercible(string));
        var p1 = "<" + tag;
        if (attribute !== "")
          p1 += " " + attribute + '="' + String(value).replace(quot, "&quot;") + '"';
        return p1 + ">" + S + "</" + tag + ">";
      };
    }
  });

  // ../../node_modules/core-js/internals/string-html-forced.js
  var require_string_html_forced = __commonJS({
    "../../node_modules/core-js/internals/string-html-forced.js": function(exports, module) {
      var fails = require_fails();
      module.exports = function(METHOD_NAME) {
        return fails(function() {
          var test = ""[METHOD_NAME]('"');
          return test !== test.toLowerCase() || test.split('"').length > 3;
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.anchor.js
  var require_es_string_anchor = __commonJS({
    "../../node_modules/core-js/modules/es.string.anchor.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("anchor") }, {
        anchor: function anchor(name) {
          return createHTML(this, "a", "name", name);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.big.js
  var require_es_string_big = __commonJS({
    "../../node_modules/core-js/modules/es.string.big.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("big") }, {
        big: function big() {
          return createHTML(this, "big", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.blink.js
  var require_es_string_blink = __commonJS({
    "../../node_modules/core-js/modules/es.string.blink.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("blink") }, {
        blink: function blink() {
          return createHTML(this, "blink", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.bold.js
  var require_es_string_bold = __commonJS({
    "../../node_modules/core-js/modules/es.string.bold.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("bold") }, {
        bold: function bold() {
          return createHTML(this, "b", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.fixed.js
  var require_es_string_fixed = __commonJS({
    "../../node_modules/core-js/modules/es.string.fixed.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("fixed") }, {
        fixed: function fixed() {
          return createHTML(this, "tt", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.fontcolor.js
  var require_es_string_fontcolor = __commonJS({
    "../../node_modules/core-js/modules/es.string.fontcolor.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("fontcolor") }, {
        fontcolor: function fontcolor(color) {
          return createHTML(this, "font", "color", color);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.fontsize.js
  var require_es_string_fontsize = __commonJS({
    "../../node_modules/core-js/modules/es.string.fontsize.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("fontsize") }, {
        fontsize: function fontsize(size) {
          return createHTML(this, "font", "size", size);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.italics.js
  var require_es_string_italics = __commonJS({
    "../../node_modules/core-js/modules/es.string.italics.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("italics") }, {
        italics: function italics() {
          return createHTML(this, "i", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.link.js
  var require_es_string_link = __commonJS({
    "../../node_modules/core-js/modules/es.string.link.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("link") }, {
        link: function link(url) {
          return createHTML(this, "a", "href", url);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.small.js
  var require_es_string_small = __commonJS({
    "../../node_modules/core-js/modules/es.string.small.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("small") }, {
        small: function small() {
          return createHTML(this, "small", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.strike.js
  var require_es_string_strike = __commonJS({
    "../../node_modules/core-js/modules/es.string.strike.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("strike") }, {
        strike: function strike() {
          return createHTML(this, "strike", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.sub.js
  var require_es_string_sub = __commonJS({
    "../../node_modules/core-js/modules/es.string.sub.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("sub") }, {
        sub: function sub() {
          return createHTML(this, "sub", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.sup.js
  var require_es_string_sup = __commonJS({
    "../../node_modules/core-js/modules/es.string.sup.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("sup") }, {
        sup: function sup() {
          return createHTML(this, "sup", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/inherit-if-required.js
  var require_inherit_if_required = __commonJS({
    "../../node_modules/core-js/internals/inherit-if-required.js": function(exports, module) {
      var isObject = require_is_object();
      var setPrototypeOf = require_object_set_prototype_of();
      module.exports = function($this, dummy, Wrapper) {
        var NewTarget, NewTargetPrototype;
        if (setPrototypeOf && typeof (NewTarget = dummy.constructor) == "function" && NewTarget !== Wrapper && isObject(NewTargetPrototype = NewTarget.prototype) && NewTargetPrototype !== Wrapper.prototype)
          setPrototypeOf($this, NewTargetPrototype);
        return $this;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.constructor.js
  var require_es_regexp_constructor = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.constructor.js": function() {
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var isForced = require_is_forced();
      var inheritIfRequired = require_inherit_if_required();
      var defineProperty = require_object_define_property().f;
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var isRegExp = require_is_regexp();
      var getFlags = require_regexp_flags();
      var stickyHelpers = require_regexp_sticky_helpers();
      var redefine = require_redefine();
      var fails = require_fails();
      var setInternalState = require_internal_state().set;
      var setSpecies = require_set_species();
      var wellKnownSymbol = require_well_known_symbol();
      var MATCH = wellKnownSymbol("match");
      var NativeRegExp = global2.RegExp;
      var RegExpPrototype = NativeRegExp.prototype;
      var re1 = /a/g;
      var re2 = /a/g;
      var CORRECT_NEW = new NativeRegExp(re1) !== re1;
      var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;
      var FORCED = DESCRIPTORS && isForced("RegExp", !CORRECT_NEW || UNSUPPORTED_Y || fails(function() {
        re2[MATCH] = false;
        return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, "i") != "/a/i";
      }));
      if (FORCED) {
        RegExpWrapper = function RegExp2(pattern, flags) {
          var thisIsRegExp = this instanceof RegExpWrapper;
          var patternIsRegExp = isRegExp(pattern);
          var flagsAreUndefined = flags === void 0;
          var sticky;
          if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {
            return pattern;
          }
          if (CORRECT_NEW) {
            if (patternIsRegExp && !flagsAreUndefined)
              pattern = pattern.source;
          } else if (pattern instanceof RegExpWrapper) {
            if (flagsAreUndefined)
              flags = getFlags.call(pattern);
            pattern = pattern.source;
          }
          if (UNSUPPORTED_Y) {
            sticky = !!flags && flags.indexOf("y") > -1;
            if (sticky)
              flags = flags.replace(/y/g, "");
          }
          var result = inheritIfRequired(CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype, RegExpWrapper);
          if (UNSUPPORTED_Y && sticky)
            setInternalState(result, { sticky: sticky });
          return result;
        };
        proxy = function(key) {
          key in RegExpWrapper || defineProperty(RegExpWrapper, key, {
            configurable: true,
            get: function() {
              return NativeRegExp[key];
            },
            set: function(it) {
              NativeRegExp[key] = it;
            }
          });
        };
        keys = getOwnPropertyNames(NativeRegExp);
        index = 0;
        while (keys.length > index)
          proxy(keys[index++]);
        RegExpPrototype.constructor = RegExpWrapper;
        RegExpWrapper.prototype = RegExpPrototype;
        redefine(global2, "RegExp", RegExpWrapper);
      }
      var RegExpWrapper;
      var proxy;
      var keys;
      var index;
      setSpecies("RegExp");
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.flags.js
  var require_es_regexp_flags = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.flags.js": function() {
      var DESCRIPTORS = require_descriptors();
      var objectDefinePropertyModule = require_object_define_property();
      var regExpFlags = require_regexp_flags();
      var UNSUPPORTED_Y = require_regexp_sticky_helpers().UNSUPPORTED_Y;
      if (DESCRIPTORS && (/./g.flags != "g" || UNSUPPORTED_Y)) {
        objectDefinePropertyModule.f(RegExp.prototype, "flags", {
          configurable: true,
          get: regExpFlags
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.sticky.js
  var require_es_regexp_sticky = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.sticky.js": function() {
      var DESCRIPTORS = require_descriptors();
      var UNSUPPORTED_Y = require_regexp_sticky_helpers().UNSUPPORTED_Y;
      var defineProperty = require_object_define_property().f;
      var getInternalState = require_internal_state().get;
      var RegExpPrototype = RegExp.prototype;
      if (DESCRIPTORS && UNSUPPORTED_Y) {
        defineProperty(RegExp.prototype, "sticky", {
          configurable: true,
          get: function() {
            if (this === RegExpPrototype)
              return void 0;
            if (this instanceof RegExp) {
              return !!getInternalState(this).sticky;
            }
            throw TypeError("Incompatible receiver, RegExp required");
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.test.js
  var require_es_regexp_test = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.test.js": function() {
      "use strict";
      require_es_regexp_exec();
      var $ = require_export();
      var isObject = require_is_object();
      var DELEGATES_TO_EXEC = function() {
        var execCalled = false;
        var re = /[ac]/;
        re.exec = function() {
          execCalled = true;
          return /./.exec.apply(this, arguments);
        };
        return re.test("abc") === true && execCalled;
      }();
      var nativeTest = /./.test;
      $({ target: "RegExp", proto: true, forced: !DELEGATES_TO_EXEC }, {
        test: function(str) {
          if (typeof this.exec !== "function") {
            return nativeTest.call(this, str);
          }
          var result = this.exec(str);
          if (result !== null && !isObject(result)) {
            throw new Error("RegExp exec method returned something other than an Object or null");
          }
          return !!result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.to-string.js
  var require_es_regexp_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.to-string.js": function() {
      "use strict";
      var redefine = require_redefine();
      var anObject = require_an_object();
      var fails = require_fails();
      var flags = require_regexp_flags();
      var TO_STRING = "toString";
      var RegExpPrototype = RegExp.prototype;
      var nativeToString = RegExpPrototype[TO_STRING];
      var NOT_GENERIC = fails(function() {
        return nativeToString.call({ source: "a", flags: "b" }) != "/a/b";
      });
      var INCORRECT_NAME = nativeToString.name != TO_STRING;
      if (NOT_GENERIC || INCORRECT_NAME) {
        redefine(RegExp.prototype, TO_STRING, function toString() {
          var R = anObject(this);
          var p = String(R.source);
          var rf = R.flags;
          var f = String(rf === void 0 && R instanceof RegExp && !("flags" in RegExpPrototype) ? flags.call(R) : rf);
          return "/" + p + "/" + f;
        }, { unsafe: true });
      }
    }
  });

  // ../../node_modules/core-js/internals/number-parse-int.js
  var require_number_parse_int = __commonJS({
    "../../node_modules/core-js/internals/number-parse-int.js": function(exports, module) {
      var global2 = require_global();
      var trim = require_string_trim().trim;
      var whitespaces = require_whitespaces();
      var $parseInt = global2.parseInt;
      var hex = /^[+-]?0[Xx]/;
      var FORCED = $parseInt(whitespaces + "08") !== 8 || $parseInt(whitespaces + "0x16") !== 22;
      module.exports = FORCED ? function parseInt2(string, radix) {
        var S = trim(String(string));
        return $parseInt(S, radix >>> 0 || (hex.test(S) ? 16 : 10));
      } : $parseInt;
    }
  });

  // ../../node_modules/core-js/modules/es.parse-int.js
  var require_es_parse_int = __commonJS({
    "../../node_modules/core-js/modules/es.parse-int.js": function() {
      var $ = require_export();
      var parseIntImplementation = require_number_parse_int();
      $({ global: true, forced: parseInt != parseIntImplementation }, {
        parseInt: parseIntImplementation
      });
    }
  });

  // ../../node_modules/core-js/internals/number-parse-float.js
  var require_number_parse_float = __commonJS({
    "../../node_modules/core-js/internals/number-parse-float.js": function(exports, module) {
      var global2 = require_global();
      var trim = require_string_trim().trim;
      var whitespaces = require_whitespaces();
      var $parseFloat = global2.parseFloat;
      var FORCED = 1 / $parseFloat(whitespaces + "-0") !== -Infinity;
      module.exports = FORCED ? function parseFloat2(string) {
        var trimmedString = trim(String(string));
        var result = $parseFloat(trimmedString);
        return result === 0 && trimmedString.charAt(0) == "-" ? -0 : result;
      } : $parseFloat;
    }
  });

  // ../../node_modules/core-js/modules/es.parse-float.js
  var require_es_parse_float = __commonJS({
    "../../node_modules/core-js/modules/es.parse-float.js": function() {
      var $ = require_export();
      var parseFloatImplementation = require_number_parse_float();
      $({ global: true, forced: parseFloat != parseFloatImplementation }, {
        parseFloat: parseFloatImplementation
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.constructor.js
  var require_es_number_constructor = __commonJS({
    "../../node_modules/core-js/modules/es.number.constructor.js": function() {
      "use strict";
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var isForced = require_is_forced();
      var redefine = require_redefine();
      var has = require_has();
      var classof = require_classof_raw();
      var inheritIfRequired = require_inherit_if_required();
      var toPrimitive = require_to_primitive();
      var fails = require_fails();
      var create = require_object_create();
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var defineProperty = require_object_define_property().f;
      var trim = require_string_trim().trim;
      var NUMBER = "Number";
      var NativeNumber = global2[NUMBER];
      var NumberPrototype = NativeNumber.prototype;
      var BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;
      var toNumber = function(argument) {
        var it = toPrimitive(argument, false);
        var first, third, radix, maxCode, digits, length, index, code;
        if (typeof it == "string" && it.length > 2) {
          it = trim(it);
          first = it.charCodeAt(0);
          if (first === 43 || first === 45) {
            third = it.charCodeAt(2);
            if (third === 88 || third === 120)
              return NaN;
          } else if (first === 48) {
            switch (it.charCodeAt(1)) {
              case 66:
              case 98:
                radix = 2;
                maxCode = 49;
                break;
              case 79:
              case 111:
                radix = 8;
                maxCode = 55;
                break;
              default:
                return +it;
            }
            digits = it.slice(2);
            length = digits.length;
            for (index = 0; index < length; index++) {
              code = digits.charCodeAt(index);
              if (code < 48 || code > maxCode)
                return NaN;
            }
            return parseInt(digits, radix);
          }
        }
        return +it;
      };
      if (isForced(NUMBER, !NativeNumber(" 0o1") || !NativeNumber("0b1") || NativeNumber("+0x1"))) {
        NumberWrapper = function Number2(value) {
          var it = arguments.length < 1 ? 0 : value;
          var dummy = this;
          return dummy instanceof NumberWrapper && (BROKEN_CLASSOF ? fails(function() {
            NumberPrototype.valueOf.call(dummy);
          }) : classof(dummy) != NUMBER) ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);
        };
        for (keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), j = 0; keys.length > j; j++) {
          if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {
            defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));
          }
        }
        NumberWrapper.prototype = NumberPrototype;
        NumberPrototype.constructor = NumberWrapper;
        redefine(global2, NUMBER, NumberWrapper);
      }
      var NumberWrapper;
      var keys;
      var j;
      var key;
    }
  });

  // ../../node_modules/core-js/modules/es.number.epsilon.js
  var require_es_number_epsilon = __commonJS({
    "../../node_modules/core-js/modules/es.number.epsilon.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        EPSILON: Math.pow(2, -52)
      });
    }
  });

  // ../../node_modules/core-js/internals/number-is-finite.js
  var require_number_is_finite = __commonJS({
    "../../node_modules/core-js/internals/number-is-finite.js": function(exports, module) {
      var global2 = require_global();
      var globalIsFinite = global2.isFinite;
      module.exports = Number.isFinite || function isFinite2(it) {
        return typeof it == "number" && globalIsFinite(it);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-finite.js
  var require_es_number_is_finite = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-finite.js": function() {
      var $ = require_export();
      var numberIsFinite = require_number_is_finite();
      $({ target: "Number", stat: true }, { isFinite: numberIsFinite });
    }
  });

  // ../../node_modules/core-js/internals/is-integer.js
  var require_is_integer = __commonJS({
    "../../node_modules/core-js/internals/is-integer.js": function(exports, module) {
      var isObject = require_is_object();
      var floor = Math.floor;
      module.exports = function isInteger(it) {
        return !isObject(it) && isFinite(it) && floor(it) === it;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-integer.js
  var require_es_number_is_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-integer.js": function() {
      var $ = require_export();
      var isInteger = require_is_integer();
      $({ target: "Number", stat: true }, {
        isInteger: isInteger
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-nan.js
  var require_es_number_is_nan = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-nan.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        isNaN: function isNaN2(number) {
          return number != number;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-safe-integer.js
  var require_es_number_is_safe_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-safe-integer.js": function() {
      var $ = require_export();
      var isInteger = require_is_integer();
      var abs = Math.abs;
      $({ target: "Number", stat: true }, {
        isSafeInteger: function isSafeInteger(number) {
          return isInteger(number) && abs(number) <= 9007199254740991;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.max-safe-integer.js
  var require_es_number_max_safe_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.max-safe-integer.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        MAX_SAFE_INTEGER: 9007199254740991
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.min-safe-integer.js
  var require_es_number_min_safe_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.min-safe-integer.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        MIN_SAFE_INTEGER: -9007199254740991
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.parse-float.js
  var require_es_number_parse_float = __commonJS({
    "../../node_modules/core-js/modules/es.number.parse-float.js": function() {
      var $ = require_export();
      var parseFloat2 = require_number_parse_float();
      $({ target: "Number", stat: true, forced: Number.parseFloat != parseFloat2 }, {
        parseFloat: parseFloat2
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.parse-int.js
  var require_es_number_parse_int = __commonJS({
    "../../node_modules/core-js/modules/es.number.parse-int.js": function() {
      var $ = require_export();
      var parseInt2 = require_number_parse_int();
      $({ target: "Number", stat: true, forced: Number.parseInt != parseInt2 }, {
        parseInt: parseInt2
      });
    }
  });

  // ../../node_modules/core-js/internals/this-number-value.js
  var require_this_number_value = __commonJS({
    "../../node_modules/core-js/internals/this-number-value.js": function(exports, module) {
      var classof = require_classof_raw();
      module.exports = function(value) {
        if (typeof value != "number" && classof(value) != "Number") {
          throw TypeError("Incorrect invocation");
        }
        return +value;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.number.to-fixed.js
  var require_es_number_to_fixed = __commonJS({
    "../../node_modules/core-js/modules/es.number.to-fixed.js": function() {
      "use strict";
      var $ = require_export();
      var toInteger = require_to_integer();
      var thisNumberValue = require_this_number_value();
      var repeat = require_string_repeat();
      var fails = require_fails();
      var nativeToFixed = 1 .toFixed;
      var floor = Math.floor;
      var pow = function(x, n, acc) {
        return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);
      };
      var log = function(x) {
        var n = 0;
        var x2 = x;
        while (x2 >= 4096) {
          n += 12;
          x2 /= 4096;
        }
        while (x2 >= 2) {
          n += 1;
          x2 /= 2;
        }
        return n;
      };
      var FORCED = nativeToFixed && (8e-5 .toFixed(3) !== "0.000" || 0.9 .toFixed(0) !== "1" || 1.255 .toFixed(2) !== "1.25" || 1000000000000000100 .toFixed(0) !== "1000000000000000128") || !fails(function() {
        nativeToFixed.call({});
      });
      $({ target: "Number", proto: true, forced: FORCED }, {
        toFixed: function toFixed(fractionDigits) {
          var number = thisNumberValue(this);
          var fractDigits = toInteger(fractionDigits);
          var data = [0, 0, 0, 0, 0, 0];
          var sign = "";
          var result = "0";
          var e, z, j, k;
          var multiply = function(n, c) {
            var index = -1;
            var c2 = c;
            while (++index < 6) {
              c2 += n * data[index];
              data[index] = c2 % 1e7;
              c2 = floor(c2 / 1e7);
            }
          };
          var divide = function(n) {
            var index = 6;
            var c = 0;
            while (--index >= 0) {
              c += data[index];
              data[index] = floor(c / n);
              c = c % n * 1e7;
            }
          };
          var dataToString = function() {
            var index = 6;
            var s = "";
            while (--index >= 0) {
              if (s !== "" || index === 0 || data[index] !== 0) {
                var t = String(data[index]);
                s = s === "" ? t : s + repeat.call("0", 7 - t.length) + t;
              }
            }
            return s;
          };
          if (fractDigits < 0 || fractDigits > 20)
            throw RangeError("Incorrect fraction digits");
          if (number != number)
            return "NaN";
          if (number <= -1e21 || number >= 1e21)
            return String(number);
          if (number < 0) {
            sign = "-";
            number = -number;
          }
          if (number > 1e-21) {
            e = log(number * pow(2, 69, 1)) - 69;
            z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);
            z *= 4503599627370496;
            e = 52 - e;
            if (e > 0) {
              multiply(0, z);
              j = fractDigits;
              while (j >= 7) {
                multiply(1e7, 0);
                j -= 7;
              }
              multiply(pow(10, j, 1), 0);
              j = e - 1;
              while (j >= 23) {
                divide(1 << 23);
                j -= 23;
              }
              divide(1 << j);
              multiply(1, 1);
              divide(2);
              result = dataToString();
            } else {
              multiply(0, z);
              multiply(1 << -e, 0);
              result = dataToString() + repeat.call("0", fractDigits);
            }
          }
          if (fractDigits > 0) {
            k = result.length;
            result = sign + (k <= fractDigits ? "0." + repeat.call("0", fractDigits - k) + result : result.slice(0, k - fractDigits) + "." + result.slice(k - fractDigits));
          } else {
            result = sign + result;
          }
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.to-precision.js
  var require_es_number_to_precision = __commonJS({
    "../../node_modules/core-js/modules/es.number.to-precision.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var thisNumberValue = require_this_number_value();
      var nativeToPrecision = 1 .toPrecision;
      var FORCED = fails(function() {
        return nativeToPrecision.call(1, void 0) !== "1";
      }) || !fails(function() {
        nativeToPrecision.call({});
      });
      $({ target: "Number", proto: true, forced: FORCED }, {
        toPrecision: function toPrecision(precision) {
          return precision === void 0 ? nativeToPrecision.call(thisNumberValue(this)) : nativeToPrecision.call(thisNumberValue(this), precision);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/math-log1p.js
  var require_math_log1p = __commonJS({
    "../../node_modules/core-js/internals/math-log1p.js": function(exports, module) {
      var log = Math.log;
      module.exports = Math.log1p || function log1p(x) {
        return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log(1 + x);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.math.acosh.js
  var require_es_math_acosh = __commonJS({
    "../../node_modules/core-js/modules/es.math.acosh.js": function() {
      var $ = require_export();
      var log1p = require_math_log1p();
      var nativeAcosh = Math.acosh;
      var log = Math.log;
      var sqrt = Math.sqrt;
      var LN2 = Math.LN2;
      var FORCED = !nativeAcosh || Math.floor(nativeAcosh(Number.MAX_VALUE)) != 710 || nativeAcosh(Infinity) != Infinity;
      $({ target: "Math", stat: true, forced: FORCED }, {
        acosh: function acosh(x) {
          return (x = +x) < 1 ? NaN : x > 9490626562425156e-8 ? log(x) + LN2 : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.asinh.js
  var require_es_math_asinh = __commonJS({
    "../../node_modules/core-js/modules/es.math.asinh.js": function() {
      var $ = require_export();
      var nativeAsinh = Math.asinh;
      var log = Math.log;
      var sqrt = Math.sqrt;
      function asinh(x) {
        return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : log(x + sqrt(x * x + 1));
      }
      $({ target: "Math", stat: true, forced: !(nativeAsinh && 1 / nativeAsinh(0) > 0) }, {
        asinh: asinh
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.atanh.js
  var require_es_math_atanh = __commonJS({
    "../../node_modules/core-js/modules/es.math.atanh.js": function() {
      var $ = require_export();
      var nativeAtanh = Math.atanh;
      var log = Math.log;
      $({ target: "Math", stat: true, forced: !(nativeAtanh && 1 / nativeAtanh(-0) < 0) }, {
        atanh: function atanh(x) {
          return (x = +x) == 0 ? x : log((1 + x) / (1 - x)) / 2;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/math-sign.js
  var require_math_sign = __commonJS({
    "../../node_modules/core-js/internals/math-sign.js": function(exports, module) {
      module.exports = Math.sign || function sign(x) {
        return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.math.cbrt.js
  var require_es_math_cbrt = __commonJS({
    "../../node_modules/core-js/modules/es.math.cbrt.js": function() {
      var $ = require_export();
      var sign = require_math_sign();
      var abs = Math.abs;
      var pow = Math.pow;
      $({ target: "Math", stat: true }, {
        cbrt: function cbrt(x) {
          return sign(x = +x) * pow(abs(x), 1 / 3);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.clz32.js
  var require_es_math_clz32 = __commonJS({
    "../../node_modules/core-js/modules/es.math.clz32.js": function() {
      var $ = require_export();
      var floor = Math.floor;
      var log = Math.log;
      var LOG2E = Math.LOG2E;
      $({ target: "Math", stat: true }, {
        clz32: function clz32(x) {
          return (x >>>= 0) ? 31 - floor(log(x + 0.5) * LOG2E) : 32;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/math-expm1.js
  var require_math_expm1 = __commonJS({
    "../../node_modules/core-js/internals/math-expm1.js": function(exports, module) {
      var nativeExpm1 = Math.expm1;
      var exp = Math.exp;
      module.exports = !nativeExpm1 || nativeExpm1(10) > 22025.465794806718 || nativeExpm1(10) < 22025.465794806718 || nativeExpm1(-2e-17) != -2e-17 ? function expm1(x) {
        return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;
      } : nativeExpm1;
    }
  });

  // ../../node_modules/core-js/modules/es.math.cosh.js
  var require_es_math_cosh = __commonJS({
    "../../node_modules/core-js/modules/es.math.cosh.js": function() {
      var $ = require_export();
      var expm1 = require_math_expm1();
      var nativeCosh = Math.cosh;
      var abs = Math.abs;
      var E = Math.E;
      $({ target: "Math", stat: true, forced: !nativeCosh || nativeCosh(710) === Infinity }, {
        cosh: function cosh(x) {
          var t = expm1(abs(x) - 1) + 1;
          return (t + 1 / (t * E * E)) * (E / 2);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.expm1.js
  var require_es_math_expm1 = __commonJS({
    "../../node_modules/core-js/modules/es.math.expm1.js": function() {
      var $ = require_export();
      var expm1 = require_math_expm1();
      $({ target: "Math", stat: true, forced: expm1 != Math.expm1 }, { expm1: expm1 });
    }
  });

  // ../../node_modules/core-js/internals/math-fround.js
  var require_math_fround = __commonJS({
    "../../node_modules/core-js/internals/math-fround.js": function(exports, module) {
      var sign = require_math_sign();
      var abs = Math.abs;
      var pow = Math.pow;
      var EPSILON = pow(2, -52);
      var EPSILON32 = pow(2, -23);
      var MAX32 = pow(2, 127) * (2 - EPSILON32);
      var MIN32 = pow(2, -126);
      var roundTiesToEven = function(n) {
        return n + 1 / EPSILON - 1 / EPSILON;
      };
      module.exports = Math.fround || function fround(x) {
        var $abs = abs(x);
        var $sign = sign(x);
        var a, result;
        if ($abs < MIN32)
          return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
        a = (1 + EPSILON32 / EPSILON) * $abs;
        result = a - (a - $abs);
        if (result > MAX32 || result != result)
          return $sign * Infinity;
        return $sign * result;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.math.fround.js
  var require_es_math_fround = __commonJS({
    "../../node_modules/core-js/modules/es.math.fround.js": function() {
      var $ = require_export();
      var fround = require_math_fround();
      $({ target: "Math", stat: true }, { fround: fround });
    }
  });

  // ../../node_modules/core-js/modules/es.math.hypot.js
  var require_es_math_hypot = __commonJS({
    "../../node_modules/core-js/modules/es.math.hypot.js": function() {
      var $ = require_export();
      var $hypot = Math.hypot;
      var abs = Math.abs;
      var sqrt = Math.sqrt;
      var BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;
      $({ target: "Math", stat: true, forced: BUGGY }, {
        hypot: function hypot(value1, value2) {
          var sum = 0;
          var i = 0;
          var aLen = arguments.length;
          var larg = 0;
          var arg, div;
          while (i < aLen) {
            arg = abs(arguments[i++]);
            if (larg < arg) {
              div = larg / arg;
              sum = sum * div * div + 1;
              larg = arg;
            } else if (arg > 0) {
              div = arg / larg;
              sum += div * div;
            } else
              sum += arg;
          }
          return larg === Infinity ? Infinity : larg * sqrt(sum);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.imul.js
  var require_es_math_imul = __commonJS({
    "../../node_modules/core-js/modules/es.math.imul.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var nativeImul = Math.imul;
      var FORCED = fails(function() {
        return nativeImul(4294967295, 5) != -5 || nativeImul.length != 2;
      });
      $({ target: "Math", stat: true, forced: FORCED }, {
        imul: function imul(x, y) {
          var UINT16 = 65535;
          var xn = +x;
          var yn = +y;
          var xl = UINT16 & xn;
          var yl = UINT16 & yn;
          return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.log10.js
  var require_es_math_log10 = __commonJS({
    "../../node_modules/core-js/modules/es.math.log10.js": function() {
      var $ = require_export();
      var log = Math.log;
      var LOG10E = Math.LOG10E;
      $({ target: "Math", stat: true }, {
        log10: function log10(x) {
          return log(x) * LOG10E;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.log1p.js
  var require_es_math_log1p = __commonJS({
    "../../node_modules/core-js/modules/es.math.log1p.js": function() {
      var $ = require_export();
      var log1p = require_math_log1p();
      $({ target: "Math", stat: true }, { log1p: log1p });
    }
  });

  // ../../node_modules/core-js/modules/es.math.log2.js
  var require_es_math_log2 = __commonJS({
    "../../node_modules/core-js/modules/es.math.log2.js": function() {
      var $ = require_export();
      var log = Math.log;
      var LN2 = Math.LN2;
      $({ target: "Math", stat: true }, {
        log2: function log2(x) {
          return log(x) / LN2;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.sign.js
  var require_es_math_sign = __commonJS({
    "../../node_modules/core-js/modules/es.math.sign.js": function() {
      var $ = require_export();
      var sign = require_math_sign();
      $({ target: "Math", stat: true }, {
        sign: sign
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.sinh.js
  var require_es_math_sinh = __commonJS({
    "../../node_modules/core-js/modules/es.math.sinh.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var expm1 = require_math_expm1();
      var abs = Math.abs;
      var exp = Math.exp;
      var E = Math.E;
      var FORCED = fails(function() {
        return Math.sinh(-2e-17) != -2e-17;
      });
      $({ target: "Math", stat: true, forced: FORCED }, {
        sinh: function sinh(x) {
          return abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (E / 2);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.tanh.js
  var require_es_math_tanh = __commonJS({
    "../../node_modules/core-js/modules/es.math.tanh.js": function() {
      var $ = require_export();
      var expm1 = require_math_expm1();
      var exp = Math.exp;
      $({ target: "Math", stat: true }, {
        tanh: function tanh(x) {
          var a = expm1(x = +x);
          var b = expm1(-x);
          return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.trunc.js
  var require_es_math_trunc = __commonJS({
    "../../node_modules/core-js/modules/es.math.trunc.js": function() {
      var $ = require_export();
      var ceil = Math.ceil;
      var floor = Math.floor;
      $({ target: "Math", stat: true }, {
        trunc: function trunc(it) {
          return (it > 0 ? floor : ceil)(it);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.date.now.js
  var require_es_date_now = __commonJS({
    "../../node_modules/core-js/modules/es.date.now.js": function() {
      var $ = require_export();
      $({ target: "Date", stat: true }, {
        now: function now() {
          return new Date().getTime();
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-json.js
  var require_es_date_to_json = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-json.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var toObject = require_to_object();
      var toPrimitive = require_to_primitive();
      var FORCED = fails(function() {
        return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({ toISOString: function() {
          return 1;
        } }) !== 1;
      });
      $({ target: "Date", proto: true, forced: FORCED }, {
        toJSON: function toJSON(key) {
          var O = toObject(this);
          var pv = toPrimitive(O);
          return typeof pv == "number" && !isFinite(pv) ? null : O.toISOString();
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/date-to-iso-string.js
  var require_date_to_iso_string = __commonJS({
    "../../node_modules/core-js/internals/date-to-iso-string.js": function(exports, module) {
      "use strict";
      var fails = require_fails();
      var padStart = require_string_pad().start;
      var abs = Math.abs;
      var DatePrototype = Date.prototype;
      var getTime = DatePrototype.getTime;
      var nativeDateToISOString = DatePrototype.toISOString;
      module.exports = fails(function() {
        return nativeDateToISOString.call(new Date(-5e13 - 1)) != "0385-07-25T07:06:39.999Z";
      }) || !fails(function() {
        nativeDateToISOString.call(new Date(NaN));
      }) ? function toISOString() {
        if (!isFinite(getTime.call(this)))
          throw RangeError("Invalid time value");
        var date = this;
        var year = date.getUTCFullYear();
        var milliseconds = date.getUTCMilliseconds();
        var sign = year < 0 ? "-" : year > 9999 ? "+" : "";
        return sign + padStart(abs(year), sign ? 6 : 4, 0) + "-" + padStart(date.getUTCMonth() + 1, 2, 0) + "-" + padStart(date.getUTCDate(), 2, 0) + "T" + padStart(date.getUTCHours(), 2, 0) + ":" + padStart(date.getUTCMinutes(), 2, 0) + ":" + padStart(date.getUTCSeconds(), 2, 0) + "." + padStart(milliseconds, 3, 0) + "Z";
      } : nativeDateToISOString;
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-iso-string.js
  var require_es_date_to_iso_string = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-iso-string.js": function() {
      var $ = require_export();
      var toISOString = require_date_to_iso_string();
      $({ target: "Date", proto: true, forced: Date.prototype.toISOString !== toISOString }, {
        toISOString: toISOString
      });
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-string.js
  var require_es_date_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-string.js": function() {
      var redefine = require_redefine();
      var DatePrototype = Date.prototype;
      var INVALID_DATE = "Invalid Date";
      var TO_STRING = "toString";
      var nativeDateToString = DatePrototype[TO_STRING];
      var getTime = DatePrototype.getTime;
      if (new Date(NaN) + "" != INVALID_DATE) {
        redefine(DatePrototype, TO_STRING, function toString() {
          var value = getTime.call(this);
          return value === value ? nativeDateToString.call(this) : INVALID_DATE;
        });
      }
    }
  });

  // ../../node_modules/core-js/internals/date-to-primitive.js
  var require_date_to_primitive = __commonJS({
    "../../node_modules/core-js/internals/date-to-primitive.js": function(exports, module) {
      "use strict";
      var anObject = require_an_object();
      var toPrimitive = require_to_primitive();
      module.exports = function(hint) {
        if (hint !== "string" && hint !== "number" && hint !== "default") {
          throw TypeError("Incorrect hint");
        }
        return toPrimitive(anObject(this), hint !== "number");
      };
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-primitive.js
  var require_es_date_to_primitive = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-primitive.js": function() {
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var dateToPrimitive = require_date_to_primitive();
      var wellKnownSymbol = require_well_known_symbol();
      var TO_PRIMITIVE = wellKnownSymbol("toPrimitive");
      var DatePrototype = Date.prototype;
      if (!(TO_PRIMITIVE in DatePrototype)) {
        createNonEnumerableProperty(DatePrototype, TO_PRIMITIVE, dateToPrimitive);
      }
    }
  });

  // ../../node_modules/core-js/modules/es.json.stringify.js
  var require_es_json_stringify = __commonJS({
    "../../node_modules/core-js/modules/es.json.stringify.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var fails = require_fails();
      var $stringify = getBuiltIn("JSON", "stringify");
      var re = /[\uD800-\uDFFF]/g;
      var low = /^[\uD800-\uDBFF]$/;
      var hi = /^[\uDC00-\uDFFF]$/;
      var fix = function(match, offset, string) {
        var prev = string.charAt(offset - 1);
        var next = string.charAt(offset + 1);
        if (low.test(match) && !hi.test(next) || hi.test(match) && !low.test(prev)) {
          return "\\u" + match.charCodeAt(0).toString(16);
        }
        return match;
      };
      var FORCED = fails(function() {
        return $stringify("\uDF06\uD834") !== '"\\udf06\\ud834"' || $stringify("\uDEAD") !== '"\\udead"';
      });
      if ($stringify) {
        $({ target: "JSON", stat: true, forced: FORCED }, {
          stringify: function stringify(it, replacer, space) {
            var result = $stringify.apply(null, arguments);
            return typeof result == "string" ? result.replace(re, fix) : result;
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/internals/native-promise-constructor.js
  var require_native_promise_constructor = __commonJS({
    "../../node_modules/core-js/internals/native-promise-constructor.js": function(exports, module) {
      var global2 = require_global();
      module.exports = global2.Promise;
    }
  });

  // ../../node_modules/core-js/internals/redefine-all.js
  var require_redefine_all = __commonJS({
    "../../node_modules/core-js/internals/redefine-all.js": function(exports, module) {
      var redefine = require_redefine();
      module.exports = function(target, src, options) {
        for (var key in src)
          redefine(target, key, src[key], options);
        return target;
      };
    }
  });

  // ../../node_modules/core-js/internals/an-instance.js
  var require_an_instance = __commonJS({
    "../../node_modules/core-js/internals/an-instance.js": function(exports, module) {
      module.exports = function(it, Constructor, name) {
        if (!(it instanceof Constructor)) {
          throw TypeError("Incorrect " + (name ? name + " " : "") + "invocation");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/engine-is-ios.js
  var require_engine_is_ios = __commonJS({
    "../../node_modules/core-js/internals/engine-is-ios.js": function(exports, module) {
      var userAgent = require_engine_user_agent();
      module.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);
    }
  });

  // ../../node_modules/core-js/internals/task.js
  var require_task = __commonJS({
    "../../node_modules/core-js/internals/task.js": function(exports, module) {
      var global2 = require_global();
      var fails = require_fails();
      var classof = require_classof_raw();
      var bind = require_function_bind_context();
      var html = require_html();
      var createElement = require_document_create_element();
      var IS_IOS = require_engine_is_ios();
      var location = global2.location;
      var set = global2.setImmediate;
      var clear = global2.clearImmediate;
      var process = global2.process;
      var MessageChannel = global2.MessageChannel;
      var Dispatch = global2.Dispatch;
      var counter = 0;
      var queue = {};
      var ONREADYSTATECHANGE = "onreadystatechange";
      var defer;
      var channel;
      var port;
      var run = function(id) {
        if (queue.hasOwnProperty(id)) {
          var fn = queue[id];
          delete queue[id];
          fn();
        }
      };
      var runner = function(id) {
        return function() {
          run(id);
        };
      };
      var listener = function(event) {
        run(event.data);
      };
      var post = function(id) {
        global2.postMessage(id + "", location.protocol + "//" + location.host);
      };
      if (!set || !clear) {
        set = function setImmediate(fn) {
          var args = [];
          var i = 1;
          while (arguments.length > i)
            args.push(arguments[i++]);
          queue[++counter] = function() {
            (typeof fn == "function" ? fn : Function(fn)).apply(void 0, args);
          };
          defer(counter);
          return counter;
        };
        clear = function clearImmediate(id) {
          delete queue[id];
        };
        if (classof(process) == "process") {
          defer = function(id) {
            process.nextTick(runner(id));
          };
        } else if (Dispatch && Dispatch.now) {
          defer = function(id) {
            Dispatch.now(runner(id));
          };
        } else if (MessageChannel && !IS_IOS) {
          channel = new MessageChannel();
          port = channel.port2;
          channel.port1.onmessage = listener;
          defer = bind(port.postMessage, port, 1);
        } else if (global2.addEventListener && typeof postMessage == "function" && !global2.importScripts && !fails(post) && location.protocol !== "file:") {
          defer = post;
          global2.addEventListener("message", listener, false);
        } else if (ONREADYSTATECHANGE in createElement("script")) {
          defer = function(id) {
            html.appendChild(createElement("script"))[ONREADYSTATECHANGE] = function() {
              html.removeChild(this);
              run(id);
            };
          };
        } else {
          defer = function(id) {
            setTimeout(runner(id), 0);
          };
        }
      }
      module.exports = {
        set: set,
        clear: clear
      };
    }
  });

  // ../../node_modules/core-js/internals/microtask.js
  var require_microtask = __commonJS({
    "../../node_modules/core-js/internals/microtask.js": function(exports, module) {
      var global2 = require_global();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var classof = require_classof_raw();
      var macrotask = require_task().set;
      var IS_IOS = require_engine_is_ios();
      var MutationObserver = global2.MutationObserver || global2.WebKitMutationObserver;
      var process = global2.process;
      var Promise2 = global2.Promise;
      var IS_NODE = classof(process) == "process";
      var queueMicrotaskDescriptor = getOwnPropertyDescriptor(global2, "queueMicrotask");
      var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;
      var flush;
      var head;
      var last;
      var notify;
      var toggle;
      var node;
      var promise;
      var then;
      if (!queueMicrotask) {
        flush = function() {
          var parent, fn;
          if (IS_NODE && (parent = process.domain))
            parent.exit();
          while (head) {
            fn = head.fn;
            head = head.next;
            try {
              fn();
            } catch (error) {
              if (head)
                notify();
              else
                last = void 0;
              throw error;
            }
          }
          last = void 0;
          if (parent)
            parent.enter();
        };
        if (IS_NODE) {
          notify = function() {
            process.nextTick(flush);
          };
        } else if (MutationObserver && !IS_IOS) {
          toggle = true;
          node = document.createTextNode("");
          new MutationObserver(flush).observe(node, { characterData: true });
          notify = function() {
            node.data = toggle = !toggle;
          };
        } else if (Promise2 && Promise2.resolve) {
          promise = Promise2.resolve(void 0);
          then = promise.then;
          notify = function() {
            then.call(promise, flush);
          };
        } else {
          notify = function() {
            macrotask.call(global2, flush);
          };
        }
      }
      module.exports = queueMicrotask || function(fn) {
        var task = { fn: fn, next: void 0 };
        if (last)
          last.next = task;
        if (!head) {
          head = task;
          notify();
        }
        last = task;
      };
    }
  });

  // ../../node_modules/core-js/internals/new-promise-capability.js
  var require_new_promise_capability = __commonJS({
    "../../node_modules/core-js/internals/new-promise-capability.js": function(exports, module) {
      "use strict";
      var aFunction = require_a_function();
      var PromiseCapability = function(C) {
        var resolve, reject;
        this.promise = new C(function($$resolve, $$reject) {
          if (resolve !== void 0 || reject !== void 0)
            throw TypeError("Bad Promise constructor");
          resolve = $$resolve;
          reject = $$reject;
        });
        this.resolve = aFunction(resolve);
        this.reject = aFunction(reject);
      };
      module.exports.f = function(C) {
        return new PromiseCapability(C);
      };
    }
  });

  // ../../node_modules/core-js/internals/promise-resolve.js
  var require_promise_resolve = __commonJS({
    "../../node_modules/core-js/internals/promise-resolve.js": function(exports, module) {
      var anObject = require_an_object();
      var isObject = require_is_object();
      var newPromiseCapability = require_new_promise_capability();
      module.exports = function(C, x) {
        anObject(C);
        if (isObject(x) && x.constructor === C)
          return x;
        var promiseCapability = newPromiseCapability.f(C);
        var resolve = promiseCapability.resolve;
        resolve(x);
        return promiseCapability.promise;
      };
    }
  });

  // ../../node_modules/core-js/internals/host-report-errors.js
  var require_host_report_errors = __commonJS({
    "../../node_modules/core-js/internals/host-report-errors.js": function(exports, module) {
      var global2 = require_global();
      module.exports = function(a, b) {
        var console2 = global2.console;
        if (console2 && console2.error) {
          arguments.length === 1 ? console2.error(a) : console2.error(a, b);
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/perform.js
  var require_perform = __commonJS({
    "../../node_modules/core-js/internals/perform.js": function(exports, module) {
      module.exports = function(exec) {
        try {
          return { error: false, value: exec() };
        } catch (error) {
          return { error: true, value: error };
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.promise.js
  var require_es_promise = __commonJS({
    "../../node_modules/core-js/modules/es.promise.js": function() {
      "use strict";
      var $ = require_export();
      var IS_PURE = require_is_pure();
      var global2 = require_global();
      var getBuiltIn = require_get_built_in();
      var NativePromise = require_native_promise_constructor();
      var redefine = require_redefine();
      var redefineAll = require_redefine_all();
      var setToStringTag = require_set_to_string_tag();
      var setSpecies = require_set_species();
      var isObject = require_is_object();
      var aFunction = require_a_function();
      var anInstance = require_an_instance();
      var classof = require_classof_raw();
      var inspectSource = require_inspect_source();
      var iterate = require_iterate();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var speciesConstructor = require_species_constructor();
      var task = require_task().set;
      var microtask = require_microtask();
      var promiseResolve = require_promise_resolve();
      var hostReportErrors = require_host_report_errors();
      var newPromiseCapabilityModule = require_new_promise_capability();
      var perform = require_perform();
      var InternalStateModule = require_internal_state();
      var isForced = require_is_forced();
      var wellKnownSymbol = require_well_known_symbol();
      var V8_VERSION = require_engine_v8_version();
      var SPECIES = wellKnownSymbol("species");
      var PROMISE = "Promise";
      var getInternalState = InternalStateModule.get;
      var setInternalState = InternalStateModule.set;
      var getInternalPromiseState = InternalStateModule.getterFor(PROMISE);
      var PromiseConstructor = NativePromise;
      var TypeError2 = global2.TypeError;
      var document2 = global2.document;
      var process = global2.process;
      var $fetch = getBuiltIn("fetch");
      var newPromiseCapability = newPromiseCapabilityModule.f;
      var newGenericPromiseCapability = newPromiseCapability;
      var IS_NODE = classof(process) == "process";
      var DISPATCH_EVENT = !!(document2 && document2.createEvent && global2.dispatchEvent);
      var UNHANDLED_REJECTION = "unhandledrejection";
      var REJECTION_HANDLED = "rejectionhandled";
      var PENDING = 0;
      var FULFILLED = 1;
      var REJECTED = 2;
      var HANDLED = 1;
      var UNHANDLED = 2;
      var Internal;
      var OwnPromiseCapability;
      var PromiseWrapper;
      var nativeThen;
      var FORCED = isForced(PROMISE, function() {
        var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);
        if (!GLOBAL_CORE_JS_PROMISE) {
          if (V8_VERSION === 66)
            return true;
          if (!IS_NODE && typeof PromiseRejectionEvent != "function")
            return true;
        }
        if (IS_PURE && !PromiseConstructor.prototype["finally"])
          return true;
        if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor))
          return false;
        var promise = PromiseConstructor.resolve(1);
        var FakePromise = function(exec) {
          exec(function() {
          }, function() {
          });
        };
        var constructor = promise.constructor = {};
        constructor[SPECIES] = FakePromise;
        return !(promise.then(function() {
        }) instanceof FakePromise);
      });
      var INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function(iterable) {
        PromiseConstructor.all(iterable)["catch"](function() {
        });
      });
      var isThenable = function(it) {
        var then;
        return isObject(it) && typeof (then = it.then) == "function" ? then : false;
      };
      var notify = function(promise, state, isReject) {
        if (state.notified)
          return;
        state.notified = true;
        var chain = state.reactions;
        microtask(function() {
          var value = state.value;
          var ok = state.state == FULFILLED;
          var index = 0;
          while (chain.length > index) {
            var reaction = chain[index++];
            var handler = ok ? reaction.ok : reaction.fail;
            var resolve = reaction.resolve;
            var reject = reaction.reject;
            var domain = reaction.domain;
            var result, then, exited;
            try {
              if (handler) {
                if (!ok) {
                  if (state.rejection === UNHANDLED)
                    onHandleUnhandled(promise, state);
                  state.rejection = HANDLED;
                }
                if (handler === true)
                  result = value;
                else {
                  if (domain)
                    domain.enter();
                  result = handler(value);
                  if (domain) {
                    domain.exit();
                    exited = true;
                  }
                }
                if (result === reaction.promise) {
                  reject(TypeError2("Promise-chain cycle"));
                } else if (then = isThenable(result)) {
                  then.call(result, resolve, reject);
                } else
                  resolve(result);
              } else
                reject(value);
            } catch (error) {
              if (domain && !exited)
                domain.exit();
              reject(error);
            }
          }
          state.reactions = [];
          state.notified = false;
          if (isReject && !state.rejection)
            onUnhandled(promise, state);
        });
      };
      var dispatchEvent = function(name, promise, reason) {
        var event, handler;
        if (DISPATCH_EVENT) {
          event = document2.createEvent("Event");
          event.promise = promise;
          event.reason = reason;
          event.initEvent(name, false, true);
          global2.dispatchEvent(event);
        } else
          event = { promise: promise, reason: reason };
        if (handler = global2["on" + name])
          handler(event);
        else if (name === UNHANDLED_REJECTION)
          hostReportErrors("Unhandled promise rejection", reason);
      };
      var onUnhandled = function(promise, state) {
        task.call(global2, function() {
          var value = state.value;
          var IS_UNHANDLED = isUnhandled(state);
          var result;
          if (IS_UNHANDLED) {
            result = perform(function() {
              if (IS_NODE) {
                process.emit("unhandledRejection", value, promise);
              } else
                dispatchEvent(UNHANDLED_REJECTION, promise, value);
            });
            state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;
            if (result.error)
              throw result.value;
          }
        });
      };
      var isUnhandled = function(state) {
        return state.rejection !== HANDLED && !state.parent;
      };
      var onHandleUnhandled = function(promise, state) {
        task.call(global2, function() {
          if (IS_NODE) {
            process.emit("rejectionHandled", promise);
          } else
            dispatchEvent(REJECTION_HANDLED, promise, state.value);
        });
      };
      var bind = function(fn, promise, state, unwrap) {
        return function(value) {
          fn(promise, state, value, unwrap);
        };
      };
      var internalReject = function(promise, state, value, unwrap) {
        if (state.done)
          return;
        state.done = true;
        if (unwrap)
          state = unwrap;
        state.value = value;
        state.state = REJECTED;
        notify(promise, state, true);
      };
      var internalResolve = function(promise, state, value, unwrap) {
        if (state.done)
          return;
        state.done = true;
        if (unwrap)
          state = unwrap;
        try {
          if (promise === value)
            throw TypeError2("Promise can't be resolved itself");
          var then = isThenable(value);
          if (then) {
            microtask(function() {
              var wrapper = { done: false };
              try {
                then.call(value, bind(internalResolve, promise, wrapper, state), bind(internalReject, promise, wrapper, state));
              } catch (error) {
                internalReject(promise, wrapper, error, state);
              }
            });
          } else {
            state.value = value;
            state.state = FULFILLED;
            notify(promise, state, false);
          }
        } catch (error) {
          internalReject(promise, { done: false }, error, state);
        }
      };
      if (FORCED) {
        PromiseConstructor = function Promise2(executor) {
          anInstance(this, PromiseConstructor, PROMISE);
          aFunction(executor);
          Internal.call(this);
          var state = getInternalState(this);
          try {
            executor(bind(internalResolve, this, state), bind(internalReject, this, state));
          } catch (error) {
            internalReject(this, state, error);
          }
        };
        Internal = function Promise2(executor) {
          setInternalState(this, {
            type: PROMISE,
            done: false,
            notified: false,
            parent: false,
            reactions: [],
            rejection: false,
            state: PENDING,
            value: void 0
          });
        };
        Internal.prototype = redefineAll(PromiseConstructor.prototype, {
          then: function then(onFulfilled, onRejected) {
            var state = getInternalPromiseState(this);
            var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));
            reaction.ok = typeof onFulfilled == "function" ? onFulfilled : true;
            reaction.fail = typeof onRejected == "function" && onRejected;
            reaction.domain = IS_NODE ? process.domain : void 0;
            state.parent = true;
            state.reactions.push(reaction);
            if (state.state != PENDING)
              notify(this, state, false);
            return reaction.promise;
          },
          "catch": function(onRejected) {
            return this.then(void 0, onRejected);
          }
        });
        OwnPromiseCapability = function() {
          var promise = new Internal();
          var state = getInternalState(promise);
          this.promise = promise;
          this.resolve = bind(internalResolve, promise, state);
          this.reject = bind(internalReject, promise, state);
        };
        newPromiseCapabilityModule.f = newPromiseCapability = function(C) {
          return C === PromiseConstructor || C === PromiseWrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);
        };
        if (!IS_PURE && typeof NativePromise == "function") {
          nativeThen = NativePromise.prototype.then;
          redefine(NativePromise.prototype, "then", function then(onFulfilled, onRejected) {
            var that = this;
            return new PromiseConstructor(function(resolve, reject) {
              nativeThen.call(that, resolve, reject);
            }).then(onFulfilled, onRejected);
          }, { unsafe: true });
          if (typeof $fetch == "function")
            $({ global: true, enumerable: true, forced: true }, {
              fetch: function fetch(input) {
                return promiseResolve(PromiseConstructor, $fetch.apply(global2, arguments));
              }
            });
        }
      }
      $({ global: true, wrap: true, forced: FORCED }, {
        Promise: PromiseConstructor
      });
      setToStringTag(PromiseConstructor, PROMISE, false, true);
      setSpecies(PROMISE);
      PromiseWrapper = getBuiltIn(PROMISE);
      $({ target: PROMISE, stat: true, forced: FORCED }, {
        reject: function reject(r) {
          var capability = newPromiseCapability(this);
          capability.reject.call(void 0, r);
          return capability.promise;
        }
      });
      $({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {
        resolve: function resolve(x) {
          return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);
        }
      });
      $({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {
        all: function all(iterable) {
          var C = this;
          var capability = newPromiseCapability(C);
          var resolve = capability.resolve;
          var reject = capability.reject;
          var result = perform(function() {
            var $promiseResolve = aFunction(C.resolve);
            var values = [];
            var counter = 0;
            var remaining = 1;
            iterate(iterable, function(promise) {
              var index = counter++;
              var alreadyCalled = false;
              values.push(void 0);
              remaining++;
              $promiseResolve.call(C, promise).then(function(value) {
                if (alreadyCalled)
                  return;
                alreadyCalled = true;
                values[index] = value;
                --remaining || resolve(values);
              }, reject);
            });
            --remaining || resolve(values);
          });
          if (result.error)
            reject(result.value);
          return capability.promise;
        },
        race: function race(iterable) {
          var C = this;
          var capability = newPromiseCapability(C);
          var reject = capability.reject;
          var result = perform(function() {
            var $promiseResolve = aFunction(C.resolve);
            iterate(iterable, function(promise) {
              $promiseResolve.call(C, promise).then(capability.resolve, reject);
            });
          });
          if (result.error)
            reject(result.value);
          return capability.promise;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.promise.all-settled.js
  var require_es_promise_all_settled = __commonJS({
    "../../node_modules/core-js/modules/es.promise.all-settled.js": function() {
      "use strict";
      var $ = require_export();
      var aFunction = require_a_function();
      var newPromiseCapabilityModule = require_new_promise_capability();
      var perform = require_perform();
      var iterate = require_iterate();
      $({ target: "Promise", stat: true }, {
        allSettled: function allSettled(iterable) {
          var C = this;
          var capability = newPromiseCapabilityModule.f(C);
          var resolve = capability.resolve;
          var reject = capability.reject;
          var result = perform(function() {
            var promiseResolve = aFunction(C.resolve);
            var values = [];
            var counter = 0;
            var remaining = 1;
            iterate(iterable, function(promise) {
              var index = counter++;
              var alreadyCalled = false;
              values.push(void 0);
              remaining++;
              promiseResolve.call(C, promise).then(function(value) {
                if (alreadyCalled)
                  return;
                alreadyCalled = true;
                values[index] = { status: "fulfilled", value: value };
                --remaining || resolve(values);
              }, function(e) {
                if (alreadyCalled)
                  return;
                alreadyCalled = true;
                values[index] = { status: "rejected", reason: e };
                --remaining || resolve(values);
              });
            });
            --remaining || resolve(values);
          });
          if (result.error)
            reject(result.value);
          return capability.promise;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.promise.finally.js
  var require_es_promise_finally = __commonJS({
    "../../node_modules/core-js/modules/es.promise.finally.js": function() {
      "use strict";
      var $ = require_export();
      var IS_PURE = require_is_pure();
      var NativePromise = require_native_promise_constructor();
      var fails = require_fails();
      var getBuiltIn = require_get_built_in();
      var speciesConstructor = require_species_constructor();
      var promiseResolve = require_promise_resolve();
      var redefine = require_redefine();
      var NON_GENERIC = !!NativePromise && fails(function() {
        NativePromise.prototype["finally"].call({ then: function() {
        } }, function() {
        });
      });
      $({ target: "Promise", proto: true, real: true, forced: NON_GENERIC }, {
        "finally": function(onFinally) {
          var C = speciesConstructor(this, getBuiltIn("Promise"));
          var isFunction = typeof onFinally == "function";
          return this.then(isFunction ? function(x) {
            return promiseResolve(C, onFinally()).then(function() {
              return x;
            });
          } : onFinally, isFunction ? function(e) {
            return promiseResolve(C, onFinally()).then(function() {
              throw e;
            });
          } : onFinally);
        }
      });
      if (!IS_PURE && typeof NativePromise == "function" && !NativePromise.prototype["finally"]) {
        redefine(NativePromise.prototype, "finally", getBuiltIn("Promise").prototype["finally"]);
      }
    }
  });

  // ../../node_modules/core-js/internals/collection.js
  var require_collection = __commonJS({
    "../../node_modules/core-js/internals/collection.js": function(exports, module) {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var isForced = require_is_forced();
      var redefine = require_redefine();
      var InternalMetadataModule = require_internal_metadata();
      var iterate = require_iterate();
      var anInstance = require_an_instance();
      var isObject = require_is_object();
      var fails = require_fails();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var setToStringTag = require_set_to_string_tag();
      var inheritIfRequired = require_inherit_if_required();
      module.exports = function(CONSTRUCTOR_NAME, wrapper, common) {
        var IS_MAP = CONSTRUCTOR_NAME.indexOf("Map") !== -1;
        var IS_WEAK = CONSTRUCTOR_NAME.indexOf("Weak") !== -1;
        var ADDER = IS_MAP ? "set" : "add";
        var NativeConstructor = global2[CONSTRUCTOR_NAME];
        var NativePrototype = NativeConstructor && NativeConstructor.prototype;
        var Constructor = NativeConstructor;
        var exported = {};
        var fixMethod = function(KEY) {
          var nativeMethod = NativePrototype[KEY];
          redefine(NativePrototype, KEY, KEY == "add" ? function add(value) {
            nativeMethod.call(this, value === 0 ? 0 : value);
            return this;
          } : KEY == "delete" ? function(key) {
            return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);
          } : KEY == "get" ? function get(key) {
            return IS_WEAK && !isObject(key) ? void 0 : nativeMethod.call(this, key === 0 ? 0 : key);
          } : KEY == "has" ? function has(key) {
            return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);
          } : function set(key, value) {
            nativeMethod.call(this, key === 0 ? 0 : key, value);
            return this;
          });
        };
        if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != "function" || !(IS_WEAK || NativePrototype.forEach && !fails(function() {
          new NativeConstructor().entries().next();
        })))) {
          Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
          InternalMetadataModule.REQUIRED = true;
        } else if (isForced(CONSTRUCTOR_NAME, true)) {
          var instance = new Constructor();
          var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
          var THROWS_ON_PRIMITIVES = fails(function() {
            instance.has(1);
          });
          var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function(iterable) {
            new NativeConstructor(iterable);
          });
          var BUGGY_ZERO = !IS_WEAK && fails(function() {
            var $instance = new NativeConstructor();
            var index = 5;
            while (index--)
              $instance[ADDER](index, index);
            return !$instance.has(-0);
          });
          if (!ACCEPT_ITERABLES) {
            Constructor = wrapper(function(dummy, iterable) {
              anInstance(dummy, Constructor, CONSTRUCTOR_NAME);
              var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);
              if (iterable != void 0)
                iterate(iterable, that[ADDER], that, IS_MAP);
              return that;
            });
            Constructor.prototype = NativePrototype;
            NativePrototype.constructor = Constructor;
          }
          if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
            fixMethod("delete");
            fixMethod("has");
            IS_MAP && fixMethod("get");
          }
          if (BUGGY_ZERO || HASNT_CHAINING)
            fixMethod(ADDER);
          if (IS_WEAK && NativePrototype.clear)
            delete NativePrototype.clear;
        }
        exported[CONSTRUCTOR_NAME] = Constructor;
        $({ global: true, forced: Constructor != NativeConstructor }, exported);
        setToStringTag(Constructor, CONSTRUCTOR_NAME);
        if (!IS_WEAK)
          common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);
        return Constructor;
      };
    }
  });

  // ../../node_modules/core-js/internals/collection-strong.js
  var require_collection_strong = __commonJS({
    "../../node_modules/core-js/internals/collection-strong.js": function(exports, module) {
      "use strict";
      var defineProperty = require_object_define_property().f;
      var create = require_object_create();
      var redefineAll = require_redefine_all();
      var bind = require_function_bind_context();
      var anInstance = require_an_instance();
      var iterate = require_iterate();
      var defineIterator = require_define_iterator();
      var setSpecies = require_set_species();
      var DESCRIPTORS = require_descriptors();
      var fastKey = require_internal_metadata().fastKey;
      var InternalStateModule = require_internal_state();
      var setInternalState = InternalStateModule.set;
      var internalStateGetterFor = InternalStateModule.getterFor;
      module.exports = {
        getConstructor: function(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
          var C = wrapper(function(that, iterable) {
            anInstance(that, C, CONSTRUCTOR_NAME);
            setInternalState(that, {
              type: CONSTRUCTOR_NAME,
              index: create(null),
              first: void 0,
              last: void 0,
              size: 0
            });
            if (!DESCRIPTORS)
              that.size = 0;
            if (iterable != void 0)
              iterate(iterable, that[ADDER], that, IS_MAP);
          });
          var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);
          var define2 = function(that, key, value) {
            var state = getInternalState(that);
            var entry = getEntry(that, key);
            var previous, index;
            if (entry) {
              entry.value = value;
            } else {
              state.last = entry = {
                index: index = fastKey(key, true),
                key: key,
                value: value,
                previous: previous = state.last,
                next: void 0,
                removed: false
              };
              if (!state.first)
                state.first = entry;
              if (previous)
                previous.next = entry;
              if (DESCRIPTORS)
                state.size++;
              else
                that.size++;
              if (index !== "F")
                state.index[index] = entry;
            }
            return that;
          };
          var getEntry = function(that, key) {
            var state = getInternalState(that);
            var index = fastKey(key);
            var entry;
            if (index !== "F")
              return state.index[index];
            for (entry = state.first; entry; entry = entry.next) {
              if (entry.key == key)
                return entry;
            }
          };
          redefineAll(C.prototype, {
            clear: function clear() {
              var that = this;
              var state = getInternalState(that);
              var data = state.index;
              var entry = state.first;
              while (entry) {
                entry.removed = true;
                if (entry.previous)
                  entry.previous = entry.previous.next = void 0;
                delete data[entry.index];
                entry = entry.next;
              }
              state.first = state.last = void 0;
              if (DESCRIPTORS)
                state.size = 0;
              else
                that.size = 0;
            },
            "delete": function(key) {
              var that = this;
              var state = getInternalState(that);
              var entry = getEntry(that, key);
              if (entry) {
                var next = entry.next;
                var prev = entry.previous;
                delete state.index[entry.index];
                entry.removed = true;
                if (prev)
                  prev.next = next;
                if (next)
                  next.previous = prev;
                if (state.first == entry)
                  state.first = next;
                if (state.last == entry)
                  state.last = prev;
                if (DESCRIPTORS)
                  state.size--;
                else
                  that.size--;
              }
              return !!entry;
            },
            forEach: function forEach(callbackfn) {
              var state = getInternalState(this);
              var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : void 0, 3);
              var entry;
              while (entry = entry ? entry.next : state.first) {
                boundFunction(entry.value, entry.key, this);
                while (entry && entry.removed)
                  entry = entry.previous;
              }
            },
            has: function has(key) {
              return !!getEntry(this, key);
            }
          });
          redefineAll(C.prototype, IS_MAP ? {
            get: function get(key) {
              var entry = getEntry(this, key);
              return entry && entry.value;
            },
            set: function set(key, value) {
              return define2(this, key === 0 ? 0 : key, value);
            }
          } : {
            add: function add(value) {
              return define2(this, value = value === 0 ? 0 : value, value);
            }
          });
          if (DESCRIPTORS)
            defineProperty(C.prototype, "size", {
              get: function() {
                return getInternalState(this).size;
              }
            });
          return C;
        },
        setStrong: function(C, CONSTRUCTOR_NAME, IS_MAP) {
          var ITERATOR_NAME = CONSTRUCTOR_NAME + " Iterator";
          var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);
          var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);
          defineIterator(C, CONSTRUCTOR_NAME, function(iterated, kind) {
            setInternalState(this, {
              type: ITERATOR_NAME,
              target: iterated,
              state: getInternalCollectionState(iterated),
              kind: kind,
              last: void 0
            });
          }, function() {
            var state = getInternalIteratorState(this);
            var kind = state.kind;
            var entry = state.last;
            while (entry && entry.removed)
              entry = entry.previous;
            if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {
              state.target = void 0;
              return { value: void 0, done: true };
            }
            if (kind == "keys")
              return { value: entry.key, done: false };
            if (kind == "values")
              return { value: entry.value, done: false };
            return { value: [entry.key, entry.value], done: false };
          }, IS_MAP ? "entries" : "values", !IS_MAP, true);
          setSpecies(CONSTRUCTOR_NAME);
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.map.js
  var require_es_map = __commonJS({
    "../../node_modules/core-js/modules/es.map.js": function(exports, module) {
      "use strict";
      var collection = require_collection();
      var collectionStrong = require_collection_strong();
      module.exports = collection("Map", function(init) {
        return function Map() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      }, collectionStrong);
    }
  });

  // ../../node_modules/core-js/modules/es.set.js
  var require_es_set = __commonJS({
    "../../node_modules/core-js/modules/es.set.js": function(exports, module) {
      "use strict";
      var collection = require_collection();
      var collectionStrong = require_collection_strong();
      module.exports = collection("Set", function(init) {
        return function Set() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      }, collectionStrong);
    }
  });

  // ../../node_modules/core-js/internals/collection-weak.js
  var require_collection_weak = __commonJS({
    "../../node_modules/core-js/internals/collection-weak.js": function(exports, module) {
      "use strict";
      var redefineAll = require_redefine_all();
      var getWeakData = require_internal_metadata().getWeakData;
      var anObject = require_an_object();
      var isObject = require_is_object();
      var anInstance = require_an_instance();
      var iterate = require_iterate();
      var ArrayIterationModule = require_array_iteration();
      var $has = require_has();
      var InternalStateModule = require_internal_state();
      var setInternalState = InternalStateModule.set;
      var internalStateGetterFor = InternalStateModule.getterFor;
      var find = ArrayIterationModule.find;
      var findIndex = ArrayIterationModule.findIndex;
      var id = 0;
      var uncaughtFrozenStore = function(store) {
        return store.frozen || (store.frozen = new UncaughtFrozenStore());
      };
      var UncaughtFrozenStore = function() {
        this.entries = [];
      };
      var findUncaughtFrozen = function(store, key) {
        return find(store.entries, function(it) {
          return it[0] === key;
        });
      };
      UncaughtFrozenStore.prototype = {
        get: function(key) {
          var entry = findUncaughtFrozen(this, key);
          if (entry)
            return entry[1];
        },
        has: function(key) {
          return !!findUncaughtFrozen(this, key);
        },
        set: function(key, value) {
          var entry = findUncaughtFrozen(this, key);
          if (entry)
            entry[1] = value;
          else
            this.entries.push([key, value]);
        },
        "delete": function(key) {
          var index = findIndex(this.entries, function(it) {
            return it[0] === key;
          });
          if (~index)
            this.entries.splice(index, 1);
          return !!~index;
        }
      };
      module.exports = {
        getConstructor: function(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
          var C = wrapper(function(that, iterable) {
            anInstance(that, C, CONSTRUCTOR_NAME);
            setInternalState(that, {
              type: CONSTRUCTOR_NAME,
              id: id++,
              frozen: void 0
            });
            if (iterable != void 0)
              iterate(iterable, that[ADDER], that, IS_MAP);
          });
          var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);
          var define2 = function(that, key, value) {
            var state = getInternalState(that);
            var data = getWeakData(anObject(key), true);
            if (data === true)
              uncaughtFrozenStore(state).set(key, value);
            else
              data[state.id] = value;
            return that;
          };
          redefineAll(C.prototype, {
            "delete": function(key) {
              var state = getInternalState(this);
              if (!isObject(key))
                return false;
              var data = getWeakData(key);
              if (data === true)
                return uncaughtFrozenStore(state)["delete"](key);
              return data && $has(data, state.id) && delete data[state.id];
            },
            has: function has(key) {
              var state = getInternalState(this);
              if (!isObject(key))
                return false;
              var data = getWeakData(key);
              if (data === true)
                return uncaughtFrozenStore(state).has(key);
              return data && $has(data, state.id);
            }
          });
          redefineAll(C.prototype, IS_MAP ? {
            get: function get(key) {
              var state = getInternalState(this);
              if (isObject(key)) {
                var data = getWeakData(key);
                if (data === true)
                  return uncaughtFrozenStore(state).get(key);
                return data ? data[state.id] : void 0;
              }
            },
            set: function set(key, value) {
              return define2(this, key, value);
            }
          } : {
            add: function add(value) {
              return define2(this, value, true);
            }
          });
          return C;
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.weak-map.js
  var require_es_weak_map = __commonJS({
    "../../node_modules/core-js/modules/es.weak-map.js": function(exports, module) {
      "use strict";
      var global2 = require_global();
      var redefineAll = require_redefine_all();
      var InternalMetadataModule = require_internal_metadata();
      var collection = require_collection();
      var collectionWeak = require_collection_weak();
      var isObject = require_is_object();
      var enforceIternalState = require_internal_state().enforce;
      var NATIVE_WEAK_MAP = require_native_weak_map();
      var IS_IE11 = !global2.ActiveXObject && "ActiveXObject" in global2;
      var isExtensible = Object.isExtensible;
      var InternalWeakMap;
      var wrapper = function(init) {
        return function WeakMap() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      };
      var $WeakMap = module.exports = collection("WeakMap", wrapper, collectionWeak);
      if (NATIVE_WEAK_MAP && IS_IE11) {
        InternalWeakMap = collectionWeak.getConstructor(wrapper, "WeakMap", true);
        InternalMetadataModule.REQUIRED = true;
        WeakMapPrototype = $WeakMap.prototype;
        nativeDelete = WeakMapPrototype["delete"];
        nativeHas = WeakMapPrototype.has;
        nativeGet = WeakMapPrototype.get;
        nativeSet = WeakMapPrototype.set;
        redefineAll(WeakMapPrototype, {
          "delete": function(key) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              return nativeDelete.call(this, key) || state.frozen["delete"](key);
            }
            return nativeDelete.call(this, key);
          },
          has: function has(key) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              return nativeHas.call(this, key) || state.frozen.has(key);
            }
            return nativeHas.call(this, key);
          },
          get: function get(key) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);
            }
            return nativeGet.call(this, key);
          },
          set: function set(key, value) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);
            } else
              nativeSet.call(this, key, value);
            return this;
          }
        });
      }
      var WeakMapPrototype;
      var nativeDelete;
      var nativeHas;
      var nativeGet;
      var nativeSet;
    }
  });

  // ../../node_modules/core-js/modules/es.weak-set.js
  var require_es_weak_set = __commonJS({
    "../../node_modules/core-js/modules/es.weak-set.js": function() {
      "use strict";
      var collection = require_collection();
      var collectionWeak = require_collection_weak();
      collection("WeakSet", function(init) {
        return function WeakSet2() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      }, collectionWeak);
    }
  });

  // ../../node_modules/core-js/internals/array-buffer-native.js
  var require_array_buffer_native = __commonJS({
    "../../node_modules/core-js/internals/array-buffer-native.js": function(exports, module) {
      module.exports = typeof ArrayBuffer !== "undefined" && typeof DataView !== "undefined";
    }
  });

  // ../../node_modules/core-js/internals/to-index.js
  var require_to_index = __commonJS({
    "../../node_modules/core-js/internals/to-index.js": function(exports, module) {
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      module.exports = function(it) {
        if (it === void 0)
          return 0;
        var number = toInteger(it);
        var length = toLength(number);
        if (number !== length)
          throw RangeError("Wrong length or index");
        return length;
      };
    }
  });

  // ../../node_modules/core-js/internals/ieee754.js
  var require_ieee754 = __commonJS({
    "../../node_modules/core-js/internals/ieee754.js": function(exports, module) {
      var Infinity2 = 1 / 0;
      var abs = Math.abs;
      var pow = Math.pow;
      var floor = Math.floor;
      var log = Math.log;
      var LN2 = Math.LN2;
      var pack = function(number, mantissaLength, bytes) {
        var buffer = new Array(bytes);
        var exponentLength = bytes * 8 - mantissaLength - 1;
        var eMax = (1 << exponentLength) - 1;
        var eBias = eMax >> 1;
        var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;
        var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;
        var index = 0;
        var exponent, mantissa, c;
        number = abs(number);
        if (number != number || number === Infinity2) {
          mantissa = number != number ? 1 : 0;
          exponent = eMax;
        } else {
          exponent = floor(log(number) / LN2);
          if (number * (c = pow(2, -exponent)) < 1) {
            exponent--;
            c *= 2;
          }
          if (exponent + eBias >= 1) {
            number += rt / c;
          } else {
            number += rt * pow(2, 1 - eBias);
          }
          if (number * c >= 2) {
            exponent++;
            c /= 2;
          }
          if (exponent + eBias >= eMax) {
            mantissa = 0;
            exponent = eMax;
          } else if (exponent + eBias >= 1) {
            mantissa = (number * c - 1) * pow(2, mantissaLength);
            exponent = exponent + eBias;
          } else {
            mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);
            exponent = 0;
          }
        }
        for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8)
          ;
        exponent = exponent << mantissaLength | mantissa;
        exponentLength += mantissaLength;
        for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8)
          ;
        buffer[--index] |= sign * 128;
        return buffer;
      };
      var unpack = function(buffer, mantissaLength) {
        var bytes = buffer.length;
        var exponentLength = bytes * 8 - mantissaLength - 1;
        var eMax = (1 << exponentLength) - 1;
        var eBias = eMax >> 1;
        var nBits = exponentLength - 7;
        var index = bytes - 1;
        var sign = buffer[index--];
        var exponent = sign & 127;
        var mantissa;
        sign >>= 7;
        for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8)
          ;
        mantissa = exponent & (1 << -nBits) - 1;
        exponent >>= -nBits;
        nBits += mantissaLength;
        for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8)
          ;
        if (exponent === 0) {
          exponent = 1 - eBias;
        } else if (exponent === eMax) {
          return mantissa ? NaN : sign ? -Infinity2 : Infinity2;
        } else {
          mantissa = mantissa + pow(2, mantissaLength);
          exponent = exponent - eBias;
        }
        return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);
      };
      module.exports = {
        pack: pack,
        unpack: unpack
      };
    }
  });

  // ../../node_modules/core-js/internals/array-buffer.js
  var require_array_buffer = __commonJS({
    "../../node_modules/core-js/internals/array-buffer.js": function(exports, module) {
      "use strict";
      var global2 = require_global();
      var DESCRIPTORS = require_descriptors();
      var NATIVE_ARRAY_BUFFER = require_array_buffer_native();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefineAll = require_redefine_all();
      var fails = require_fails();
      var anInstance = require_an_instance();
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      var toIndex = require_to_index();
      var IEEE754 = require_ieee754();
      var getPrototypeOf = require_object_get_prototype_of();
      var setPrototypeOf = require_object_set_prototype_of();
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var defineProperty = require_object_define_property().f;
      var arrayFill = require_array_fill();
      var setToStringTag = require_set_to_string_tag();
      var InternalStateModule = require_internal_state();
      var getInternalState = InternalStateModule.get;
      var setInternalState = InternalStateModule.set;
      var ARRAY_BUFFER = "ArrayBuffer";
      var DATA_VIEW = "DataView";
      var PROTOTYPE = "prototype";
      var WRONG_LENGTH = "Wrong length";
      var WRONG_INDEX = "Wrong index";
      var NativeArrayBuffer = global2[ARRAY_BUFFER];
      var $ArrayBuffer = NativeArrayBuffer;
      var $DataView = global2[DATA_VIEW];
      var $DataViewPrototype = $DataView && $DataView[PROTOTYPE];
      var ObjectPrototype = Object.prototype;
      var RangeError2 = global2.RangeError;
      var packIEEE754 = IEEE754.pack;
      var unpackIEEE754 = IEEE754.unpack;
      var packInt8 = function(number) {
        return [number & 255];
      };
      var packInt16 = function(number) {
        return [number & 255, number >> 8 & 255];
      };
      var packInt32 = function(number) {
        return [number & 255, number >> 8 & 255, number >> 16 & 255, number >> 24 & 255];
      };
      var unpackInt32 = function(buffer) {
        return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];
      };
      var packFloat32 = function(number) {
        return packIEEE754(number, 23, 4);
      };
      var packFloat64 = function(number) {
        return packIEEE754(number, 52, 8);
      };
      var addGetter = function(Constructor, key2) {
        defineProperty(Constructor[PROTOTYPE], key2, { get: function() {
          return getInternalState(this)[key2];
        } });
      };
      var get = function(view, count, index, isLittleEndian) {
        var intIndex = toIndex(index);
        var store = getInternalState(view);
        if (intIndex + count > store.byteLength)
          throw RangeError2(WRONG_INDEX);
        var bytes = getInternalState(store.buffer).bytes;
        var start = intIndex + store.byteOffset;
        var pack = bytes.slice(start, start + count);
        return isLittleEndian ? pack : pack.reverse();
      };
      var set = function(view, count, index, conversion, value, isLittleEndian) {
        var intIndex = toIndex(index);
        var store = getInternalState(view);
        if (intIndex + count > store.byteLength)
          throw RangeError2(WRONG_INDEX);
        var bytes = getInternalState(store.buffer).bytes;
        var start = intIndex + store.byteOffset;
        var pack = conversion(+value);
        for (var i = 0; i < count; i++)
          bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];
      };
      if (!NATIVE_ARRAY_BUFFER) {
        $ArrayBuffer = function ArrayBuffer2(length) {
          anInstance(this, $ArrayBuffer, ARRAY_BUFFER);
          var byteLength = toIndex(length);
          setInternalState(this, {
            bytes: arrayFill.call(new Array(byteLength), 0),
            byteLength: byteLength
          });
          if (!DESCRIPTORS)
            this.byteLength = byteLength;
        };
        $DataView = function DataView2(buffer, byteOffset, byteLength) {
          anInstance(this, $DataView, DATA_VIEW);
          anInstance(buffer, $ArrayBuffer, DATA_VIEW);
          var bufferLength = getInternalState(buffer).byteLength;
          var offset = toInteger(byteOffset);
          if (offset < 0 || offset > bufferLength)
            throw RangeError2("Wrong offset");
          byteLength = byteLength === void 0 ? bufferLength - offset : toLength(byteLength);
          if (offset + byteLength > bufferLength)
            throw RangeError2(WRONG_LENGTH);
          setInternalState(this, {
            buffer: buffer,
            byteLength: byteLength,
            byteOffset: offset
          });
          if (!DESCRIPTORS) {
            this.buffer = buffer;
            this.byteLength = byteLength;
            this.byteOffset = offset;
          }
        };
        if (DESCRIPTORS) {
          addGetter($ArrayBuffer, "byteLength");
          addGetter($DataView, "buffer");
          addGetter($DataView, "byteLength");
          addGetter($DataView, "byteOffset");
        }
        redefineAll($DataView[PROTOTYPE], {
          getInt8: function getInt8(byteOffset) {
            return get(this, 1, byteOffset)[0] << 24 >> 24;
          },
          getUint8: function getUint8(byteOffset) {
            return get(this, 1, byteOffset)[0];
          },
          getInt16: function getInt16(byteOffset) {
            var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : void 0);
            return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
          },
          getUint16: function getUint16(byteOffset) {
            var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : void 0);
            return bytes[1] << 8 | bytes[0];
          },
          getInt32: function getInt32(byteOffset) {
            return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : void 0));
          },
          getUint32: function getUint32(byteOffset) {
            return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : void 0)) >>> 0;
          },
          getFloat32: function getFloat32(byteOffset) {
            return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : void 0), 23);
          },
          getFloat64: function getFloat64(byteOffset) {
            return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : void 0), 52);
          },
          setInt8: function setInt8(byteOffset, value) {
            set(this, 1, byteOffset, packInt8, value);
          },
          setUint8: function setUint8(byteOffset, value) {
            set(this, 1, byteOffset, packInt8, value);
          },
          setInt16: function setInt16(byteOffset, value) {
            set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint16: function setUint16(byteOffset, value) {
            set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setInt32: function setInt32(byteOffset, value) {
            set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint32: function setUint32(byteOffset, value) {
            set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat32: function setFloat32(byteOffset, value) {
            set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat64: function setFloat64(byteOffset, value) {
            set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : void 0);
          }
        });
      } else {
        if (!fails(function() {
          NativeArrayBuffer(1);
        }) || !fails(function() {
          new NativeArrayBuffer(-1);
        }) || fails(function() {
          new NativeArrayBuffer();
          new NativeArrayBuffer(1.5);
          new NativeArrayBuffer(NaN);
          return NativeArrayBuffer.name != ARRAY_BUFFER;
        })) {
          $ArrayBuffer = function ArrayBuffer2(length) {
            anInstance(this, $ArrayBuffer);
            return new NativeArrayBuffer(toIndex(length));
          };
          ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];
          for (keys = getOwnPropertyNames(NativeArrayBuffer), j = 0; keys.length > j; ) {
            if (!((key = keys[j++]) in $ArrayBuffer)) {
              createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);
            }
          }
          ArrayBufferPrototype.constructor = $ArrayBuffer;
        }
        if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {
          setPrototypeOf($DataViewPrototype, ObjectPrototype);
        }
        testView = new $DataView(new $ArrayBuffer(2));
        nativeSetInt8 = $DataViewPrototype.setInt8;
        testView.setInt8(0, 2147483648);
        testView.setInt8(1, 2147483649);
        if (testView.getInt8(0) || !testView.getInt8(1))
          redefineAll($DataViewPrototype, {
            setInt8: function setInt8(byteOffset, value) {
              nativeSetInt8.call(this, byteOffset, value << 24 >> 24);
            },
            setUint8: function setUint8(byteOffset, value) {
              nativeSetInt8.call(this, byteOffset, value << 24 >> 24);
            }
          }, { unsafe: true });
      }
      var ArrayBufferPrototype;
      var keys;
      var j;
      var key;
      var testView;
      var nativeSetInt8;
      setToStringTag($ArrayBuffer, ARRAY_BUFFER);
      setToStringTag($DataView, DATA_VIEW);
      module.exports = {
        ArrayBuffer: $ArrayBuffer,
        DataView: $DataView
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array-buffer.constructor.js
  var require_es_array_buffer_constructor = __commonJS({
    "../../node_modules/core-js/modules/es.array-buffer.constructor.js": function() {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var arrayBufferModule = require_array_buffer();
      var setSpecies = require_set_species();
      var ARRAY_BUFFER = "ArrayBuffer";
      var ArrayBuffer2 = arrayBufferModule[ARRAY_BUFFER];
      var NativeArrayBuffer = global2[ARRAY_BUFFER];
      $({ global: true, forced: NativeArrayBuffer !== ArrayBuffer2 }, {
        ArrayBuffer: ArrayBuffer2
      });
      setSpecies(ARRAY_BUFFER);
    }
  });

  // ../../node_modules/core-js/internals/array-buffer-view-core.js
  var require_array_buffer_view_core = __commonJS({
    "../../node_modules/core-js/internals/array-buffer-view-core.js": function(exports, module) {
      "use strict";
      var NATIVE_ARRAY_BUFFER = require_array_buffer_native();
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var isObject = require_is_object();
      var has = require_has();
      var classof = require_classof();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var defineProperty = require_object_define_property().f;
      var getPrototypeOf = require_object_get_prototype_of();
      var setPrototypeOf = require_object_set_prototype_of();
      var wellKnownSymbol = require_well_known_symbol();
      var uid = require_uid();
      var Int8Array2 = global2.Int8Array;
      var Int8ArrayPrototype = Int8Array2 && Int8Array2.prototype;
      var Uint8ClampedArray = global2.Uint8ClampedArray;
      var Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;
      var TypedArray = Int8Array2 && getPrototypeOf(Int8Array2);
      var TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);
      var ObjectPrototype = Object.prototype;
      var isPrototypeOf = ObjectPrototype.isPrototypeOf;
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var TYPED_ARRAY_TAG = uid("TYPED_ARRAY_TAG");
      var NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global2.opera) !== "Opera";
      var TYPED_ARRAY_TAG_REQIRED = false;
      var NAME;
      var TypedArrayConstructorsList = {
        Int8Array: 1,
        Uint8Array: 1,
        Uint8ClampedArray: 1,
        Int16Array: 2,
        Uint16Array: 2,
        Int32Array: 4,
        Uint32Array: 4,
        Float32Array: 4,
        Float64Array: 8
      };
      var isView = function isView2(it) {
        var klass = classof(it);
        return klass === "DataView" || has(TypedArrayConstructorsList, klass);
      };
      var isTypedArray = function(it) {
        return isObject(it) && has(TypedArrayConstructorsList, classof(it));
      };
      var aTypedArray = function(it) {
        if (isTypedArray(it))
          return it;
        throw TypeError("Target is not a typed array");
      };
      var aTypedArrayConstructor = function(C) {
        if (setPrototypeOf) {
          if (isPrototypeOf.call(TypedArray, C))
            return C;
        } else
          for (var ARRAY in TypedArrayConstructorsList)
            if (has(TypedArrayConstructorsList, NAME)) {
              var TypedArrayConstructor = global2[ARRAY];
              if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {
                return C;
              }
            }
        throw TypeError("Target is not a typed array constructor");
      };
      var exportTypedArrayMethod = function(KEY, property, forced) {
        if (!DESCRIPTORS)
          return;
        if (forced)
          for (var ARRAY in TypedArrayConstructorsList) {
            var TypedArrayConstructor = global2[ARRAY];
            if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {
              delete TypedArrayConstructor.prototype[KEY];
            }
          }
        if (!TypedArrayPrototype[KEY] || forced) {
          redefine(TypedArrayPrototype, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);
        }
      };
      var exportTypedArrayStaticMethod = function(KEY, property, forced) {
        var ARRAY, TypedArrayConstructor;
        if (!DESCRIPTORS)
          return;
        if (setPrototypeOf) {
          if (forced)
            for (ARRAY in TypedArrayConstructorsList) {
              TypedArrayConstructor = global2[ARRAY];
              if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {
                delete TypedArrayConstructor[KEY];
              }
            }
          if (!TypedArray[KEY] || forced) {
            try {
              return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array2[KEY] || property);
            } catch (error) {
            }
          } else
            return;
        }
        for (ARRAY in TypedArrayConstructorsList) {
          TypedArrayConstructor = global2[ARRAY];
          if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {
            redefine(TypedArrayConstructor, KEY, property);
          }
        }
      };
      for (NAME in TypedArrayConstructorsList) {
        if (!global2[NAME])
          NATIVE_ARRAY_BUFFER_VIEWS = false;
      }
      if (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != "function" || TypedArray === Function.prototype) {
        TypedArray = function TypedArray2() {
          throw TypeError("Incorrect invocation");
        };
        if (NATIVE_ARRAY_BUFFER_VIEWS)
          for (NAME in TypedArrayConstructorsList) {
            if (global2[NAME])
              setPrototypeOf(global2[NAME], TypedArray);
          }
      }
      if (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {
        TypedArrayPrototype = TypedArray.prototype;
        if (NATIVE_ARRAY_BUFFER_VIEWS)
          for (NAME in TypedArrayConstructorsList) {
            if (global2[NAME])
              setPrototypeOf(global2[NAME].prototype, TypedArrayPrototype);
          }
      }
      if (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {
        setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);
      }
      if (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {
        TYPED_ARRAY_TAG_REQIRED = true;
        defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function() {
          return isObject(this) ? this[TYPED_ARRAY_TAG] : void 0;
        } });
        for (NAME in TypedArrayConstructorsList)
          if (global2[NAME]) {
            createNonEnumerableProperty(global2[NAME], TYPED_ARRAY_TAG, NAME);
          }
      }
      module.exports = {
        NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,
        TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,
        aTypedArray: aTypedArray,
        aTypedArrayConstructor: aTypedArrayConstructor,
        exportTypedArrayMethod: exportTypedArrayMethod,
        exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,
        isView: isView,
        isTypedArray: isTypedArray,
        TypedArray: TypedArray,
        TypedArrayPrototype: TypedArrayPrototype
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array-buffer.is-view.js
  var require_es_array_buffer_is_view = __commonJS({
    "../../node_modules/core-js/modules/es.array-buffer.is-view.js": function() {
      var $ = require_export();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;
      $({ target: "ArrayBuffer", stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {
        isView: ArrayBufferViewCore.isView
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array-buffer.slice.js
  var require_es_array_buffer_slice = __commonJS({
    "../../node_modules/core-js/modules/es.array-buffer.slice.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var ArrayBufferModule = require_array_buffer();
      var anObject = require_an_object();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      var speciesConstructor = require_species_constructor();
      var ArrayBuffer2 = ArrayBufferModule.ArrayBuffer;
      var DataView2 = ArrayBufferModule.DataView;
      var nativeArrayBufferSlice = ArrayBuffer2.prototype.slice;
      var INCORRECT_SLICE = fails(function() {
        return !new ArrayBuffer2(2).slice(1, void 0).byteLength;
      });
      $({ target: "ArrayBuffer", proto: true, unsafe: true, forced: INCORRECT_SLICE }, {
        slice: function slice(start, end) {
          if (nativeArrayBufferSlice !== void 0 && end === void 0) {
            return nativeArrayBufferSlice.call(anObject(this), start);
          }
          var length = anObject(this).byteLength;
          var first = toAbsoluteIndex(start, length);
          var fin = toAbsoluteIndex(end === void 0 ? length : end, length);
          var result = new (speciesConstructor(this, ArrayBuffer2))(toLength(fin - first));
          var viewSource = new DataView2(this);
          var viewTarget = new DataView2(result);
          var index = 0;
          while (first < fin) {
            viewTarget.setUint8(index++, viewSource.getUint8(first++));
          }
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.data-view.js
  var require_es_data_view = __commonJS({
    "../../node_modules/core-js/modules/es.data-view.js": function() {
      var $ = require_export();
      var ArrayBufferModule = require_array_buffer();
      var NATIVE_ARRAY_BUFFER = require_array_buffer_native();
      $({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {
        DataView: ArrayBufferModule.DataView
      });
    }
  });

  // ../../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js
  var require_typed_array_constructors_require_wrappers = __commonJS({
    "../../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js": function(exports, module) {
      var global2 = require_global();
      var fails = require_fails();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var NATIVE_ARRAY_BUFFER_VIEWS = require_array_buffer_view_core().NATIVE_ARRAY_BUFFER_VIEWS;
      var ArrayBuffer2 = global2.ArrayBuffer;
      var Int8Array2 = global2.Int8Array;
      module.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function() {
        Int8Array2(1);
      }) || !fails(function() {
        new Int8Array2(-1);
      }) || !checkCorrectnessOfIteration(function(iterable) {
        new Int8Array2();
        new Int8Array2(null);
        new Int8Array2(1.5);
        new Int8Array2(iterable);
      }, true) || fails(function() {
        return new Int8Array2(new ArrayBuffer2(2), 1, void 0).length !== 1;
      });
    }
  });

  // ../../node_modules/core-js/internals/to-positive-integer.js
  var require_to_positive_integer = __commonJS({
    "../../node_modules/core-js/internals/to-positive-integer.js": function(exports, module) {
      var toInteger = require_to_integer();
      module.exports = function(it) {
        var result = toInteger(it);
        if (result < 0)
          throw RangeError("The argument can't be less than 0");
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/to-offset.js
  var require_to_offset = __commonJS({
    "../../node_modules/core-js/internals/to-offset.js": function(exports, module) {
      var toPositiveInteger = require_to_positive_integer();
      module.exports = function(it, BYTES) {
        var offset = toPositiveInteger(it);
        if (offset % BYTES)
          throw RangeError("Wrong offset");
        return offset;
      };
    }
  });

  // ../../node_modules/core-js/internals/typed-array-from.js
  var require_typed_array_from = __commonJS({
    "../../node_modules/core-js/internals/typed-array-from.js": function(exports, module) {
      var toObject = require_to_object();
      var toLength = require_to_length();
      var getIteratorMethod = require_get_iterator_method();
      var isArrayIteratorMethod = require_is_array_iterator_method();
      var bind = require_function_bind_context();
      var aTypedArrayConstructor = require_array_buffer_view_core().aTypedArrayConstructor;
      module.exports = function from(source) {
        var O = toObject(source);
        var argumentsLength = arguments.length;
        var mapfn = argumentsLength > 1 ? arguments[1] : void 0;
        var mapping = mapfn !== void 0;
        var iteratorMethod = getIteratorMethod(O);
        var i, length, result, step, iterator, next;
        if (iteratorMethod != void 0 && !isArrayIteratorMethod(iteratorMethod)) {
          iterator = iteratorMethod.call(O);
          next = iterator.next;
          O = [];
          while (!(step = next.call(iterator)).done) {
            O.push(step.value);
          }
        }
        if (mapping && argumentsLength > 2) {
          mapfn = bind(mapfn, arguments[2], 2);
        }
        length = toLength(O.length);
        result = new (aTypedArrayConstructor(this))(length);
        for (i = 0; length > i; i++) {
          result[i] = mapping ? mapfn(O[i], i) : O[i];
        }
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/typed-array-constructor.js
  var require_typed_array_constructor = __commonJS({
    "../../node_modules/core-js/internals/typed-array-constructor.js": function(exports, module) {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var DESCRIPTORS = require_descriptors();
      var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require_typed_array_constructors_require_wrappers();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var ArrayBufferModule = require_array_buffer();
      var anInstance = require_an_instance();
      var createPropertyDescriptor = require_create_property_descriptor();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var toLength = require_to_length();
      var toIndex = require_to_index();
      var toOffset = require_to_offset();
      var toPrimitive = require_to_primitive();
      var has = require_has();
      var classof = require_classof();
      var isObject = require_is_object();
      var create = require_object_create();
      var setPrototypeOf = require_object_set_prototype_of();
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var typedArrayFrom = require_typed_array_from();
      var forEach = require_array_iteration().forEach;
      var setSpecies = require_set_species();
      var definePropertyModule = require_object_define_property();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var InternalStateModule = require_internal_state();
      var inheritIfRequired = require_inherit_if_required();
      var getInternalState = InternalStateModule.get;
      var setInternalState = InternalStateModule.set;
      var nativeDefineProperty = definePropertyModule.f;
      var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
      var round = Math.round;
      var RangeError2 = global2.RangeError;
      var ArrayBuffer2 = ArrayBufferModule.ArrayBuffer;
      var DataView2 = ArrayBufferModule.DataView;
      var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;
      var TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;
      var TypedArray = ArrayBufferViewCore.TypedArray;
      var TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var isTypedArray = ArrayBufferViewCore.isTypedArray;
      var BYTES_PER_ELEMENT = "BYTES_PER_ELEMENT";
      var WRONG_LENGTH = "Wrong length";
      var fromList = function(C, list) {
        var index = 0;
        var length = list.length;
        var result = new (aTypedArrayConstructor(C))(length);
        while (length > index)
          result[index] = list[index++];
        return result;
      };
      var addGetter = function(it, key) {
        nativeDefineProperty(it, key, { get: function() {
          return getInternalState(this)[key];
        } });
      };
      var isArrayBuffer = function(it) {
        var klass;
        return it instanceof ArrayBuffer2 || (klass = classof(it)) == "ArrayBuffer" || klass == "SharedArrayBuffer";
      };
      var isTypedArrayIndex = function(target, key) {
        return isTypedArray(target) && typeof key != "symbol" && key in target && String(+key) == String(key);
      };
      var wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {
        return isTypedArrayIndex(target, key = toPrimitive(key, true)) ? createPropertyDescriptor(2, target[key]) : nativeGetOwnPropertyDescriptor(target, key);
      };
      var wrappedDefineProperty = function defineProperty(target, key, descriptor) {
        if (isTypedArrayIndex(target, key = toPrimitive(key, true)) && isObject(descriptor) && has(descriptor, "value") && !has(descriptor, "get") && !has(descriptor, "set") && !descriptor.configurable && (!has(descriptor, "writable") || descriptor.writable) && (!has(descriptor, "enumerable") || descriptor.enumerable)) {
          target[key] = descriptor.value;
          return target;
        }
        return nativeDefineProperty(target, key, descriptor);
      };
      if (DESCRIPTORS) {
        if (!NATIVE_ARRAY_BUFFER_VIEWS) {
          getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;
          definePropertyModule.f = wrappedDefineProperty;
          addGetter(TypedArrayPrototype, "buffer");
          addGetter(TypedArrayPrototype, "byteOffset");
          addGetter(TypedArrayPrototype, "byteLength");
          addGetter(TypedArrayPrototype, "length");
        }
        $({ target: "Object", stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {
          getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,
          defineProperty: wrappedDefineProperty
        });
        module.exports = function(TYPE, wrapper, CLAMPED) {
          var BYTES = TYPE.match(/\d+$/)[0] / 8;
          var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? "Clamped" : "") + "Array";
          var GETTER = "get" + TYPE;
          var SETTER = "set" + TYPE;
          var NativeTypedArrayConstructor = global2[CONSTRUCTOR_NAME];
          var TypedArrayConstructor = NativeTypedArrayConstructor;
          var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;
          var exported = {};
          var getter = function(that, index) {
            var data = getInternalState(that);
            return data.view[GETTER](index * BYTES + data.byteOffset, true);
          };
          var setter = function(that, index, value) {
            var data = getInternalState(that);
            if (CLAMPED)
              value = (value = round(value)) < 0 ? 0 : value > 255 ? 255 : value & 255;
            data.view[SETTER](index * BYTES + data.byteOffset, value, true);
          };
          var addElement = function(that, index) {
            nativeDefineProperty(that, index, {
              get: function() {
                return getter(this, index);
              },
              set: function(value) {
                return setter(this, index, value);
              },
              enumerable: true
            });
          };
          if (!NATIVE_ARRAY_BUFFER_VIEWS) {
            TypedArrayConstructor = wrapper(function(that, data, offset, $length) {
              anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);
              var index = 0;
              var byteOffset = 0;
              var buffer, byteLength, length;
              if (!isObject(data)) {
                length = toIndex(data);
                byteLength = length * BYTES;
                buffer = new ArrayBuffer2(byteLength);
              } else if (isArrayBuffer(data)) {
                buffer = data;
                byteOffset = toOffset(offset, BYTES);
                var $len = data.byteLength;
                if ($length === void 0) {
                  if ($len % BYTES)
                    throw RangeError2(WRONG_LENGTH);
                  byteLength = $len - byteOffset;
                  if (byteLength < 0)
                    throw RangeError2(WRONG_LENGTH);
                } else {
                  byteLength = toLength($length) * BYTES;
                  if (byteLength + byteOffset > $len)
                    throw RangeError2(WRONG_LENGTH);
                }
                length = byteLength / BYTES;
              } else if (isTypedArray(data)) {
                return fromList(TypedArrayConstructor, data);
              } else {
                return typedArrayFrom.call(TypedArrayConstructor, data);
              }
              setInternalState(that, {
                buffer: buffer,
                byteOffset: byteOffset,
                byteLength: byteLength,
                length: length,
                view: new DataView2(buffer)
              });
              while (index < length)
                addElement(that, index++);
            });
            if (setPrototypeOf)
              setPrototypeOf(TypedArrayConstructor, TypedArray);
            TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);
          } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {
            TypedArrayConstructor = wrapper(function(dummy, data, typedArrayOffset, $length) {
              anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);
              return inheritIfRequired(function() {
                if (!isObject(data))
                  return new NativeTypedArrayConstructor(toIndex(data));
                if (isArrayBuffer(data))
                  return $length !== void 0 ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length) : typedArrayOffset !== void 0 ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES)) : new NativeTypedArrayConstructor(data);
                if (isTypedArray(data))
                  return fromList(TypedArrayConstructor, data);
                return typedArrayFrom.call(TypedArrayConstructor, data);
              }(), dummy, TypedArrayConstructor);
            });
            if (setPrototypeOf)
              setPrototypeOf(TypedArrayConstructor, TypedArray);
            forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function(key) {
              if (!(key in TypedArrayConstructor)) {
                createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);
              }
            });
            TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;
          }
          if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {
            createNonEnumerableProperty(TypedArrayConstructorPrototype, "constructor", TypedArrayConstructor);
          }
          if (TYPED_ARRAY_TAG) {
            createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);
          }
          exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;
          $({
            global: true,
            forced: TypedArrayConstructor != NativeTypedArrayConstructor,
            sham: !NATIVE_ARRAY_BUFFER_VIEWS
          }, exported);
          if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {
            createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);
          }
          if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {
            createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);
          }
          setSpecies(CONSTRUCTOR_NAME);
        };
      } else
        module.exports = function() {
        };
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.int8-array.js
  var require_es_typed_array_int8_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.int8-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Int8", function(init) {
        return function Int8Array2(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint8-array.js
  var require_es_typed_array_uint8_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint8-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint8", function(init) {
        return function Uint8Array2(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js
  var require_es_typed_array_uint8_clamped_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint8", function(init) {
        return function Uint8ClampedArray(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      }, true);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.int16-array.js
  var require_es_typed_array_int16_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.int16-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Int16", function(init) {
        return function Int16Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint16-array.js
  var require_es_typed_array_uint16_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint16-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint16", function(init) {
        return function Uint16Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.int32-array.js
  var require_es_typed_array_int32_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.int32-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Int32", function(init) {
        return function Int32Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint32-array.js
  var require_es_typed_array_uint32_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint32-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint32", function(init) {
        return function Uint32Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.float32-array.js
  var require_es_typed_array_float32_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.float32-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Float32", function(init) {
        return function Float32Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.float64-array.js
  var require_es_typed_array_float64_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.float64-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Float64", function(init) {
        return function Float64Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.from.js
  var require_es_typed_array_from = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.from.js": function() {
      "use strict";
      var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require_typed_array_constructors_require_wrappers();
      var exportTypedArrayStaticMethod = require_array_buffer_view_core().exportTypedArrayStaticMethod;
      var typedArrayFrom = require_typed_array_from();
      exportTypedArrayStaticMethod("from", typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.of.js
  var require_es_typed_array_of = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.of.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require_typed_array_constructors_require_wrappers();
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayStaticMethod = ArrayBufferViewCore.exportTypedArrayStaticMethod;
      exportTypedArrayStaticMethod("of", function of() {
        var index = 0;
        var length = arguments.length;
        var result = new (aTypedArrayConstructor(this))(length);
        while (length > index)
          result[index] = arguments[index++];
        return result;
      }, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.copy-within.js
  var require_es_typed_array_copy_within = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.copy-within.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $copyWithin = require_array_copy_within();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("copyWithin", function copyWithin(target, start) {
        return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.every.js
  var require_es_typed_array_every = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.every.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $every = require_array_iteration().every;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("every", function every(callbackfn) {
        return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.fill.js
  var require_es_typed_array_fill = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.fill.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $fill = require_array_fill();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("fill", function fill(value) {
        return $fill.apply(aTypedArray(this), arguments);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.filter.js
  var require_es_typed_array_filter = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.filter.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $filter = require_array_iteration().filter;
      var speciesConstructor = require_species_constructor();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("filter", function filter(callbackfn) {
        var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        var C = speciesConstructor(this, this.constructor);
        var index = 0;
        var length = list.length;
        var result = new (aTypedArrayConstructor(C))(length);
        while (length > index)
          result[index] = list[index++];
        return result;
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.find.js
  var require_es_typed_array_find = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.find.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $find = require_array_iteration().find;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("find", function find(predicate) {
        return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.find-index.js
  var require_es_typed_array_find_index = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.find-index.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $findIndex = require_array_iteration().findIndex;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("findIndex", function findIndex(predicate) {
        return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.for-each.js
  var require_es_typed_array_for_each = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.for-each.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $forEach = require_array_iteration().forEach;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("forEach", function forEach(callbackfn) {
        $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.includes.js
  var require_es_typed_array_includes = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.includes.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $includes = require_array_includes().includes;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("includes", function includes(searchElement) {
        return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.index-of.js
  var require_es_typed_array_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.index-of.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $indexOf = require_array_includes().indexOf;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("indexOf", function indexOf(searchElement) {
        return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.iterator.js
  var require_es_typed_array_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.iterator.js": function() {
      "use strict";
      var global2 = require_global();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var ArrayIterators = require_es_array_iterator();
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      var Uint8Array2 = global2.Uint8Array;
      var arrayValues = ArrayIterators.values;
      var arrayKeys = ArrayIterators.keys;
      var arrayEntries = ArrayIterators.entries;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var nativeTypedArrayIterator = Uint8Array2 && Uint8Array2.prototype[ITERATOR];
      var CORRECT_ITER_NAME = !!nativeTypedArrayIterator && (nativeTypedArrayIterator.name == "values" || nativeTypedArrayIterator.name == void 0);
      var typedArrayValues = function values() {
        return arrayValues.call(aTypedArray(this));
      };
      exportTypedArrayMethod("entries", function entries() {
        return arrayEntries.call(aTypedArray(this));
      });
      exportTypedArrayMethod("keys", function keys() {
        return arrayKeys.call(aTypedArray(this));
      });
      exportTypedArrayMethod("values", typedArrayValues, !CORRECT_ITER_NAME);
      exportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.join.js
  var require_es_typed_array_join = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.join.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $join = [].join;
      exportTypedArrayMethod("join", function join(separator) {
        return $join.apply(aTypedArray(this), arguments);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.last-index-of.js
  var require_es_typed_array_last_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.last-index-of.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $lastIndexOf = require_array_last_index_of();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("lastIndexOf", function lastIndexOf(searchElement) {
        return $lastIndexOf.apply(aTypedArray(this), arguments);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.map.js
  var require_es_typed_array_map = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.map.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $map = require_array_iteration().map;
      var speciesConstructor = require_species_constructor();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("map", function map(mapfn) {
        return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : void 0, function(O, length) {
          return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);
        });
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.reduce.js
  var require_es_typed_array_reduce = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.reduce.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $reduce = require_array_reduce().left;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("reduce", function reduce(callbackfn) {
        return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.reduce-right.js
  var require_es_typed_array_reduce_right = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.reduce-right.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $reduceRight = require_array_reduce().right;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("reduceRight", function reduceRight(callbackfn) {
        return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.reverse.js
  var require_es_typed_array_reverse = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.reverse.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var floor = Math.floor;
      exportTypedArrayMethod("reverse", function reverse() {
        var that = this;
        var length = aTypedArray(that).length;
        var middle = floor(length / 2);
        var index = 0;
        var value;
        while (index < middle) {
          value = that[index];
          that[index++] = that[--length];
          that[length] = value;
        }
        return that;
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.set.js
  var require_es_typed_array_set = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.set.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var toLength = require_to_length();
      var toOffset = require_to_offset();
      var toObject = require_to_object();
      var fails = require_fails();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var FORCED = fails(function() {
        new Int8Array(1).set({});
      });
      exportTypedArrayMethod("set", function set(arrayLike) {
        aTypedArray(this);
        var offset = toOffset(arguments.length > 1 ? arguments[1] : void 0, 1);
        var length = this.length;
        var src = toObject(arrayLike);
        var len = toLength(src.length);
        var index = 0;
        if (len + offset > length)
          throw RangeError("Wrong length");
        while (index < len)
          this[offset + index] = src[index++];
      }, FORCED);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.slice.js
  var require_es_typed_array_slice = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.slice.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var speciesConstructor = require_species_constructor();
      var fails = require_fails();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $slice = [].slice;
      var FORCED = fails(function() {
        new Int8Array(1).slice();
      });
      exportTypedArrayMethod("slice", function slice(start, end) {
        var list = $slice.call(aTypedArray(this), start, end);
        var C = speciesConstructor(this, this.constructor);
        var index = 0;
        var length = list.length;
        var result = new (aTypedArrayConstructor(C))(length);
        while (length > index)
          result[index] = list[index++];
        return result;
      }, FORCED);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.some.js
  var require_es_typed_array_some = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.some.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $some = require_array_iteration().some;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("some", function some(callbackfn) {
        return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.sort.js
  var require_es_typed_array_sort = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.sort.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $sort = [].sort;
      exportTypedArrayMethod("sort", function sort(comparefn) {
        return $sort.call(aTypedArray(this), comparefn);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.subarray.js
  var require_es_typed_array_subarray = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.subarray.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var toLength = require_to_length();
      var toAbsoluteIndex = require_to_absolute_index();
      var speciesConstructor = require_species_constructor();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("subarray", function subarray(begin, end) {
        var O = aTypedArray(this);
        var length = O.length;
        var beginIndex = toAbsoluteIndex(begin, length);
        return new (speciesConstructor(O, O.constructor))(O.buffer, O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT, toLength((end === void 0 ? length : toAbsoluteIndex(end, length)) - beginIndex));
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.to-locale-string.js
  var require_es_typed_array_to_locale_string = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.to-locale-string.js": function() {
      "use strict";
      var global2 = require_global();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var fails = require_fails();
      var Int8Array2 = global2.Int8Array;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $toLocaleString = [].toLocaleString;
      var $slice = [].slice;
      var TO_LOCALE_STRING_BUG = !!Int8Array2 && fails(function() {
        $toLocaleString.call(new Int8Array2(1));
      });
      var FORCED = fails(function() {
        return [1, 2].toLocaleString() != new Int8Array2([1, 2]).toLocaleString();
      }) || !fails(function() {
        Int8Array2.prototype.toLocaleString.call([1, 2]);
      });
      exportTypedArrayMethod("toLocaleString", function toLocaleString() {
        return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);
      }, FORCED);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.to-string.js
  var require_es_typed_array_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.to-string.js": function() {
      "use strict";
      var exportTypedArrayMethod = require_array_buffer_view_core().exportTypedArrayMethod;
      var fails = require_fails();
      var global2 = require_global();
      var Uint8Array2 = global2.Uint8Array;
      var Uint8ArrayPrototype = Uint8Array2 && Uint8Array2.prototype || {};
      var arrayToString = [].toString;
      var arrayJoin = [].join;
      if (fails(function() {
        arrayToString.call({});
      })) {
        arrayToString = function toString() {
          return arrayJoin.call(this);
        };
      }
      var IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;
      exportTypedArrayMethod("toString", arrayToString, IS_NOT_ARRAY_METHOD);
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.apply.js
  var require_es_reflect_apply = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.apply.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var aFunction = require_a_function();
      var anObject = require_an_object();
      var fails = require_fails();
      var nativeApply = getBuiltIn("Reflect", "apply");
      var functionApply = Function.apply;
      var OPTIONAL_ARGUMENTS_LIST = !fails(function() {
        nativeApply(function() {
        });
      });
      $({ target: "Reflect", stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {
        apply: function apply(target, thisArgument, argumentsList) {
          aFunction(target);
          anObject(argumentsList);
          return nativeApply ? nativeApply(target, thisArgument, argumentsList) : functionApply.call(target, thisArgument, argumentsList);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.construct.js
  var require_es_reflect_construct = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.construct.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var aFunction = require_a_function();
      var anObject = require_an_object();
      var isObject = require_is_object();
      var create = require_object_create();
      var bind = require_function_bind();
      var fails = require_fails();
      var nativeConstruct = getBuiltIn("Reflect", "construct");
      var NEW_TARGET_BUG = fails(function() {
        function F() {
        }
        return !(nativeConstruct(function() {
        }, [], F) instanceof F);
      });
      var ARGS_BUG = !fails(function() {
        nativeConstruct(function() {
        });
      });
      var FORCED = NEW_TARGET_BUG || ARGS_BUG;
      $({ target: "Reflect", stat: true, forced: FORCED, sham: FORCED }, {
        construct: function construct(Target, args) {
          aFunction(Target);
          anObject(args);
          var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);
          if (ARGS_BUG && !NEW_TARGET_BUG)
            return nativeConstruct(Target, args, newTarget);
          if (Target == newTarget) {
            switch (args.length) {
              case 0:
                return new Target();
              case 1:
                return new Target(args[0]);
              case 2:
                return new Target(args[0], args[1]);
              case 3:
                return new Target(args[0], args[1], args[2]);
              case 4:
                return new Target(args[0], args[1], args[2], args[3]);
            }
            var $args = [null];
            $args.push.apply($args, args);
            return new (bind.apply(Target, $args))();
          }
          var proto = newTarget.prototype;
          var instance = create(isObject(proto) ? proto : Object.prototype);
          var result = Function.apply.call(Target, instance, args);
          return isObject(result) ? result : instance;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.define-property.js
  var require_es_reflect_define_property = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.define-property.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var anObject = require_an_object();
      var toPrimitive = require_to_primitive();
      var definePropertyModule = require_object_define_property();
      var fails = require_fails();
      var ERROR_INSTEAD_OF_FALSE = fails(function() {
        Reflect.defineProperty(definePropertyModule.f({}, 1, { value: 1 }), 1, { value: 2 });
      });
      $({ target: "Reflect", stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS }, {
        defineProperty: function defineProperty(target, propertyKey, attributes) {
          anObject(target);
          var key = toPrimitive(propertyKey, true);
          anObject(attributes);
          try {
            definePropertyModule.f(target, key, attributes);
            return true;
          } catch (error) {
            return false;
          }
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.delete-property.js
  var require_es_reflect_delete_property = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.delete-property.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      $({ target: "Reflect", stat: true }, {
        deleteProperty: function deleteProperty(target, propertyKey) {
          var descriptor = getOwnPropertyDescriptor(anObject(target), propertyKey);
          return descriptor && !descriptor.configurable ? false : delete target[propertyKey];
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.get.js
  var require_es_reflect_get = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.get.js": function() {
      var $ = require_export();
      var isObject = require_is_object();
      var anObject = require_an_object();
      var has = require_has();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var getPrototypeOf = require_object_get_prototype_of();
      function get(target, propertyKey) {
        var receiver = arguments.length < 3 ? target : arguments[2];
        var descriptor, prototype;
        if (anObject(target) === receiver)
          return target[propertyKey];
        if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey))
          return has(descriptor, "value") ? descriptor.value : descriptor.get === void 0 ? void 0 : descriptor.get.call(receiver);
        if (isObject(prototype = getPrototypeOf(target)))
          return get(prototype, propertyKey, receiver);
      }
      $({ target: "Reflect", stat: true }, {
        get: get
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js
  var require_es_reflect_get_own_property_descriptor = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var anObject = require_an_object();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      $({ target: "Reflect", stat: true, sham: !DESCRIPTORS }, {
        getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
          return getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.get-prototype-of.js
  var require_es_reflect_get_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.get-prototype-of.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var objectGetPrototypeOf = require_object_get_prototype_of();
      var CORRECT_PROTOTYPE_GETTER = require_correct_prototype_getter();
      $({ target: "Reflect", stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {
        getPrototypeOf: function getPrototypeOf(target) {
          return objectGetPrototypeOf(anObject(target));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.has.js
  var require_es_reflect_has = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.has.js": function() {
      var $ = require_export();
      $({ target: "Reflect", stat: true }, {
        has: function has(target, propertyKey) {
          return propertyKey in target;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.is-extensible.js
  var require_es_reflect_is_extensible = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.is-extensible.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var objectIsExtensible = Object.isExtensible;
      $({ target: "Reflect", stat: true }, {
        isExtensible: function isExtensible(target) {
          anObject(target);
          return objectIsExtensible ? objectIsExtensible(target) : true;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.own-keys.js
  var require_es_reflect_own_keys = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.own-keys.js": function() {
      var $ = require_export();
      var ownKeys = require_own_keys();
      $({ target: "Reflect", stat: true }, {
        ownKeys: ownKeys
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.prevent-extensions.js
  var require_es_reflect_prevent_extensions = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.prevent-extensions.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var anObject = require_an_object();
      var FREEZING = require_freezing();
      $({ target: "Reflect", stat: true, sham: !FREEZING }, {
        preventExtensions: function preventExtensions(target) {
          anObject(target);
          try {
            var objectPreventExtensions = getBuiltIn("Object", "preventExtensions");
            if (objectPreventExtensions)
              objectPreventExtensions(target);
            return true;
          } catch (error) {
            return false;
          }
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.set.js
  var require_es_reflect_set = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.set.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var isObject = require_is_object();
      var has = require_has();
      var fails = require_fails();
      var definePropertyModule = require_object_define_property();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var getPrototypeOf = require_object_get_prototype_of();
      var createPropertyDescriptor = require_create_property_descriptor();
      function set(target, propertyKey, V) {
        var receiver = arguments.length < 4 ? target : arguments[3];
        var ownDescriptor = getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);
        var existingDescriptor, prototype;
        if (!ownDescriptor) {
          if (isObject(prototype = getPrototypeOf(target))) {
            return set(prototype, propertyKey, V, receiver);
          }
          ownDescriptor = createPropertyDescriptor(0);
        }
        if (has(ownDescriptor, "value")) {
          if (ownDescriptor.writable === false || !isObject(receiver))
            return false;
          if (existingDescriptor = getOwnPropertyDescriptorModule.f(receiver, propertyKey)) {
            if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false)
              return false;
            existingDescriptor.value = V;
            definePropertyModule.f(receiver, propertyKey, existingDescriptor);
          } else
            definePropertyModule.f(receiver, propertyKey, createPropertyDescriptor(0, V));
          return true;
        }
        return ownDescriptor.set === void 0 ? false : (ownDescriptor.set.call(receiver, V), true);
      }
      var MS_EDGE_BUG = fails(function() {
        var object = definePropertyModule.f({}, "a", { configurable: true });
        return Reflect.set(getPrototypeOf(object), "a", 1, object) !== false;
      });
      $({ target: "Reflect", stat: true, forced: MS_EDGE_BUG }, {
        set: set
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.set-prototype-of.js
  var require_es_reflect_set_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.set-prototype-of.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var aPossiblePrototype = require_a_possible_prototype();
      var objectSetPrototypeOf = require_object_set_prototype_of();
      if (objectSetPrototypeOf)
        $({ target: "Reflect", stat: true }, {
          setPrototypeOf: function setPrototypeOf(target, proto) {
            anObject(target);
            aPossiblePrototype(proto);
            try {
              objectSetPrototypeOf(target, proto);
              return true;
            } catch (error) {
              return false;
            }
          }
        });
    }
  });

  // ../../node_modules/core-js/es/index.js
  var require_es = __commonJS({
    "../../node_modules/core-js/es/index.js": function(exports, module) {
      require_es_symbol();
      require_es_symbol_async_iterator();
      require_es_symbol_description();
      require_es_symbol_has_instance();
      require_es_symbol_is_concat_spreadable();
      require_es_symbol_iterator();
      require_es_symbol_match();
      require_es_symbol_match_all();
      require_es_symbol_replace();
      require_es_symbol_search();
      require_es_symbol_species();
      require_es_symbol_split();
      require_es_symbol_to_primitive();
      require_es_symbol_to_string_tag();
      require_es_symbol_unscopables();
      require_es_object_assign();
      require_es_object_create();
      require_es_object_define_property();
      require_es_object_define_properties();
      require_es_object_entries();
      require_es_object_freeze();
      require_es_object_from_entries();
      require_es_object_get_own_property_descriptor();
      require_es_object_get_own_property_descriptors();
      require_es_object_get_own_property_names();
      require_es_object_get_prototype_of();
      require_es_object_is();
      require_es_object_is_extensible();
      require_es_object_is_frozen();
      require_es_object_is_sealed();
      require_es_object_keys();
      require_es_object_prevent_extensions();
      require_es_object_seal();
      require_es_object_set_prototype_of();
      require_es_object_values();
      require_es_object_to_string();
      require_es_object_define_getter();
      require_es_object_define_setter();
      require_es_object_lookup_getter();
      require_es_object_lookup_setter();
      require_es_function_bind();
      require_es_function_name();
      require_es_function_has_instance();
      require_es_global_this();
      require_es_array_from();
      require_es_array_is_array();
      require_es_array_of();
      require_es_array_concat();
      require_es_array_copy_within();
      require_es_array_every();
      require_es_array_fill();
      require_es_array_filter();
      require_es_array_find();
      require_es_array_find_index();
      require_es_array_flat();
      require_es_array_flat_map();
      require_es_array_for_each();
      require_es_array_includes();
      require_es_array_index_of();
      require_es_array_join();
      require_es_array_last_index_of();
      require_es_array_map();
      require_es_array_reduce();
      require_es_array_reduce_right();
      require_es_array_reverse();
      require_es_array_slice();
      require_es_array_some();
      require_es_array_sort();
      require_es_array_splice();
      require_es_array_species();
      require_es_array_unscopables_flat();
      require_es_array_unscopables_flat_map();
      require_es_array_iterator();
      require_es_string_from_code_point();
      require_es_string_raw();
      require_es_string_code_point_at();
      require_es_string_ends_with();
      require_es_string_includes();
      require_es_string_match();
      require_es_string_match_all();
      require_es_string_pad_end();
      require_es_string_pad_start();
      require_es_string_repeat();
      require_es_string_replace();
      require_es_string_search();
      require_es_string_split();
      require_es_string_starts_with();
      require_es_string_trim();
      require_es_string_trim_start();
      require_es_string_trim_end();
      require_es_string_iterator();
      require_es_string_anchor();
      require_es_string_big();
      require_es_string_blink();
      require_es_string_bold();
      require_es_string_fixed();
      require_es_string_fontcolor();
      require_es_string_fontsize();
      require_es_string_italics();
      require_es_string_link();
      require_es_string_small();
      require_es_string_strike();
      require_es_string_sub();
      require_es_string_sup();
      require_es_regexp_constructor();
      require_es_regexp_exec();
      require_es_regexp_flags();
      require_es_regexp_sticky();
      require_es_regexp_test();
      require_es_regexp_to_string();
      require_es_parse_int();
      require_es_parse_float();
      require_es_number_constructor();
      require_es_number_epsilon();
      require_es_number_is_finite();
      require_es_number_is_integer();
      require_es_number_is_nan();
      require_es_number_is_safe_integer();
      require_es_number_max_safe_integer();
      require_es_number_min_safe_integer();
      require_es_number_parse_float();
      require_es_number_parse_int();
      require_es_number_to_fixed();
      require_es_number_to_precision();
      require_es_math_acosh();
      require_es_math_asinh();
      require_es_math_atanh();
      require_es_math_cbrt();
      require_es_math_clz32();
      require_es_math_cosh();
      require_es_math_expm1();
      require_es_math_fround();
      require_es_math_hypot();
      require_es_math_imul();
      require_es_math_log10();
      require_es_math_log1p();
      require_es_math_log2();
      require_es_math_sign();
      require_es_math_sinh();
      require_es_math_tanh();
      require_es_math_to_string_tag();
      require_es_math_trunc();
      require_es_date_now();
      require_es_date_to_json();
      require_es_date_to_iso_string();
      require_es_date_to_string();
      require_es_date_to_primitive();
      require_es_json_stringify();
      require_es_json_to_string_tag();
      require_es_promise();
      require_es_promise_all_settled();
      require_es_promise_finally();
      require_es_map();
      require_es_set();
      require_es_weak_map();
      require_es_weak_set();
      require_es_array_buffer_constructor();
      require_es_array_buffer_is_view();
      require_es_array_buffer_slice();
      require_es_data_view();
      require_es_typed_array_int8_array();
      require_es_typed_array_uint8_array();
      require_es_typed_array_uint8_clamped_array();
      require_es_typed_array_int16_array();
      require_es_typed_array_uint16_array();
      require_es_typed_array_int32_array();
      require_es_typed_array_uint32_array();
      require_es_typed_array_float32_array();
      require_es_typed_array_float64_array();
      require_es_typed_array_from();
      require_es_typed_array_of();
      require_es_typed_array_copy_within();
      require_es_typed_array_every();
      require_es_typed_array_fill();
      require_es_typed_array_filter();
      require_es_typed_array_find();
      require_es_typed_array_find_index();
      require_es_typed_array_for_each();
      require_es_typed_array_includes();
      require_es_typed_array_index_of();
      require_es_typed_array_iterator();
      require_es_typed_array_join();
      require_es_typed_array_last_index_of();
      require_es_typed_array_map();
      require_es_typed_array_reduce();
      require_es_typed_array_reduce_right();
      require_es_typed_array_reverse();
      require_es_typed_array_set();
      require_es_typed_array_slice();
      require_es_typed_array_some();
      require_es_typed_array_sort();
      require_es_typed_array_subarray();
      require_es_typed_array_to_locale_string();
      require_es_typed_array_to_string();
      require_es_reflect_apply();
      require_es_reflect_construct();
      require_es_reflect_define_property();
      require_es_reflect_delete_property();
      require_es_reflect_get();
      require_es_reflect_get_own_property_descriptor();
      require_es_reflect_get_prototype_of();
      require_es_reflect_has();
      require_es_reflect_is_extensible();
      require_es_reflect_own_keys();
      require_es_reflect_prevent_extensions();
      require_es_reflect_set();
      require_es_reflect_set_prototype_of();
      var path = require_path();
      module.exports = path;
    }
  });

  // ../../node_modules/core-js/internals/dom-iterables.js
  var require_dom_iterables = __commonJS({
    "../../node_modules/core-js/internals/dom-iterables.js": function(exports, module) {
      module.exports = {
        CSSRuleList: 0,
        CSSStyleDeclaration: 0,
        CSSValueList: 0,
        ClientRectList: 0,
        DOMRectList: 0,
        DOMStringList: 0,
        DOMTokenList: 1,
        DataTransferItemList: 0,
        FileList: 0,
        HTMLAllCollection: 0,
        HTMLCollection: 0,
        HTMLFormElement: 0,
        HTMLSelectElement: 0,
        MediaList: 0,
        MimeTypeArray: 0,
        NamedNodeMap: 0,
        NodeList: 1,
        PaintRequestList: 0,
        Plugin: 0,
        PluginArray: 0,
        SVGLengthList: 0,
        SVGNumberList: 0,
        SVGPathSegList: 0,
        SVGPointList: 0,
        SVGStringList: 0,
        SVGTransformList: 0,
        SourceBufferList: 0,
        StyleSheetList: 0,
        TextTrackCueList: 0,
        TextTrackList: 0,
        TouchList: 0
      };
    }
  });

  // ../../node_modules/core-js/modules/web.dom-collections.for-each.js
  var require_web_dom_collections_for_each = __commonJS({
    "../../node_modules/core-js/modules/web.dom-collections.for-each.js": function() {
      var global2 = require_global();
      var DOMIterables = require_dom_iterables();
      var forEach = require_array_for_each();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      for (COLLECTION_NAME in DOMIterables) {
        Collection = global2[COLLECTION_NAME];
        CollectionPrototype = Collection && Collection.prototype;
        if (CollectionPrototype && CollectionPrototype.forEach !== forEach)
          try {
            createNonEnumerableProperty(CollectionPrototype, "forEach", forEach);
          } catch (error) {
            CollectionPrototype.forEach = forEach;
          }
      }
      var Collection;
      var CollectionPrototype;
      var COLLECTION_NAME;
    }
  });

  // ../../node_modules/core-js/modules/web.dom-collections.iterator.js
  var require_web_dom_collections_iterator = __commonJS({
    "../../node_modules/core-js/modules/web.dom-collections.iterator.js": function() {
      var global2 = require_global();
      var DOMIterables = require_dom_iterables();
      var ArrayIteratorMethods = require_es_array_iterator();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var ArrayValues = ArrayIteratorMethods.values;
      for (COLLECTION_NAME in DOMIterables) {
        Collection = global2[COLLECTION_NAME];
        CollectionPrototype = Collection && Collection.prototype;
        if (CollectionPrototype) {
          if (CollectionPrototype[ITERATOR] !== ArrayValues)
            try {
              createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);
            } catch (error) {
              CollectionPrototype[ITERATOR] = ArrayValues;
            }
          if (!CollectionPrototype[TO_STRING_TAG]) {
            createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
          }
          if (DOMIterables[COLLECTION_NAME])
            for (METHOD_NAME in ArrayIteratorMethods) {
              if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME])
                try {
                  createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);
                } catch (error) {
                  CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];
                }
            }
        }
      }
      var Collection;
      var CollectionPrototype;
      var METHOD_NAME;
      var COLLECTION_NAME;
    }
  });

  // ../../node_modules/core-js/modules/web.immediate.js
  var require_web_immediate = __commonJS({
    "../../node_modules/core-js/modules/web.immediate.js": function() {
      var $ = require_export();
      var global2 = require_global();
      var task = require_task();
      var FORCED = !global2.setImmediate || !global2.clearImmediate;
      $({ global: true, bind: true, enumerable: true, forced: FORCED }, {
        setImmediate: task.set,
        clearImmediate: task.clear
      });
    }
  });

  // ../../node_modules/core-js/modules/web.queue-microtask.js
  var require_web_queue_microtask = __commonJS({
    "../../node_modules/core-js/modules/web.queue-microtask.js": function() {
      var $ = require_export();
      var global2 = require_global();
      var microtask = require_microtask();
      var classof = require_classof_raw();
      var process = global2.process;
      var isNode = classof(process) == "process";
      $({ global: true, enumerable: true, noTargetGet: true }, {
        queueMicrotask: function queueMicrotask(fn) {
          var domain = isNode && process.domain;
          microtask(domain ? domain.bind(fn) : fn);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/web.timers.js
  var require_web_timers = __commonJS({
    "../../node_modules/core-js/modules/web.timers.js": function() {
      var $ = require_export();
      var global2 = require_global();
      var userAgent = require_engine_user_agent();
      var slice = [].slice;
      var MSIE = /MSIE .\./.test(userAgent);
      var wrap = function(scheduler) {
        return function(handler, timeout) {
          var boundArgs = arguments.length > 2;
          var args = boundArgs ? slice.call(arguments, 2) : void 0;
          return scheduler(boundArgs ? function() {
            (typeof handler == "function" ? handler : Function(handler)).apply(this, args);
          } : handler, timeout);
        };
      };
      $({ global: true, bind: true, forced: MSIE }, {
        setTimeout: wrap(global2.setTimeout),
        setInterval: wrap(global2.setInterval)
      });
    }
  });

  // ../../node_modules/core-js/internals/native-url.js
  var require_native_url = __commonJS({
    "../../node_modules/core-js/internals/native-url.js": function(exports, module) {
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var IS_PURE = require_is_pure();
      var ITERATOR = wellKnownSymbol("iterator");
      module.exports = !fails(function() {
        var url = new URL("b?a=1&b=2&c=3", "http://a");
        var searchParams = url.searchParams;
        var result = "";
        url.pathname = "c%20d";
        searchParams.forEach(function(value, key) {
          searchParams["delete"]("b");
          result += key + value;
        });
        return IS_PURE && !url.toJSON || !searchParams.sort || url.href !== "http://a/c%20d?a=1&c=3" || searchParams.get("c") !== "3" || String(new URLSearchParams("?a=1")) !== "a=1" || !searchParams[ITERATOR] || new URL("https://a@b").username !== "a" || new URLSearchParams(new URLSearchParams("a=b")).get("a") !== "b" || new URL("http://\u0442\u0435\u0441\u0442").host !== "xn--e1aybc" || new URL("http://a#\u0431").hash !== "#%D0%B1" || result !== "a1c3" || new URL("http://x", void 0).host !== "x";
      });
    }
  });

  // ../../node_modules/core-js/internals/string-punycode-to-ascii.js
  var require_string_punycode_to_ascii = __commonJS({
    "../../node_modules/core-js/internals/string-punycode-to-ascii.js": function(exports, module) {
      "use strict";
      var maxInt = 2147483647;
      var base = 36;
      var tMin = 1;
      var tMax = 26;
      var skew = 38;
      var damp = 700;
      var initialBias = 72;
      var initialN = 128;
      var delimiter = "-";
      var regexNonASCII = /[^\0-\u007E]/;
      var regexSeparators = /[.\u3002\uFF0E\uFF61]/g;
      var OVERFLOW_ERROR = "Overflow: input needs wider integers to process";
      var baseMinusTMin = base - tMin;
      var floor = Math.floor;
      var stringFromCharCode = String.fromCharCode;
      var ucs2decode = function(string) {
        var output = [];
        var counter = 0;
        var length = string.length;
        while (counter < length) {
          var value = string.charCodeAt(counter++);
          if (value >= 55296 && value <= 56319 && counter < length) {
            var extra = string.charCodeAt(counter++);
            if ((extra & 64512) == 56320) {
              output.push(((value & 1023) << 10) + (extra & 1023) + 65536);
            } else {
              output.push(value);
              counter--;
            }
          } else {
            output.push(value);
          }
        }
        return output;
      };
      var digitToBasic = function(digit) {
        return digit + 22 + 75 * (digit < 26);
      };
      var adapt = function(delta, numPoints, firstTime) {
        var k = 0;
        delta = firstTime ? floor(delta / damp) : delta >> 1;
        delta += floor(delta / numPoints);
        for (; delta > baseMinusTMin * tMax >> 1; k += base) {
          delta = floor(delta / baseMinusTMin);
        }
        return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
      };
      var encode = function(input) {
        var output = [];
        input = ucs2decode(input);
        var inputLength = input.length;
        var n = initialN;
        var delta = 0;
        var bias = initialBias;
        var i, currentValue;
        for (i = 0; i < input.length; i++) {
          currentValue = input[i];
          if (currentValue < 128) {
            output.push(stringFromCharCode(currentValue));
          }
        }
        var basicLength = output.length;
        var handledCPCount = basicLength;
        if (basicLength) {
          output.push(delimiter);
        }
        while (handledCPCount < inputLength) {
          var m = maxInt;
          for (i = 0; i < input.length; i++) {
            currentValue = input[i];
            if (currentValue >= n && currentValue < m) {
              m = currentValue;
            }
          }
          var handledCPCountPlusOne = handledCPCount + 1;
          if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
            throw RangeError(OVERFLOW_ERROR);
          }
          delta += (m - n) * handledCPCountPlusOne;
          n = m;
          for (i = 0; i < input.length; i++) {
            currentValue = input[i];
            if (currentValue < n && ++delta > maxInt) {
              throw RangeError(OVERFLOW_ERROR);
            }
            if (currentValue == n) {
              var q = delta;
              for (var k = base; ; k += base) {
                var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
                if (q < t)
                  break;
                var qMinusT = q - t;
                var baseMinusT = base - t;
                output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));
                q = floor(qMinusT / baseMinusT);
              }
              output.push(stringFromCharCode(digitToBasic(q)));
              bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
              delta = 0;
              ++handledCPCount;
            }
          }
          ++delta;
          ++n;
        }
        return output.join("");
      };
      module.exports = function(input) {
        var encoded = [];
        var labels = input.toLowerCase().replace(regexSeparators, ".").split(".");
        var i, label;
        for (i = 0; i < labels.length; i++) {
          label = labels[i];
          encoded.push(regexNonASCII.test(label) ? "xn--" + encode(label) : label);
        }
        return encoded.join(".");
      };
    }
  });

  // ../../node_modules/core-js/internals/get-iterator.js
  var require_get_iterator = __commonJS({
    "../../node_modules/core-js/internals/get-iterator.js": function(exports, module) {
      var anObject = require_an_object();
      var getIteratorMethod = require_get_iterator_method();
      module.exports = function(it) {
        var iteratorMethod = getIteratorMethod(it);
        if (typeof iteratorMethod != "function") {
          throw TypeError(String(it) + " is not iterable");
        }
        return anObject(iteratorMethod.call(it));
      };
    }
  });

  // ../../node_modules/core-js/modules/web.url-search-params.js
  var require_web_url_search_params = __commonJS({
    "../../node_modules/core-js/modules/web.url-search-params.js": function(exports, module) {
      "use strict";
      require_es_array_iterator();
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var USE_NATIVE_URL = require_native_url();
      var redefine = require_redefine();
      var redefineAll = require_redefine_all();
      var setToStringTag = require_set_to_string_tag();
      var createIteratorConstructor = require_create_iterator_constructor();
      var InternalStateModule = require_internal_state();
      var anInstance = require_an_instance();
      var hasOwn = require_has();
      var bind = require_function_bind_context();
      var classof = require_classof();
      var anObject = require_an_object();
      var isObject = require_is_object();
      var create = require_object_create();
      var createPropertyDescriptor = require_create_property_descriptor();
      var getIterator = require_get_iterator();
      var getIteratorMethod = require_get_iterator_method();
      var wellKnownSymbol = require_well_known_symbol();
      var $fetch = getBuiltIn("fetch");
      var Headers = getBuiltIn("Headers");
      var ITERATOR = wellKnownSymbol("iterator");
      var URL_SEARCH_PARAMS = "URLSearchParams";
      var URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + "Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);
      var getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);
      var plus = /\+/g;
      var sequences = Array(4);
      var percentSequence = function(bytes) {
        return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp("((?:%[\\da-f]{2}){" + bytes + "})", "gi"));
      };
      var percentDecode = function(sequence) {
        try {
          return decodeURIComponent(sequence);
        } catch (error) {
          return sequence;
        }
      };
      var deserialize = function(it) {
        var result = it.replace(plus, " ");
        var bytes = 4;
        try {
          return decodeURIComponent(result);
        } catch (error) {
          while (bytes) {
            result = result.replace(percentSequence(bytes--), percentDecode);
          }
          return result;
        }
      };
      var find = /[!'()~]|%20/g;
      var replace = {
        "!": "%21",
        "'": "%27",
        "(": "%28",
        ")": "%29",
        "~": "%7E",
        "%20": "+"
      };
      var replacer = function(match) {
        return replace[match];
      };
      var serialize = function(it) {
        return encodeURIComponent(it).replace(find, replacer);
      };
      var parseSearchParams = function(result, query) {
        if (query) {
          var attributes = query.split("&");
          var index = 0;
          var attribute, entry;
          while (index < attributes.length) {
            attribute = attributes[index++];
            if (attribute.length) {
              entry = attribute.split("=");
              result.push({
                key: deserialize(entry.shift()),
                value: deserialize(entry.join("="))
              });
            }
          }
        }
      };
      var updateSearchParams = function(query) {
        this.entries.length = 0;
        parseSearchParams(this.entries, query);
      };
      var validateArgumentsLength = function(passed, required) {
        if (passed < required)
          throw TypeError("Not enough arguments");
      };
      var URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {
        setInternalState(this, {
          type: URL_SEARCH_PARAMS_ITERATOR,
          iterator: getIterator(getInternalParamsState(params).entries),
          kind: kind
        });
      }, "Iterator", function next() {
        var state = getInternalIteratorState(this);
        var kind = state.kind;
        var step = state.iterator.next();
        var entry = step.value;
        if (!step.done) {
          step.value = kind === "keys" ? entry.key : kind === "values" ? entry.value : [entry.key, entry.value];
        }
        return step;
      });
      var URLSearchParamsConstructor = function URLSearchParams2() {
        anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);
        var init = arguments.length > 0 ? arguments[0] : void 0;
        var that = this;
        var entries = [];
        var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;
        setInternalState(that, {
          type: URL_SEARCH_PARAMS,
          entries: entries,
          updateURL: function() {
          },
          updateSearchParams: updateSearchParams
        });
        if (init !== void 0) {
          if (isObject(init)) {
            iteratorMethod = getIteratorMethod(init);
            if (typeof iteratorMethod === "function") {
              iterator = iteratorMethod.call(init);
              next = iterator.next;
              while (!(step = next.call(iterator)).done) {
                entryIterator = getIterator(anObject(step.value));
                entryNext = entryIterator.next;
                if ((first = entryNext.call(entryIterator)).done || (second = entryNext.call(entryIterator)).done || !entryNext.call(entryIterator).done)
                  throw TypeError("Expected sequence with length 2");
                entries.push({ key: first.value + "", value: second.value + "" });
              }
            } else
              for (key in init)
                if (hasOwn(init, key))
                  entries.push({ key: key, value: init[key] + "" });
          } else {
            parseSearchParams(entries, typeof init === "string" ? init.charAt(0) === "?" ? init.slice(1) : init : init + "");
          }
        }
      };
      var URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;
      redefineAll(URLSearchParamsPrototype, {
        append: function append(name, value) {
          validateArgumentsLength(arguments.length, 2);
          var state = getInternalParamsState(this);
          state.entries.push({ key: name + "", value: value + "" });
          state.updateURL();
        },
        "delete": function(name) {
          validateArgumentsLength(arguments.length, 1);
          var state = getInternalParamsState(this);
          var entries = state.entries;
          var key = name + "";
          var index = 0;
          while (index < entries.length) {
            if (entries[index].key === key)
              entries.splice(index, 1);
            else
              index++;
          }
          state.updateURL();
        },
        get: function get(name) {
          validateArgumentsLength(arguments.length, 1);
          var entries = getInternalParamsState(this).entries;
          var key = name + "";
          var index = 0;
          for (; index < entries.length; index++) {
            if (entries[index].key === key)
              return entries[index].value;
          }
          return null;
        },
        getAll: function getAll(name) {
          validateArgumentsLength(arguments.length, 1);
          var entries = getInternalParamsState(this).entries;
          var key = name + "";
          var result = [];
          var index = 0;
          for (; index < entries.length; index++) {
            if (entries[index].key === key)
              result.push(entries[index].value);
          }
          return result;
        },
        has: function has(name) {
          validateArgumentsLength(arguments.length, 1);
          var entries = getInternalParamsState(this).entries;
          var key = name + "";
          var index = 0;
          while (index < entries.length) {
            if (entries[index++].key === key)
              return true;
          }
          return false;
        },
        set: function set(name, value) {
          validateArgumentsLength(arguments.length, 1);
          var state = getInternalParamsState(this);
          var entries = state.entries;
          var found = false;
          var key = name + "";
          var val = value + "";
          var index = 0;
          var entry;
          for (; index < entries.length; index++) {
            entry = entries[index];
            if (entry.key === key) {
              if (found)
                entries.splice(index--, 1);
              else {
                found = true;
                entry.value = val;
              }
            }
          }
          if (!found)
            entries.push({ key: key, value: val });
          state.updateURL();
        },
        sort: function sort() {
          var state = getInternalParamsState(this);
          var entries = state.entries;
          var slice = entries.slice();
          var entry, entriesIndex, sliceIndex;
          entries.length = 0;
          for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {
            entry = slice[sliceIndex];
            for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {
              if (entries[entriesIndex].key > entry.key) {
                entries.splice(entriesIndex, 0, entry);
                break;
              }
            }
            if (entriesIndex === sliceIndex)
              entries.push(entry);
          }
          state.updateURL();
        },
        forEach: function forEach(callback) {
          var entries = getInternalParamsState(this).entries;
          var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : void 0, 3);
          var index = 0;
          var entry;
          while (index < entries.length) {
            entry = entries[index++];
            boundFunction(entry.value, entry.key, this);
          }
        },
        keys: function keys() {
          return new URLSearchParamsIterator(this, "keys");
        },
        values: function values() {
          return new URLSearchParamsIterator(this, "values");
        },
        entries: function entries() {
          return new URLSearchParamsIterator(this, "entries");
        }
      }, { enumerable: true });
      redefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);
      redefine(URLSearchParamsPrototype, "toString", function toString() {
        var entries = getInternalParamsState(this).entries;
        var result = [];
        var index = 0;
        var entry;
        while (index < entries.length) {
          entry = entries[index++];
          result.push(serialize(entry.key) + "=" + serialize(entry.value));
        }
        return result.join("&");
      }, { enumerable: true });
      setToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);
      $({ global: true, forced: !USE_NATIVE_URL }, {
        URLSearchParams: URLSearchParamsConstructor
      });
      if (!USE_NATIVE_URL && typeof $fetch == "function" && typeof Headers == "function") {
        $({ global: true, enumerable: true, forced: true }, {
          fetch: function fetch(input) {
            var args = [input];
            var init, body, headers;
            if (arguments.length > 1) {
              init = arguments[1];
              if (isObject(init)) {
                body = init.body;
                if (classof(body) === URL_SEARCH_PARAMS) {
                  headers = init.headers ? new Headers(init.headers) : new Headers();
                  if (!headers.has("content-type")) {
                    headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
                  }
                  init = create(init, {
                    body: createPropertyDescriptor(0, String(body)),
                    headers: createPropertyDescriptor(0, headers)
                  });
                }
              }
              args.push(init);
            }
            return $fetch.apply(this, args);
          }
        });
      }
      module.exports = {
        URLSearchParams: URLSearchParamsConstructor,
        getState: getInternalParamsState
      };
    }
  });

  // ../../node_modules/core-js/modules/web.url.js
  var require_web_url = __commonJS({
    "../../node_modules/core-js/modules/web.url.js": function() {
      "use strict";
      require_es_string_iterator();
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var USE_NATIVE_URL = require_native_url();
      var global2 = require_global();
      var defineProperties = require_object_define_properties();
      var redefine = require_redefine();
      var anInstance = require_an_instance();
      var has = require_has();
      var assign = require_object_assign2();
      var arrayFrom = require_array_from();
      var codeAt = require_string_multibyte().codeAt;
      var toASCII = require_string_punycode_to_ascii();
      var setToStringTag = require_set_to_string_tag();
      var URLSearchParamsModule = require_web_url_search_params();
      var InternalStateModule = require_internal_state();
      var NativeURL = global2.URL;
      var URLSearchParams2 = URLSearchParamsModule.URLSearchParams;
      var getInternalSearchParamsState = URLSearchParamsModule.getState;
      var setInternalState = InternalStateModule.set;
      var getInternalURLState = InternalStateModule.getterFor("URL");
      var floor = Math.floor;
      var pow = Math.pow;
      var INVALID_AUTHORITY = "Invalid authority";
      var INVALID_SCHEME = "Invalid scheme";
      var INVALID_HOST = "Invalid host";
      var INVALID_PORT = "Invalid port";
      var ALPHA = /[A-Za-z]/;
      var ALPHANUMERIC = /[\d+-.A-Za-z]/;
      var DIGIT = /\d/;
      var HEX_START = /^(0x|0X)/;
      var OCT = /^[0-7]+$/;
      var DEC = /^\d+$/;
      var HEX = /^[\dA-Fa-f]+$/;
      var FORBIDDEN_HOST_CODE_POINT = /[\u0000\u0009\u000A\u000D #%/:?@[\\]]/;
      var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\u0000\u0009\u000A\u000D #/:?@[\\]]/;
      var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;
      var TAB_AND_NEW_LINE = /[\u0009\u000A\u000D]/g;
      var EOF;
      var parseHost = function(url, input) {
        var result, codePoints, index;
        if (input.charAt(0) == "[") {
          if (input.charAt(input.length - 1) != "]")
            return INVALID_HOST;
          result = parseIPv6(input.slice(1, -1));
          if (!result)
            return INVALID_HOST;
          url.host = result;
        } else if (!isSpecial(url)) {
          if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input))
            return INVALID_HOST;
          result = "";
          codePoints = arrayFrom(input);
          for (index = 0; index < codePoints.length; index++) {
            result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);
          }
          url.host = result;
        } else {
          input = toASCII(input);
          if (FORBIDDEN_HOST_CODE_POINT.test(input))
            return INVALID_HOST;
          result = parseIPv4(input);
          if (result === null)
            return INVALID_HOST;
          url.host = result;
        }
      };
      var parseIPv4 = function(input) {
        var parts = input.split(".");
        var partsLength, numbers, index, part, radix, number, ipv4;
        if (parts.length && parts[parts.length - 1] == "") {
          parts.pop();
        }
        partsLength = parts.length;
        if (partsLength > 4)
          return input;
        numbers = [];
        for (index = 0; index < partsLength; index++) {
          part = parts[index];
          if (part == "")
            return input;
          radix = 10;
          if (part.length > 1 && part.charAt(0) == "0") {
            radix = HEX_START.test(part) ? 16 : 8;
            part = part.slice(radix == 8 ? 1 : 2);
          }
          if (part === "") {
            number = 0;
          } else {
            if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part))
              return input;
            number = parseInt(part, radix);
          }
          numbers.push(number);
        }
        for (index = 0; index < partsLength; index++) {
          number = numbers[index];
          if (index == partsLength - 1) {
            if (number >= pow(256, 5 - partsLength))
              return null;
          } else if (number > 255)
            return null;
        }
        ipv4 = numbers.pop();
        for (index = 0; index < numbers.length; index++) {
          ipv4 += numbers[index] * pow(256, 3 - index);
        }
        return ipv4;
      };
      var parseIPv6 = function(input) {
        var address = [0, 0, 0, 0, 0, 0, 0, 0];
        var pieceIndex = 0;
        var compress = null;
        var pointer = 0;
        var value, length, numbersSeen, ipv4Piece, number, swaps, swap;
        var char = function() {
          return input.charAt(pointer);
        };
        if (char() == ":") {
          if (input.charAt(1) != ":")
            return;
          pointer += 2;
          pieceIndex++;
          compress = pieceIndex;
        }
        while (char()) {
          if (pieceIndex == 8)
            return;
          if (char() == ":") {
            if (compress !== null)
              return;
            pointer++;
            pieceIndex++;
            compress = pieceIndex;
            continue;
          }
          value = length = 0;
          while (length < 4 && HEX.test(char())) {
            value = value * 16 + parseInt(char(), 16);
            pointer++;
            length++;
          }
          if (char() == ".") {
            if (length == 0)
              return;
            pointer -= length;
            if (pieceIndex > 6)
              return;
            numbersSeen = 0;
            while (char()) {
              ipv4Piece = null;
              if (numbersSeen > 0) {
                if (char() == "." && numbersSeen < 4)
                  pointer++;
                else
                  return;
              }
              if (!DIGIT.test(char()))
                return;
              while (DIGIT.test(char())) {
                number = parseInt(char(), 10);
                if (ipv4Piece === null)
                  ipv4Piece = number;
                else if (ipv4Piece == 0)
                  return;
                else
                  ipv4Piece = ipv4Piece * 10 + number;
                if (ipv4Piece > 255)
                  return;
                pointer++;
              }
              address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;
              numbersSeen++;
              if (numbersSeen == 2 || numbersSeen == 4)
                pieceIndex++;
            }
            if (numbersSeen != 4)
              return;
            break;
          } else if (char() == ":") {
            pointer++;
            if (!char())
              return;
          } else if (char())
            return;
          address[pieceIndex++] = value;
        }
        if (compress !== null) {
          swaps = pieceIndex - compress;
          pieceIndex = 7;
          while (pieceIndex != 0 && swaps > 0) {
            swap = address[pieceIndex];
            address[pieceIndex--] = address[compress + swaps - 1];
            address[compress + --swaps] = swap;
          }
        } else if (pieceIndex != 8)
          return;
        return address;
      };
      var findLongestZeroSequence = function(ipv6) {
        var maxIndex = null;
        var maxLength = 1;
        var currStart = null;
        var currLength = 0;
        var index = 0;
        for (; index < 8; index++) {
          if (ipv6[index] !== 0) {
            if (currLength > maxLength) {
              maxIndex = currStart;
              maxLength = currLength;
            }
            currStart = null;
            currLength = 0;
          } else {
            if (currStart === null)
              currStart = index;
            ++currLength;
          }
        }
        if (currLength > maxLength) {
          maxIndex = currStart;
          maxLength = currLength;
        }
        return maxIndex;
      };
      var serializeHost = function(host) {
        var result, index, compress, ignore0;
        if (typeof host == "number") {
          result = [];
          for (index = 0; index < 4; index++) {
            result.unshift(host % 256);
            host = floor(host / 256);
          }
          return result.join(".");
        } else if (typeof host == "object") {
          result = "";
          compress = findLongestZeroSequence(host);
          for (index = 0; index < 8; index++) {
            if (ignore0 && host[index] === 0)
              continue;
            if (ignore0)
              ignore0 = false;
            if (compress === index) {
              result += index ? ":" : "::";
              ignore0 = true;
            } else {
              result += host[index].toString(16);
              if (index < 7)
                result += ":";
            }
          }
          return "[" + result + "]";
        }
        return host;
      };
      var C0ControlPercentEncodeSet = {};
      var fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {
        " ": 1,
        '"': 1,
        "<": 1,
        ">": 1,
        "`": 1
      });
      var pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {
        "#": 1,
        "?": 1,
        "{": 1,
        "}": 1
      });
      var userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {
        "/": 1,
        ":": 1,
        ";": 1,
        "=": 1,
        "@": 1,
        "[": 1,
        "\\": 1,
        "]": 1,
        "^": 1,
        "|": 1
      });
      var percentEncode = function(char, set) {
        var code = codeAt(char, 0);
        return code > 32 && code < 127 && !has(set, char) ? char : encodeURIComponent(char);
      };
      var specialSchemes = {
        ftp: 21,
        file: null,
        http: 80,
        https: 443,
        ws: 80,
        wss: 443
      };
      var isSpecial = function(url) {
        return has(specialSchemes, url.scheme);
      };
      var includesCredentials = function(url) {
        return url.username != "" || url.password != "";
      };
      var cannotHaveUsernamePasswordPort = function(url) {
        return !url.host || url.cannotBeABaseURL || url.scheme == "file";
      };
      var isWindowsDriveLetter = function(string, normalized) {
        var second;
        return string.length == 2 && ALPHA.test(string.charAt(0)) && ((second = string.charAt(1)) == ":" || !normalized && second == "|");
      };
      var startsWithWindowsDriveLetter = function(string) {
        var third;
        return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (string.length == 2 || ((third = string.charAt(2)) === "/" || third === "\\" || third === "?" || third === "#"));
      };
      var shortenURLsPath = function(url) {
        var path = url.path;
        var pathSize = path.length;
        if (pathSize && (url.scheme != "file" || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {
          path.pop();
        }
      };
      var isSingleDot = function(segment) {
        return segment === "." || segment.toLowerCase() === "%2e";
      };
      var isDoubleDot = function(segment) {
        segment = segment.toLowerCase();
        return segment === ".." || segment === "%2e." || segment === ".%2e" || segment === "%2e%2e";
      };
      var SCHEME_START = {};
      var SCHEME = {};
      var NO_SCHEME = {};
      var SPECIAL_RELATIVE_OR_AUTHORITY = {};
      var PATH_OR_AUTHORITY = {};
      var RELATIVE = {};
      var RELATIVE_SLASH = {};
      var SPECIAL_AUTHORITY_SLASHES = {};
      var SPECIAL_AUTHORITY_IGNORE_SLASHES = {};
      var AUTHORITY = {};
      var HOST = {};
      var HOSTNAME = {};
      var PORT = {};
      var FILE = {};
      var FILE_SLASH = {};
      var FILE_HOST = {};
      var PATH_START = {};
      var PATH = {};
      var CANNOT_BE_A_BASE_URL_PATH = {};
      var QUERY = {};
      var FRAGMENT = {};
      var parseURL = function(url, input, stateOverride, base) {
        var state = stateOverride || SCHEME_START;
        var pointer = 0;
        var buffer = "";
        var seenAt = false;
        var seenBracket = false;
        var seenPasswordToken = false;
        var codePoints, char, bufferCodePoints, failure;
        if (!stateOverride) {
          url.scheme = "";
          url.username = "";
          url.password = "";
          url.host = null;
          url.port = null;
          url.path = [];
          url.query = null;
          url.fragment = null;
          url.cannotBeABaseURL = false;
          input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, "");
        }
        input = input.replace(TAB_AND_NEW_LINE, "");
        codePoints = arrayFrom(input);
        while (pointer <= codePoints.length) {
          char = codePoints[pointer];
          switch (state) {
            case SCHEME_START:
              if (char && ALPHA.test(char)) {
                buffer += char.toLowerCase();
                state = SCHEME;
              } else if (!stateOverride) {
                state = NO_SCHEME;
                continue;
              } else
                return INVALID_SCHEME;
              break;
            case SCHEME:
              if (char && (ALPHANUMERIC.test(char) || char == "+" || char == "-" || char == ".")) {
                buffer += char.toLowerCase();
              } else if (char == ":") {
                if (stateOverride && (isSpecial(url) != has(specialSchemes, buffer) || buffer == "file" && (includesCredentials(url) || url.port !== null) || url.scheme == "file" && !url.host))
                  return;
                url.scheme = buffer;
                if (stateOverride) {
                  if (isSpecial(url) && specialSchemes[url.scheme] == url.port)
                    url.port = null;
                  return;
                }
                buffer = "";
                if (url.scheme == "file") {
                  state = FILE;
                } else if (isSpecial(url) && base && base.scheme == url.scheme) {
                  state = SPECIAL_RELATIVE_OR_AUTHORITY;
                } else if (isSpecial(url)) {
                  state = SPECIAL_AUTHORITY_SLASHES;
                } else if (codePoints[pointer + 1] == "/") {
                  state = PATH_OR_AUTHORITY;
                  pointer++;
                } else {
                  url.cannotBeABaseURL = true;
                  url.path.push("");
                  state = CANNOT_BE_A_BASE_URL_PATH;
                }
              } else if (!stateOverride) {
                buffer = "";
                state = NO_SCHEME;
                pointer = 0;
                continue;
              } else
                return INVALID_SCHEME;
              break;
            case NO_SCHEME:
              if (!base || base.cannotBeABaseURL && char != "#")
                return INVALID_SCHEME;
              if (base.cannotBeABaseURL && char == "#") {
                url.scheme = base.scheme;
                url.path = base.path.slice();
                url.query = base.query;
                url.fragment = "";
                url.cannotBeABaseURL = true;
                state = FRAGMENT;
                break;
              }
              state = base.scheme == "file" ? FILE : RELATIVE;
              continue;
            case SPECIAL_RELATIVE_OR_AUTHORITY:
              if (char == "/" && codePoints[pointer + 1] == "/") {
                state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
                pointer++;
              } else {
                state = RELATIVE;
                continue;
              }
              break;
            case PATH_OR_AUTHORITY:
              if (char == "/") {
                state = AUTHORITY;
                break;
              } else {
                state = PATH;
                continue;
              }
            case RELATIVE:
              url.scheme = base.scheme;
              if (char == EOF) {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.query = base.query;
              } else if (char == "/" || char == "\\" && isSpecial(url)) {
                state = RELATIVE_SLASH;
              } else if (char == "?") {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.query = "";
                state = QUERY;
              } else if (char == "#") {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.query = base.query;
                url.fragment = "";
                state = FRAGMENT;
              } else {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.path.pop();
                state = PATH;
                continue;
              }
              break;
            case RELATIVE_SLASH:
              if (isSpecial(url) && (char == "/" || char == "\\")) {
                state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
              } else if (char == "/") {
                state = AUTHORITY;
              } else {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                state = PATH;
                continue;
              }
              break;
            case SPECIAL_AUTHORITY_SLASHES:
              state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
              if (char != "/" || buffer.charAt(pointer + 1) != "/")
                continue;
              pointer++;
              break;
            case SPECIAL_AUTHORITY_IGNORE_SLASHES:
              if (char != "/" && char != "\\") {
                state = AUTHORITY;
                continue;
              }
              break;
            case AUTHORITY:
              if (char == "@") {
                if (seenAt)
                  buffer = "%40" + buffer;
                seenAt = true;
                bufferCodePoints = arrayFrom(buffer);
                for (var i = 0; i < bufferCodePoints.length; i++) {
                  var codePoint = bufferCodePoints[i];
                  if (codePoint == ":" && !seenPasswordToken) {
                    seenPasswordToken = true;
                    continue;
                  }
                  var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);
                  if (seenPasswordToken)
                    url.password += encodedCodePoints;
                  else
                    url.username += encodedCodePoints;
                }
                buffer = "";
              } else if (char == EOF || char == "/" || char == "?" || char == "#" || char == "\\" && isSpecial(url)) {
                if (seenAt && buffer == "")
                  return INVALID_AUTHORITY;
                pointer -= arrayFrom(buffer).length + 1;
                buffer = "";
                state = HOST;
              } else
                buffer += char;
              break;
            case HOST:
            case HOSTNAME:
              if (stateOverride && url.scheme == "file") {
                state = FILE_HOST;
                continue;
              } else if (char == ":" && !seenBracket) {
                if (buffer == "")
                  return INVALID_HOST;
                failure = parseHost(url, buffer);
                if (failure)
                  return failure;
                buffer = "";
                state = PORT;
                if (stateOverride == HOSTNAME)
                  return;
              } else if (char == EOF || char == "/" || char == "?" || char == "#" || char == "\\" && isSpecial(url)) {
                if (isSpecial(url) && buffer == "")
                  return INVALID_HOST;
                if (stateOverride && buffer == "" && (includesCredentials(url) || url.port !== null))
                  return;
                failure = parseHost(url, buffer);
                if (failure)
                  return failure;
                buffer = "";
                state = PATH_START;
                if (stateOverride)
                  return;
                continue;
              } else {
                if (char == "[")
                  seenBracket = true;
                else if (char == "]")
                  seenBracket = false;
                buffer += char;
              }
              break;
            case PORT:
              if (DIGIT.test(char)) {
                buffer += char;
              } else if (char == EOF || char == "/" || char == "?" || char == "#" || char == "\\" && isSpecial(url) || stateOverride) {
                if (buffer != "") {
                  var port = parseInt(buffer, 10);
                  if (port > 65535)
                    return INVALID_PORT;
                  url.port = isSpecial(url) && port === specialSchemes[url.scheme] ? null : port;
                  buffer = "";
                }
                if (stateOverride)
                  return;
                state = PATH_START;
                continue;
              } else
                return INVALID_PORT;
              break;
            case FILE:
              url.scheme = "file";
              if (char == "/" || char == "\\")
                state = FILE_SLASH;
              else if (base && base.scheme == "file") {
                if (char == EOF) {
                  url.host = base.host;
                  url.path = base.path.slice();
                  url.query = base.query;
                } else if (char == "?") {
                  url.host = base.host;
                  url.path = base.path.slice();
                  url.query = "";
                  state = QUERY;
                } else if (char == "#") {
                  url.host = base.host;
                  url.path = base.path.slice();
                  url.query = base.query;
                  url.fragment = "";
                  state = FRAGMENT;
                } else {
                  if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))) {
                    url.host = base.host;
                    url.path = base.path.slice();
                    shortenURLsPath(url);
                  }
                  state = PATH;
                  continue;
                }
              } else {
                state = PATH;
                continue;
              }
              break;
            case FILE_SLASH:
              if (char == "/" || char == "\\") {
                state = FILE_HOST;
                break;
              }
              if (base && base.scheme == "file" && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))) {
                if (isWindowsDriveLetter(base.path[0], true))
                  url.path.push(base.path[0]);
                else
                  url.host = base.host;
              }
              state = PATH;
              continue;
            case FILE_HOST:
              if (char == EOF || char == "/" || char == "\\" || char == "?" || char == "#") {
                if (!stateOverride && isWindowsDriveLetter(buffer)) {
                  state = PATH;
                } else if (buffer == "") {
                  url.host = "";
                  if (stateOverride)
                    return;
                  state = PATH_START;
                } else {
                  failure = parseHost(url, buffer);
                  if (failure)
                    return failure;
                  if (url.host == "localhost")
                    url.host = "";
                  if (stateOverride)
                    return;
                  buffer = "";
                  state = PATH_START;
                }
                continue;
              } else
                buffer += char;
              break;
            case PATH_START:
              if (isSpecial(url)) {
                state = PATH;
                if (char != "/" && char != "\\")
                  continue;
              } else if (!stateOverride && char == "?") {
                url.query = "";
                state = QUERY;
              } else if (!stateOverride && char == "#") {
                url.fragment = "";
                state = FRAGMENT;
              } else if (char != EOF) {
                state = PATH;
                if (char != "/")
                  continue;
              }
              break;
            case PATH:
              if (char == EOF || char == "/" || char == "\\" && isSpecial(url) || !stateOverride && (char == "?" || char == "#")) {
                if (isDoubleDot(buffer)) {
                  shortenURLsPath(url);
                  if (char != "/" && !(char == "\\" && isSpecial(url))) {
                    url.path.push("");
                  }
                } else if (isSingleDot(buffer)) {
                  if (char != "/" && !(char == "\\" && isSpecial(url))) {
                    url.path.push("");
                  }
                } else {
                  if (url.scheme == "file" && !url.path.length && isWindowsDriveLetter(buffer)) {
                    if (url.host)
                      url.host = "";
                    buffer = buffer.charAt(0) + ":";
                  }
                  url.path.push(buffer);
                }
                buffer = "";
                if (url.scheme == "file" && (char == EOF || char == "?" || char == "#")) {
                  while (url.path.length > 1 && url.path[0] === "") {
                    url.path.shift();
                  }
                }
                if (char == "?") {
                  url.query = "";
                  state = QUERY;
                } else if (char == "#") {
                  url.fragment = "";
                  state = FRAGMENT;
                }
              } else {
                buffer += percentEncode(char, pathPercentEncodeSet);
              }
              break;
            case CANNOT_BE_A_BASE_URL_PATH:
              if (char == "?") {
                url.query = "";
                state = QUERY;
              } else if (char == "#") {
                url.fragment = "";
                state = FRAGMENT;
              } else if (char != EOF) {
                url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);
              }
              break;
            case QUERY:
              if (!stateOverride && char == "#") {
                url.fragment = "";
                state = FRAGMENT;
              } else if (char != EOF) {
                if (char == "'" && isSpecial(url))
                  url.query += "%27";
                else if (char == "#")
                  url.query += "%23";
                else
                  url.query += percentEncode(char, C0ControlPercentEncodeSet);
              }
              break;
            case FRAGMENT:
              if (char != EOF)
                url.fragment += percentEncode(char, fragmentPercentEncodeSet);
              break;
          }
          pointer++;
        }
      };
      var URLConstructor = function URL2(url) {
        var that = anInstance(this, URLConstructor, "URL");
        var base = arguments.length > 1 ? arguments[1] : void 0;
        var urlString = String(url);
        var state = setInternalState(that, { type: "URL" });
        var baseState, failure;
        if (base !== void 0) {
          if (base instanceof URLConstructor)
            baseState = getInternalURLState(base);
          else {
            failure = parseURL(baseState = {}, String(base));
            if (failure)
              throw TypeError(failure);
          }
        }
        failure = parseURL(state, urlString, null, baseState);
        if (failure)
          throw TypeError(failure);
        var searchParams = state.searchParams = new URLSearchParams2();
        var searchParamsState = getInternalSearchParamsState(searchParams);
        searchParamsState.updateSearchParams(state.query);
        searchParamsState.updateURL = function() {
          state.query = String(searchParams) || null;
        };
        if (!DESCRIPTORS) {
          that.href = serializeURL.call(that);
          that.origin = getOrigin.call(that);
          that.protocol = getProtocol.call(that);
          that.username = getUsername.call(that);
          that.password = getPassword.call(that);
          that.host = getHost.call(that);
          that.hostname = getHostname.call(that);
          that.port = getPort.call(that);
          that.pathname = getPathname.call(that);
          that.search = getSearch.call(that);
          that.searchParams = getSearchParams.call(that);
          that.hash = getHash.call(that);
        }
      };
      var URLPrototype = URLConstructor.prototype;
      var serializeURL = function() {
        var url = getInternalURLState(this);
        var scheme = url.scheme;
        var username = url.username;
        var password = url.password;
        var host = url.host;
        var port = url.port;
        var path = url.path;
        var query = url.query;
        var fragment = url.fragment;
        var output = scheme + ":";
        if (host !== null) {
          output += "//";
          if (includesCredentials(url)) {
            output += username + (password ? ":" + password : "") + "@";
          }
          output += serializeHost(host);
          if (port !== null)
            output += ":" + port;
        } else if (scheme == "file")
          output += "//";
        output += url.cannotBeABaseURL ? path[0] : path.length ? "/" + path.join("/") : "";
        if (query !== null)
          output += "?" + query;
        if (fragment !== null)
          output += "#" + fragment;
        return output;
      };
      var getOrigin = function() {
        var url = getInternalURLState(this);
        var scheme = url.scheme;
        var port = url.port;
        if (scheme == "blob")
          try {
            return new URL(scheme.path[0]).origin;
          } catch (error) {
            return "null";
          }
        if (scheme == "file" || !isSpecial(url))
          return "null";
        return scheme + "://" + serializeHost(url.host) + (port !== null ? ":" + port : "");
      };
      var getProtocol = function() {
        return getInternalURLState(this).scheme + ":";
      };
      var getUsername = function() {
        return getInternalURLState(this).username;
      };
      var getPassword = function() {
        return getInternalURLState(this).password;
      };
      var getHost = function() {
        var url = getInternalURLState(this);
        var host = url.host;
        var port = url.port;
        return host === null ? "" : port === null ? serializeHost(host) : serializeHost(host) + ":" + port;
      };
      var getHostname = function() {
        var host = getInternalURLState(this).host;
        return host === null ? "" : serializeHost(host);
      };
      var getPort = function() {
        var port = getInternalURLState(this).port;
        return port === null ? "" : String(port);
      };
      var getPathname = function() {
        var url = getInternalURLState(this);
        var path = url.path;
        return url.cannotBeABaseURL ? path[0] : path.length ? "/" + path.join("/") : "";
      };
      var getSearch = function() {
        var query = getInternalURLState(this).query;
        return query ? "?" + query : "";
      };
      var getSearchParams = function() {
        return getInternalURLState(this).searchParams;
      };
      var getHash = function() {
        var fragment = getInternalURLState(this).fragment;
        return fragment ? "#" + fragment : "";
      };
      var accessorDescriptor = function(getter, setter) {
        return { get: getter, set: setter, configurable: true, enumerable: true };
      };
      if (DESCRIPTORS) {
        defineProperties(URLPrototype, {
          href: accessorDescriptor(serializeURL, function(href) {
            var url = getInternalURLState(this);
            var urlString = String(href);
            var failure = parseURL(url, urlString);
            if (failure)
              throw TypeError(failure);
            getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);
          }),
          origin: accessorDescriptor(getOrigin),
          protocol: accessorDescriptor(getProtocol, function(protocol) {
            var url = getInternalURLState(this);
            parseURL(url, String(protocol) + ":", SCHEME_START);
          }),
          username: accessorDescriptor(getUsername, function(username) {
            var url = getInternalURLState(this);
            var codePoints = arrayFrom(String(username));
            if (cannotHaveUsernamePasswordPort(url))
              return;
            url.username = "";
            for (var i = 0; i < codePoints.length; i++) {
              url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);
            }
          }),
          password: accessorDescriptor(getPassword, function(password) {
            var url = getInternalURLState(this);
            var codePoints = arrayFrom(String(password));
            if (cannotHaveUsernamePasswordPort(url))
              return;
            url.password = "";
            for (var i = 0; i < codePoints.length; i++) {
              url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);
            }
          }),
          host: accessorDescriptor(getHost, function(host) {
            var url = getInternalURLState(this);
            if (url.cannotBeABaseURL)
              return;
            parseURL(url, String(host), HOST);
          }),
          hostname: accessorDescriptor(getHostname, function(hostname) {
            var url = getInternalURLState(this);
            if (url.cannotBeABaseURL)
              return;
            parseURL(url, String(hostname), HOSTNAME);
          }),
          port: accessorDescriptor(getPort, function(port) {
            var url = getInternalURLState(this);
            if (cannotHaveUsernamePasswordPort(url))
              return;
            port = String(port);
            if (port == "")
              url.port = null;
            else
              parseURL(url, port, PORT);
          }),
          pathname: accessorDescriptor(getPathname, function(pathname) {
            var url = getInternalURLState(this);
            if (url.cannotBeABaseURL)
              return;
            url.path = [];
            parseURL(url, pathname + "", PATH_START);
          }),
          search: accessorDescriptor(getSearch, function(search) {
            var url = getInternalURLState(this);
            search = String(search);
            if (search == "") {
              url.query = null;
            } else {
              if (search.charAt(0) == "?")
                search = search.slice(1);
              url.query = "";
              parseURL(url, search, QUERY);
            }
            getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);
          }),
          searchParams: accessorDescriptor(getSearchParams),
          hash: accessorDescriptor(getHash, function(hash) {
            var url = getInternalURLState(this);
            hash = String(hash);
            if (hash == "") {
              url.fragment = null;
              return;
            }
            if (hash.charAt(0) == "#")
              hash = hash.slice(1);
            url.fragment = "";
            parseURL(url, hash, FRAGMENT);
          })
        });
      }
      redefine(URLPrototype, "toJSON", function toJSON() {
        return serializeURL.call(this);
      }, { enumerable: true });
      redefine(URLPrototype, "toString", function toString() {
        return serializeURL.call(this);
      }, { enumerable: true });
      if (NativeURL) {
        nativeCreateObjectURL = NativeURL.createObjectURL;
        nativeRevokeObjectURL = NativeURL.revokeObjectURL;
        if (nativeCreateObjectURL)
          redefine(URLConstructor, "createObjectURL", function createObjectURL(blob) {
            return nativeCreateObjectURL.apply(NativeURL, arguments);
          });
        if (nativeRevokeObjectURL)
          redefine(URLConstructor, "revokeObjectURL", function revokeObjectURL(url) {
            return nativeRevokeObjectURL.apply(NativeURL, arguments);
          });
      }
      var nativeCreateObjectURL;
      var nativeRevokeObjectURL;
      setToStringTag(URLConstructor, "URL");
      $({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {
        URL: URLConstructor
      });
    }
  });

  // ../../node_modules/core-js/modules/web.url.to-json.js
  var require_web_url_to_json = __commonJS({
    "../../node_modules/core-js/modules/web.url.to-json.js": function() {
      "use strict";
      var $ = require_export();
      $({ target: "URL", proto: true, enumerable: true }, {
        toJSON: function toJSON() {
          return URL.prototype.toString.call(this);
        }
      });
    }
  });

  // ../../node_modules/core-js/web/index.js
  var require_web = __commonJS({
    "../../node_modules/core-js/web/index.js": function(exports, module) {
      require_web_dom_collections_for_each();
      require_web_dom_collections_iterator();
      require_web_immediate();
      require_web_queue_microtask();
      require_web_timers();
      require_web_url();
      require_web_url_to_json();
      require_web_url_search_params();
      var path = require_path();
      module.exports = path;
    }
  });

  // ../../node_modules/core-js/stable/index.js
  var require_stable = __commonJS({
    "../../node_modules/core-js/stable/index.js": function(exports, module) {
      require_es();
      require_web();
      var path = require_path();
      module.exports = path;
    }
  });

  // ../../node_modules/regenerator-runtime/runtime.js
  var require_runtime = __commonJS({
    "../../node_modules/regenerator-runtime/runtime.js": function(exports, module) {
      var runtime = function(exports2) {
        "use strict";
        var Op = Object.prototype;
        var hasOwn = Op.hasOwnProperty;
        var undefined2;
        var $Symbol = typeof Symbol === "function" ? Symbol : {};
        var iteratorSymbol = $Symbol.iterator || "@@iterator";
        var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
        var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
        function define2(obj, key, value) {
          Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
          });
          return obj[key];
        }
        try {
          define2({}, "");
        } catch (err) {
          define2 = function(obj, key, value) {
            return obj[key] = value;
          };
        }
        function wrap(innerFn, outerFn, self2, tryLocsList) {
          var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
          var generator = Object.create(protoGenerator.prototype);
          var context = new Context(tryLocsList || []);
          generator._invoke = makeInvokeMethod(innerFn, self2, context);
          return generator;
        }
        exports2.wrap = wrap;
        function tryCatch(fn, obj, arg) {
          try {
            return { type: "normal", arg: fn.call(obj, arg) };
          } catch (err) {
            return { type: "throw", arg: err };
          }
        }
        var GenStateSuspendedStart = "suspendedStart";
        var GenStateSuspendedYield = "suspendedYield";
        var GenStateExecuting = "executing";
        var GenStateCompleted = "completed";
        var ContinueSentinel = {};
        function Generator() {
        }
        function GeneratorFunction() {
        }
        function GeneratorFunctionPrototype() {
        }
        var IteratorPrototype = {};
        IteratorPrototype[iteratorSymbol] = function() {
          return this;
        };
        var getProto = Object.getPrototypeOf;
        var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
        if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
          IteratorPrototype = NativeIteratorPrototype;
        }
        var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
        GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
        GeneratorFunctionPrototype.constructor = GeneratorFunction;
        GeneratorFunction.displayName = define2(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction");
        function defineIteratorMethods(prototype) {
          ["next", "throw", "return"].forEach(function(method) {
            define2(prototype, method, function(arg) {
              return this._invoke(method, arg);
            });
          });
        }
        exports2.isGeneratorFunction = function(genFun) {
          var ctor = typeof genFun === "function" && genFun.constructor;
          return ctor ? ctor === GeneratorFunction || (ctor.displayName || ctor.name) === "GeneratorFunction" : false;
        };
        exports2.mark = function(genFun) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
          } else {
            genFun.__proto__ = GeneratorFunctionPrototype;
            define2(genFun, toStringTagSymbol, "GeneratorFunction");
          }
          genFun.prototype = Object.create(Gp);
          return genFun;
        };
        exports2.awrap = function(arg) {
          return { __await: arg };
        };
        function AsyncIterator(generator, PromiseImpl) {
          function invoke(method, arg, resolve, reject) {
            var record = tryCatch(generator[method], generator, arg);
            if (record.type === "throw") {
              reject(record.arg);
            } else {
              var result = record.arg;
              var value = result.value;
              if (value && typeof value === "object" && hasOwn.call(value, "__await")) {
                return PromiseImpl.resolve(value.__await).then(function(value2) {
                  invoke("next", value2, resolve, reject);
                }, function(err) {
                  invoke("throw", err, resolve, reject);
                });
              }
              return PromiseImpl.resolve(value).then(function(unwrapped) {
                result.value = unwrapped;
                resolve(result);
              }, function(error) {
                return invoke("throw", error, resolve, reject);
              });
            }
          }
          var previousPromise;
          function enqueue(method, arg) {
            function callInvokeWithMethodAndArg() {
              return new PromiseImpl(function(resolve, reject) {
                invoke(method, arg, resolve, reject);
              });
            }
            return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
          }
          this._invoke = enqueue;
        }
        defineIteratorMethods(AsyncIterator.prototype);
        AsyncIterator.prototype[asyncIteratorSymbol] = function() {
          return this;
        };
        exports2.AsyncIterator = AsyncIterator;
        exports2.async = function(innerFn, outerFn, self2, tryLocsList, PromiseImpl) {
          if (PromiseImpl === void 0)
            PromiseImpl = Promise;
          var iter = new AsyncIterator(wrap(innerFn, outerFn, self2, tryLocsList), PromiseImpl);
          return exports2.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
            return result.done ? result.value : iter.next();
          });
        };
        function makeInvokeMethod(innerFn, self2, context) {
          var state = GenStateSuspendedStart;
          return function invoke(method, arg) {
            if (state === GenStateExecuting) {
              throw new Error("Generator is already running");
            }
            if (state === GenStateCompleted) {
              if (method === "throw") {
                throw arg;
              }
              return doneResult();
            }
            context.method = method;
            context.arg = arg;
            while (true) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel)
                    continue;
                  return delegateResult;
                }
              }
              if (context.method === "next") {
                context.sent = context._sent = context.arg;
              } else if (context.method === "throw") {
                if (state === GenStateSuspendedStart) {
                  state = GenStateCompleted;
                  throw context.arg;
                }
                context.dispatchException(context.arg);
              } else if (context.method === "return") {
                context.abrupt("return", context.arg);
              }
              state = GenStateExecuting;
              var record = tryCatch(innerFn, self2, context);
              if (record.type === "normal") {
                state = context.done ? GenStateCompleted : GenStateSuspendedYield;
                if (record.arg === ContinueSentinel) {
                  continue;
                }
                return {
                  value: record.arg,
                  done: context.done
                };
              } else if (record.type === "throw") {
                state = GenStateCompleted;
                context.method = "throw";
                context.arg = record.arg;
              }
            }
          };
        }
        function maybeInvokeDelegate(delegate, context) {
          var method = delegate.iterator[context.method];
          if (method === undefined2) {
            context.delegate = null;
            if (context.method === "throw") {
              if (delegate.iterator["return"]) {
                context.method = "return";
                context.arg = undefined2;
                maybeInvokeDelegate(delegate, context);
                if (context.method === "throw") {
                  return ContinueSentinel;
                }
              }
              context.method = "throw";
              context.arg = new TypeError("The iterator does not provide a 'throw' method");
            }
            return ContinueSentinel;
          }
          var record = tryCatch(method, delegate.iterator, context.arg);
          if (record.type === "throw") {
            context.method = "throw";
            context.arg = record.arg;
            context.delegate = null;
            return ContinueSentinel;
          }
          var info = record.arg;
          if (!info) {
            context.method = "throw";
            context.arg = new TypeError("iterator result is not an object");
            context.delegate = null;
            return ContinueSentinel;
          }
          if (info.done) {
            context[delegate.resultName] = info.value;
            context.next = delegate.nextLoc;
            if (context.method !== "return") {
              context.method = "next";
              context.arg = undefined2;
            }
          } else {
            return info;
          }
          context.delegate = null;
          return ContinueSentinel;
        }
        defineIteratorMethods(Gp);
        define2(Gp, toStringTagSymbol, "Generator");
        Gp[iteratorSymbol] = function() {
          return this;
        };
        Gp.toString = function() {
          return "[object Generator]";
        };
        function pushTryEntry(locs) {
          var entry = { tryLoc: locs[0] };
          if (1 in locs) {
            entry.catchLoc = locs[1];
          }
          if (2 in locs) {
            entry.finallyLoc = locs[2];
            entry.afterLoc = locs[3];
          }
          this.tryEntries.push(entry);
        }
        function resetTryEntry(entry) {
          var record = entry.completion || {};
          record.type = "normal";
          delete record.arg;
          entry.completion = record;
        }
        function Context(tryLocsList) {
          this.tryEntries = [{ tryLoc: "root" }];
          tryLocsList.forEach(pushTryEntry, this);
          this.reset(true);
        }
        exports2.keys = function(object) {
          var keys = [];
          for (var key in object) {
            keys.push(key);
          }
          keys.reverse();
          return function next() {
            while (keys.length) {
              var key2 = keys.pop();
              if (key2 in object) {
                next.value = key2;
                next.done = false;
                return next;
              }
            }
            next.done = true;
            return next;
          };
        };
        function values(iterable) {
          if (iterable) {
            var iteratorMethod = iterable[iteratorSymbol];
            if (iteratorMethod) {
              return iteratorMethod.call(iterable);
            }
            if (typeof iterable.next === "function") {
              return iterable;
            }
            if (!isNaN(iterable.length)) {
              var i = -1, next = function next2() {
                while (++i < iterable.length) {
                  if (hasOwn.call(iterable, i)) {
                    next2.value = iterable[i];
                    next2.done = false;
                    return next2;
                  }
                }
                next2.value = undefined2;
                next2.done = true;
                return next2;
              };
              return next.next = next;
            }
          }
          return { next: doneResult };
        }
        exports2.values = values;
        function doneResult() {
          return { value: undefined2, done: true };
        }
        Context.prototype = {
          constructor: Context,
          reset: function(skipTempReset) {
            this.prev = 0;
            this.next = 0;
            this.sent = this._sent = undefined2;
            this.done = false;
            this.delegate = null;
            this.method = "next";
            this.arg = undefined2;
            this.tryEntries.forEach(resetTryEntry);
            if (!skipTempReset) {
              for (var name in this) {
                if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
                  this[name] = undefined2;
                }
              }
            }
          },
          stop: function() {
            this.done = true;
            var rootEntry = this.tryEntries[0];
            var rootRecord = rootEntry.completion;
            if (rootRecord.type === "throw") {
              throw rootRecord.arg;
            }
            return this.rval;
          },
          dispatchException: function(exception) {
            if (this.done) {
              throw exception;
            }
            var context = this;
            function handle(loc, caught) {
              record.type = "throw";
              record.arg = exception;
              context.next = loc;
              if (caught) {
                context.method = "next";
                context.arg = undefined2;
              }
              return !!caught;
            }
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              var record = entry.completion;
              if (entry.tryLoc === "root") {
                return handle("end");
              }
              if (entry.tryLoc <= this.prev) {
                var hasCatch = hasOwn.call(entry, "catchLoc");
                var hasFinally = hasOwn.call(entry, "finallyLoc");
                if (hasCatch && hasFinally) {
                  if (this.prev < entry.catchLoc) {
                    return handle(entry.catchLoc, true);
                  } else if (this.prev < entry.finallyLoc) {
                    return handle(entry.finallyLoc);
                  }
                } else if (hasCatch) {
                  if (this.prev < entry.catchLoc) {
                    return handle(entry.catchLoc, true);
                  }
                } else if (hasFinally) {
                  if (this.prev < entry.finallyLoc) {
                    return handle(entry.finallyLoc);
                  }
                } else {
                  throw new Error("try statement without catch or finally");
                }
              }
            }
          },
          abrupt: function(type, arg) {
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
                var finallyEntry = entry;
                break;
              }
            }
            if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
              finallyEntry = null;
            }
            var record = finallyEntry ? finallyEntry.completion : {};
            record.type = type;
            record.arg = arg;
            if (finallyEntry) {
              this.method = "next";
              this.next = finallyEntry.finallyLoc;
              return ContinueSentinel;
            }
            return this.complete(record);
          },
          complete: function(record, afterLoc) {
            if (record.type === "throw") {
              throw record.arg;
            }
            if (record.type === "break" || record.type === "continue") {
              this.next = record.arg;
            } else if (record.type === "return") {
              this.rval = this.arg = record.arg;
              this.method = "return";
              this.next = "end";
            } else if (record.type === "normal" && afterLoc) {
              this.next = afterLoc;
            }
            return ContinueSentinel;
          },
          finish: function(finallyLoc) {
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              if (entry.finallyLoc === finallyLoc) {
                this.complete(entry.completion, entry.afterLoc);
                resetTryEntry(entry);
                return ContinueSentinel;
              }
            }
          },
          "catch": function(tryLoc) {
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              if (entry.tryLoc === tryLoc) {
                var record = entry.completion;
                if (record.type === "throw") {
                  var thrown = record.arg;
                  resetTryEntry(entry);
                }
                return thrown;
              }
            }
            throw new Error("illegal catch attempt");
          },
          delegateYield: function(iterable, resultName, nextLoc) {
            this.delegate = {
              iterator: values(iterable),
              resultName: resultName,
              nextLoc: nextLoc
            };
            if (this.method === "next") {
              this.arg = undefined2;
            }
            return ContinueSentinel;
          }
        };
        return exports2;
      }(typeof module === "object" ? module.exports : {});
      try {
        regeneratorRuntime = runtime;
      } catch (accidentalStrictMode) {
        Function("r", "regeneratorRuntime = r")(runtime);
      }
    }
  });

  // ../../node_modules/core-js/internals/entry-unbind.js
  var require_entry_unbind = __commonJS({
    "../../node_modules/core-js/internals/entry-unbind.js": function(exports, module) {
      var global2 = require_global();
      var bind = require_function_bind_context();
      var call = Function.call;
      module.exports = function(CONSTRUCTOR, METHOD, length) {
        return bind(call, global2[CONSTRUCTOR].prototype[METHOD], length);
      };
    }
  });

  // ../../node_modules/core-js/es/array/find.js
  var require_find = __commonJS({
    "../../node_modules/core-js/es/array/find.js": function(exports, module) {
      require_es_array_find();
      var entryUnbind = require_entry_unbind();
      module.exports = entryUnbind("Array", "find");
    }
  });

  // ../../node_modules/core-js/features/array/find.js
  var require_find2 = __commonJS({
    "../../node_modules/core-js/features/array/find.js": function(exports, module) {
      var parent = require_find();
      module.exports = parent;
    }
  });

  // ../../node_modules/core-js/es/array/map.js
  var require_map = __commonJS({
    "../../node_modules/core-js/es/array/map.js": function(exports, module) {
      require_es_array_map();
      var entryUnbind = require_entry_unbind();
      module.exports = entryUnbind("Array", "map");
    }
  });

  // ../../node_modules/core-js/features/array/map.js
  var require_map2 = __commonJS({
    "../../node_modules/core-js/features/array/map.js": function(exports, module) {
      var parent = require_map();
      module.exports = parent;
    }
  });

  // ../../node_modules/react-app-polyfill/ie11.js
  "use strict";
  if (typeof Promise === "undefined") {
    require_rejection_tracking().enable();
    self.Promise = require_es6_extensions();
  }
  if (typeof window !== "undefined") {
    require_fetch_umd();
  }
  Object.assign = require_object_assign();
  require_symbol2();
  require_from2();

  // ../../node_modules/react-app-polyfill/stable.js
  "use strict";
  require_stable();
  require_runtime();

  // index.js
  var import_find = __toModule(require_find2());
  var import_map = __toModule(require_map2());
})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32,_templateObject33,_templateObject34,_templateObject35,_templateObject36,_templateObject37,_templateObject38,_templateObject39,_templateObject40,_templateObject41,_templateObject42,_templateObject43,_templateObject44,_templateObject45,_templateObject46,_templateObject47,_templateObject48,_templateObject49,_templateObject50,_templateObject51,_templateObject52,_templateObject53,_templateObject54,_templateObject55,_templateObject56,_templateObject57,_templateObject58,_templateObject59,_templateObject60,_templateObject61,_templateObject62,_templateObject63,_templateObject64,_templateObject65,_templateObject66,_templateObject67,_templateObject68,_templateObject69,_templateObject70,_templateObject71,_templateObject72,_templateObject73,_templateObject74,_templateObject75,_templateObject76,_templateObject77,_templateObject78,_templateObject79,_templateObject80,_templateObject81,_templateObject82,_templateObject83,_templateObject84,_templateObject85,_templateObject86,_templateObject87,_templateObject88,_templateObject89,_templateObject90,_templateObject91,_templateObject92,_templateObject93,_templateObject94,_templateObject95,_templateObject96,_templateObject97,_templateObject98,_templateObject99,_templateObject100,_templateObject101,_templateObject102,_templateObject103,_templateObject104,_templateObject105,_templateObject106,_templateObject107,_templateObject108,_templateObject109,_templateObject110,_templateObject111,_templateObject112,_templateObject113,_templateObject114,_templateObject115,_templateObject116,_templateObject117,_templateObject118,_templateObject119,_templateObject120,_templateObject121,_templateObject122,_templateObject123,_templateObject124,_templateObject125,_templateObject126,_templateObject127,_templateObject128,_templateObject129,_templateObject130,_templateObject131,_templateObject132,_templateObject133,_templateObject134,_templateObject135,_templateObject136,_templateObject137,_templateObject138,_templateObject139,_templateObject140,_templateObject141,_templateObject142,_templateObject143,_templateObject144,_templateObject145,_templateObject146,_templateObject147,_templateObject148,_templateObject149,_templateObject150,_templateObject151,_templateObject152,_templateObject153,_templateObject154,_templateObject155,_templateObject156,_templateObject157,_templateObject158,_templateObject159,_templateObject160,_templateObject161,_templateObject162,_templateObject163,_templateObject164,_templateObject165,_templateObject166,_templateObject167,_templateObject168,_templateObject169,_templateObject170,_templateObject171,_templateObject172,_templateObject173,_templateObject174,_templateObject175,_templateObject176,_templateObject177,_templateObject178,_templateObject179,_templateObject180,_templateObject181,_templateObject182,_templateObject183,_templateObject184,_templateObject185,_templateObject186,_templateObject187,_templateObject188,_templateObject189,_templateObject190,_templateObject191,_templateObject192,_templateObject193,_templateObject194,_templateObject195,_templateObject196,_templateObject197,_templateObject198,_templateObject199,_templateObject200,_templateObject201,_templateObject202,_templateObject203,_templateObject204,_templateObject205,_templateObject206,_templateObject207,_templateObject208,_templateObject209,_templateObject210,_templateObject211,_templateObject212,_templateObject213,_templateObject214,_templateObject215,_templateObject216,_templateObject217,_templateObject218,_templateObject219,_templateObject220,_templateObject221,_templateObject222,_templateObject223,_templateObject224,_templateObject225,_templateObject226,_templateObject227,_templateObject228,_templateObject229,_templateObject230,_templateObject231,_templateObject232,_templateObject233,_templateObject234,_templateObject235,_templateObject236,_templateObject237,_templateObject238,_templateObject239,_templateObject240,_templateObject241,_templateObject242,_templateObject243,_templateObject244,_templateObject245,_templateObject246,_templateObject247,_templateObject248,_templateObject249,_templateObject250,_templateObject251,_templateObject252,_templateObject253,_templateObject254,_templateObject255,_templateObject256,_templateObject257,_templateObject258,_templateObject259,_templateObject260,_templateObject261,_templateObject262,_templateObject263,_templateObject264,_templateObject265,_templateObject266,_templateObject267,_templateObject268,_templateObject269,_templateObject270,_templateObject271,_templateObject272,_templateObject273,_templateObject274,_templateObject275,_templateObject276,_templateObject277,_templateObject278,_templateObject279,_templateObject280,_templateObject281,_templateObject282,_templateObject283,_templateObject284,_templateObject285,_templateObject286,_templateObject287,_templateObject288,_templateObject289,_templateObject290,_templateObject291,_templateObject292,_templateObject293,_templateObject294,_templateObject295,_templateObject296,_templateObject297,_templateObject298,_templateObject299,_templateObject300,_templateObject301,_templateObject302,_templateObject303,_templateObject304,_templateObject305,_templateObject306,_templateObject307,_templateObject308,_templateObject309,_templateObject310,_templateObject311,_templateObject312,_templateObject313,_templateObject314,_templateObject315,_templateObject316,_templateObject317,_templateObject318,_templateObject319,_templateObject320,_templateObject321,_templateObject322,_templateObject323,_templateObject324,_templateObject325,_templateObject326,_templateObject327,_templateObject328,_templateObject329,_templateObject330,_templateObject331,_templateObject332,_templateObject333,_templateObject334,_templateObject335,_templateObject336,_templateObject337,_templateObject338,_templateObject339;function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e21){throw _e21;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e22){didErr=true;err=_e22;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var PhotoEditorSDK=function(){var EX=Object.create;var Jd=Object.defineProperty,IX=Object.defineProperties,ZD=Object.getOwnPropertyDescriptor,FX=Object.getOwnPropertyDescriptors,OX=Object.getOwnPropertyNames,_g=Object.getOwnPropertySymbols,RX=Object.getPrototypeOf,v0=Object.prototype.hasOwnProperty,QD=Object.prototype.propertyIsEnumerable;var C0=function C0(r,e,t){return e in r?Jd(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;},w=function w(r,e){for(var t in e||(e={})){v0.call(e,t)&&C0(r,t,e[t]);}if(_g){var _iterator=_createForOfIteratorHelper(_g(e)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var t=_step.value;QD.call(e,t)&&C0(r,t,e[t]);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return r;},L=function L(r,e){return IX(r,FX(e));},eE=function eE(r){return Jd(r,"__esModule",{value:!0});};var x=function x(r){if(typeof require!="undefined")return require(r);throw new Error('Dynamic require of "'+r+'" is not supported');};var pr=function pr(r,e){var t={};for(var i in r){v0.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);}if(r!=null&&_g){var _iterator2=_createForOfIteratorHelper(_g(r)),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var i=_step2.value;e.indexOf(i)<0&&QD.call(r,i)&&(t[i]=r[i]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return t;};var d=function d(r,e){return function(){return r&&(e=r(r=0)),e;};};var tt=function tt(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports;};},It=function It(r,e){eE(r);for(var t in e){Jd(r,t,{get:e[t],enumerable:!0});}},AX=function AX(r,e,t){if(e&&_typeof(e)=="object"||typeof e=="function"){var _iterator3=_createForOfIteratorHelper(OX(e)),_step3;try{var _loop=function _loop(){var i=_step3.value;!v0.call(r,i)&&i!=="default"&&Jd(r,i,{get:function get(){return e[i];},enumerable:!(t=ZD(e,i))||t.enumerable});};for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop();}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}return r;},y=function y(r){return AX(eE(Jd(r!=null?EX(RX(r)):{},"default",r&&r.__esModule&&"default"in r?{get:function get(){return r["default"];},enumerable:!0}:{value:r,enumerable:!0})),r);},f=function f(r,e,t,i){for(var o=i>1?void 0:i?ZD(e,t):e,s=r.length-1,n;s>=0;s--){(n=r[s])&&(o=(i?n(e,t,o):n(o))||o);}return i&&o&&Jd(e,t,o),o;};var te=function te(r,e,t){return C0(r,_typeof(e)!="symbol"?e+"":e,t),t;};var ie=function ie(r,e,t){return new Promise(function(i,o){var s=function s(l){try{a(t.next(l));}catch(c){o(c);}},n=function n(l){try{a(t["throw"](l));}catch(c){o(c);}},a=function a(l){return l.done?i(l.value):Promise.resolve(l.value).then(s,n);};a((t=t.apply(r,e)).next());});};function Zd(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:BX;}function Mr(){return++he.mobxGuid;}function kt(r){throw Oa(!1,r),"X";}function Oa(r,e){if(!r)throw new Error("[mobx] "+(e||PX));}function _n(r,e){return!1;}function S0(r){var e=!1;return function(){if(!e)return e=!0,r.apply(this,arguments);};}function MX(r){var e=[];return r.forEach(function(t){e.indexOf(t)===-1&&e.push(t);}),e;}function w0(r){return r!==null&&_typeof(r)=="object";}function Qd(r){if(r===null||_typeof(r)!="object")return!1;var e=Object.getPrototypeOf(r);return e===Object.prototype||e===null;}function LX(r){if(eu(r)||Ss(r))return r;if(Array.isArray(r))return new Map(r);if(Qd(r)){var e=new Map();for(var t in r){e.set(t,r[t]);}return e;}else return kt("Cannot convert to map from '"+r+"'");}function zX(r,e){for(var t=0;t<e.length;t++){yn(r,e[t],r[e[t]]);}}function yn(r,e,t){Object.defineProperty(r,e,{enumerable:!1,writable:!0,configurable:!0,value:t});}function ap(r,e,t){Object.defineProperty(r,e,{enumerable:!1,writable:!1,configurable:!0,value:t});}function UX(r,e){}function Ra(r,e){var t="isMobX"+r;return e.prototype[t]=!0,function(i){return w0(i)&&i[t]===!0;};}function NX(r,e){return typeof r=="number"&&typeof e=="number"&&isNaN(r)&&isNaN(e);}function eu(r){return Zd().Map!==void 0&&r instanceof Zd().Map;}function lp(r){return r instanceof Set;}function xn(r){for(var e=[];;){var t=r.next();if(t.done)break;e.push(t.value);}return e;}function sE(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive";}function nE(r){return r===null?null:_typeof(r)=="object"?""+r:r;}function aE(r,e){for(var t=r.next();!t.done;){e(t.value),t=r.next();}}function lE(){return typeof Symbol=="function"&&Symbol.iterator||"@@iterator";}function k0(r,e){ap(r,lE(),e);}function cp(r){return r[lE()]=HX,r;}function T0(){return typeof Symbol=="function"&&Symbol.toStringTag||"@@toStringTag";}function HX(){return this;}function vg(r,e,t){e===void 0&&(e=oE),t===void 0&&(t=oE);var i=new xg(r);return SY(i,e),IE(i,t),i;}function cE(r,e){return r===e;}function WX(r,e){return G0(r,e);}function GX(r,e){return G0(r,e,1);}function VX(r,e){return NX(r,e)||cE(r,e);}function dE(r,e){_E2(r,e);function t(){this.constructor=r;}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t());}function I0(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),o,s=[],n;try{for(;(e===void 0||e-->0)&&!(o=i.next()).done;){s.push(o.value);}}catch(a){n={error:a};}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i);}finally{if(n)throw n.error;}}return s;}function F0(){for(var r=[],e=0;e<arguments.length;e++){r=r.concat(I0(arguments[e]));}return r;}function qX(r,e){var t=e?jX:$X;return t[r]||(t[r]={configurable:!0,enumerable:e,get:function get(){return ec(this),this[r];},set:function set(i){ec(this),this[r]=i;}});}function ec(r){if(r.__mobxDidRunLazyInitializers!==!0){var e=r.__mobxDecorators;if(e){yn(r,"__mobxDidRunLazyInitializers",!0);for(var t in e){var i=e[t];i.propertyCreator(r,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments);}}}}function uE(r,e){return function(){var i,o=function o(n,a,l,c){if(c===!0)return e(n,a,l,n,i),null;if(!Object.prototype.hasOwnProperty.call(n,"__mobxDecorators")){var u=n.__mobxDecorators;yn(n,"__mobxDecorators",_Wt({},u));}return n.__mobxDecorators[a]={prop:a,propertyCreator:e,descriptor:l,decoratorTarget:n,decoratorArguments:i},qX(a,r);};return KX(arguments)?(i=yg,o.apply(null,arguments)):(i=Array.prototype.slice.call(arguments),o);};}function KX(r){return(r.length===2||r.length===3)&&typeof r[1]=="string"||r.length===4&&r[3]===!0;}function dp(r,e,t){return Pg(r)?r:Array.isArray(r)?le.array(r,{name:t}):Qd(r)?le.object(r,void 0,{name:t}):eu(r)?le.map(r,{name:t}):lp(r)?le.set(r,{name:t}):r;}function XX(r,e,t){return r==null||sc(r)||oc(r)||Ss(r)||za(r)?r:Array.isArray(r)?le.array(r,{name:t,deep:!1}):Qd(r)?le.object(r,void 0,{name:t,deep:!1}):eu(r)?le.map(r,{name:t,deep:!1}):lp(r)?le.set(r,{name:t,deep:!1}):kt(!1);}function Sg(r){return r;}function YX(r,e,t){return G0(r,e)?e:r;}function wg(r){Oa(r);var e=uE(!0,function(i,o,s,n,a){var l=s?s.initializer?s.initializer.call(i):s.value:void 0;UY(i,o,l,r);}),t=(typeof process!="undefined"&&process.env,e);return t.enhancer=r,t;}function tu(r){return r==null?mE:typeof r=="string"?{name:r,deep:!0}:r;}function kg(r){return r.defaultDecorator?r.defaultDecorator.enhancer:r.deep===!1?Sg:dp;}function eY(r,e,t){if(typeof arguments[1]=="string")return O0.apply(null,arguments);if(Pg(r))return r;var i=Qd(r)?le.object(r,e,t):Array.isArray(r)?le.array(r,e):eu(r)?le.map(r,e):lp(r)?le.set(r,e):r;if(i!==r)return i;kt(!1);}function vn(r){kt("Expected one or two arguments to observable."+r+". Did you accidentally try to use observable."+r+" as decorator?");}function up(r){return r instanceof Dg;}function R0(r){switch(r.dependenciesState){case lt.UP_TO_DATE:return!1;case lt.NOT_TRACKING:case lt.STALE:return!0;case lt.POSSIBLY_STALE:{for(var e=tc(!0),t=ru(),i=r.observing,o=i.length,s=0;s<o;s++){var n=i[s];if(Ig(n)){if(he.disableErrorBoundaries)n.get();else try{n.get();}catch(a){return Aa(t),Cn(e),!0;}if(r.dependenciesState===lt.STALE)return Aa(t),Cn(e),!0;}}return gE(r),Aa(t),Cn(e),!1;}}}function iu(r){var e=r.observers.length>0;he.computationDepth>0&&e&&kt(!1),!he.allowStateChanges&&(e||he.enforceActions==="strict")&&kt(!1);}function iY(r){}function fE(r,e,t){var i=tc(!0);gE(r),r.newObserving=new Array(r.observing.length+100),r.unboundDepsCount=0,r.runId=++he.runId;var o=he.trackingDerivation;he.trackingDerivation=r;var s;if(he.disableErrorBoundaries===!0)s=e.call(t);else try{s=e.call(t);}catch(n){s=new Dg(n);}return he.trackingDerivation=o,oY(r),r.observing.length===0&&rY(r),Cn(i),s;}function rY(r){}function oY(r){for(var e=r.observing,t=r.observing=r.newObserving,i=lt.UP_TO_DATE,o=0,s=r.unboundDepsCount,n=0;n<s;n++){var a=t[n];a.diffValue===0&&(a.diffValue=1,o!==n&&(t[o]=a),o++),a.dependenciesState>i&&(i=a.dependenciesState);}for(t.length=o,r.newObserving=null,s=e.length;s--;){var a=e[s];a.diffValue===0&&vE(a,r),a.diffValue=0;}for(;o--;){var a=t[o];a.diffValue===1&&(a.diffValue=0,dY(a,r));}i!==lt.UP_TO_DATE&&(r.dependenciesState=i,r.onBecomeStale());}function A0(r){var e=r.observing;r.observing=[];for(var t=e.length;t--;){vE(e[t],r);}r.dependenciesState=lt.NOT_TRACKING;}function P0(r){var e=ru(),t=r();return Aa(e),t;}function ru(){var r=he.trackingDerivation;return he.trackingDerivation=null,r;}function Aa(r){he.trackingDerivation=r;}function tc(r){var e=he.allowStateReads;return he.allowStateReads=r,e;}function Cn(r){he.allowStateReads=r;}function gE(r){if(r.dependenciesState!==lt.UP_TO_DATE){r.dependenciesState=lt.UP_TO_DATE;for(var e=r.observing,t=e.length;t--;){e[t].lowestObserverState=lt.UP_TO_DATE;}}}function ic(r,e){var t=function t(){return _E(r,e,this,arguments);};return t.isMobxAction=!0,t;}function _E(r,e,t,i){var o=nY(r,t,i);try{return e.apply(t,i);}catch(s){throw o.error=s,s;}finally{aY(o);}}function nY(r,e,t){var i=Fi()&&!!r,o=0;if(i){o=Date.now();var s=t&&t.length||0,n=new Array(s);if(s>0)for(var a=0;a<s;a++){n[a]=t[a];}Ho({type:"action",name:r,object:e,arguments:n});}var l=ru();Sn();var c=mp(!0),u=tc(!0),p={prevDerivation:l,prevAllowStateChanges:c,prevAllowStateReads:u,notifySpy:i,startTime:o,actionId:sY++,parentActionId:Eg};return Eg=p.actionId,p;}function aY(r){Eg!==r.actionId&&kt("invalid action stack. did you forget to finish an action?"),Eg=r.parentActionId,r.error!==void 0&&(he.suppressReactionErrors=!0),pp(r.prevAllowStateChanges),Cn(r.prevAllowStateReads),wn(),Aa(r.prevDerivation),r.notifySpy&&Wo({time:Date.now()-r.startTime}),he.suppressReactionErrors=!1;}function yE(r,e){var t=mp(r),i;try{i=e();}finally{pp(t);}return i;}function mp(r){var e=he.allowStateChanges;return he.allowStateChanges=r,e;}function pp(r){he.allowStateChanges=r;}function cY(){(he.pendingReactions.length||he.inBatch||he.isRunningReactions)&&kt("isolateGlobalState should be called before MobX is running any reactions"),xE=!0,Og&&(--Zd().__mobxInstanceCount==0&&(Zd().__mobxGlobals=void 0),he=new Fg());}function dY(r,e){var t=r.observers.length;t&&(r.observersIndexes[e.__mapid]=t),r.observers[t]=e,r.lowestObserverState>e.dependenciesState&&(r.lowestObserverState=e.dependenciesState);}function vE(r,e){if(r.observers.length===1)r.observers.length=0,CE(r);else{var t=r.observers,i=r.observersIndexes,o=t.pop();if(o!==e){var s=i[e.__mapid]||0;s?i[o.__mapid]=s:delete i[o.__mapid],t[s]=o;}delete i[e.__mapid];}}function CE(r){r.isPendingUnobservation===!1&&(r.isPendingUnobservation=!0,he.pendingUnobservations.push(r));}function Sn(){he.inBatch++;}function wn(){if(--he.inBatch==0){DE();for(var r=he.pendingUnobservations,e=0;e<r.length;e++){var t=r[e];t.isPendingUnobservation=!1,t.observers.length===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBecomeUnobserved()),t instanceof Ba&&t.suspend());}he.pendingUnobservations=[];}}function SE(r){iY(r);var e=he.trackingDerivation;return e!==null?(e.runId!==r.lastAccessedBy&&(r.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=r,r.isBeingObserved||(r.isBeingObserved=!0,r.onBecomeObserved())),!0):(r.observers.length===0&&he.inBatch>0&&CE(r),!1);}function uY(r){if(r.lowestObserverState!==lt.STALE){r.lowestObserverState=lt.STALE;for(var e=r.observers,t=e.length;t--;){var i=e[t];i.dependenciesState===lt.UP_TO_DATE&&(i.isTracing!==No.NONE&&wE(i,r),i.onBecomeStale()),i.dependenciesState=lt.STALE;}}}function mY(r){if(r.lowestObserverState!==lt.STALE){r.lowestObserverState=lt.STALE;for(var e=r.observers,t=e.length;t--;){var i=e[t];i.dependenciesState===lt.POSSIBLY_STALE?i.dependenciesState=lt.STALE:i.dependenciesState===lt.UP_TO_DATE&&(r.lowestObserverState=lt.UP_TO_DATE);}}}function pY(r){if(r.lowestObserverState===lt.UP_TO_DATE){r.lowestObserverState=lt.POSSIBLY_STALE;for(var e=r.observers,t=e.length;t--;){var i=e[t];i.dependenciesState===lt.UP_TO_DATE&&(i.dependenciesState=lt.POSSIBLY_STALE,i.isTracing!==No.NONE&&wE(i,r),i.onBecomeStale());}}}function wE(r,e){if(console.log("[mobx.trace] '"+r.name+"' is invalidated due to a change in: '"+e.name+"'"),r.isTracing===No.BREAK){var t=[];kE(z0(r),t,1),new Function("debugger;\n/*\nTracing '"+r.name+"'\n\nYou are entering this break point because derivation '"+r.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(r instanceof Ba?r.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+t.join("\n")+"\n*/\n    ")();}}function kE(r,e,t){if(e.length>=1e3){e.push("(and many more)");return;}e.push(""+new Array(t).join("	")+r.name),r.dependencies&&r.dependencies.forEach(function(i){return kE(i,e,t+1);});}function DE(){he.inBatch>0||he.isRunningReactions||B0(hY);}function hY(){he.isRunningReactions=!0;for(var r=he.pendingReactions,e=0;r.length>0;){++e===TE&&(console.error("Reaction doesn't converge to a stable state after "+TE+" iterations."+(" Probably there is a cycle in the reactive function: "+r[0])),r.splice(0));for(var t=r.splice(0),i=0,o=t.length;i<o;i++){t[i].runReaction();}}he.isRunningReactions=!1;}function fY(r){var e=B0;B0=function B0(t){return r(function(){return e(t);});};}function Fi(){return!!he.spyListeners.length;}function rc(r){if(!!he.spyListeners.length)for(var e=he.spyListeners,t=0,i=e.length;t<i;t++){e[t](r);}}function Ho(r){var e=_Wt(_Wt({},r),{spyReportStart:!0});rc(e);}function Wo(r){rc(r?_Wt(_Wt({},r),{spyReportEnd:!0}):gY);}function M0(r){return he.spyListeners.push(r),S0(function(){he.spyListeners=he.spyListeners.filter(function(e){return e!==r;});});}function bY(){kt(!1);}function EE(r){return function(e,t,i){if(i){if(i.value)return{value:ic(r,i.value),enumerable:!1,configurable:!0,writable:!0};var o=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function initializer(){return ic(r,o.call(this));}};}return _Y(r).apply(this,arguments);};}function _Y(r){return function(e,t,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:function get(){},set:function set(o){yn(this,t,T(r,o));}});};}function yY(r,e,t,i){return i===!0?(L0(r,e,t.value),null):t?{configurable:!0,enumerable:!1,get:function get(){return L0(this,e,t.value||t.initializer.call(this)),this[e];},set:bY}:{enumerable:!1,configurable:!0,set:function set(o){L0(this,e,o);},get:function get(){}};}function oi(r,e){var t=typeof r=="string"?r:r.name||"<unnamed action>",i=typeof r=="function"?r:e;return _E(t,i,this,void 0);}function L0(r,e,t){yn(r,e,ic(e,t.bind(r)));}function xY(r,e){e===void 0&&(e=iE);var t=e&&e.name||r.name||"Autorun@"+Mr(),i=!e.scheduler&&!e.delay,o;if(i)o=new Ma(t,function(){this.track(a);},e.onError,e.requiresObservable);else{var s=CY(e),n=!1;o=new Ma(t,function(){n||(n=!0,s(function(){n=!1,o.isDisposed||o.track(a);}));},e.onError,e.requiresObservable);}function a(){r(o);}return o.schedule(),o.getDisposer();}function CY(r){return r.scheduler?r.scheduler:r.delay?function(e){return setTimeout(e,r.delay);}:vY;}function SY(r,e,t){return FE("onBecomeObserved",r,e,t);}function IE(r,e,t){return FE("onBecomeUnobserved",r,e,t);}function FE(r,e,t,i){var o=typeof i=="function"?Ua(e,t):Ua(e),s=typeof i=="function"?i:t,n=o[r];return typeof n!="function"?kt(!1):(o[r]=function(){n.call(this),s.call(this);},function(){o[r]=n;});}function Ag(r){var e=r.enforceActions,t=r.computedRequiresReaction,i=r.computedConfigurable,o=r.disableErrorBoundaries,s=r.arrayBuffer,n=r.reactionScheduler,a=r.reactionRequiresObservable,l=r.observableRequiresReaction;if(r.isolateGlobalState===!0&&cY(),e!==void 0){(typeof e=="boolean"||e==="strict")&&_n("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var c=void 0;switch(e){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:kt("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'");}he.enforceActions=c,he.allowStateChanges=!(c===!0||c==="strict");}t!==void 0&&(he.computedRequiresReaction=!!t),a!==void 0&&(he.reactionRequiresObservable=!!a),l!==void 0&&(he.observableRequiresReaction=!!l,he.allowStateReads=!he.observableRequiresReaction),i!==void 0&&(he.computedConfigurable=!!i),o!==void 0&&(o===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),he.disableErrorBoundaries=!!o),typeof s=="number"&&H0(s),n&&fY(n);}function wY(r,e,t,i){if(!1&&t)for(var o in t){;}i=tu(i);var s=i.defaultDecorator||(i.deep===!1?pE:O0);ec(r),W0(r,i.name,s.enhancer),Sn();try{for(var n=Object.getOwnPropertyNames(e),a=0,l=n.length;a<l;a++){var o=n[a],c=Object.getOwnPropertyDescriptor(e,o),u=t&&o in t?t[o]:c.get?Tg:s,p=u(r,o,c,!0);p&&Object.defineProperty(r,o,p);}}finally{wn();}return r;}function z0(r,e){return OE(Ua(r,e));}function OE(r){var e={name:r.name};return r.observing&&r.observing.length>0&&(e.dependencies=MX(r.observing).map(OE)),e;}function kY(){this.message="FLOW_CANCELLED";}function TY(r,e){if(r==null)return!1;if(e!==void 0){if(sc(r)){var t=r.$mobx;return t.values&&!!t.values[e];}return!1;}return sc(r)||!!r.$mobx||D0(r)||Rg(r)||Ig(r);}function Pg(r){return arguments.length!==1&&kt(!1),TY(r);}function DY(r){return sc(r)?r.$mobx.getKeys():Ss(r)||za(r)?xn(r.keys()):oc(r)?r.map(function(e,t){return t;}):kt(!1);}function ou(r,e,t,i){return i.detectCycles&&r.set(e,t),t;}function La(r,e,t){if(!e.recurseEverything&&!Pg(r)||_typeof(r)!="object")return r;if(r===null)return null;if(r instanceof Date)return r;if(lY(r))return La(r.get(),e,t);Pg(r)&&DY(r);var i=e.detectCycles===!0;if(i&&r!==null&&t.has(r))return t.get(r);if(oc(r)||Array.isArray(r)){var o=ou(t,r,[],e),s=r.map(function(g){return La(g,e,t);});o.length=s.length;for(var n=0,a=s.length;n<a;n++){o[n]=s[n];}return o;}if(za(r)||Object.getPrototypeOf(r)===Set.prototype)if(e.exportMapsAsObjects===!1){var l=ou(t,r,new Set(),e);return r.forEach(function(g){l.add(La(g,e,t));}),l;}else{var c=ou(t,r,[],e);return r.forEach(function(g){c.push(La(g,e,t));}),c;}if(Ss(r)||Object.getPrototypeOf(r)===Map.prototype)if(e.exportMapsAsObjects===!1){var u=ou(t,r,new Map(),e);return r.forEach(function(g,v){u.set(v,La(g,e,t));}),u;}else{var p=ou(t,r,{},e);return r.forEach(function(g,v){p[v]=La(g,e,t);}),p;}var m=ou(t,r,{},e);for(var h in r){m[h]=La(r[h],e,t);}return m;}function fe(r,e){typeof e=="boolean"&&(e={detectCycles:e}),e||(e=EY),e.detectCycles=e.detectCycles===void 0?e.recurseEverything===!0:e.detectCycles===!0;var t;return e.detectCycles&&(t=new Map()),La(r,e,t);}function IY(){for(var r=[],e=0;e<arguments.length;e++){r[e]=arguments[e];}var t=!1;typeof r[r.length-1]=="boolean"&&(t=r.pop());var i=FY(r);if(!i)return kt(!1);i.isTracing===No.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=t?No.BREAK:No.LOG;}function FY(r){switch(r.length){case 0:return he.trackingDerivation;case 1:return Ua(r[0]);case 2:return Ua(r[0],r[1]);}}function ys(r,e){e===void 0&&(e=void 0),Sn();try{return r.apply(e);}finally{wn();}}function xs(r){return r.interceptors!==void 0&&r.interceptors.length>0;}function hp(r,e){var t=r.interceptors||(r.interceptors=[]);return t.push(e),S0(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1);});}function vs(r,e){var t=ru();try{var i=r.interceptors;if(i)for(var o=0,s=i.length;o<s&&(e=i[o](e),Oa(!e||e.type,"Intercept handlers should return nothing or a change object"),!!e);o++){;}return e;}finally{Aa(t);}}function Go(r){return r.changeListeners!==void 0&&r.changeListeners.length>0;}function fp(r,e){var t=r.changeListeners||(r.changeListeners=[]);return t.push(e),S0(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1);});}function Vo(r,e){var t=ru(),i=r.changeListeners;if(!!i){i=i.slice();for(var o=0,s=i.length;o<s;o++){i[o](e);}Aa(t);}}function AY(r,e){typeof Object.setPrototypeOf!="undefined"?Object.setPrototypeOf(r.prototype,e):typeof r.prototype.__proto__!="undefined"?r.prototype.__proto__=e:r.prototype=e;}function AE(r){return{enumerable:!1,configurable:!1,get:function get(){return this.get(r);},set:function set(e){this.set(r,e);}};}function BY(r){Object.defineProperty(Cs.prototype,""+r,AE(r));}function H0(r){for(var e=U0;e<r;e++){BY(e);}U0=r;}function oc(r){return w0(r)&&MY(r.$mobx);}function Mg(r){return r&&r.toString?r.toString():new String(r).toString();}function W0(r,e,t){e===void 0&&(e=""),t===void 0&&(t=dp);var i=r.$mobx;return i||(Qd(r)||(e=(r.constructor.name||"ObservableObject")+"@"+Mr()),e||(e="ObservableObject@"+Mr()),i=new PE(r,e,t),ap(r,"$mobx",i),i);}function UY(r,e,t,i){var o=W0(r);if(UX(r,e),xs(o)){var s=vs(o,{object:r,name:e,type:"add",newValue:t});if(!s)return;t=s.newValue;}var n=o.values[e]=new Pa(t,i,o.name+"."+e,!1);t=n.value,Object.defineProperty(r,e,HY(e)),o.keys&&o.keys.push(e),GY(o,r,e,t);}function NY(r,e,t){var i=W0(r);t.name=i.name+"."+e,t.context=r,i.values[e]=new Ba(t),Object.defineProperty(r,e,WY(e));}function HY(r){return BE[r]||(BE[r]={configurable:!0,enumerable:!0,get:function get(){return this.$mobx.read(this,r);},set:function set(e){this.$mobx.write(this,r,e);}});}function LE(r){var e=r.$mobx;return e||(ec(r),r.$mobx);}function WY(r){return ME[r]||(ME[r]={configurable:he.computedConfigurable,enumerable:!1,get:function get(){return LE(this).read(this,r);},set:function set(e){LE(this).write(this,r,e);}});}function GY(r,e,t,i){var o=Go(r),s=Fi(),n=o||s?{type:"add",object:e,name:t,newValue:i}:null;s&&Ho(_Wt(_Wt({},n),{name:r.name,key:t})),o&&Vo(r,n),s&&Wo();}function sc(r){return w0(r)?(ec(r),VY(r.$mobx)):!1;}function Ua(r,e){if(_typeof(r)=="object"&&r!==null){if(oc(r))return e!==void 0&&kt(!1),r.$mobx.atom;if(za(r))return r.$mobx;if(Ss(r)){var t=r;if(e===void 0)return t._keysAtom;var i=t._data.get(e)||t._hasMap.get(e);return i||kt(!1),i;}if(ec(r),e&&!r.$mobx&&r[e],sc(r)){if(!e)return kt(!1);var i=r.$mobx.values[e];return i||kt(!1),i;}if(D0(r)||Ig(r)||Rg(r))return r;}else if(typeof r=="function"&&Rg(r.$mobx))return r.$mobx;return kt(!1);}function zE(r,e){if(r||kt("Expecting some object"),e!==void 0)return zE(Ua(r,e));if(D0(r)||Ig(r)||Rg(r)||Ss(r)||za(r))return r;if(ec(r),r.$mobx)return r.$mobx;kt(!1);}function jY(r,e){var t;return e!==void 0?t=Ua(r,e):sc(r)||Ss(r)||za(r)?t=zE(r):t=Ua(r),t.name;}function G0(r,e,t){return t===void 0&&(t=-1),V0(r,e,t);}function V0(r,e,t,i,o){if(r===e)return r!==0||1/r==1/e;if(r==null||e==null)return!1;if(r!==r)return e!==e;var s=_typeof(r);if(s!=="function"&&s!=="object"&&_typeof(e)!="object")return!1;r=NE(r),e=NE(e);var n=UE.call(r);if(n!==UE.call(e))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+r==""+e;case"[object Number]":return+r!=+r?+e!=+e:+r==0?1/+r==1/e:+r==+e;case"[object Date]":case"[object Boolean]":return+r==+e;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(r)===Symbol.valueOf.call(e);}var a=n==="[object Array]";if(!a){if(_typeof(r)!="object"||_typeof(e)!="object")return!1;var l=r.constructor,c=e.constructor;if(l!==c&&!(typeof l=="function"&&l instanceof l&&typeof c=="function"&&c instanceof c)&&"constructor"in r&&"constructor"in e)return!1;}if(t===0)return!1;t<0&&(t=-1),i=i||[],o=o||[];for(var u=i.length;u--;){if(i[u]===r)return o[u]===e;}if(i.push(r),o.push(e),a){if(u=r.length,u!==e.length)return!1;for(;u--;){if(!V0(r[u],e[u],t-1,i,o))return!1;}}else{var p=Object.keys(r),m=void 0;if(u=p.length,Object.keys(e).length!==u)return!1;for(;u--;){if(m=p[u],!($Y(e,m)&&V0(r[m],e[m],t-1,i,o)))return!1;}}return i.pop(),o.pop(),!0;}function NE(r){return oc(r)?r.peek():eu(r)||Ss(r)||lp(r)||za(r)?xn(r.entries()):r;}function $Y(r,e){return Object.prototype.hasOwnProperty.call(r,e);}var PX,yg,iE,BX,rE,oE,xg,D0,Cg,_E2,_Wt,jX,$X,mE,JX,O0,ZX,pE,QX,hE,le,Tg,tY,k,lt,No,Dg,Eg,sY,bE,due,Pa,lY,Ba,Ig,Fg,Og,xE,he,Ma,TE,B0,Rg,gY,T,vY,EY,OY,RY,U0,N0,RE,Cs,PY,MY,LY,Bg,Ss,zY,Lg,za,PE,BE,ME,VY,UE,j0,$0,Le=d(function(){PX="An invariant failed, however the error is obfuscated because this is an production build.",yg=[];Object.freeze(yg);iE={};Object.freeze(iE);BX={};rE=[];oE=function oE(){};xg=function(){function r(e){e===void 0&&(e="Atom@"+Mr()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=lt.NOT_TRACKING;}return r.prototype.onBecomeUnobserved=function(){},r.prototype.onBecomeObserved=function(){},r.prototype.reportObserved=function(){return SE(this);},r.prototype.reportChanged=function(){Sn(),uY(this),wn();},r.prototype.toString=function(){return this.name;},r;}(),D0=Ra("Atom",xg);Cg={identity:cE,structural:WX,"default":VX,shallow:GX};_E2=function E0(r,e){return _E2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i;}||function(t,i){for(var o in i){i.hasOwnProperty(o)&&(t[o]=i[o]);}},_E2(r,e);};_Wt=function Wt(){return _Wt=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var s in t){Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);}}return e;},_Wt.apply(this,arguments);};jX={},$X={};mE={deep:!0,name:void 0,defaultDecorator:void 0},JX={deep:!1,name:void 0,defaultDecorator:void 0};Object.freeze(mE);Object.freeze(JX);O0=wg(dp),ZX=wg(XX),pE=wg(Sg),QX=wg(YX);hE={box:function box(r,e){arguments.length>2&&vn("box");var t=tu(e);return new Pa(r,kg(t),t.name,!0,t.equals);},shallowBox:function shallowBox(r,e){return arguments.length>2&&vn("shallowBox"),_n("observable.shallowBox","observable.box(value, { deep: false })"),le.box(r,{name:e,deep:!1});},array:function array(r,e){arguments.length>2&&vn("array");var t=tu(e);return new Cs(r,kg(t),t.name);},shallowArray:function shallowArray(r,e){return arguments.length>2&&vn("shallowArray"),_n("observable.shallowArray","observable.array(values, { deep: false })"),le.array(r,{name:e,deep:!1});},map:function map(r,e){arguments.length>2&&vn("map");var t=tu(e);return new Bg(r,kg(t),t.name);},shallowMap:function shallowMap(r,e){return arguments.length>2&&vn("shallowMap"),_n("observable.shallowMap","observable.map(values, { deep: false })"),le.map(r,{name:e,deep:!1});},set:function set(r,e){arguments.length>2&&vn("set");var t=tu(e);return new Lg(r,kg(t),t.name);},object:function object(r,e,t){typeof arguments[1]=="string"&&vn("object");var i=tu(t);return wY({},r,e,i);},shallowObject:function shallowObject(r,e){return typeof arguments[1]=="string"&&vn("shallowObject"),_n("observable.shallowObject","observable.object(values, {}, { deep: false })"),le.object(r,{},{name:e,deep:!1});},ref:pE,shallow:ZX,deep:O0,struct:QX},le=eY;Object.keys(hE).forEach(function(r){return le[r]=hE[r];});Tg=uE(!1,function(r,e,t,i,o){var s=t.get,n=t.set,a=o[0]||{};NY(r,e,_Wt({get:s,set:n},a));}),tY=Tg({equals:Cg.structural}),k=function k(e,t,i){if(typeof t=="string"||e!==null&&_typeof(e)=="object"&&arguments.length===1)return Tg.apply(null,arguments);var o=_typeof(t)=="object"?t:{};return o.get=e,o.set=typeof t=="function"?t:o.set,o.name=o.name||e.name||"",new Ba(o);};k.struct=tY;(function(r){r[r.NOT_TRACKING=-1]="NOT_TRACKING",r[r.UP_TO_DATE=0]="UP_TO_DATE",r[r.POSSIBLY_STALE=1]="POSSIBLY_STALE",r[r.STALE=2]="STALE";})(lt||(lt={}));(function(r){r[r.NONE=0]="NONE",r[r.LOG=1]="LOG",r[r.BREAK=2]="BREAK";})(No||(No={}));Dg=function(){function r(e){this.cause=e;}return r;}();Eg=0,sY=1,bE=Object.getOwnPropertyDescriptor(function(){},"name"),due=bE&&bE.configurable;Pa=function(r){dE(e,r);function e(t,i,o,s,n){o===void 0&&(o="ObservableValue@"+Mr()),s===void 0&&(s=!0),n===void 0&&(n=Cg["default"]);var a=r.call(this,o)||this;return a.enhancer=i,a.name=o,a.equals=n,a.hasUnreportedChange=!1,a.value=i(t,void 0,o),s&&Fi()&&rc({type:"create",name:a.name,newValue:""+a.value}),a;}return e.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t;},e.prototype.set=function(t){var i=this.value;if(t=this.prepareNewValue(t),t!==he.UNCHANGED){var o=Fi();o&&Ho({type:"update",name:this.name,newValue:t,oldValue:i}),this.setNewValue(t),o&&Wo();}},e.prototype.prepareNewValue=function(t){if(iu(this),xs(this)){var i=vs(this,{object:this,type:"update",newValue:t});if(!i)return he.UNCHANGED;t=i.newValue;}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?he.UNCHANGED:t;},e.prototype.setNewValue=function(t){var i=this.value;this.value=t,this.reportChanged(),Go(this)&&Vo(this,{type:"update",object:this,newValue:t,oldValue:i});},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value);},e.prototype.intercept=function(t){return hp(this,t);},e.prototype.observe=function(t,i){return i&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),fp(this,t);},e.prototype.toJSON=function(){return this.get();},e.prototype.toString=function(){return this.name+"["+this.value+"]";},e.prototype.valueOf=function(){return nE(this.get());},e;}(xg);Pa.prototype[sE()]=Pa.prototype.valueOf;lY=Ra("ObservableValue",Pa),Ba=function(){function r(e){this.dependenciesState=lt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=lt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Mr(),this.value=new Dg(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=No.NONE,Oa(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+Mr(),e.set&&(this.setter=ic(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Cg.structural:Cg["default"]),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive;}return r.prototype.onBecomeStale=function(){pY(this);},r.prototype.onBecomeUnobserved=function(){},r.prototype.onBecomeObserved=function(){},r.prototype.get=function(){this.isComputing&&kt("Cycle detected in computation "+this.name+": "+this.derivation),he.inBatch===0&&this.observers.length===0&&!this.keepAlive?R0(this)&&(this.warnAboutUntrackedRead(),Sn(),this.value=this.computeValue(!1),wn()):(SE(this),R0(this)&&this.trackAndCompute()&&mY(this));var e=this.value;if(up(e))throw e.cause;return e;},r.prototype.peek=function(){var e=this.computeValue(!1);if(up(e))throw e.cause;return e;},r.prototype.set=function(e){if(this.setter){Oa(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e);}finally{this.isRunningSetter=!1;}}else Oa(!1,!1);},r.prototype.trackAndCompute=function(){Fi()&&rc({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===lt.NOT_TRACKING,i=this.computeValue(!0),o=t||up(e)||up(i)||!this.equals(e,i);return o&&(this.value=i),o;},r.prototype.computeValue=function(e){this.isComputing=!0,he.computationDepth++;var t;if(e)t=fE(this,this.derivation,this.scope);else if(he.disableErrorBoundaries===!0)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope);}catch(i){t=new Dg(i);}return he.computationDepth--,this.isComputing=!1,t;},r.prototype.suspend=function(){this.keepAlive||(A0(this),this.value=void 0);},r.prototype.observe=function(e,t){var i=this,o=!0,s=void 0;return xY(function(){var n=i.get();if(!o||t){var a=ru();e({type:"update",object:i,newValue:n,oldValue:s}),Aa(a);}o=!1,s=n;});},r.prototype.warnAboutUntrackedRead=function(){},r.prototype.toJSON=function(){return this.get();},r.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]";},r.prototype.valueOf=function(){return nE(this.get());},r;}();Ba.prototype[sE()]=Ba.prototype.valueOf;Ig=Ra("ComputedValue",Ba),Fg=function(){function r(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1;}return r;}(),Og=!0,xE=!1,he=function(){var r=Zd();return r.__mobxInstanceCount>0&&!r.__mobxGlobals&&(Og=!1),r.__mobxGlobals&&r.__mobxGlobals.version!==new Fg().version&&(Og=!1),Og?r.__mobxGlobals?(r.__mobxInstanceCount+=1,r.__mobxGlobals.UNCHANGED||(r.__mobxGlobals.UNCHANGED={}),r.__mobxGlobals):(r.__mobxInstanceCount=1,r.__mobxGlobals=new Fg()):(setTimeout(function(){xE||kt("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`");},1),new Fg());}();Ma=function(){function r(e,t,i,o){e===void 0&&(e="Reaction@"+Mr()),o===void 0&&(o=!1),this.name=e,this.onInvalidate=t,this.errorHandler=i,this.requiresObservable=o,this.observing=[],this.newObserving=[],this.dependenciesState=lt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Mr(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=No.NONE;}return r.prototype.onBecomeStale=function(){this.schedule();},r.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,he.pendingReactions.push(this),DE());},r.prototype.isScheduled=function(){return this._isScheduled;},r.prototype.runReaction=function(){if(!this.isDisposed){if(Sn(),this._isScheduled=!1,R0(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Fi()&&rc({name:this.name,type:"scheduled-reaction"});}catch(e){this.reportExceptionInDerivation(e);}}wn();}},r.prototype.track=function(e){Sn();var t=Fi(),i;t&&(i=Date.now(),Ho({name:this.name,type:"reaction"})),this._isRunning=!0;var o=fE(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&A0(this),up(o)&&this.reportExceptionInDerivation(o.cause),t&&Wo({time:Date.now()-i}),wn();},r.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler){this.errorHandler(e,this);return;}if(he.disableErrorBoundaries)throw e;var i="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";he.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(i,e),Fi()&&rc({type:"error",name:this.name,message:i,error:""+e}),he.globalReactionErrorHandlers.forEach(function(o){return o(e,t);});},r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Sn(),A0(this),wn()));},r.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e;},r.prototype.toString=function(){return"Reaction["+this.name+"]";},r.prototype.trace=function(e){e===void 0&&(e=!1),IY(this,e);},r;}(),TE=100,B0=function B0(r){return r();};Rg=Ra("Reaction",Ma);gY={spyReportEnd:!0};T=function T(e,t,i,o){if(arguments.length===1&&typeof e=="function")return ic(e.name||"<unnamed action>",e);if(arguments.length===2&&typeof t=="function")return ic(e,t);if(arguments.length===1&&typeof e=="string")return EE(e);if(o===!0)e[t]=ic(e.name||t,i.value);else return EE(t).apply(null,arguments);};T.bound=yY;vY=function vY(r){return r();};kY.prototype=Object.create(Error.prototype);EY={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};OY=1e4,RY=function(){var r=!1,e={};return Object.defineProperty(e,"0",{set:function set(){r=!0;}}),Object.create(e)["0"]=1,r===!1;}(),U0=0,N0=function(){function r(){}return r;}();AY(N0,Array.prototype);Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(r){Object.defineProperty(N0.prototype,r,{configurable:!0,writable:!0,value:Array.prototype[r]});});RE=function(){function r(e,t,i,o){this.array=i,this.owned=o,this.values=[],this.lastKnownLength=0,this.atom=new xg(e||"ObservableArray@"+Mr()),this.enhancer=function(s,n){return t(s,n,e+"[..]");};}return r.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e;},r.prototype.dehanceValues=function(e){return this.dehancer!==void 0&&e.length>0?e.map(this.dehancer):e;},r.prototype.intercept=function(e){return hp(this,e);},r.prototype.observe=function(e,t){return t===void 0&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fp(this,e);},r.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length;},r.prototype.setArrayLength=function(e){if(typeof e!="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var i=new Array(e-t),o=0;o<e-t;o++){i[o]=void 0;}this.spliceWithArray(t,0,i);}else this.spliceWithArray(e,t-e);},r.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>U0&&H0(e+t+1);},r.prototype.spliceWithArray=function(e,t,i){var o=this;iu(this.atom);var s=this.values.length;if(e===void 0?e=0:e>s?e=s:e<0&&(e=Math.max(0,s+e)),arguments.length===1?t=s-e:t==null?t=0:t=Math.max(0,Math.min(t,s-e)),i===void 0&&(i=yg),xs(this)){var n=vs(this,{object:this.array,type:"splice",index:e,removedCount:t,added:i});if(!n)return yg;t=n.removedCount,i=n.added;}i=i.length===0?i:i.map(function(c){return o.enhancer(c,void 0);});var a=i.length-t;this.updateArrayLength(s,a);var l=this.spliceItemsIntoValues(e,t,i);return(t!==0||i.length!==0)&&this.notifyArraySplice(e,i,l),this.dehanceValues(l);},r.prototype.spliceItemsIntoValues=function(e,t,i){var o;if(i.length<OY)return(o=this.values).splice.apply(o,F0([e,t],i));var s=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(i,this.values.slice(e+t)),s;},r.prototype.notifyArrayChildUpdate=function(e,t,i){var o=!this.owned&&Fi(),s=Go(this),n=s||o?{object:this.array,type:"update",index:e,newValue:t,oldValue:i}:null;o&&Ho(_Wt(_Wt({},n),{name:this.atom.name})),this.atom.reportChanged(),s&&Vo(this,n),o&&Wo();},r.prototype.notifyArraySplice=function(e,t,i){var o=!this.owned&&Fi(),s=Go(this),n=s||o?{object:this.array,type:"splice",index:e,removed:i,added:t,removedCount:i.length,addedCount:t.length}:null;o&&Ho(_Wt(_Wt({},n),{name:this.atom.name})),this.atom.reportChanged(),s&&Vo(this,n),o&&Wo();},r;}(),Cs=function(r){dE(e,r);function e(t,i,o,s){o===void 0&&(o="ObservableArray@"+Mr()),s===void 0&&(s=!1);var n=r.call(this)||this,a=new RE(o,i,n,s);if(ap(n,"$mobx",a),t&&t.length){var l=mp(!0);n.spliceWithArray(0,0,t),pp(l);}return RY&&Object.defineProperty(a.array,"0",PY),n;}return e.prototype.intercept=function(t){return this.$mobx.intercept(t);},e.prototype.observe=function(t,i){return i===void 0&&(i=!1),this.$mobx.observe(t,i);},e.prototype.clear=function(){return this.splice(0);},e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++){t[i]=arguments[i];}return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map(function(o){return oc(o)?o.peek():o;}));},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t);},e.prototype.toJS=function(){return this.slice();},e.prototype.toJSON=function(){return this.toJS();},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values);},e.prototype.find=function(t,i,o){o===void 0&&(o=0),arguments.length===3&&_n("The array.find fromIndex argument to find will not be supported anymore in the next major");var s=this.findIndex.apply(this,arguments);return s===-1?void 0:this.get(s);},e.prototype.findIndex=function(t,i,o){o===void 0&&(o=0),arguments.length===3&&_n("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var s=this.peek(),n=s.length,a=o;a<n;a++){if(t.call(i,s[a],a,this))return a;}return-1;},e.prototype.splice=function(t,i){for(var o=[],s=2;s<arguments.length;s++){o[s-2]=arguments[s];}switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,i);}return this.$mobx.spliceWithArray(t,i,o);},e.prototype.spliceWithArray=function(t,i,o){return this.$mobx.spliceWithArray(t,i,o);},e.prototype.push=function(){for(var t=[],i=0;i<arguments.length;i++){t[i]=arguments[i];}var o=this.$mobx;return o.spliceWithArray(o.values.length,0,t),o.values.length;},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0];},e.prototype.shift=function(){return this.splice(0,1)[0];},e.prototype.unshift=function(){for(var t=[],i=0;i<arguments.length;i++){t[i]=arguments[i];}var o=this.$mobx;return o.spliceWithArray(0,0,t),o.values.length;},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments);},e.prototype.sort=function(t){var i=this.slice();return i.sort.apply(i,arguments);},e.prototype.remove=function(t){var i=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return i>-1?(this.splice(i,1),!0):!1;},e.prototype.move=function(t,i){_n("observableArray.move is deprecated, use .slice() & .replace() instead");function o(a){if(a<0)throw new Error("[mobx.array] Index out of bounds: "+a+" is negative");var l=this.$mobx.values.length;if(a>=l)throw new Error("[mobx.array] Index out of bounds: "+a+" is not smaller than "+l);}if(o.call(this,t),o.call(this,i),t!==i){var s=this.$mobx.values,n;t<i?n=F0(s.slice(0,t),s.slice(t+1,i+1),[s[t]],s.slice(i+1)):n=F0(s.slice(0,i),[s[t]],s.slice(i,t),s.slice(t+1)),this.replace(n);}},e.prototype.get=function(t){var i=this.$mobx;if(i){if(t<i.values.length)return i.atom.reportObserved(),i.dehanceValue(i.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+i.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX");}},e.prototype.set=function(t,i){var o=this.$mobx,s=o.values;if(t<s.length){iu(o.atom);var n=s[t];if(xs(o)){var a=vs(o,{type:"update",object:this,index:t,newValue:i});if(!a)return;i=a.newValue;}i=o.enhancer(i,n);var l=i!==n;l&&(s[t]=i,o.notifyArrayChildUpdate(t,i,n));}else if(t===s.length)o.spliceWithArray(t,0,[i]);else throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+s.length);},e;}(N0);k0(Cs.prototype,function(){this.$mobx.atom.reportObserved();var r=this,e=0;return cp({next:function next(){return e<r.length?{value:r[e++],done:!1}:{done:!0,value:void 0};}});});Object.defineProperty(Cs.prototype,"length",{enumerable:!1,configurable:!0,get:function get(){return this.$mobx.getArrayLength();},set:function set(r){this.$mobx.setArrayLength(r);}});yn(Cs.prototype,T0(),"Array");["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(r){var e=Array.prototype[r];Oa(typeof e=="function","Base function not defined on Array prototype: '"+r+"'"),yn(Cs.prototype,r,function(){return e.apply(this.peek(),arguments);});});["every","filter","forEach","map","some"].forEach(function(r){var e=Array.prototype[r];Oa(typeof e=="function","Base function not defined on Array prototype: '"+r+"'"),yn(Cs.prototype,r,function(t,i){var o=this,s=this.$mobx;s.atom.reportObserved();var n=s.dehanceValues(s.values);return n[r](function(a,l){return t.call(i,a,l,o);},i);});});["reduce","reduceRight"].forEach(function(r){yn(Cs.prototype,r,function(){var e=this,t=this.$mobx;t.atom.reportObserved();var i=arguments[0];return arguments[0]=function(o,s,n){return s=t.dehanceValue(s),i(o,s,n,e);},t.values[r].apply(t.values,arguments);});});zX(Cs.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);PY=AE(0);H0(1e3);MY=Ra("ObservableArrayAdministration",RE);LY={},Bg=function(){function r(e,t,i){if(t===void 0&&(t=dp),i===void 0&&(i="ObservableMap@"+Mr()),this.enhancer=t,this.name=i,this.$mobx=LY,this._keysAtom=vg(this.name+".keys()"),typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map(),this._hasMap=new Map(),this.merge(e);}return r.prototype._has=function(e){return this._data.has(e);},r.prototype.has=function(e){var t=this;if(!he.trackingDerivation)return this._has(e);var i=this._hasMap.get(e);if(!i){var o=i=new Pa(this._has(e),Sg,this.name+"."+Mg(e)+"?",!1);this._hasMap.set(e,o),IE(o,function(){return t._hasMap["delete"](e);});}return i.get();},r.prototype.set=function(e,t){var i=this._has(e);if(xs(this)){var o=vs(this,{type:i?"update":"add",object:this,newValue:t,name:e});if(!o)return this;t=o.newValue;}return i?this._updateValue(e,t):this._addValue(e,t),this;},r.prototype["delete"]=function(e){var t=this;if(iu(this._keysAtom),xs(this)){var i=vs(this,{type:"delete",object:this,name:e});if(!i)return!1;}if(this._has(e)){var o=Fi(),s=Go(this),i=s||o?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return o&&Ho(_Wt(_Wt({},i),{name:this.name,key:e})),ys(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1);var a=t._data.get(e);a.setNewValue(void 0),t._data["delete"](e);}),s&&Vo(this,i),o&&Wo(),!0;}return!1;},r.prototype._updateHasMapEntry=function(e,t){var i=this._hasMap.get(e);i&&i.setNewValue(t);},r.prototype._updateValue=function(e,t){var i=this._data.get(e);if(t=i.prepareNewValue(t),t!==he.UNCHANGED){var o=Fi(),s=Go(this),n=s||o?{type:"update",object:this,oldValue:i.value,name:e,newValue:t}:null;o&&Ho(_Wt(_Wt({},n),{name:this.name,key:e})),i.setNewValue(t),s&&Vo(this,n),o&&Wo();}},r.prototype._addValue=function(e,t){var i=this;iu(this._keysAtom),ys(function(){var a=new Pa(t,i.enhancer,i.name+"."+Mg(e),!1);i._data.set(e,a),t=a.value,i._updateHasMapEntry(e,!0),i._keysAtom.reportChanged();});var o=Fi(),s=Go(this),n=s||o?{type:"add",object:this,name:e,newValue:t}:null;o&&Ho(_Wt(_Wt({},n),{name:this.name,key:e})),s&&Vo(this,n),o&&Wo();},r.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0);},r.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e;},r.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys();},r.prototype.values=function(){var e=this,t=this.keys();return cp({next:function next(){var i=t.next(),o=i.done,s=i.value;return{done:o,value:o?void 0:e.get(s)};}});},r.prototype.entries=function(){var e=this,t=this.keys();return cp({next:function next(){var i=t.next(),o=i.done,s=i.value;return{done:o,value:o?void 0:[s,e.get(s)]};}});},r.prototype.forEach=function(e,t){var i=this;this._keysAtom.reportObserved(),this._data.forEach(function(o,s){return e.call(t,i.get(s),s,i);});},r.prototype.merge=function(e){var t=this;return Ss(e)&&(e=e.toJS()),ys(function(){var i=mp(!0);try{Qd(e)?Object.keys(e).forEach(function(o){return t.set(o,e[o]);}):Array.isArray(e)?e.forEach(function(o){var s=I0(o,2),n=s[0],a=s[1];return t.set(n,a);}):eu(e)?e.constructor!==Map?kt("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach(function(o,s){return t.set(s,o);}):e!=null&&kt("Cannot initialize map from "+e);}finally{pp(i);}}),this;},r.prototype.clear=function(){var e=this;ys(function(){P0(function(){e._data.forEach(function(t,i){return e["delete"](i);});});});},r.prototype.replace=function(e){var t=this;return ys(function(){var i=LX(e),o=new Map(),s=!1;if(aE(t._data.keys(),function(u){if(!i.has(u)){var p=t["delete"](u);if(p)s=!0;else{var m=t._data.get(u);o.set(u,m);}}}),aE(i.entries(),function(u){var p=I0(u,2),m=p[0],h=p[1],g=t._data.has(m);if(t.set(m,h),t._data.has(m)){var v=t._data.get(m);o.set(m,v),g||(s=!0);}}),!s)if(t._data.size!==o.size)t._keysAtom.reportChanged();else for(var n=t._data.keys(),a=o.keys(),l=n.next(),c=a.next();!l.done;){if(l.value!==c.value){t._keysAtom.reportChanged();break;}l=n.next(),c=a.next();}t._data=o;}),this;},Object.defineProperty(r.prototype,"size",{get:function get(){return this._keysAtom.reportObserved(),this._data.size;},enumerable:!0,configurable:!0}),r.prototype.toPOJO=function(){var e=this,t={};return this.forEach(function(i,o){return t[_typeof(o)=="symbol"?o:Mg(o)]=e.get(o);}),t;},r.prototype.toJS=function(){return new Map(this);},r.prototype.toJSON=function(){return this.toPOJO();},r.prototype.toString=function(){var e=this;return this.name+"[{ "+xn(this.keys()).map(function(t){return Mg(t)+": "+(""+e.get(t));}).join(", ")+" }]";},r.prototype.observe=function(e,t){return fp(this,e);},r.prototype.intercept=function(e){return hp(this,e);},r;}();k0(Bg.prototype,function(){return this.entries();});ap(Bg.prototype,T0(),"Map");Ss=Ra("ObservableMap",Bg),zY={},Lg=function(){function r(e,t,i){if(t===void 0&&(t=dp),i===void 0&&(i="ObservableSet@"+Mr()),this.name=i,this.$mobx=zY,this._data=new Set(),this._atom=vg(this.name),typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(o,s){return t(o,s,i);},e&&this.replace(e);}return r.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e;},r.prototype.clear=function(){var e=this;ys(function(){P0(function(){e._data.forEach(function(t){e["delete"](t);});});});},r.prototype.forEach=function(e,t){var i=this;this._atom.reportObserved(),this._data.forEach(function(o){e.call(t,o,o,i);});},Object.defineProperty(r.prototype,"size",{get:function get(){return this._atom.reportObserved(),this._data.size;},enumerable:!0,configurable:!0}),r.prototype.add=function(e){var t=this;if(iu(this._atom),xs(this)){var i=vs(this,{type:"add",object:this,newValue:e});if(!i)return this;}if(!this.has(e)){ys(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged();});var o=Fi(),s=Go(this),i=s||o?{type:"add",object:this,newValue:e}:null;s&&Vo(this,i);}return this;},r.prototype["delete"]=function(e){var t=this;if(xs(this)){var i=vs(this,{type:"delete",object:this,oldValue:e});if(!i)return!1;}if(this.has(e)){var o=Fi(),s=Go(this),i=s||o?{type:"delete",object:this,oldValue:e}:null;return ys(function(){t._atom.reportChanged(),t._data["delete"](e);}),s&&Vo(this,i),!0;}return!1;},r.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e));},r.prototype.entries=function(){var e=0,t=xn(this.keys()),i=xn(this.values());return cp({next:function next(){var o=e;return e+=1,o<i.length?{value:[t[o],i[o]],done:!1}:{done:!0};}});},r.prototype.keys=function(){return this.values();},r.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,i;return this._data.values!==void 0?i=xn(this._data.values()):(i=[],this._data.forEach(function(o){return i.push(o);})),cp({next:function next(){return t<i.length?{value:e.dehanceValue(i[t++]),done:!1}:{done:!0};}});},r.prototype.replace=function(e){var t=this;return za(e)&&(e=e.toJS()),ys(function(){var i=mp(!0);try{Array.isArray(e)?(t.clear(),e.forEach(function(o){return t.add(o);})):lp(e)?(t.clear(),e.forEach(function(o){return t.add(o);})):e!=null&&kt("Cannot initialize set from "+e);}finally{pp(i);}}),this;},r.prototype.observe=function(e,t){return fp(this,e);},r.prototype.intercept=function(e){return hp(this,e);},r.prototype.toJS=function(){return new Set(this);},r.prototype.toString=function(){return this.name+"[ "+xn(this.keys()).join(", ")+" ]";},r;}();k0(Lg.prototype,function(){return this.values();});ap(Lg.prototype,T0(),"Set");za=Ra("ObservableSet",Lg),PE=function(){function r(e,t,i){this.target=e,this.name=t,this.defaultEnhancer=i,this.values={};}return r.prototype.read=function(e,t){if(!(this.target!==e&&(this.illegalAccess(e,t),!this.values[t])))return this.values[t].get();},r.prototype.write=function(e,t,i){var o=this.target;o!==e&&this.illegalAccess(e,t);var s=this.values[t];if(s instanceof Ba){s.set(i);return;}if(xs(this)){var n=vs(this,{type:"update",object:o,name:t,newValue:i});if(!n)return;i=n.newValue;}if(i=s.prepareNewValue(i),i!==he.UNCHANGED){var a=Go(this),l=Fi(),n=a||l?{type:"update",object:o,oldValue:s.value,name:t,newValue:i}:null;l&&Ho(_Wt(_Wt({},n),{name:this.name,key:t})),s.setNewValue(i),a&&Vo(this,n),l&&Wo();}},r.prototype.remove=function(e){if(!!this.values[e]){var t=this.target;if(xs(this)){var i=vs(this,{object:t,name:e,type:"remove"});if(!i)return;}try{Sn();var o=Go(this),s=Fi(),n=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var i=o||s?{type:"remove",object:t,oldValue:n,name:e}:null;s&&Ho(_Wt(_Wt({},i),{name:this.name,key:e})),o&&Vo(this,i),s&&Wo();}finally{wn();}}},r.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner");},r.prototype.observe=function(e,t){return fp(this,e);},r.prototype.intercept=function(e){return hp(this,e);},r.prototype.getKeys=function(){var e=this;return this.keys===void 0&&(this.keys=new Cs(Object.keys(this.values).filter(function(t){return e.values[t]instanceof Pa;}),Sg,"keys("+this.name+")",!0)),this.keys.slice();},r;}();BE=Object.create(null),ME=Object.create(null);VY=Ra("ObservableObjectAdministration",PE);UE=Object.prototype.toString;try{}catch(r){j0=Zd(),typeof process=="undefined"&&(j0.process={}),j0.process.env={};}(function(){function r(){}if(r.name!=="testCodeMinification"&&!1)var e;})();$0="$mobx";(typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__==="undefined"?"undefined":_typeof(__MOBX_DEVTOOLS_GLOBAL_HOOK__))=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:M0,extras:{getDebugName:jY},$mobx:$0});});var HE,WE=d(function(){Le();HE=y(x("react"));if(!HE.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!M0)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");});var q0,GE=d(function(){q0=y(x("react-dom"));});function K0(){var r=qY((0,gp.useState)(0),2),e=r[1],t=(0,gp.useCallback)(function(){e(function(i){return i+1;});},[]);return t;}function VE(r){return typeof Symbol=="function"?Symbol["for"](r):"__$mobx-react "+r+"__";}function jE(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:KY;}var gp,qY,KY,su=d(function(){gp=y(x("react")),qY=function qY(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),o,s=[],n;try{for(;(e===void 0||e-->0)&&!(o=i.next()).done;){s.push(o.value);}}catch(a){n={error:a};}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i);}finally{if(n)throw n.error;}}return s;};KY={};});function YY(r){r();}function zg(r){r||(r=YY),Ag({reactionScheduler:r}),jE()[XY]=!0;}var XY,X0=d(function(){Le();su();XY=VE("observerBatching");});function ws(){return JY;}var JY,Ug=d(function(){JY=!1;});function $E(r){return z0(r);}var qE=d(function(){Le();});function KE(r){var e={cleanAt:Date.now()+ZY,reaction:r};return e;}function XE(){Y0===void 0&&(Y0=setTimeout(eJ,QY));}function YE(r){bp.add(r),XE();}function JE(r){bp["delete"](r);}function eJ(){Y0=void 0;var r=Date.now();bp.forEach(function(e){var t=e.current;t&&r>=t.cleanAt&&(t.reaction.dispose(),e.current=null,bp["delete"](e));}),bp.size>0&&XE();}var ZY,QY,bp,Y0,ZE=d(function(){ZY=1e4,QY=1e4,bp=new Set();});function J0(r){return function(){Ng?Hg.push(r):r();};}function Z0(r){Ng=!0,Hg=[];try{var e=r();Ng=!1;var t=Hg.length>0?Hg:void 0;return QE["default"].useLayoutEffect(function(){t&&t.forEach(function(i){return i();});},[t]),e;}finally{Ng=!1;}}var QE,Ng,Hg,Q0=d(function(){QE=y(x("react")),Ng=!1,Hg=[];});function eI(r){return"observer"+r;}function nu(r,e,t){if(e===void 0&&(e="observed"),t===void 0&&(t=tJ),ws())return r();var i=t.useForceUpdate||K0,o=i(),s=J0(o),n=Wg["default"].useRef(null);if(!n.current){var a=new Ma(eI(e),function(){l.mounted?s():(a.dispose(),n.current=null);}),l=KE(a);n.current=l,YE(n);}var c=n.current.reaction;return Wg["default"].useDebugValue(c,$E),Wg["default"].useEffect(function(){return JE(n),n.current?n.current.mounted=!0:(n.current={reaction:new Ma(eI(e),function(){s();}),cleanAt:1/0},s()),function(){n.current.reaction.dispose(),n.current=null;};},[]),Z0(function(){var u,p;if(c.track(function(){try{u=r();}catch(m){p=m;}}),p)throw p;return u;});}var Wg,tJ,Gg=d(function(){Le();Wg=y(x("react"));qE();ZE();Ug();su();Q0();tJ={};});function tC(r,e){if(ws())return r;var t=_eC({forwardRef:!1},e),i=r.displayName||r.name,o=function o(n,a){return nu(function(){return r(n,a);},i);};o.displayName=i;var s;return t.forwardRef?s=(0,_p.memo)((0,_p.forwardRef)(o)):s=(0,_p.memo)(o),rJ(r,s),s.displayName=i,s;}function rJ(r,e){Object.keys(r).forEach(function(t){iJ[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t));});}var _p,_eC,iJ,tI=d(function(){_p=y(x("react"));Ug();Gg();_eC=function eC(){return _eC=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e){Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);}}return r;},_eC.apply(this,arguments);};iJ={$$typeof:!0,render:!0,compare:!0,type:!0};});function au(r){var e=r.children,t=r.render,i=e||t;return typeof i!="function"?null:nu(i);}function iI(r,e,t,i,o){var s=e==="children"?"render":"children",n=typeof r[e]=="function",a=typeof r[s]=="function";return n&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+t):n||a?null:new Error("Invalid prop `"+o+"` of type `"+_typeof(r[e])+"` supplied to `"+t+"`, expected `function`.");}var rI=d(function(){Gg();au.propTypes={children:iI,render:iI};au.displayName="Observer";});var oJ,iC=d(function(){Le();oJ=y(x("react"));su();});var sJ,oI=d(function(){Le();sJ=y(x("react"));iC();su();});var rC=d(function(){WE();GE();X0();Ug();tI();Gg();rI();su();iC();oI();Q0();X0();zg(q0.unstable_batchedUpdates);});function cJ(r){if(typeof Symbol=="function")return Symbol(r);var e="__$mobx-react "+r+" ("+sI+")";return sI++,e;}function Na(r){return oC[r]||(oC[r]=cJ(r)),oC[r];}function nI(r,e){if(aI(r,e))return!0;if(_typeof(r)!="object"||r===null||_typeof(e)!="object"||e===null)return!1;var t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(var o=0;o<t.length;o++){if(!Object.hasOwnProperty.call(e,t[o])||!aI(r[t[o]],e[t[o]]))return!1;}return!0;}function aI(r,e){return r===e?r!==0||1/r==1/e:r!==r&&e!==e;}function uJ(r,e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(r));Object.getOwnPropertyNames(r).forEach(function(i){!dJ[i]&&t.indexOf(i)===-1&&Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i));});}function kn(r,e,t){Object.hasOwnProperty.call(r,e)?r[e]=t:Object.defineProperty(r,e,{enumerable:!1,configurable:!0,writable:!0,value:t});}function mJ(r,e){var t=r[lI]=r[lI]||{},i=t[e]=t[e]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i;}function dI(r,e){for(var t=this,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++){o[s-2]=arguments[s];}e.locks++;try{var n;return r!=null&&(n=r.apply(this,o)),n;}finally{e.locks--,e.locks===0&&e.methods.forEach(function(a){a.apply(t,o);});}}function uI(r,e){var t=function t(){for(var o=arguments.length,s=new Array(o),n=0;n<o;n++){s[n]=arguments[n];}dI.call.apply(dI,[this,r,e].concat(s));};return t;}function pJ(r,e,t){var i=mJ(r,e);i.methods.indexOf(t)<0&&i.methods.push(t);var o=Object.getOwnPropertyDescriptor(r,e);if(!(o&&o[cI])){var s=r[e],n=mI(r,e,o?o.enumerable:void 0,i,s);Object.defineProperty(r,e,n);}}function mI(r,e,t,i,o){var s,n=uI(o,i);return s={},s[cI]=!0,s.get=function(){return n;},s.set=function(l){if(this===r)n=uI(l,i);else{var c=mI(this,e,t,i,l);Object.defineProperty(this,e,c);}},s.configurable=!0,s.enumerable=t,s;}function hJ(r){var e=r.prototype;if(r[pI]){var t=nC(e);console.warn("The provided component class ("+t+") \n                has already been declared as an observer component.");}else r[pI]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(r.__proto__!==Xt.PureComponent){if(!e.shouldComponentUpdate)e.shouldComponentUpdate=fI;else if(e.shouldComponentUpdate!==fI)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.");}gI(e,"props"),gI(e,"state");var i=e.render;return e.render=function(){return fJ.call(this,i);},pJ(e,"componentWillUnmount",function(){var o;if(ws()!==!0&&((o=this.render[sC])===null||o===void 0||o.dispose(),this[hI]=!0,!this.render[sC])){var s=nC(this);console.warn("The reactive render of an observer class component ("+s+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.");}}),r;}function nC(r){return r.displayName||r.name||r.constructor&&(r.constructor.displayName||r.constructor.name)||"<component>";}function fJ(r){var e=this;if(ws()===!0)return r.call(this);kn(this,Vg,!1),kn(this,jg,!1);var t=nC(this),i=r.bind(this),o=!1,s=new Ma(t+".render()",function(){if(!o&&(o=!0,e[hI]!==!0)){var a=!0;try{kn(e,jg,!0),e[Vg]||Xt.Component.prototype.forceUpdate.call(e),a=!1;}finally{kn(e,jg,!1),a&&s.dispose();}}});s.reactComponent=this,n[sC]=s,this.render=n;function n(){o=!1;var a=void 0,l=void 0;if(s.track(function(){try{l=yE(!1,i);}catch(c){a=c;}}),a)throw a;return l;}return n.call(this);}function fI(r,e){return ws()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e?!0:!nI(this.props,r);}function gI(r,e){var t=Na("reactProp_"+e+"_valueHolder"),i=Na("reactProp_"+e+"_atomHolder");function o(){return this[i]||kn(this,i,vg("reactive "+e)),this[i];}Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function get(){var n=!1;return tc&&Cn&&(n=tc(!0)),o.call(this).reportObserved(),tc&&Cn&&Cn(n),this[t];},set:function set(n){!this[jg]&&!nI(this[t],n)?(kn(this,t,n),kn(this,Vg,!0),o.call(this).reportChanged(),kn(this,Vg,!1)):kn(this,t,n);}});}function D(r){if(r.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),yI&&r.$$typeof===yI)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(_I&&r.$$typeof===_I){var e=r.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return(0,Xt.forwardRef)(function(){var i=arguments;return(0,Xt.createElement)(au,null,function(){return e.apply(void 0,i);});});}return typeof r=="function"&&(!r.prototype||!r.prototype.render)&&!r.isReactClass&&!Object.prototype.isPrototypeOf.call(Xt.Component,r)?tC(r):hJ(r);}function $g(){return $g=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t){Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}}return r;},$g.apply(this,arguments);}function gJ(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,s;for(s=0;s<i.length;s++){o=i[s],!(e.indexOf(o)>=0)&&(t[o]=r[o]);}return t;}function xp(r){var e=r.children,t=gJ(r,["children"]),i=Xt["default"].useContext(yp),o=Xt["default"].useRef($g({},i,t)),s=o.current;if(!1)var n;return Xt["default"].createElement(yp.Provider,{value:s},e);}function xI(r,e,t,i){var o=Xt["default"].forwardRef(function(s,n){var a=$g({},s),l=Xt["default"].useContext(yp);return Object.assign(a,r(l||{},a)||{}),n&&(a.ref=n),Xt["default"].createElement(e,a);});return i&&(o=D(o)),o.isMobxInjector=!0,uJ(e,o),o.wrappedComponent=e,o.displayName=bJ(e,t),o;}function bJ(r,e){var t,i=r.displayName||r.name||r.constructor&&r.constructor.name||"Component";return e?t="inject-with-"+e+"("+i+")":t="inject("+i+")",t;}function _J(r){return function(e,t){return r.forEach(function(i){if(!(i in t)){if(!(i in e))throw new Error("MobX injector: Store '"+i+"' is not available! Make sure it is provided by some Provider");t[i]=e[i];}}),t;};}function ne(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++){e[t]=arguments[t];}if(typeof arguments[0]=="function"){var i=arguments[0];return function(o){return xI(i,o,i.name,!0);};}else return function(o){return xI(_J(e),o,e.join("-"),!1);};}var Xt,sI,oC,dJ,lI,cI,sC,pI,hI,Vg,jg,bI,_I,yI,yp,U=d(function(){Le();Xt=y(x("react"));rC();rC();sI=0;oC={};dJ={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};lI=Na("patchMixins"),cI=Na("patchedDefinition");sC=$0||"$mobx",pI=Na("isMobXReactObserver"),hI=Na("isUnmounted"),Vg=Na("skipRender"),jg=Na("isForcingUpdate");bI=typeof Symbol=="function"&&Symbol["for"],_I=bI?Symbol["for"]("react.forward_ref"):typeof Xt.forwardRef=="function"&&(0,Xt.forwardRef)(function(r){return null;}).$$typeof,yI=bI?Symbol["for"]("react.memo"):typeof Xt.memo=="function"&&(0,Xt.memo)(function(r){return null;}).$$typeof;yp=Xt["default"].createContext({});xp.displayName="MobXProvider";if(!Xt.Component)throw new Error("mobx-react requires React to be available");if(!le)throw new Error("mobx-react requires mobx to be available");});var vI,qg,aC=d(function(){vI=y(x("styled-components")),qg=vI.keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral(["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"])));});var CI,SI,wI=d(function(){CI=y(x("styled-components")),SI=CI.keyframes(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"])));});var kI,Kg,TI=d(function(){kI=y(x("styled-components")),Kg=kI.keyframes(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"])));});var lC=d(function(){aC();wI();TI();});var go,lu=d(function(){go=[];});var DI,EI=d(function(){lu();DI=function DI(){return go.some(function(r){return r.activeTargets.length>0;});};});var II,FI=d(function(){lu();II=function II(){return go.some(function(r){return r.skippedTargets.length>0;});};});var OI,RI,AI=d(function(){OI="ResizeObserver loop completed with undelivered notifications.",RI=function RI(){var r;typeof ErrorEvent=="function"?r=new ErrorEvent("error",{message:OI}):(r=document.createEvent("Event"),r.initEvent("error",!1,!1),r.message=OI),window.dispatchEvent(r);};});var nc,cC=d(function(){(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";})(nc||(nc={}));});var dC,PI=d(function(){dC=function(){function r(e,t,i,o){return this.x=e,this.y=t,this.width=i,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this);}return r.prototype.toJSON=function(){var e=this,t=e.x,i=e.y,o=e.top,s=e.right,n=e.bottom,a=e.left,l=e.width,c=e.height;return{x:t,y:i,top:o,right:s,bottom:n,left:a,width:l,height:c};},r.fromRect=function(e){return new r(e.x,e.y,e.width,e.height);},r;}();});var vp,Xg,uC,BI,Cp=d(function(){vp=function vp(r){return r instanceof SVGElement&&"getBBox"in r;},Xg=function Xg(r){if(vp(r)){var e=r.getBBox(),t=e.width,i=e.height;return!t&&!i;}var o=r,s=o.offsetWidth,n=o.offsetHeight;return!(s||n||r.getClientRects().length);},uC=function uC(r){var e,t,i=(t=(e=r)===null||e===void 0?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(i&&r instanceof i.Element);},BI=function BI(r){switch(r.tagName){case"INPUT":if(r.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0;}return!1;};});var ac,mC=d(function(){ac=typeof window!="undefined"?window:{};});var Yg,MI,yJ,xJ,ks,cu,LI,pC,Jg,Zg=d(function(){cC();PI();Cp();mC();Yg=new WeakMap(),MI=/auto|scroll/,yJ=/^tb|vertical/,xJ=/msie|trident/i.test(ac.navigator&&ac.navigator.userAgent),ks=function ks(r){return parseFloat(r||"0");},cu=function cu(r,e,t){return r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=!1),Object.freeze({inlineSize:(t?e:r)||0,blockSize:(t?r:e)||0});},LI=Object.freeze({devicePixelContentBoxSize:cu(),borderBoxSize:cu(),contentBoxSize:cu(),contentRect:new dC(0,0,0,0)}),pC=function pC(r,e){if(e===void 0&&(e=!1),Yg.has(r)&&!e)return Yg.get(r);if(Xg(r))return Yg.set(r,LI),LI;var t=getComputedStyle(r),i=vp(r)&&r.ownerSVGElement&&r.getBBox(),o=!xJ&&t.boxSizing==="border-box",s=yJ.test(t.writingMode||""),n=!i&&MI.test(t.overflowY||""),a=!i&&MI.test(t.overflowX||""),l=i?0:ks(t.paddingTop),c=i?0:ks(t.paddingRight),u=i?0:ks(t.paddingBottom),p=i?0:ks(t.paddingLeft),m=i?0:ks(t.borderTopWidth),h=i?0:ks(t.borderRightWidth),g=i?0:ks(t.borderBottomWidth),v=i?0:ks(t.borderLeftWidth),S=p+c,_=l+u,I=v+h,E=m+g,O=a?r.offsetHeight-E-r.clientHeight:0,V=n?r.offsetWidth-I-r.clientWidth:0,F=o?S+I:0,P=o?_+E:0,ae=i?i.width:ks(t.width)-F-V,de=i?i.height:ks(t.height)-P-O,ye=ae+S+V+I,Te=de+_+O+E,Ce=Object.freeze({devicePixelContentBoxSize:cu(Math.round(ae*devicePixelRatio),Math.round(de*devicePixelRatio),s),borderBoxSize:cu(ye,Te,s),contentBoxSize:cu(ae,de,s),contentRect:new dC(p,l,ae,de)});return Yg.set(r,Ce),Ce;},Jg=function Jg(r,e,t){var i=pC(r,t),o=i.borderBoxSize,s=i.contentBoxSize,n=i.devicePixelContentBoxSize;switch(e){case nc.DEVICE_PIXEL_CONTENT_BOX:return n;case nc.BORDER_BOX:return o;default:return s;}};});var hC,fC=d(function(){Zg();hC=function(){function r(e){var t=pC(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize];}return r;}();});var Qg,gC=d(function(){Cp();Qg=function Qg(r){if(Xg(r))return 1/0;for(var e=0,t=r.parentNode;t;){e+=1,t=t.parentNode;}return e;};});var zI,UI=d(function(){lu();fC();gC();Zg();zI=function zI(){var r=1/0,e=[];go.forEach(function(n){if(n.activeTargets.length!==0){var a=[];n.activeTargets.forEach(function(c){var u=new hC(c.target),p=Qg(c.target);a.push(u),c.lastReportedSize=Jg(c.target,c.observedBox),p<r&&(r=p);}),e.push(function(){n.callback.call(n.observer,a,n.observer);}),n.activeTargets.splice(0,n.activeTargets.length);}});for(var t=0,i=e;t<i.length;t++){var o=i[t];o();}return r;};});var bC,NI=d(function(){lu();gC();bC=function bC(r){go.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(o){o.isActive()&&(Qg(o.target)>r?t.activeTargets.push(o):t.skippedTargets.push(o));});});};});var HI,WI=d(function(){EI();FI();AI();UI();NI();HI=function HI(){var r=0;for(bC(r);DI();){r=zI(),bC(r);}return II()&&RI(),r>0;};});var _C,GI,vJ,VI,jI=d(function(){GI=[],vJ=function vJ(){return GI.splice(0).forEach(function(r){return r();});},VI=function VI(r){if(!_C){var e=0,t=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return vJ();}).observe(t,i),_C=function _C(){t.textContent=""+(e?e--:e++);};}GI.push(r),_C();};});var $I,qI=d(function(){jI();$I=function $I(r){VI(function(){requestAnimationFrame(r);});};});var eb,CJ,SJ,wJ,KI,XI,yC,kJ,tb,xC,YI=d(function(){WI();mC();qI();eb=0,CJ=function CJ(){return!!eb;},SJ=250,wJ={attributes:!0,characterData:!0,childList:!0,subtree:!0},KI=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],XI=function XI(r){return r===void 0&&(r=0),Date.now()+r;},yC=!1,kJ=function(){function r(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule();};}return r.prototype.run=function(e){var t=this;if(e===void 0&&(e=SJ),!yC){yC=!0;var i=XI(e);$I(function(){var o=!1;try{o=HI();}finally{if(yC=!1,e=i-XI(),!CJ())return;o?t.run(1e3):e>0?t.run(e):t.start();}});}},r.prototype.schedule=function(){this.stop(),this.run();},r.prototype.observe=function(){var e=this,t=function t(){return e.observer&&e.observer.observe(document.body,wJ);};document.body?t():ac.addEventListener("DOMContentLoaded",t);},r.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),KI.forEach(function(t){return ac.addEventListener(t,e.listener,!0);}));},r.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),KI.forEach(function(t){return ac.removeEventListener(t,e.listener,!0);}),this.stopped=!0);},r;}(),tb=new kJ(),xC=function xC(r){!eb&&r>0&&tb.start(),eb+=r,!eb&&tb.stop();};});var TJ,JI,ZI=d(function(){cC();Zg();Cp();TJ=function TJ(r){return!vp(r)&&!BI(r)&&getComputedStyle(r).display==="inline";},JI=function(){function r(e,t){this.target=e,this.observedBox=t||nc.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0};}return r.prototype.isActive=function(){var e=Jg(this.target,this.observedBox,!0);return TJ(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize;},r;}();});var QI,eF=d(function(){QI=function(){function r(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t;}return r;}();});var ib,tF,Sp,iF=d(function(){YI();ZI();eF();lu();ib=new WeakMap(),tF=function tF(r,e){for(var t=0;t<r.length;t+=1){if(r[t].target===e)return t;}return-1;},Sp=function(){function r(){}return r.connect=function(e,t){var i=new QI(e,t);ib.set(e,i);},r.observe=function(e,t,i){var o=ib.get(e),s=o.observationTargets.length===0;tF(o.observationTargets,t)<0&&(s&&go.push(o),o.observationTargets.push(new JI(t,i&&i.box)),xC(1),tb.schedule());},r.unobserve=function(e,t){var i=ib.get(e),o=tF(i.observationTargets,t),s=i.observationTargets.length===1;o>=0&&(s&&go.splice(go.indexOf(i),1),i.observationTargets.splice(o,1),xC(-1));},r.disconnect=function(e){var t=this,i=ib.get(e);i.observationTargets.slice().forEach(function(o){return t.unobserve(e,o.target);}),i.activeTargets.splice(0,i.activeTargets.length);},r;}();});var wp,rF=d(function(){iF();Cp();wp=function(){function r(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Sp.connect(this,e);}return r.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uC(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Sp.observe(this,e,t);},r.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uC(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Sp.unobserve(this,e);},r.prototype.disconnect=function(){Sp.disconnect(this);},r.toString=function(){return"function ResizeObserver () { [polyfill code] }";},r;}();});var vC=d(function(){rF();fC();});var rb=tt(function(ype,nF){var DJ="Expected a function",oF=0/0,EJ="[object Symbol]",IJ=/^\s+|\s+$/g,FJ=/^[-+]0x[0-9a-f]+$/i,OJ=/^0b[01]+$/i,RJ=/^0o[0-7]+$/i,AJ=parseInt,PJ=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global,BJ=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self,MJ=PJ||BJ||Function("return this")(),LJ=Object.prototype,zJ=LJ.toString,UJ=Math.max,NJ=Math.min,CC=function CC(){return MJ.Date.now();};function HJ(r,e,t){var i,o,s,n,a,l,c=0,u=!1,p=!1,m=!0;if(typeof r!="function")throw new TypeError(DJ);e=sF(e)||0,SC(t)&&(u=!!t.leading,p="maxWait"in t,s=p?UJ(sF(t.maxWait)||0,e):s,m="trailing"in t?!!t.trailing:m);function h(F){var P=i,ae=o;return i=o=void 0,c=F,n=r.apply(ae,P),n;}function g(F){return c=F,a=setTimeout(_,e),u?h(F):n;}function v(F){var P=F-l,ae=F-c,de=e-P;return p?NJ(de,s-ae):de;}function S(F){var P=F-l,ae=F-c;return l===void 0||P>=e||P<0||p&&ae>=s;}function _(){var F=CC();if(S(F))return I(F);a=setTimeout(_,v(F));}function I(F){return a=void 0,m&&i?h(F):(i=o=void 0,n);}function E(){a!==void 0&&clearTimeout(a),c=0,i=l=o=a=void 0;}function O(){return a===void 0?n:I(CC());}function V(){var F=CC(),P=S(F);if(i=arguments,o=this,l=F,P){if(a===void 0)return g(l);if(p)return a=setTimeout(_,e),h(l);}return a===void 0&&(a=setTimeout(_,e)),n;}return V.cancel=E,V.flush=O,V;}function SC(r){var e=_typeof(r);return!!r&&(e=="object"||e=="function");}function WJ(r){return!!r&&_typeof(r)=="object";}function GJ(r){return _typeof(r)=="symbol"||WJ(r)&&zJ.call(r)==EJ;}function sF(r){if(typeof r=="number")return r;if(GJ(r))return oF;if(SC(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=SC(e)?e+"":e;}if(typeof r!="string")return r===0?r:+r;r=r.replace(IJ,"");var t=OJ.test(r);return t||RJ.test(r)?AJ(r.slice(2),t?2:8):FJ.test(r)?oF:+r;}nF.exports=HJ;});var aF,ob,wC=d(function(){aF=y(x("react")),ob=aF["default"].createContext({});});var lF=d(function(){});var kp,bo,Gt,cF,dF,uF,mF,kC=d(function(){kp=function kp(){return typeof window!="undefined"&&window.navigator&&window.navigator.userAgent||"";},bo=function bo(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:kp();return r.indexOf("Edge")!==-1;},Gt=function Gt(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:kp();return!!r.match(/msie|trident/i);},cF=function cF(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:kp();return!!r.match(/windows/i);},dF=function dF(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:kp();return r.indexOf("Safari")!==-1&&r.indexOf("Chrome")===-1;},uF=function uF(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:kp();return!!r.match(/iP(hone|od|ad)|AppleWebKit/);},mF=function mF(){if(typeof document=="undefined")return!1;var r=document.createElement("canvas"),e=r.getContext("webgl")||r.getContext("experimental-webgl");return e&&e instanceof WebGLRenderingContext;};});var VJ,pF,hF=d(function(){VJ=new RegExp(/\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC68\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC68\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC68\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC68\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69(?:\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68\u200D(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDDD1\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC68(?:\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D[\uDC67-\uDC69])\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F)|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83C\uDFF3\uFE0F\u200D\u26A7|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF]))\u200D[\u2695\u2696\u2708]\uFE0F|\uD83D\uDC69\u200D(?:\uD83D[\uDC67\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D\uDC3B\u200D\u2744|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83E\uDDD1\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83D[\uDC68\uDC69])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D[\u2695\u2696\u2708]\uFE0F)|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDC66\uDC67\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC3\uDFC7]|\uD83D[\uDC43\uDC4A-\uDC4C\uDC4F\uDC50\uDC66-\uDC69\uDC6B-\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD7A\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270C\u270D]|\uD83C[\uDFC2\uDFC4\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC46-\uDC49\uDC4D\uDC4E\uDD74\uDD75\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9\u23EA\u23ED-\u23EF\u23F1-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7\u26F8\u26FA\u26FD\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2753\u2757\u2763\u2764\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE1A\uDE2F\uDE37\uDF0D-\uDF0F\uDF15\uDF1C\uDF21\uDF24-\uDF2C\uDF36\uDF78\uDF7D\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFA7\uDFAC-\uDFAE\uDFC6\uDFCD\uDFCE\uDFD4-\uDFE0\uDFED\uDFF3\uDFF5\uDFF7]|\uD83D[\uDC08\uDC15\uDC1F\uDC26\uDC3F\uDC41\uDC53\uDC6A\uDC7D\uDCA3\uDCB0\uDCB3\uDCBB\uDCBF\uDCCB\uDCDA\uDCDF\uDCE4-\uDCE6\uDCEA-\uDCED\uDCF7\uDCF9-\uDCFB\uDCFD\uDD08\uDD0D\uDD12\uDD13\uDD49\uDD4A\uDD50-\uDD67\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDE10\uDE87\uDE8D\uDE91\uDE94\uDE98\uDEAD\uDEB2\uDEB9\uDEBA\uDEBC\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|[\u23E9-\u23F3\u23F8-\u23FA\u25FB-\u25FE\u2614\u2615\u267F\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g),pF=function pF(r){return r.replace(VJ,"");};});var Ts,TC=d(function(){Ts=function Ts(r){try{return new URL(r),!0;}catch(e){return!1;}};});var fF,DC=d(function(){fF=function fF(r){return r instanceof HTMLImageElement;};});function jJ(r){return!Object.prototype.hasOwnProperty.call(r,"name");}function $J(r){return!Object.prototype.hasOwnProperty.call(r,"name");}var gF=d(function(){});var Be,Tp=d(function(){(function(p){p.UNDO="undo",p.REDO="redo",p.DELETE="delete",p.BRING_TO_FRONT="bringtofront",p.EDIT="edit",p.DUPLICATE="duplicate",p.ADD="add",p.FLIP="flip",p.INVERT="invert",p.CLOSE="close",p.EXPORT="export";})(Be||(Be={}));});var C,EC=d(function(){(function(m){m.LIBRARY="library",m.TRANSFORM="transform",m.FILTER="filter",m.ADJUSTMENT="adjustment",m.FOCUS="focus",m.STICKER="sticker",m.TEXT="text",m.TEXT_DESIGN="textdesign",m.OVERLAY="overlay",m.FRAME="frame",m.BRUSH="brush",m.CUSTOM="customTool";})(C||(C={}));});var bF=d(function(){});var _F=d(function(){});var yF=d(function(){});var xF=d(function(){});var Yt,du=d(function(){(function(t){t.TEXT="text",t.CARD="card";})(Yt||(Yt={}));});var De,vF=d(function(){(function(i){i.LARGE="large",i.MEDIUM="medium",i.SMALL="small";})(De||(De={}));});var CF=d(function(){});var SF=d(function(){});var wF=d(function(){});var kF=d(function(){});var TF=d(function(){});var DF=d(function(){});var EF=d(function(){});var ct,IF=d(function(){(function(o){o.ERROR="error",o.WARNING="warning",o.INFO="info",o.TEXT_EDIT="textEdit";})(ct||(ct={}));});var FF=d(function(){});var OF=d(function(){});var RF=d(function(){});var AF=d(function(){});var PF=d(function(){});var BF=d(function(){});var MF=d(function(){});var LF=d(function(){});var zF,UF,sb,NF=d(function(){zF=function zF(){_classCallCheck(this,zF);this.enabled=!0;this.threshold=20;this.snapToHorizontalCenter=!0;this.snapToVerticalCenter=!0;this.snapToLeft=.1;this.snapToRight=.1;this.snapToTop=.1;this.snapToBottom=.1;},UF=function UF(){_classCallCheck(this,UF);this.enabled=!0;this.threshold=20;this.angles=[0,45,90,135,180,225,270,315];},sb=function sb(){_classCallCheck(this,sb);this.position=new zF();this.rotation=new UF();};});var nb,ab,HF=d(function(){(function(s){s.CENTER="center",s.TOP_LEFT="top-left",s.TOP_RIGHT="top-right",s.BOTTOM_LEFT="bottom-left",s.BOTTOM_RIGHT="bottom-right";})(nb||(nb={}));ab=function ab(){_classCallCheck(this,ab);this.watermarkURI="";this.alignment=nb.TOP_RIGHT;this.inset=.05;this.size=.2;};});var IC,WF,GF=d(function(){(function(e){e.OBJECT="object";})(IC||(IC={}));WF=function WF(){_classCallCheck(this,WF);};});var Oi,VF=d(function(){(function(o){o.IMAGE="image",o.DATA_URL="data-url",o.BLOB="blob",o.MSBLOB="ms-blob";})(Oi||(Oi={}));});var li,jF=d(function(){(function(t){t.PNG="image/png",t.JPEG="image/jpeg";})(li||(li={}));});var Ki,$F=d(function(){(function(l){l.BMP="image/bmp",l.GIF="image/gif",l.ICO="image/x-icon",l.JPEG="image/jpeg",l.PNG="image/png",l.SVG="image/svg+xml",l.TIFF="image/tiff",l.WEBP="image/webp";})(Ki||(Ki={}));});var qF=d(function(){});var KF=d(function(){});var XF=d(function(){});var YF=d(function(){});var JF,ZF=d(function(){EC();JF=function JF(){_classCallCheck(this,JF);this.order="default";this.language="en";this.theme="dark";this.assetBaseUrl="assets/";this.assetResolver={};this.displayResizeWarning=!1;this.displayCloseWarning=!0;this.displayCanvasRendererWarning=!0;this.displayToolControlBarTitle=!0;this.displaySerializationModal=!0;this.forceCrop=!1;this.enableZoom=!0;this.scaleImageToFit=!0;this.restrictZoomOutToDefault=!0;this.defaultTool=C.FILTER;};C.FILTER,C.FOCUS,C.ADJUSTMENT,C.LIBRARY,C.OVERLAY,C.STICKER,C.TEXT,C.TEXT_DESIGN,C.FRAME,C.BRUSH,C.TRANSFORM,C.CUSTOM;});var QF=d(function(){});var ze,FC,eO=d(function(){(function(m){m.BRIGHTNESS="brightness",m.CONTRAST="contrast",m.SATURATION="saturation",m.CLARITY="clarity",m.SHADOWS="shadows",m.HIGHLIGHTS="highlights",m.EXPOSURE="exposure",m.GAMMA="gamma",m.BLACKS="blacks",m.WHITES="whites",m.TEMPERATURE="temperature",m.SHARPNESS="sharpness";})(ze||(ze={}));FC=Object.values(ze).reduce(function(r,e){return r[e]=!0,r;},{});});var jo,lb,tO=d(function(){(function(o){o.RemoveAdjustmentButton="removeAdjustmentButton",o.Expandable="expandable",o.Separator="separator",o.Items="items";})(jo||(jo={}));lb=function lb(){_classCallCheck(this,lb);this.categories=[];this.flattenCategories=!1;this.advancedUIToolControlBarOrder=[{type:jo.Expandable,children:[jo.RemoveAdjustmentButton,jo.Separator]},jo.Items];};});var iO=d(function(){});var rO=d(function(){eO();tO();iO();});var oO,sO=d(function(){oO=function oO(){_classCallCheck(this,oO);};});var Lr,uu,cb,nO=d(function(){du();(function(s){s.RemoveFilterButton="removeFilterButton",s.FilterIntensitySlider="filterIntensitySlider",s.Expandable="expandable",s.Separator="separator",s.Items="items";})(Lr||(Lr={}));(function(e){e.FilterIntensity="filterIntensity";})(uu||(uu={}));cb=function cb(){_classCallCheck(this,cb);this.categories=[];this.flattenCategories=!1;this.categoryHeaderType=Yt.CARD;this.enablePreviewThumbnails=!1;this.advancedUIToolControlBarOrder=[{type:Lr.Expandable,children:[Lr.RemoveFilterButton,Lr.FilterIntensitySlider,Lr.Separator]},Lr.Items];this.basicUIToolControlBarTabsOrder=[uu.FilterIntensity];};});function mu(r){return r.lightColor!==void 0;}function OC(r){return r.lutURI!==void 0;}var aO=d(function(){});var A,Tt,lO=d(function(){(function(N){N.Desert="imgly_duotone_desert",N.Peach="imgly_duotone_peach",N.Clash="imgly_duotone_clash",N.Plum="imgly_duotone_plum",N.Breezy="imgly_duotone_breezy",N.DeepBlue="imgly_duotone_deepblue",N.Frog="imgly_duotone_frog",N.Sunset="imgly_duotone_sunset",N.AD1920="imgly_lut_ad1920",N.Greyed="imgly_lut_bw",N.Dusty="imgly_lut_x400",N.Litho="imgly_lut_litho",N.Sepia="imgly_lut_sepiahigh",N.Weathered="imgly_lut_plate",N.HardStuff="imgly_lut_sin",N.Polaroid="imgly_lut_blues",N.Sunny70s="imgly_lut_front",N.Oldtimer="imgly_lut_texas",N.Inferno="imgly_lut_celsius",N.Snappy="imgly_lut_cool",N.Chestnut="imgly_lut_chest",N.Softy="imgly_lut_winter",N.Pebble="imgly_lut_kdynamic",N.Moss="imgly_lut_fall",N.Lemon="imgly_lut_lenin",N.GreenGap="imgly_lut_pola669",N.Colla="imgly_lut_elder",N.Solanus="imgly_lut_orchid",N.Kalmen="imgly_lut_bleached",N.Joran="imgly_lut_bleachedblue",N.Levante="imgly_lut_breeze",N.Zephyr="imgly_lut_blueshadows",N.Golden="imgly_lut_sunset",N.LowFire="imgly_lut_eighties",N.Sunrise="imgly_lut_evening",N.FlatBlack="imgly_lut_k2",N.Pumpkin="imgly_lut_nogreen",N.Ancient="imgly_lut_ancient",N.Candy="imgly_lut_cottoncandy",N.Classic="imgly_lut_classic",N.Colorful="imgly_lut_colorful",N.Creamy="imgly_lut_creamy",N.Fixie="imgly_lut_fixie",N.Food="imgly_lut_food",N.Fridge="imgly_lut_fridge",N.Glam="imgly_lut_glam",N.Gobblin="imgly_lut_gobblin",N.Hicon="imgly_lut_highcontrast",N.HighCarb="imgly_lut_highcarb",N.K1="imgly_lut_k1",N.K6="imgly_lut_k6",N.Keen="imgly_lut_keen",N.Lomo="imgly_lut_lomo",N.Lomo100="imgly_lut_lomo100",N.Lucid="imgly_lut_lucid",N.Mellow="imgly_lut_mellow",N.Neat="imgly_lut_neat",N.Pale="imgly_lut_pale",N.Pitched="imgly_lut_pitched",N.PolaSX="imgly_lut_polasx",N.Pro400="imgly_lut_pro400",N.Quozi="imgly_lut_quozi",N.Settled="imgly_lut_settled",N.Seventies="imgly_lut_seventies",N.Soft="imgly_lut_soft",N.Steel="imgly_lut_steel",N.Summer="imgly_lut_summer",N.Tender="imgly_lut_tender",N.Twilight="imgly_lut_twilight";})(A||(A={}));(function(a){a.DuoTone="imgly_filter_category_duotone",a.BW="imgly_filter_category_bw",a.Vintage="imgly_filter_category_vintage",a.Smooth="imgly_filter_category_smooth",a.Cold="imgly_filter_category_cold",a.Warm="imgly_filter_category_warm",a.Legacy="imgly_filter_category_legacy";})(Tt||(Tt={}));});var cO=d(function(){nO();aO();lO();});var zr,db,ub,dO=d(function(){(function(s){s.RemoveFocusButton="removeFocusButton",s.FocusIntensitySlider="focusIntensitySlider",s.Expandable="expandable",s.Separator="separator",s.Items="items";})(zr||(zr={}));(function(e){e.FocusIntensity="focusIntensity";})(db||(db={}));ub=function ub(){_classCallCheck(this,ub);this.items=[];this.advancedUIToolControlBarOrder=[{type:zr.Expandable,children:[zr.RemoveFocusButton,zr.FocusIntensitySlider,zr.Separator]},zr.Items];this.basicUIToolControlBarTabsOrder=[db.FocusIntensity];};});var uO=d(function(){});var Ue,mO=d(function(){(function(o){o.RADIAL="radial",o.LINEAR="linear",o.MIRRORED="mirrored",o.GAUSSIAN="gaussian";})(Ue||(Ue={}));});var pO=d(function(){dO();uO();mO();});var Ri,Ds,mb,hO=d(function(){(function(a){a.RemoveFrameButton="removeFrameButton",a.FrameOpacitySlider="frameOpacitySlider",a.FrameSizeSlider="frameSizeSlider",a.FrameColorList="frameColorList",a.Separator="separator",a.Items="items",a.Expandable="expandable";})(Ri||(Ri={}));(function(i){i.FrameSize="frameSize",i.FrameOpacity="frameOpacity",i.FrameColor="frameColor";})(Ds||(Ds={}));mb=function mb(){_classCallCheck(this,mb);this.items=[];this.advancedUIToolControlBarOrder=[{type:Ri.Expandable,children:[Ri.RemoveFrameButton,Ri.FrameOpacitySlider,Ri.FrameSizeSlider,Ri.FrameColorList,Ri.Separator]},Ri.Items];this.basicUIToolControlBarTabsOrder=[Ds.FrameOpacity,Ds.FrameSize,Ds.FrameColor];};});var fO=d(function(){});var gO=d(function(){hO();fO();});var pb,RC=d(function(){pb=/*#__PURE__*/function(){function pb(e){_classCallCheck(this,pb);this.name=e.name,this.coverImageUrl=e.coverImageUrl;}_createClass(pb,[{key:"loadCoverImage",value:function loadCoverImage(){var _this=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"anonymous";return new Promise(function(t,i){var o=new Image();o.addEventListener("load",function(){t(o);}),o.addEventListener("error",function(){i(new Error("Failed to load image at ".concat(_this.coverImage)));}),o.crossOrigin=e,o.src=_this.coverImageUrl,_this.coverImage=o;});}}]);return pb;}();});var hb,AC=d(function(){hb=/*#__PURE__*/function(){function hb(e){_classCallCheck(this,hb);this.title=e.title,this.category=e.category||e.title,this.thumbUrl=e.thumbUrl,this.rawUrl=e.rawUrl,this.authorName=e.authorName,this.authorAvatar=e.authorAvatar;}_createClass(hb,[{key:"loadThumbImage",value:function loadThumbImage(){var _this2=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"anonymous";return new Promise(function(t,i){var o=new Image();o.addEventListener("load",function(){t(o);}),o.addEventListener("error",function(){i(new Error("Failed to load image at ".concat(_this2.thumbUrl)));}),o.crossOrigin=e,o.src=_this2.thumbUrl,_this2.thumbImage=o;});}},{key:"getThumbImage",value:function getThumbImage(){return this.thumbUrl;}}]);return hb;}();});var fb,bO=d(function(){fb=/*#__PURE__*/function(){function fb(){_classCallCheck(this,fb);}_createClass(fb,[{key:"getData",value:function getData(e){return new Promise(function(t,i){var o=new XMLHttpRequest();o.open("GET",e,!0),o.responseType="json",o.onload=function(){var s=o.status;s===200?t(o.response):i(new Error("HTTP Status ".concat(s)));},o.send();});}}]);return fb;}();});var gb,PC=d(function(){bO();gb=/*#__PURE__*/function(){function gb(){_classCallCheck(this,gb);}_createClass(gb,[{key:"loadJSON",value:function loadJSON(e){return new fb().getData(e);}},{key:"getCategories",value:function getCategories(){return Promise.resolve([]);}},{key:"searchImages",value:function searchImages(e){return Promise.resolve([]);}}]);return gb;}();});var BC,_O=d(function(){RC();AC();PC();BC=/*#__PURE__*/function(_gb){_inherits(BC,_gb);var _super=_createSuper(BC);function BC(){_classCallCheck(this,BC);return _super.apply(this,arguments);}_createClass(BC,[{key:"loadData",value:function loadData(){var _this3=this;return this.data?Promise.resolve(this.data):this.loadJSON("https://img.ly/static/libraries/unsplash/metadata.json").then(function(e){return typeof e=="string"&&(e=JSON.parse(e)),_this3.data=e,e;});}},{key:"getCategories",value:function getCategories(){return this.loadData().then(function(e){return e.categories.map(function(t){return new pb({name:t.name,coverImageUrl:t.coverImage});});});}},{key:"searchImages",value:function searchImages(e){return this.loadData().then(function(t){return t.images.filter(function(i){var o=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").split(/\s+/);for(var s=0;s<o.length;s+=1){var n=o[s];if(!new RegExp(n,"i").test(i.title))return!1;}return!0;}).map(function(i){return new hb(i);});});}}]);return BC;}(gb);});var hr,bb,yO=d(function(){du();_O();(function(s){s.UploadImageButton="uploadImageButton",s.OpenWebcamButton="openWebcamButton",s.SearchFieldInput="searchFieldInput",s.Separator="separator",s.Items="items";})(hr||(hr={}));bb=function bb(){_classCallCheck(this,bb);this.enableWebcam=!1;this.enableUpload=!1;this.provider=BC;this.flattenCategories=!1;this.categoryHeaderType=Yt.CARD;this.advancedUIToolControlBarOrder=[hr.SearchFieldInput,hr.UploadImageButton,hr.OpenWebcamButton,hr.Separator,hr.Items];};});var xO=d(function(){RC();AC();yO();PC();});var Xi,Ha,_b,vO=d(function(){(function(n){n.RemoveOverlayButton="removeOverlayButton",n.OverlayOpacitySlider="overlayOpacitySlider",n.OverlayBlendModeCarousel="overlayBlendModeCarousel",n.Expandable="expandable",n.Separator="separator",n.Items="items";})(Xi||(Xi={}));(function(t){t.OverlayOpacity="overlayOpacity",t.OverlayBlendMode="overlayBlendMode";})(Ha||(Ha={}));_b=function _b(){_classCallCheck(this,_b);this.items=[];this.advancedUIToolControlBarOrder=[{type:Xi.Expandable,children:[Xi.RemoveOverlayButton,Xi.OverlayBlendModeCarousel,Xi.OverlayOpacitySlider,Xi.Separator]},Xi.Items];this.basicUIToolControlBarTabsOrder=[Ha.OverlayBlendMode,Ha.OverlayOpacity];};});var CO=d(function(){});var Ie,SO=d(function(){(function(c){c.NORMAL="normal",c.OVERLAY="overlay",c.SOFT_LIGHT="softLight",c.HARD_LIGHT="hardLight",c.MULTIPLY="multiply",c.DARKEN="darken",c.COLOR_BURN="colorBurn",c.SCREEN="screen",c.LIGHTEN="lighten";})(Ie||(Ie={}));});var ve,wO=d(function(){(function(_){_.Bokeh="imgly_overlay_bokeh",_.Chop="imgly_overlay_chop",_.Clouds="imgly_overlay_clouds",_.Golden="imgly_overlay_golden",_.Grain="imgly_overlay_grain",_.Hearts="imgly_overlay_hearts",_.LightLeak1="imgly_overlay_lightleak1",_.LightLeak2="imgly_overlay_lightleak2",_.Metal="imgly_overlay_metal",_.Mosaic="imgly_overlay_mosaic",_.Painting="imgly_overlay_painting",_.Paper="imgly_overlay_paper",_.Rain="imgly_overlay_rain",_.Vintage="imgly_overlay_vintage",_.Wall1="imgly_overlay_wall1",_.Wall2="imgly_overlay_wall2",_.Wood="imgly_overlay_wood";})(ve||(ve={}));});var kO=d(function(){vO();CO();SO();wO();});var fr,Wa,yb,TO=d(function(){Tp();du();(function(s){s.UploadStickerButton="uploadStickerButton",s.StickerOpacitySlider="stickerOpacitySlider",s.StickerColorList="stickerColorList",s.Separator="separator",s.Items="items";})(fr||(fr={}));(function(t){t.StickerColor="stickerColor",t.StickerOpacity="stickerOpacity";})(Wa||(Wa={}));yb=function yb(){_classCallCheck(this,yb);this.categories=[];this.canvasActions=[Be.BRING_TO_FRONT,Be.FLIP,Be.DUPLICATE,Be.DELETE];this.flattenCategories=!1;this.categoryHeaderType=Yt.CARD;this.enableCustomUpload=!0;this.customStickerResizeMode="keepAspect";this.customStickerTintMode="none";this.advancedUIToolControlBarOrder=[fr.UploadStickerButton,fr.StickerOpacitySlider,fr.StickerColorList,fr.Separator,fr.Items];this.basicUIToolControlBarTabsOrder=[Wa.StickerColor,Wa.StickerOpacity];};});var DO=d(function(){});var EO=d(function(){TO();DO();});var Qt,gr,xb,IO=d(function(){Tp();(function(c){c.NewTextButton="newTextButton",c.FontFamilyDropdown="fontFamilyDropdown",c.FontSizeInput="fontSizeInput",c.TextAligmentList="textAlignmentList",c.Separator="separator",c.Inline="inline",c.TextColorList="textColorList",c.BackgroundColorList="backgroundColorList",c.LineSpacingSlider="lineSpacingSlider";})(Qt||(Qt={}));(function(s){s.FontSize="fontSize",s.TextAligment="textAlignment",s.TextColor="textColor",s.BackgroundColor="backgroundColor",s.LineSpacing="lineSpacing";})(gr||(gr={}));xb=function xb(){_classCallCheck(this,xb);this.fonts=[];this.canvasActions=[Be.EDIT,Be.BRING_TO_FRONT,Be.DUPLICATE,Be.DELETE];this.allowEmojis=!1;this.disableAutoScaling=!1;this.addDefaultTextOnEnter=!0;this.advancedUIToolControlBarOrder=[Qt.NewTextButton,Qt.FontFamilyDropdown,{type:Qt.Inline,children:[Qt.FontSizeInput,Qt.TextAligmentList]},Qt.Separator,Qt.TextColorList,Qt.BackgroundColorList,Qt.Separator,Qt.LineSpacingSlider];this.basicUIToolControlBarTabsOrder=[gr.FontSize,gr.TextAligment,gr.TextColor,gr.BackgroundColor,gr.LineSpacing];};});function MC(r){return r.provider===void 0||r.provider==="file";}function LC(r){return r.provider==="google";}var FO=d(function(){});var OO=d(function(){});var RO=d(function(){IO();FO();OO();});var Yi,Es,vb,AO=d(function(){(function(n){n.RemoveBrushButton="removeBrushButton",n.BrushColorList="brushColorList",n.BrushSizeSlider="brushSizeSlider",n.BrushHardnessSlider="brushHardnessSlider",n.Expandable="expandable",n.Separator="separator";})(Yi||(Yi={}));(function(i){i.BrushSize="brushSize",i.BrushHardness="brushHardness",i.BrushColor="brushColor";})(Es||(Es={}));vb=function vb(){_classCallCheck(this,vb);this.defaultSize=.05;this.defaultHardness=.5;this.advancedUIToolControlBarOrder=[{type:Yi.Expandable,children:[Yi.RemoveBrushButton,Yi.Separator]},Yi.BrushHardnessSlider,Yi.BrushSizeSlider,Yi.BrushColorList];this.basicUIToolControlBarTabsOrder=[Es.BrushColor,Es.BrushSize,Es.BrushHardness];};});var PO=d(function(){AO();});var br,Cb,BO=d(function(){Tp();(function(s){s.NewTextDesignButton="newTextDesignButton",s.ShuffleLayoutButton="shuffleLayoutButton",s.TextDesignColorList="textDesignColorList",s.Separator="separator",s.Items="items";})(br||(br={}));Cb=function Cb(){_classCallCheck(this,Cb);this.items=[];this.canvasActions=[Be.EDIT,Be.BRING_TO_FRONT,Be.INVERT,Be.DUPLICATE,Be.DELETE];this.allowEmojis=!1;this.addDefaultTextOnEnter=!0;this.advancedUIToolControlBarOrder=[br.NewTextDesignButton,br.ShuffleLayoutButton,br.TextDesignColorList,br.Separator,br.Items];};});var MO=d(function(){});var LO=d(function(){BO();MO();});var _r,Is,Sb,zO=d(function(){du();(function(s){s.ResetTransformButton="resetTransformButton",s.KeepResolutionCheckbox="keepResolutionCheckbox",s.CropSizeInput="cropSizeInput",s.Separator="separator",s.Items="items";})(_r||(_r={}));(function(i){i.CropSize="cropSize",i.FlipRotate="flipRotate",i.Resolution="resolution";})(Is||(Is={}));Sb=function Sb(){_classCallCheck(this,Sb);this.categories=[];this.enableRotation=!0;this.enableFlip=!0;this.flattenCategories=!1;this.categoryHeaderType=Yt.TEXT;this.advancedUIToolControlBarOrder=[_r.ResetTransformButton,_r.KeepResolutionCheckbox,_r.CropSizeInput,_r.Separator,_r.Items];this.basicUIToolControlBarTabsOrder=[Is.CropSize,Is.FlipRotate,Is.Resolution];};});var UO=d(function(){});var Vt,NO=d(function(){(function(O){O.CommonCategory="imgly_transforms_common",O.FacebookCategory="imgly_transforms_facebook",O.TwitterCategory="imgly_transforms_twitter",O.InstagramCategory="imgly_transforms_instagram",O.Custom="imgly_transform_common_custom",O.Square="imgly_transform_common_square",O.ThreeByFour="imgly_transform_common_3",O.FourByThree="imgly_transform_common_4",O.NineBySixteen="imgly_transform_common_9",O.SixteenByNine="imgly_transform_common_16",O.FacebookPost="imgly_transform_facebook_post",O.FacebookProfile="imgly_transform_facebook_profile",O.FacebookTitle="imgly_transform_facebook_title",O.InstagramLandscape="imgly_transform_instagram_landscape",O.InstagramPortrait="imgly_transform_instagram_portrait",O.InstagramSquare="imgly_transform_instagram_square",O.InstagramStory="imgly_transform_instagram_story",O.TwitterPost="imgly_transform_twitter_post",O.TwitterProfile="imgly_transform_twitter_profile",O.TwitterTitle="imgly_transform_twitter_title";})(Vt||(Vt={}));});var HO=d(function(){zO();UO();NO();});var ee,WO=d(function(){(function(m){m.EXPORT="export",m.CLOSE="close",m.HISTORY_UNDO="historyUndo",m.HISTORY_REDO="historyRedo",m.HISTORY_CHANGE="historyChange",m.EDITOR_READY="editorReady",m.ERROR_IMAGE_LOADING="errorImageLoading",m.IMAGE_LOAD="imageLoad",m.TOOL_ENTER="toolEnter",m.STICKER_UPLOAD_ADD="stickerUploadAdd",m.ERROR_WEBGL_CONTEXT_LOST="errorWebGLContextLost",m.CROP_DIMENSIONS_CHANGE="cropDimensionsChange";})(ee||(ee={}));});var Ur,GO=d(function(){Ur=/*#__PURE__*/function(){function Ur(){_classCallCheck(this,Ur);this.events={};}_createClass(Ur,[{key:"addListener",value:function addListener(e,t){return(this.events[e]||(this.events[e]=[])).push(t),this;}},{key:"removeListener",value:function removeListener(e,t){var i=this.events[e];if(!i)return this;var o=i.lastIndexOf(t);return o===-1?this:(i.splice(o,1),this);}},{key:"removeAllListeners",value:function removeAllListeners(e){return this.events[e]=void 0,this;}},{key:"on",value:function on(e,t){return this.addListener(e,t);}},{key:"off",value:function off(e,t){return this.removeListener(e,t);}},{key:"emit",value:function emit(e){for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}var i=this.events[e];return!i||!i.length?!1:(i.slice(0).forEach(function(o){return o.apply(null,t);}),!0);}}]);return Ur;}();});var VO=d(function(){});var jO=d(function(){});var H=d(function(){gF();Tp();EC();bF();_F();yF();xF();du();vF();CF();SF();wF();kF();TF();DF();EF();IF();FF();OF();RF();AF();PF();BF();MF();LF();NF();HF();GF();VF();jF();$F();qF();KF();XF();YF();ZF();QF();rO();sO();cO();pO();gO();xO();kO();EO();RO();PO();LO();HO();WO();GO();VO();jO();});var qJ,wb,$O=d(function(){H();qJ=[{identifier:"basics",name:"Basics",items:[{identifier:ze.BRIGHTNESS},{identifier:ze.CONTRAST},{identifier:ze.SATURATION},{identifier:ze.GAMMA}]},{identifier:"refinements",name:"Refinements",items:[{identifier:ze.CLARITY},{identifier:ze.SHADOWS},{identifier:ze.HIGHLIGHTS},{identifier:ze.EXPOSURE},{identifier:ze.BLACKS},{identifier:ze.WHITES},{identifier:ze.TEMPERATURE},{identifier:ze.SHARPNESS}]}],wb=qJ;});var KJ,kb,qO=d(function(){H();KJ=[{identifier:Tt.DuoTone,name:"DuoTone",thumbnailURI:"./categories/duotone.jpg",items:[{identifier:A.Desert,name:"Desert",thumbnailURI:"./items/imgly_duotone_desert.jpg",lightColor:"#e1de9a",darkColor:"#cb2129",defaultIntensity:.5},{identifier:A.Peach,name:"Peach",thumbnailURI:"./items/imgly_duotone_peach.jpg",lightColor:"#e9abb8",darkColor:"#0040ff",defaultIntensity:.5},{identifier:A.Clash,name:"Clash",thumbnailURI:"./items/imgly_duotone_clash.jpg",lightColor:"#f41a0f",darkColor:"#23007c",defaultIntensity:.5},{identifier:A.Plum,name:"Plum",thumbnailURI:"./items/imgly_duotone_plum.jpg",lightColor:"#74d7ff",darkColor:"#23007c",defaultIntensity:.5},{identifier:A.Breezy,name:"Breezy",thumbnailURI:"./items/imgly_duotone_breezy.jpg",lightColor:"#68fdff",darkColor:"#c20000",defaultIntensity:.5},{identifier:A.DeepBlue,name:"Deep Blue",thumbnailURI:"./items/imgly_duotone_deepblue.jpg",lightColor:"#2de9eb",darkColor:"#58007c",defaultIntensity:.5},{identifier:A.Frog,name:"Frog",thumbnailURI:"./items/imgly_duotone_frog.jpg",lightColor:"#5bff60",darkColor:"#7f23a9",defaultIntensity:.5},{identifier:A.Sunset,name:"Sunset",thumbnailURI:"./items/imgly_duotone_sunset.jpg",lightColor:"#f8ea46",darkColor:"#c400be",defaultIntensity:.5}]},{identifier:Tt.BW,name:"B & W",thumbnailURI:"./categories/b&w.jpg",items:[{identifier:A.AD1920,name:"1920 A.D.",thumbnailURI:"./items/imgly_lut_ad1920.jpg",lutURI:"./items/imgly_lut_ad1920_5_5_128.png",defaultIntensity:1},{identifier:A.Greyed,name:"Greyed",thumbnailURI:"./items/imgly_lut_bw.jpg",lutURI:"./items/imgly_lut_bw_5_5_128.png",defaultIntensity:1},{identifier:A.Dusty,name:"Dusty",thumbnailURI:"./items/imgly_lut_x400.jpg",lutURI:"./items/imgly_lut_dusty_5_5_128.png",defaultIntensity:1},{identifier:A.Litho,name:"Litho",thumbnailURI:"./items/imgly_lut_litho.jpg",lutURI:"./items/imgly_lut_litho_5_5_128.png",defaultIntensity:1},{identifier:A.Sepia,name:"Sepia",thumbnailURI:"./items/imgly_lut_sepiahigh.jpg",lutURI:"./items/imgly_lut_sepia_5_5_128.png",defaultIntensity:1},{identifier:A.Weathered,name:"Weathered",thumbnailURI:"./items/imgly_lut_plate.jpg",lutURI:"./items/imgly_lut_weathered_5_5_128.png",defaultIntensity:1},{identifier:A.HardStuff,name:"Hard Stuff",thumbnailURI:"./items/imgly_lut_sin.jpg",lutURI:"./items/imgly_lut_hard_stuff_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8}]},{identifier:Tt.Vintage,name:"Vintage",thumbnailURI:"./categories/vintage.jpg",items:[{identifier:A.Polaroid,name:"Polaroid",thumbnailURI:"./items/imgly_lut_blues.jpg",lutURI:"./items/imgly_lut_polaroid_5_5_128.png",defaultIntensity:1},{identifier:A.Sunny70s,name:"Sunny 70s",thumbnailURI:"./items/imgly_lut_front.jpg",lutURI:"./items/imgly_lut_sunny_70s_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Oldtimer,name:"Oldtimer",thumbnailURI:"./items/imgly_lut_texas.jpg",lutURI:"./items/imgly_lut_oldtimer_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Inferno,name:"Inferno",thumbnailURI:"./items/imgly_lut_celsius.jpg",lutURI:"./items/imgly_lut_inferno_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Snappy,name:"Snappy",thumbnailURI:"./items/imgly_lut_cool.jpg",lutURI:"./items/imgly_lut_snappy_5_5_128.png",defaultIntensity:1}]},{identifier:Tt.Smooth,name:"Smooth",thumbnailURI:"./categories/smooth.jpg",items:[{identifier:A.Chestnut,name:"Chestnut",thumbnailURI:"./items/imgly_lut_chest.jpg",lutURI:"./items/imgly_lut_chestnut_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Softy,name:"Softy",thumbnailURI:"./items/imgly_lut_winter.jpg",lutURI:"./items/imgly_lut_softly_5_5_128.png",defaultIntensity:1},{identifier:A.Pebble,name:"Pebble",thumbnailURI:"./items/imgly_lut_kdynamic.jpg",lutURI:"./items/imgly_lut_pebble_5_5_128.png",defaultIntensity:1},{identifier:A.Moss,name:"Moss",thumbnailURI:"./items/imgly_lut_fall.jpg",lutURI:"./items/imgly_lut_moss_5_5_128.png",defaultIntensity:1},{identifier:A.Lemon,name:"Lemon",thumbnailURI:"./items/imgly_lut_lenin.jpg",lutURI:"./items/imgly_lut_lemon_5_5_128.png",defaultIntensity:1},{identifier:A.GreenGap,name:"Green Gap",thumbnailURI:"./items/imgly_lut_pola669.jpg",lutURI:"./items/imgly_lut_green_gap_5_5_128.png",defaultIntensity:1}]},{identifier:Tt.Cold,name:"Cold",thumbnailURI:"./categories/cold.jpg",items:[{identifier:A.Colla,name:"Colla",thumbnailURI:"./items/imgly_lut_elder.jpg",lutURI:"./items/imgly_lut_colla_5_5_128.png",defaultIntensity:1},{identifier:A.Solanus,name:"Solanus",thumbnailURI:"./items/imgly_lut_orchid.jpg",lutURI:"./items/imgly_lut_solanus_5_5_128.png",defaultIntensity:1},{identifier:A.Kalmen,name:"Kalmen",thumbnailURI:"./items/imgly_lut_bleached.jpg",lutURI:"./items/imgly_lut_kalmen_5_5_128.png",defaultIntensity:1},{identifier:A.Joran,name:"Joran",thumbnailURI:"./items/imgly_lut_bleachedblue.jpg",lutURI:"./items/imgly_lut_joran_5_5_128.png",defaultIntensity:1},{identifier:A.Levante,name:"Levante",thumbnailURI:"./items/imgly_lut_breeze.jpg",lutURI:"./items/imgly_lut_levante_5_5_128.png",defaultIntensity:1},{identifier:A.Zephyr,name:"Zephyr",thumbnailURI:"./items/imgly_lut_blueshadows.jpg",lutURI:"./items/imgly_lut_zephyr_5_5_128.png",defaultIntensity:1}]},{identifier:Tt.Warm,name:"Warm",thumbnailURI:"./categories/warm.jpg",items:[{identifier:A.Golden,name:"Golden",thumbnailURI:"./items/imgly_lut_sunset.jpg",lutURI:"./items/imgly_lut_golden_5_5_128.png",defaultIntensity:1},{identifier:A.LowFire,name:"Low Fire",thumbnailURI:"./items/imgly_lut_eighties.jpg",lutURI:"./items/imgly_lut_low_fire_5_5_128.png",defaultIntensity:1},{identifier:A.Sunrise,name:"Sunrise",thumbnailURI:"./items/imgly_lut_evening.jpg",lutURI:"./items/imgly_lut_sunrise_5_5_128.png",defaultIntensity:1},{identifier:A.FlatBlack,name:"Flat Black",thumbnailURI:"./items/imgly_lut_k2.jpg",lutURI:"./items/imgly_lut_flat_black_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Pumpkin,name:"Pumpkin",thumbnailURI:"./items/imgly_lut_nogreen.jpg",lutURI:"./items/imgly_lut_pumpkin_5_5_128.png",defaultIntensity:1}]},{identifier:Tt.Legacy,name:"Legacy",thumbnailURI:"./categories/legacy.jpg",items:[{identifier:A.Ancient,name:"Ancient",thumbnailURI:"./items/imgly_lut_ancient.jpg",lutURI:"./items/imgly_lut_ancient_5_5_128.png",defaultIntensity:1},{identifier:A.Candy,name:"Candy",thumbnailURI:"./items/imgly_lut_cottoncandy.jpg",lutURI:"./items/imgly_lut_cottoncandy_5_5_128.png",defaultIntensity:1},{identifier:A.Classic,name:"Classic",thumbnailURI:"./items/imgly_lut_classic.jpg",lutURI:"./items/imgly_lut_classic_5_5_128.png",defaultIntensity:1},{identifier:A.Colorful,name:"Colorful",thumbnailURI:"./items/imgly_lut_colorful.jpg",lutURI:"./items/imgly_lut_colorful_5_5_128.png",defaultIntensity:1},{identifier:A.Creamy,name:"Creamy",thumbnailURI:"./items/imgly_lut_creamy.jpg",lutURI:"./items/imgly_lut_creamy_5_5_128.png",defaultIntensity:1},{identifier:A.Fixie,name:"Fixie",thumbnailURI:"./items/imgly_lut_fixie.jpg",lutURI:"./items/imgly_lut_fixie_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Food,name:"Food",thumbnailURI:"./items/imgly_lut_food.jpg",lutURI:"./items/imgly_lut_food_5_5_128.png",defaultIntensity:1},{identifier:A.Fridge,name:"Fridge",thumbnailURI:"./items/imgly_lut_fridge.jpg",lutURI:"./items/imgly_lut_fridge_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Glam,name:"Glam",thumbnailURI:"./items/imgly_lut_glam.jpg",lutURI:"./items/imgly_lut_glam_5_5_128.png",defaultIntensity:1},{identifier:A.Gobblin,name:"Gobblin",thumbnailURI:"./items/imgly_lut_gobblin.jpg",lutURI:"./items/imgly_lut_gobblin_5_5_128.png",defaultIntensity:1},{identifier:A.Hicon,name:"Hicon",thumbnailURI:"./items/imgly_lut_highcontrast.jpg",lutURI:"./items/imgly_lut_highcontrast_5_5_128.png",defaultIntensity:1},{identifier:A.HighCarb,name:"High Carb",thumbnailURI:"./items/imgly_lut_highcarb.jpg",lutURI:"./items/imgly_lut_highcarb_5_5_128.png",defaultIntensity:1},{identifier:A.K1,name:"K1",thumbnailURI:"./items/imgly_lut_k1.jpg",lutURI:"./items/imgly_lut_k1_5_5_128.png",defaultIntensity:1},{identifier:A.K6,name:"K6",thumbnailURI:"./items/imgly_lut_k6.jpg",lutURI:"./items/imgly_lut_k6_5_5_128.png",defaultIntensity:1},{identifier:A.Keen,name:"Keen",thumbnailURI:"./items/imgly_lut_keen.jpg",lutURI:"./items/imgly_lut_keen_5_5_128.png",defaultIntensity:1},{identifier:A.Lomo,name:"Lomo",thumbnailURI:"./items/imgly_lut_lomo.jpg",lutURI:"./items/imgly_lut_lomo_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Lomo100,name:"Lomo 100",thumbnailURI:"./items/imgly_lut_lomo100.jpg",lutURI:"./items/imgly_lut_lomo100_5_5_128.png",defaultIntensity:1},{identifier:A.Lucid,name:"Lucid",thumbnailURI:"./items/imgly_lut_lucid.jpg",lutURI:"./items/imgly_lut_lucid_5_5_128.png",defaultIntensity:1},{identifier:A.Mellow,name:"Mellow",thumbnailURI:"./items/imgly_lut_mellow.jpg",lutURI:"./items/imgly_lut_mellow_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:A.Neat,name:"Neat",thumbnailURI:"./items/imgly_lut_neat.jpg",lutURI:"./items/imgly_lut_neat_5_5_128.png",defaultIntensity:1},{identifier:A.Pale,name:"Pale",thumbnailURI:"./items/imgly_lut_pale.jpg",lutURI:"./items/imgly_lut_pale_5_5_128.png",defaultIntensity:1},{identifier:A.Pitched,name:"Pitched",thumbnailURI:"./items/imgly_lut_pitched.jpg",lutURI:"./items/imgly_lut_pitched_5_5_128.png",defaultIntensity:1},{identifier:A.PolaSX,name:"Pola SX",thumbnailURI:"./items/imgly_lut_polasx.jpg",lutURI:"./items/imgly_lut_polasx_5_5_128.png",defaultIntensity:1},{identifier:A.Pro400,name:"Pro 400",thumbnailURI:"./items/imgly_lut_pro400.jpg",lutURI:"./items/imgly_lut_pro400_5_5_128.png",defaultIntensity:1},{identifier:A.Quozi,name:"Quozi",thumbnailURI:"./items/imgly_lut_quozi.jpg",lutURI:"./items/imgly_lut_quozi_5_5_128.png",defaultIntensity:1},{identifier:A.Settled,name:"Settled",thumbnailURI:"./items/imgly_lut_settled.jpg",lutURI:"./items/imgly_lut_settled_5_5_128.png",defaultIntensity:1},{identifier:A.Seventies,name:"Seventies",thumbnailURI:"./items/imgly_lut_seventies.jpg",lutURI:"./items/imgly_lut_seventies_5_5_128.png",defaultIntensity:1},{identifier:A.Soft,name:"Soft",thumbnailURI:"./items/imgly_lut_soft.jpg",lutURI:"./items/imgly_lut_soft_5_5_128.png",defaultIntensity:1},{identifier:A.Steel,name:"Steel",thumbnailURI:"./items/imgly_lut_steel.jpg",lutURI:"./items/imgly_lut_steel_5_5_128.png",defaultIntensity:1},{identifier:A.Summer,name:"Summer",thumbnailURI:"./items/imgly_lut_summer.jpg",lutURI:"./items/imgly_lut_summer_5_5_128.png",defaultIntensity:1},{identifier:A.Tender,name:"Tender",thumbnailURI:"./items/imgly_lut_tender.jpg",lutURI:"./items/imgly_lut_tender_5_5_128.png",defaultIntensity:1},{identifier:A.Twilight,name:"Twilight",thumbnailURI:"./items/imgly_lut_twilight.jpg",lutURI:"./items/imgly_lut_twilight_5_5_128.png",defaultIntensity:1}]}],kb=KJ;});var XJ,zC,KO=d(function(){H();XJ=[{identifier:Ue.RADIAL,thumbnailURI:"./items/radial.png"},{identifier:Ue.MIRRORED,thumbnailURI:"./items/mirrored.png"},{identifier:Ue.LINEAR,thumbnailURI:"./items/linear.png"},{identifier:Ue.GAUSSIAN,thumbnailURI:"./items/gaussian.png"}],zC=XJ;});var YJ,Tb,XO=d(function(){YJ=[{identifier:"imgly_font_open_sans_bold",fontFamily:"Open Sans",fontWeight:"bold",fontURI:"./fonts/imgly_font_open_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}},{identifier:"imgly_font_aleo_bold",fontFamily:"Aleo",fontWeight:"bold",fontURI:"./fonts/imgly_font_aleo_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}},{identifier:"imgly_font_amaticsc",fontFamily:"Amatic SC",fontWeight:"normal",fontURI:"./fonts/imgly_font_amaticsc.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}},{identifier:"imgly_font_archivo_black",fontFamily:"Archivo",fontWeight:"normal",fontURI:"./fonts/imgly_font_archivo_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}},{identifier:"imgly_font_bungee_inline",fontFamily:"Bungee Inline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_bungee_inline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}},{identifier:"imgly_font_fira_sans_regular",fontFamily:"Fira Sans",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}},{identifier:"imgly_font_campton_bold",fontFamily:"Campton Book",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_campton_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:770,descender:-294}},{identifier:"imgly_font_carter_one",fontFamily:"Carter One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_carter_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}},{identifier:"imgly_font_codystar",fontFamily:"Codystar",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_codystar.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}},{identifier:"imgly_font_galano_grotesque_bold",fontFamily:"Galano Grotesque",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_galano_grotesque_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}},{identifier:"imgly_font_krona_one",fontFamily:"Krona One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_krona_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}},{identifier:"imgly_font_kumar_one_outline",fontFamily:"Kumar One Outline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_kumar_one_outline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}},{identifier:"imgly_font_lobster",fontFamily:"Lobster",fontWeight:"normal",fontURI:"./fonts/imgly_font_lobster.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}},{identifier:"imgly_font_molle",fontFamily:"Molle",fontWeight:"normal",fontStyle:"italic",fontURI:"./fonts/imgly_font_molle.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}},{identifier:"imgly_font_monoton",fontFamily:"Monoton",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_monoton.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}},{identifier:"imgly_font_nixie_one",fontFamily:"Nixie One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_nixie_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}},{identifier:"imgly_font_notable",fontFamily:"Notable",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_notable.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}},{identifier:"imgly_font_ostrich_sans_black",fontFamily:"Ostrich",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontFamily:"Ostrich",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_oswald_semi_bold",fontFamily:"Oswald SemiBold",googleFamily:"Oswald",fontWeight:600,fontStyle:"normal",fontURI:"./fonts/imgly_font_oswald_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}},{identifier:"imgly_font_palanquin_dark_semi_bold",fontFamily:"Palanquin Dark SemiBold",googleFamily:"Palanquin Dark",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_palanquin_dark_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}},{identifier:"imgly_font_poppins",fontFamily:"Poppins",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_poppins.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}},{identifier:"imgly_font_permanent_marker",fontFamily:"Permanent Marker",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_permanent_marker.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}},{identifier:"imgly_font_roboto_black_italic",fontFamily:"Roboto Black",fontWeight:"bold",fontStyle:"italic",googleFamily:"Roboto",fontURI:"./fonts/imgly_font_roboto_black_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontFamily:"Roboto Light",googleFamily:"Roboto",fontWeight:300,fontStyle:"italic",fontURI:"./fonts/imgly_font_roboto_light_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sancreek",fontFamily:"Sancreek",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sancreek.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}},{identifier:"imgly_font_stint_ultra_expanded",fontFamily:"Stint Ultra Expanded",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_stint_ultra_expanded.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}},{identifier:"imgly_font_trash_hand",fontFamily:"Trash Hand",fontWeight:"normal",fontURI:"./fonts/imgly_font_trash_hand.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}},{identifier:"imgly_font_vt323",fontFamily:"VT323",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_vt323.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}},{identifier:"imgly_font_yeseva_one",fontFamily:"Yeseva One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_yeseva_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}},{identifier:"imgly_font_abril_fatface_regular",fontFamily:"Abril Fatface",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_abril_fatface_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}},{identifier:"imgly_font_amberlight",fontFamily:"Amberlight",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_amberlight.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:750,descender:-250}},{identifier:"imgly_font_montserrat_light",fontFamily:"Montserrat Light",googleFamily:"Montserrat",fontWeight:300,fontStyle:"normal",fontURI:"./fonts/imgly_font_montserrat_light.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}},{identifier:"imgly_font_handycheera_regular",fontFamily:"Handycheera",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_handycheera_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}},{identifier:"imgly_font_ostrich_sans_heavy",fontFamily:"Ostrich",fontWeight:900,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_heavy.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}},{identifier:"imgly_font_petit_formal_script",fontFamily:"Petit Formal Script",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_petit_formal_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}},{identifier:"imgly_font_rasa_500",fontFamily:"Rasa",fontWeight:500,fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_500.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_regular",fontFamily:"Rasa",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_regular.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_roboto_black",fontFamily:"Roboto Black",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_black.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light",fontFamily:"Roboto Light",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_light.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sue_ellen_francisco",fontFamily:"Sue Ellen Francisco",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sue_ellen_francisco.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}},{identifier:"imgly_font_ultra",fontFamily:"Ultra",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_ultra.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}},{identifier:"imgly_font_wolesbro",fontFamily:"Wolesbro",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_wolesbro.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:925,descender:-575}}],Tb=YJ;});var YO,JO,ZO=d(function(){YO=["imgly_font_open_sans_bold","imgly_font_aleo_bold","imgly_font_amaticsc","imgly_font_archivo_black","imgly_font_bungee_inline","imgly_font_campton_bold","imgly_font_carter_one","imgly_font_codystar","imgly_font_fira_sans_regular","imgly_font_galano_grotesque_bold","imgly_font_krona_one","imgly_font_kumar_one_outline","imgly_font_lobster","imgly_font_molle","imgly_font_monoton","imgly_font_nixie_one","imgly_font_notable","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_oswald_semi_bold","imgly_font_palanquin_dark_semi_bold","imgly_font_poppins","imgly_font_permanent_marker","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sancreek","imgly_font_stint_ultra_expanded","imgly_font_trash_hand","imgly_font_vt323","imgly_font_yeseva_one"],JO=["imgly_font_abril_fatface_regular","imgly_font_amberlight","imgly_font_bungee_inline","imgly_font_campton_bold","imgly_font_galano_grotesque_bold","imgly_font_handycheera_regular","imgly_font_montserrat_light","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_heavy","imgly_font_permanent_marker","imgly_font_petit_formal_script","imgly_font_rasa_500","imgly_font_rasa_regular","imgly_font_roboto_black","imgly_font_roboto_light","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sue_ellen_francisco","imgly_font_ultra","imgly_font_wolesbro"];});var JJ,Db,QO=d(function(){JJ=[{identifier:"imgly_frame_dia",name:"Dia",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_left.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_right.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",name:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",name:"Black Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",name:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",name:"Low Poly",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}}],Db=JJ;});var ZJ,Eb,eR=d(function(){H();ZJ=[{identifier:ve.Golden,name:"Golden",defaultBlendMode:Ie.LIGHTEN,overlayURI:"./items/imgly_overlay_golden.jpg",thumbnailURI:"./items/imgly_overlay_golden_thumb.jpg"},{identifier:ve.LightLeak1,name:"Lightleak",defaultBlendMode:Ie.SCREEN,overlayURI:"./items/imgly_overlay_lightleak1.jpg",thumbnailURI:"./items/imgly_overlay_lightleak1_thumb.jpg"},{identifier:ve.Rain,name:"Rain",defaultBlendMode:Ie.OVERLAY,overlayURI:"./items/imgly_overlay_rain.jpg",thumbnailURI:"./items/imgly_overlay_rain_thumb.jpg"},{identifier:ve.Mosaic,name:"Mosaic",defaultBlendMode:Ie.MULTIPLY,overlayURI:"./items/imgly_overlay_mosaic.jpg",thumbnailURI:"./items/imgly_overlay_mosaic_thumb.jpg"},{identifier:ve.Vintage,name:"Vintage",defaultBlendMode:Ie.OVERLAY,overlayURI:"./items/imgly_overlay_vintage.jpg",thumbnailURI:"./items/imgly_overlay_vintage_thumb.jpg"},{identifier:ve.Paper,name:"Paper",defaultBlendMode:Ie.MULTIPLY,overlayURI:"./items/imgly_overlay_paper.jpg",thumbnailURI:"./items/imgly_overlay_paper_thumb.jpg"},{identifier:ve.Bokeh,name:"Bokeh",defaultBlendMode:Ie.LIGHTEN,overlayURI:"./items/imgly_overlay_bokeh.jpg",thumbnailURI:"./items/imgly_overlay_bokeh_thumb.jpg"},{identifier:ve.Hearts,name:"Hearts",defaultBlendMode:Ie.SCREEN,overlayURI:"./items/imgly_overlay_hearts.jpg",thumbnailURI:"./items/imgly_overlay_hearts_thumb.jpg"},{identifier:ve.LightLeak2,name:"Lightleak 2",defaultBlendMode:Ie.LIGHTEN,overlayURI:"./items/imgly_overlay_lightleak2.jpg",thumbnailURI:"./items/imgly_overlay_lightleak2_thumb.jpg"},{identifier:ve.Wood,name:"Wood",defaultBlendMode:Ie.MULTIPLY,overlayURI:"./items/imgly_overlay_wood.jpg",thumbnailURI:"./items/imgly_overlay_wood_thumb.jpg"},{identifier:ve.Chop,name:"Chop",defaultBlendMode:Ie.MULTIPLY,overlayURI:"./items/imgly_overlay_chop.jpg",thumbnailURI:"./items/imgly_overlay_chop_thumb.jpg"},{identifier:ve.Metal,name:"Metal",defaultBlendMode:Ie.OVERLAY,overlayURI:"./items/imgly_overlay_metal.jpg",thumbnailURI:"./items/imgly_overlay_metal_thumb.jpg"},{identifier:ve.Painting,name:"Painting",defaultBlendMode:Ie.OVERLAY,overlayURI:"./items/imgly_overlay_painting.jpg",thumbnailURI:"./items/imgly_overlay_painting_thumb.jpg"},{identifier:ve.Grain,name:"Grain",defaultBlendMode:Ie.OVERLAY,overlayURI:"./items/imgly_overlay_grain.jpg",thumbnailURI:"./items/imgly_overlay_grain_thumb.jpg"},{identifier:ve.Clouds,name:"Clouds",defaultBlendMode:Ie.SOFT_LIGHT,overlayURI:"./items/imgly_overlay_clouds.jpg",thumbnailURI:"./items/imgly_overlay_clouds_thumb.jpg"},{identifier:ve.Wall1,name:"Wall",defaultBlendMode:Ie.LIGHTEN,overlayURI:"./items/imgly_overlay_wall1.jpg",thumbnailURI:"./items/imgly_overlay_wall1_thumb.jpg"},{identifier:ve.Wall2,name:"Wall 2",defaultBlendMode:Ie.OVERLAY,overlayURI:"./items/imgly_overlay_wall2.jpg",thumbnailURI:"./items/imgly_overlay_wall2_thumb.jpg"}],Eb=ZJ;});var QJ,Ib,tR=d(function(){QJ=[{identifier:"imgly_sticker_emoticons",name:"Emoticons",thumbnailURI:"./categories/emoticons.png",items:[{identifier:"imgly_sticker_emoticons_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_grin.svg",tintMode:"none",name:"Grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_laugh",stickerURI:"./emoticons/imgly_sticker_emoticons_laugh.svg",tintMode:"none",name:"Laugh",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smile",stickerURI:"./emoticons/imgly_sticker_emoticons_smile.svg",tintMode:"none",name:"Smile",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_wink.svg",tintMode:"none",name:"Wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tongue_out_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_tongue_out_wink.svg",tintMode:"none",name:"Tongue out wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angel",stickerURI:"./emoticons/imgly_sticker_emoticons_angel.svg",tintMode:"none",name:"Angel",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kisses",stickerURI:"./emoticons/imgly_sticker_emoticons_kisses.svg",tintMode:"none",name:"Kisses",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loving",stickerURI:"./emoticons/imgly_sticker_emoticons_loving.svg",tintMode:"none",name:"Loving",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kiss",stickerURI:"./emoticons/imgly_sticker_emoticons_kiss.svg",tintMode:"none",name:"Kiss",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wave",stickerURI:"./emoticons/imgly_sticker_emoticons_wave.svg",tintMode:"none",name:"Wave",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_nerd",stickerURI:"./emoticons/imgly_sticker_emoticons_nerd.svg",tintMode:"none",name:"Nerd",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cool",stickerURI:"./emoticons/imgly_sticker_emoticons_cool.svg",tintMode:"none",name:"Cool",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_blush",stickerURI:"./emoticons/imgly_sticker_emoticons_blush.svg",tintMode:"none",name:"Blush",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_duckface",stickerURI:"./emoticons/imgly_sticker_emoticons_duckface.svg",tintMode:"none",name:"Duckface",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_furious.svg",tintMode:"none",name:"Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angry",stickerURI:"./emoticons/imgly_sticker_emoticons_angry.svg",tintMode:"none",name:"Angry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_steaming_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_steaming_furious.svg",tintMode:"none",name:"Steaming Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sad",stickerURI:"./emoticons/imgly_sticker_emoticons_sad.svg",tintMode:"none",name:"Sad",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_anxious",stickerURI:"./emoticons/imgly_sticker_emoticons_anxious.svg",tintMode:"none",name:"Anxious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_cry.svg",tintMode:"none",name:"Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sobbing",stickerURI:"./emoticons/imgly_sticker_emoticons_sobbing.svg",tintMode:"none",name:"Sobbing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loud_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_loud_cry.svg",tintMode:"none",name:"Loud Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wide_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_wide_grin.svg",tintMode:"none",name:"Wide grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_impatient",stickerURI:"./emoticons/imgly_sticker_emoticons_impatient.svg",tintMode:"none",name:"Impatient",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tired",stickerURI:"./emoticons/imgly_sticker_emoticons_tired.svg",tintMode:"none",name:"Tired",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_asleep",stickerURI:"./emoticons/imgly_sticker_emoticons_asleep.svg",tintMode:"none",name:"Asleep",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sleepy",stickerURI:"./emoticons/imgly_sticker_emoticons_sleepy.svg",tintMode:"none",name:"Sleepy",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_deceased",stickerURI:"./emoticons/imgly_sticker_emoticons_deceased.svg",tintMode:"none",name:"Deceased",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_attention",stickerURI:"./emoticons/imgly_sticker_emoticons_attention.svg",tintMode:"none",name:"Attention",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_question",stickerURI:"./emoticons/imgly_sticker_emoticons_question.svg",tintMode:"none",name:"Question",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",stickerURI:"./emoticons/imgly_sticker_emoticons_not_speaking_to_you.svg",tintMode:"none",name:"Not speaking to you",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sick",stickerURI:"./emoticons/imgly_sticker_emoticons_sick.svg",tintMode:"none",name:"Sick",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pumpkin",stickerURI:"./emoticons/imgly_sticker_emoticons_pumpkin.svg",tintMode:"none",name:"Pumpkin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_boxer",stickerURI:"./emoticons/imgly_sticker_emoticons_boxer.svg",tintMode:"none",name:"Boxer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_idea",stickerURI:"./emoticons/imgly_sticker_emoticons_idea.svg",tintMode:"none",name:"Idea",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smoking",stickerURI:"./emoticons/imgly_sticker_emoticons_smoking.svg",tintMode:"none",name:"Smoking",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_beer",stickerURI:"./emoticons/imgly_sticker_emoticons_beer.svg",tintMode:"none",name:"Beer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skateboard",stickerURI:"./emoticons/imgly_sticker_emoticons_skateboard.svg",tintMode:"none",name:"Skateboard",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_guitar",stickerURI:"./emoticons/imgly_sticker_emoticons_guitar.svg",tintMode:"none",name:"Guitar",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_music",stickerURI:"./emoticons/imgly_sticker_emoticons_music.svg",tintMode:"none",name:"Music",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sunbathing",stickerURI:"./emoticons/imgly_sticker_emoticons_sunbathing.svg",tintMode:"none",name:"Sunbathing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hippie",stickerURI:"./emoticons/imgly_sticker_emoticons_hippie.svg",tintMode:"none",name:"Hippie",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_humourous",stickerURI:"./emoticons/imgly_sticker_emoticons_humourous.svg",tintMode:"none",name:"Humourous",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hitman",stickerURI:"./emoticons/imgly_sticker_emoticons_hitman.svg",tintMode:"none",name:"Hitman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_harry_potter",stickerURI:"./emoticons/imgly_sticker_emoticons_harry_potter.svg",tintMode:"none",name:"Harry Potter",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_business",stickerURI:"./emoticons/imgly_sticker_emoticons_business.svg",tintMode:"none",name:"Business",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_batman",stickerURI:"./emoticons/imgly_sticker_emoticons_batman.svg",tintMode:"none",name:"Batman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skull",stickerURI:"./emoticons/imgly_sticker_emoticons_skull.svg",tintMode:"none",name:"Skull",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_ninja",stickerURI:"./emoticons/imgly_sticker_emoticons_ninja.svg",tintMode:"none",name:"Ninja",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_masked",stickerURI:"./emoticons/imgly_sticker_emoticons_masked.svg",tintMode:"none",name:"Masked",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_alien",stickerURI:"./emoticons/imgly_sticker_emoticons_alien.svg",tintMode:"none",name:"Alien",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wrestler",stickerURI:"./emoticons/imgly_sticker_emoticons_wrestler.svg",tintMode:"none",name:"Wrestler",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_devil",stickerURI:"./emoticons/imgly_sticker_emoticons_devil.svg",tintMode:"none",name:"Devil",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_star",stickerURI:"./emoticons/imgly_sticker_emoticons_star.svg",tintMode:"none",name:"Star",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_baby_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_baby_chicken.svg",tintMode:"none",name:"Baby Chicken",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_rabbit",stickerURI:"./emoticons/imgly_sticker_emoticons_rabbit.svg",tintMode:"none",name:"Rabbit",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pig",stickerURI:"./emoticons/imgly_sticker_emoticons_pig.svg",tintMode:"none",name:"Pig",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_chicken.svg",tintMode:"none",name:"Chicken",resizeMode:"keepAspect"}]},{identifier:"imgly_sticker_shapes",name:"Shapes",thumbnailURI:"./categories/shapes.png",items:[{identifier:"imgly_sticker_shapes_badge_01",stickerURI:"./shapes/imgly_sticker_shapes_badge_01.svg",tintMode:"solid",name:"Shape Badge 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_04",stickerURI:"./shapes/imgly_sticker_shapes_badge_04.svg",tintMode:"solid",name:"Shape Badge 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_12",stickerURI:"./shapes/imgly_sticker_shapes_badge_12.svg",tintMode:"solid",name:"Shape Badge 12",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_06",stickerURI:"./shapes/imgly_sticker_shapes_badge_06.svg",tintMode:"solid",name:"Shape Badge 06",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_13",stickerURI:"./shapes/imgly_sticker_shapes_badge_13.svg",tintMode:"solid",name:"Shape Badge 13",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_36",stickerURI:"./shapes/imgly_sticker_shapes_badge_36.svg",tintMode:"solid",name:"Shape Badge 36",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_08",stickerURI:"./shapes/imgly_sticker_shapes_badge_08.svg",tintMode:"solid",name:"Shape Badge 08",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_11",stickerURI:"./shapes/imgly_sticker_shapes_badge_11.svg",tintMode:"solid",name:"Shape Badge 11",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_35",stickerURI:"./shapes/imgly_sticker_shapes_badge_35.svg",tintMode:"solid",name:"Shape Badge 35",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_28",stickerURI:"./shapes/imgly_sticker_shapes_badge_28.svg",tintMode:"solid",name:"Shape Badge 28",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_32",stickerURI:"./shapes/imgly_sticker_shapes_badge_32.svg",tintMode:"solid",name:"Shape Badge 32",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_15",stickerURI:"./shapes/imgly_sticker_shapes_badge_15.svg",tintMode:"solid",name:"Shape Badge 15",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_20",stickerURI:"./shapes/imgly_sticker_shapes_badge_20.svg",tintMode:"solid",name:"Shape Badge 20",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_18",stickerURI:"./shapes/imgly_sticker_shapes_badge_18.svg",tintMode:"solid",name:"Shape Badge 18",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_19",stickerURI:"./shapes/imgly_sticker_shapes_badge_19.svg",tintMode:"solid",name:"Shape Badge 19",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_02",stickerURI:"./shapes/imgly_sticker_shapes_arrow_02.svg",tintMode:"solid",name:"Shape Arrow 02",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_03",stickerURI:"./shapes/imgly_sticker_shapes_arrow_03.svg",tintMode:"solid",name:"Shape Arrow 03",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_01",stickerURI:"./shapes/imgly_sticker_shapes_spray_01.svg",tintMode:"solid",name:"Shape Spray 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_04",stickerURI:"./shapes/imgly_sticker_shapes_spray_04.svg",tintMode:"solid",name:"Shape Spray 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_03",stickerURI:"./shapes/imgly_sticker_shapes_spray_03.svg",tintMode:"solid",name:"Shape Spray 03",resizeMode:"keepAspect"}]}],Ib=QJ;});var eZ,iR,rR=d(function(){eZ=[{thumbnailURI:"./items/dark/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/dark/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/dark/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/dark/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/dark/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/dark/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/dark/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/dark/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/dark/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/dark/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/dark/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/dark/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/dark/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/dark/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],iR=eZ;});var tZ,oR,sR=d(function(){tZ=[{thumbnailURI:"./items/light/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/light/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/light/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/light/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/light/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/light/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/light/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/light/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/light/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/light/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/light/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/light/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/light/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/light/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],oR=tZ;});var iZ,Fb,nR=d(function(){iZ=[{identifier:"imgly_transforms_common",name:"Common",items:[{identifier:"imgly_transform_common_custom",name:"Custom",thumbnailURI:"",ratio:"*"},{identifier:"imgly_transform_common_square",name:"Square",thumbnailURI:"",ratio:1},{identifier:"imgly_transform_common_4",name:"4:3",thumbnailURI:"",ratio:4/3},{identifier:"imgly_transform_common_16",name:"16:9",thumbnailURI:"",ratio:16/9},{identifier:"imgly_transform_common_3",name:"3:4",thumbnailURI:"",ratio:3/4},{identifier:"imgly_transform_common_9",name:"9:16",thumbnailURI:"",ratio:9/16}]},{identifier:"imgly_transforms_facebook",name:"Facebook",items:[{identifier:"imgly_transform_facebook_profile",name:"Profile",thumbnailURI:"",dimensions:{x:300,y:300},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_title",name:"Title",thumbnailURI:"",dimensions:{x:1200,y:627},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_post",name:"Post",thumbnailURI:"",dimensions:{x:940,y:788},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_instagram",name:"Instagram",items:[{identifier:"imgly_transform_instagram_landscape",name:"Landscape",thumbnailURI:"",dimensions:{x:1080,y:566},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_portrait",name:"Portrait",thumbnailURI:"",dimensions:{x:1080,y:1350},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_square",name:"Square",thumbnailURI:"",dimensions:{x:1080,y:1080},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_story",name:"Story",thumbnailURI:"",dimensions:{x:1080,y:1920},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_twitter",name:"Twitter",items:[{identifier:"imgly_transform_twitter_post",name:"Post",thumbnailURI:"",dimensions:{x:1024,y:512},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_profile",name:"Profile",thumbnailURI:"",dimensions:{x:400,y:400},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_title",name:"Title",thumbnailURI:"",dimensions:{x:1500,y:500},forceDimensions:!0,lockDimensions:!0}]}],Fb=iZ;});var Tn,Ga,UC=d(function(){Tn={imgly_font_bernier_regular:"imgly_font_sancreek",imgly_font_cheque_regular:"imgly_font_kumar_one_outline",imgly_font_gagalin_regular:"imgly_font_permanent_marker",imgly_font_hagin_caps_thin:"imgly_font_nixie_one",imgly_font_intro_inline:"imgly_font_bungee_inline",imgly_font_nexa_script:"imgly_font_molle",imgly_font_panton_blackitalic_caps:"imgly_font_roboto_black_italic",imgly_font_panton_lightitalic_caps:"imgly_font_roboto_light_italic",imgly_font_perfograma:"imgly_font_codystar",imgly_font_panton_black_caps:"imgly_font_roboto_black",imgly_font_panton_light_caps:"imgly_font_roboto_light",imgly_font_summer_font_light:"imgly_font_sue_ellen_francisco"},Ga=function Ga(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return Tn[r]?(e&&console.warn("Font ".concat(r," was deprecated. Please use ").concat(Tn[r]," instead.")),Tn[r]):r;};});var Ob={};It(Ob,{isMobile:function isMobile(){return NC;}});function NC(){if(typeof navigator=="undefined")return!1;var r=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4));}var HC=d(function(){});function ot(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16);});}var aR=d(function(){});var lR,cR,WC=d(function(){lR=function lR(r){r.preventDefault(),r.stopPropagation();},cR=function cR(){};});var GC=d(function(){});var _be,dR=d(function(){WC();GC();_be=typeof window!="undefined"?window.performance.now.bind(window.performance):cR();});var Dp,VC=d(function(){Dp=/*#__PURE__*/function(){function Dp(e){_classCallCheck(this,Dp);this.text=e;this.lastOffsetWidth=-1;var t="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.element=document.createElement("div"),this.element.setAttribute("aria-hidden","true"),this.element.appendChild(document.createTextNode(e)),this.collapsible=document.createElement("span"),this.expandable=document.createElement("span"),this.collapsibleInner=document.createElement("span"),this.expandableInner=document.createElement("span"),this.collapsible.style.cssText=t,this.expandable.style.cssText=t,this.expandableInner.style.cssText=t,this.collapsibleInner.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.collapsible.appendChild(this.collapsibleInner),this.expandable.appendChild(this.expandableInner),this.element.appendChild(this.collapsible),this.element.appendChild(this.expandable);}_createClass(Dp,[{key:"getElement",value:function getElement(){return this.element;}},{key:"setFont",value:function setFont(e){this.element.style.cssText="max-width:none;\n      min-width:20px;\n      min-height:20px;\n      display:inline-block;\n      overflow:hidden;\n      position:absolute;\n      width:auto;\n      margin:0;\n      padding:0;\n      top:-999px;\n      white-space:nowrap;\n      font-synthesis:none;\n      font:".concat(e,";");}},{key:"getWidth",value:function getWidth(){return this.element.offsetWidth;}},{key:"setWidth",value:function setWidth(e){this.element.style.width="".concat(e,"px");}},{key:"onResize",value:function onResize(e){var _this4=this;var t=function t(){_this4.onScroll(e);};this.collapsible.addEventListener("scroll",t),this.expandable.addEventListener("scroll",t),this.reset();}},{key:"reset",value:function reset(){var e=this.getWidth(),t=e+100;return this.expandableInner.style.width="".concat(t,"px"),this.expandable.scrollLeft=t,this.collapsible.scrollLeft=this.collapsible.scrollWidth+100,this.lastOffsetWidth!==e?(this.lastOffsetWidth=e,!0):!1;}},{key:"onScroll",value:function onScroll(e){this.reset()&&this.element.parentNode!==null&&e(this.lastOffsetWidth);}}]);return Dp;}();});var _Bt,Va,uR=d(function(){VC();_Bt=/*#__PURE__*/function(){function Bt(e){_classCallCheck(this,Bt);this.font=w({fontFamily:"normal",fontStyle:"normal",fontWeight:"normal",fontStretch:"normal"},e);}_createClass(Bt,[{key:"load",value:function load(e,t){var _this5=this;var i="BESbswy",o=null,s=t||_Bt.DEFAULT_TIMEOUT,n=this.getTime();return new Promise(function(a,l){if(_Bt.supportsNativeFontLoading()&&!_Bt.hasSafari10Bug()){var c=new Promise(function(p,m){var h=function h(){_this5.getTime()-n>=s?m(new Error(""+s+"ms timeout exceeded")):document.fonts.load(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\"")),i).then(function(v){v.length>=1?p():setTimeout(h,25);},l);};h();}),u=new Promise(function(p,m){o=setTimeout(function(){m(new Error("".concat(s," ms timeout exceeded")));},s);});Promise.race([u,c]).then(function(){clearTimeout(o),a(_this5);},l);}else{var _c2=new Dp(i),_u2=new Dp(i),p=new Dp(i),m=-1,h=-1,g=-1,v=-1,S=-1,_=-1,I=document.createElement("div"),E=function E(){I.parentNode!==null&&I.parentNode.removeChild(I);},O=function O(){if((m!==-1&&h!==-1||m!==-1&&g!==-1||h!==-1&&g!==-1)&&(m===h||m===g||h===g)){if(_Bt.hasWebKitFallbackBug()&&(m===v&&h===v&&g===v||m===S&&h===S&&g===S||m===_&&h===_&&g===_))return;E(),clearTimeout(o),a(_this5);}};I.dir="ltr",_c2.setFont(_this5.getStyle("sans-serif")),_u2.setFont(_this5.getStyle("serif")),p.setFont(_this5.getStyle("monospace")),I.appendChild(_c2.getElement()),I.appendChild(_u2.getElement()),I.appendChild(p.getElement()),document.body.appendChild(I),v=_c2.getWidth(),S=_u2.getWidth(),_=p.getWidth();var V=function V(){if(_this5.getTime()-n>=s)E(),l(new Error("".concat(s," ms timeout exceeded")));else{var P=document.hidden;(P===!0||P===void 0)&&(m=_c2.getWidth(),h=_u2.getWidth(),g=p.getWidth(),O()),o=setTimeout(V,50);}};V(),_c2.onResize(function(F){m=F,O();}),_c2.setFont(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\",sans-serif"))),_u2.onResize(function(F){h=F,O();}),_u2.setFont(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\",serif"))),p.onResize(function(F){g=F,O();}),p.setFont(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\",monospace")));}});}},{key:"getStyle",value:function getStyle(e){return[this.font.fontStyle,this.font.fontWeight,_Bt.supportsStretch()?this.font.fontStretch:"","100px",e].join(" ");}},{key:"getTime",value:function getTime(){return new Date().getTime();}}],[{key:"getUserAgent",value:function getUserAgent(){return window.navigator.userAgent;}},{key:"getNavigatorVendor",value:function getNavigatorVendor(){return window.navigator.vendor;}},{key:"hasWebKitFallbackBug",value:function hasWebKitFallbackBug(){if(_Bt.HAS_WEBKIT_FALLBACK_BUG===null){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(_Bt.getUserAgent());_Bt.HAS_WEBKIT_FALLBACK_BUG=!!e&&(parseInt(e[1],10)<536||parseInt(e[1],10)===536&&parseInt(e[2],10)<=11);}return _Bt.HAS_WEBKIT_FALLBACK_BUG;}},{key:"hasSafari10Bug",value:function hasSafari10Bug(){if(_Bt.HAS_SAFARI_10_BUG===null)if(_Bt.supportsNativeFontLoading()&&/Apple/.test(_Bt.getNavigatorVendor())){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(_Bt.getUserAgent());_Bt.HAS_SAFARI_10_BUG=!!e&&parseInt(e[1],10)<603;}else _Bt.HAS_SAFARI_10_BUG=!1;return _Bt.HAS_SAFARI_10_BUG;}},{key:"supportsNativeFontLoading",value:function supportsNativeFontLoading(){return _Bt.SUPPORTS_NATIVE_FONT_LOADING===null&&(_Bt.SUPPORTS_NATIVE_FONT_LOADING=!!document.fonts),_Bt.SUPPORTS_NATIVE_FONT_LOADING;}},{key:"supportsStretch",value:function supportsStretch(){if(_Bt.SUPPORTS_STRETCH===null){var e=document.createElement("div");try{e.style.font="condensend 100px sans-serif";}catch(t){_Bt.SUPPORTS_STRETCH=!1;}_Bt.SUPPORTS_STRETCH=e.style.font!=="";}return _Bt.SUPPORTS_STRETCH;}}]);return Bt;}(),Va=_Bt;Va.HAS_WEBKIT_FALLBACK_BUG=null,Va.HAS_SAFARI_10_BUG=null,Va.SUPPORTS_STRETCH=null,Va.SUPPORTS_NATIVE_FONT_LOADING=null,Va.DEFAULT_TIMEOUT=6e4;});var _Ft,B,jC=d(function(){_Ft=/*#__PURE__*/function(){function Ft(e,t){_classCallCheck(this,Ft);typeof e=="number"?(this.x=e,this.y=t):(this.x=e.x,this.y=e.y);}_createClass(Ft,[{key:"magnitude",get:function get(){return Math.sqrt(this.x*this.x+this.y*this.y);}},{key:"normalized",get:function get(){var e=this.magnitude;return new _Ft(this.x/e,this.y/e);}},{key:"floored",get:function get(){return new _Ft(Math.floor(this.x),Math.floor(this.y));}},{key:"rounded",get:function get(){return new _Ft(Math.round(this.x),Math.round(this.y));}},{key:"min",get:function get(){return Math.min(this.x,this.y);}},{key:"max",get:function get(){return Math.max(this.x,this.y);}},{key:"abs",get:function get(){return new _Ft(Math.abs(this.x),Math.abs(this.y));}},{key:"swapped",get:function get(){return new _Ft(this.y,this.x);}},{key:"clone",value:function clone(){return new _Ft(this.x,this.y);}},{key:"add",value:function add(e,t){return typeof e=="number"?new _Ft(this.x+e,this.y+t):new _Ft(this.x+e.x,this.y+e.y);}},{key:"subtract",value:function subtract(e,t){return typeof e=="number"?new _Ft(this.x-e,this.y-t):new _Ft(this.x-e.x,this.y-e.y);}},{key:"multiply",value:function multiply(e,t){return typeof e=="number"?new _Ft(this.x*e,this.y*(t===void 0?e:t)):new _Ft(this.x*e.x,this.y*e.y);}},{key:"divide",value:function divide(e,t){return typeof e=="number"?new _Ft(this.x/e,this.y/(t===void 0?e:t)):new _Ft(this.x/e.x,this.y/e.y);}},{key:"equals",value:function equals(e){return this.x===e.x&&this.y===e.y;}},{key:"clamp",value:function clamp(e,t){var i=Math.max(e.x,Math.min(t.x,this.x)),o=Math.max(e.y,Math.min(t.y,this.y));return new _Ft(i,o);}}],[{key:"fromSize",value:function fromSize(e){return new _Ft(e.width,e.height);}},{key:"distance",value:function distance(e,t){var i=t.x-e.x,o=t.y-e.y;return Math.sqrt(i*i+o*o);}},{key:"dot",value:function dot(e,t){return e.x*t.x+e.y*t.y;}},{key:"lerp",value:function lerp(e,t,i){var o=Math.min(Math.max(i,0),1);return new _Ft(e.x*o+t.x*(1-o),e.y*o+t.y*(1-o));}},{key:"lerpUnclamped",value:function lerpUnclamped(e,t,i){return new _Ft(e.x*i+t.x*(1-i),e.y*i+t.y*(1-i));}},{key:"proportionalFit",value:function proportionalFit(e,t){var i=e.x/e.y,o=t.x/t.y;return i>o?t.multiply(e.y/t.y):t.multiply(e.x/t.x);}}]);return Ft;}(),B=_Ft;B.ZERO=new _Ft(0,0),B.ONE=new _Ft(1,1),B.UP=new _Ft(0,1),B.DOWN=new _Ft(0,-1),B.RIGHT=new _Ft(1,0),B.LEFT=new _Ft(-1,0);});var $C=d(function(){H();});var Dn,Ep,mR=d(function(){jC();$C();HC();(function(t){t.BEGAN_IMAGE_DOWNSCALING="beganImageDownscaling",t.IMAGE_DOWNSCALED="imageDownscaled";})(Dn||(Dn={}));Ep=/*#__PURE__*/function(_Ur){_inherits(Ep,_Ur);var _super2=_createSuper(Ep);function Ep(e,t){var _this6;_classCallCheck(this,Ep);_this6=_super2.call(this);_this6.image=e,_this6.options=t;return _this6;}_createClass(Ep,[{key:"needsResize",value:function needsResize(){var e=this.resizedDimensions();return e.x<this.image.width||e.y<this.image.height;}},{key:"resizedDimensions",value:function resizedDimensions(){var e=this.options,t={width:this.image.width,height:this.image.height},i=B.fromSize(t),o=B.fromSize(t),s=e.maxMegaPixels;if(s){var l=(NC()?s.mobile:s.desktop)*1e6,c=t.width/t.height,u=t.height/t.width,p=new B(Math.floor(Math.sqrt(l*c)),Math.floor(Math.sqrt(l*u)));p.x<=t.width&&p.y<=t.height&&(i=p);}var n=e.maxDimensions;n&&(n.height<t.height||n.width<t.width)&&(o=new B(n.width,n.height));var a=new B(Math.min(i.x,o.x),Math.min(i.y,o.y));return B.proportionalFit(a,B.fromSize(t)).floored;}},{key:"downscaleIfNecessary",value:function downscaleIfNecessary(){var e=this.resizedDimensions();if(!(e.x<this.image.width||e.y<this.image.height))return this.image;this.emit(Dn.BEGAN_IMAGE_DOWNSCALING,this.image);var i=document.createElement("canvas");i.width=e.x,i.height=e.y;var o=i.getContext("2d"),s=this.image;return o.imageSmoothingQuality="high",o.drawImage(s,0,0,s.width,s.height,0,0,e.x,e.y),this.emit(Dn.IMAGE_DOWNSCALED,{width:e.x,height:e.y}),i;}},{key:"downscaleImageIfNecessary",value:function downscaleImageIfNecessary(){var e=this.image,t=this.resizedDimensions();if(!(t.x<this.image.width||t.y<this.image.height))return e;this.emit(Dn.BEGAN_IMAGE_DOWNSCALING,e);var o=new Image();return o.width=t.x,o.height=t.y,o.src=e.src,this.emit(Dn.IMAGE_DOWNSCALED,{width:t.x,height:t.y}),o;}}]);return Ep;}(Ur);});var rZ,oZ,pR,hR,fR=d(function(){rZ=function rZ(r){return r.key==="Enter";},oZ=function oZ(r){return r.key==="Escape";},pR=function pR(r){return function(e){rZ(e)&&r(e);};},hR=function hR(r){return function(e){oZ(e)&&r(e);};};});var Rb,gR,j,bR,Obe,_R=d(function(){(function(q){q[q.EditorContainer=0]="EditorContainer",q[q.ToolControlBar=1]="ToolControlBar",q[q.ToolControlBarExpandableControls=2]="ToolControlBarExpandableControls",q[q.CanvasContainer=3]="CanvasContainer",q[q.Canvas=4]="Canvas",q[q.MainBarButtonClose=5]="MainBarButtonClose",q[q.MainBarButtonExport=6]="MainBarButtonExport",q[q.MainBarButtonUndo=7]="MainBarButtonUndo",q[q.MainBarButtonRedo=8]="MainBarButtonRedo",q[q.MainBarButtonZoom=9]="MainBarButtonZoom",q[q.Tooltip=10]="Tooltip",q[q.Cursor=11]="Cursor",q[q.CursorContainer=12]="CursorContainer",q[q.NummericInput=13]="NummericInput",q[q.BrushSize=14]="BrushSize",q[q.BrushHardness=15]="BrushHardness",q[q.Dialog=16]="Dialog",q[q.DialogBody=17]="DialogBody",q[q.CardContainer=18]="CardContainer",q[q.CategoryItemsContainer=19]="CategoryItemsContainer",q[q.ToolbarItem=20]="ToolbarItem",q[q.ColorList=21]="ColorList",q[q.NoResult=22]="NoResult",q[q.CardLabel=23]="CardLabel",q[q.CardAvatar=24]="CardAvatar",q[q.Dropdown=25]="Dropdown",q[q.DropdownList=26]="DropdownList",q[q.TextAlignment=27]="TextAlignment",q[q.Sprite=28]="Sprite",q[q.SpriteTopLeft=29]="SpriteTopLeft",q[q.SpriteTopRight=30]="SpriteTopRight",q[q.SpriteBottomLeft=31]="SpriteBottomLeft",q[q.SpriteBottomRight=32]="SpriteBottomRight",q[q.Knob=33]="Knob",q[q.TextWidth=34]="TextWidth",q[q.ToolbarWrapper=35]="ToolbarWrapper",q[q.MainCanvasActionBar=36]="MainCanvasActionBar",q[q.SpriteActions=37]="SpriteActions",q[q.CarouselSlider=38]="CarouselSlider",q[q.CropMask=39]="CropMask",q[q.FlipRotateControls=40]="FlipRotateControls",q[q.RotateSlider=41]="RotateSlider",q[q.CropTopRight=42]="CropTopRight",q[q.CropTopLeft=43]="CropTopLeft",q[q.CropBottomRight=44]="CropBottomRight",q[q.CropBottomLeft=45]="CropBottomLeft",q[q.Watermark=46]="Watermark",q[q.Toolbar=47]="Toolbar",q[q.CanvasBar=48]="CanvasBar",q[q.Checkbox=49]="Checkbox",q[q.Focus=50]="Focus",q[q.SnappingLine=51]="SnappingLine",q[q.LibraryUploadButton=52]="LibraryUploadButton",q[q.LibraryWebcamButton=53]="LibraryWebcamButton",q[q.ZoomLevel=54]="ZoomLevel";})(Rb||(Rb={}));gR={};for(var r in Rb){var e=Rb[r];typeof e=="string"&&(gR[e]=e);}j=gR,Obe=Boolean(typeof window!="undefined"&&((bR=window.Cypress)==null?void 0:bR.env("pesdk")));});function sZ(r,e){var t=0;for(var i=r.length-1;i>=0;i--){var o=r[i];o==="."?r.splice(i,1):o===".."?(r.splice(i,1),t++):t&&(r.splice(i,1),t--);}if(e)for(;t--;t){r.unshift("..");}return r;}function nZ(r){return r.charAt(0)==="/";}function aZ(r){var e=nZ(r),t=r.substr(-1)==="/";return r=sZ(r.split("/").filter(Boolean),!e).join("/"),!r&&!e&&(r="."),r&&t&&(r+="/"),(e?"/":"")+r;}var Ip,yR=d(function(){Ip=function Ip(){for(var _len2=arguments.length,r=new Array(_len2),_key2=0;_key2<_len2;_key2++){r[_key2]=arguments[_key2];}return aZ(r.join("/"));};});var vR=tt(function(Pbe,xR){var lZ=typeof Element!="undefined",cZ=typeof Map=="function",dZ=typeof Set=="function",uZ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ab(r,e){if(r===e)return!0;if(r&&e&&_typeof(r)=="object"&&_typeof(e)=="object"){if(r.constructor!==e.constructor)return!1;var t,i,o;if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(i=t;i--!=0;){if(!Ab(r[i],e[i]))return!1;}return!0;}var s;if(cZ&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(s=r.entries();!(i=s.next()).done;){if(!e.has(i.value[0]))return!1;}for(s=r.entries();!(i=s.next()).done;){if(!Ab(i.value[1],e.get(i.value[0])))return!1;}return!0;}if(dZ&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(s=r.entries();!(i=s.next()).done;){if(!e.has(i.value[0]))return!1;}return!0;}if(uZ&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(t=r.length,t!=e.length)return!1;for(i=t;i--!=0;){if(r[i]!==e[i])return!1;}return!0;}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===e.toString();if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!=0;){if(!Object.prototype.hasOwnProperty.call(e,o[i]))return!1;}if(lZ&&r instanceof Element)return!1;for(i=t;i--!=0;){if(!((o[i]==="_owner"||o[i]==="__v"||o[i]==="__o")&&r.$$typeof)&&!Ab(r[o[i]],e[o[i]]))return!1;}return!0;}return r!==r&&e!==e;}xR.exports=function(e,t){try{return Ab(e,t);}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i;}};});var fi,qC,$o,CR=d(function(){fi=y(vR()),qC=function qC(r,e,_ref){var _ref2=_slicedToArray(_ref,2),t=_ref2[0],i=_ref2[1];var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var s=r[e];if(s){if(s<t)return console.error("".concat(e," must be greater than or equal to ").concat(t)),t;if(s>i)return console.error("".concat(e," must be less than or equal to ").concat(i)),i;}return s||o;},$o=function $o(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[1,1,1,1];var i=r[e],o=!0;return i&&i.forEach(function(s){s<0&&(console.error("".concat(s," in ").concat(e," must be greater than or equal to 0")),o=!1),s>1&&(console.error("".concat(s," in ").concat(e," must be less than or equal to 1")),o=!1);}),o&&i||t;};});var Ne,Pb,SR=d(function(){Ne=function Ne(r){return r*.08;},Pb=function Pb(r){return r*.03;};});var wR,kR,TR=d(function(){wR=function wR(r,e){var t=r.indexOf(e);if(!(t===-1||!r.length))return t===r.length-1?r[0]:r[t+1];},kR=function kR(r,e){var t=r.indexOf(e);if(!(t===-1||!r.length))return t===0?r[r.length-1]:r[t-1];};});var Fp,KC,DR=d(function(){Fp={},KC=function KC(_ref3){var r=_ref3.src,e=_ref3.crossOrigin,t=_ref3.key,i=_ref3.resolve,o=_ref3.reject;Fp[t]=r;var s=new Image();s.onload=function(){Fp[t]===r&&(i(s),delete Fp[t]);},s.onerror=function(n){Fp[t]===r&&(o(n),delete Fp[t]);},s.crossOrigin=e,s.src=r;};});var Op=d(function(){UC();HC();aR();dR();GC();uR();VC();mR();$C();fR();_R();WC();yR();CR();SR();TR();DR();});var IR=tt(function(i_e,ER){"use strict";ER.exports=function(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var t=arguments.length>2?arguments[2]:undefined;if(t=w({indent:" ",includeEmptyLines:!1},t),typeof r!="string")throw new TypeError("Expected `input` to be a `string`, got `".concat(_typeof(r),"`"));if(typeof e!="number")throw new TypeError("Expected `count` to be a `number`, got `".concat(_typeof(e),"`"));if(typeof t.indent!="string")throw new TypeError("Expected `options.indent` to be a `string`, got `".concat(_typeof(t.indent),"`"));if(e===0)return r;var i=t.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return r.replace(i,t.indent.repeat(e));};});var FR=tt(function(){});var PR=tt(function(s_e,AR){"use strict";var OR=FR(),RR=/\s+at.*(?:\(|\s)(.*)\)?/,mZ=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,pZ=typeof OR.homedir=="undefined"?"":OR.homedir();AR.exports=function(r,e){return e=Object.assign({pretty:!1},e),r.replace(/\\/g,"/").split("\n").filter(function(t){var i=t.match(RR);if(i===null||!i[1])return!0;var o=i[1];return o.includes(".app/Contents/Resources/electron.asar")||o.includes(".app/Contents/Resources/default_app.asar")?!1:!mZ.test(o);}).filter(function(t){return t.trim()!=="";}).map(function(t){return e.pretty?t.replace(RR,function(i,o){return i.replace(o,o.replace(pZ,"~"));}):t;}).join("\n");};});var LR=tt(function(n_e,MR){"use strict";var hZ=IR(),fZ=PR(),gZ=function gZ(r){return r.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");},BR=/*#__PURE__*/function(_Error,_Symbol$iterator){_inherits(BR,_Error);var _super3=_createSuper(BR);function BR(e){var _this7;_classCallCheck(this,BR);if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat(_typeof(e)));e=_toConsumableArray(e).map(function(i){return i instanceof Error?i:i!==null&&_typeof(i)=="object"?Object.assign(new Error(i.message),i):new Error(i);});var t=e.map(function(i){return typeof i.stack=="string"?gZ(fZ(i.stack)):String(i);}).join("\n");t="\n"+hZ(t,4);_this7=_super3.call(this,t);_this7.name="AggregateError",Object.defineProperty(_assertThisInitialized(_this7),"_errors",{value:e});return _this7;}_createClass(BR,[{key:_Symbol$iterator,value:/*#__PURE__*/regeneratorRuntime.mark(function value(){var _iterator4,_step4,e;return regeneratorRuntime.wrap(function value$(_context){while(1){switch(_context.prev=_context.next){case 0:_iterator4=_createForOfIteratorHelper(this._errors);_context.prev=1;_iterator4.s();case 3:if((_step4=_iterator4.n()).done){_context.next=9;break;}e=_step4.value;_context.next=7;return e;case 7:_context.next=3;break;case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);_iterator4.e(_context.t0);case 14:_context.prev=14;_iterator4.f();return _context.finish(14);case 17:case"end":return _context.stop();}}},value,this,[[1,11,14,17]]);})}]);return BR;}(/*#__PURE__*/_wrapNativeSuper(Error),Symbol.iterator);MR.exports=BR;});var pu=tt(function(XC,zR){"use strict";var bZ=LR();zR.exports=function(o,s){for(var _len3=arguments.length,n=new Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++){n[_key3-2]=arguments[_key3];}return ie(XC,[o,s].concat(n),/*#__PURE__*/regeneratorRuntime.mark(function _callee2(r,e){var _ref4,_ref4$concurrency,t,_ref4$stopOnError,i,_args3=arguments;return regeneratorRuntime.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref4=_args3.length>2&&_args3[2]!==undefined?_args3[2]:{},_ref4$concurrency=_ref4.concurrency,t=_ref4$concurrency===void 0?1/0:_ref4$concurrency,_ref4$stopOnError=_ref4.stopOnError,i=_ref4$stopOnError===void 0?!0:_ref4$stopOnError;return _context3.abrupt("return",new Promise(function(a,l){if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(t)||t===1/0)&&t>=1))throw new TypeError("Expected `concurrency` to be an integer from 1 and up or `Infinity`, got `".concat(t,"` (").concat(_typeof(t),")"));var c=[],u=[],p=r[Symbol.iterator](),m=!1,h=!1,g=0,v=0,S=function S(){if(m)return;var _=p.next(),I=v;if(v++,_.done){h=!0,g===0&&(!i&&u.length!==0?l(new bZ(u)):a(c));return;}g++,function(){return ie(XC,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var E;return regeneratorRuntime.wrap(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _.value;case 3:E=_context2.sent;_context2.next=6;return e(E,I);case 6:c[I]=_context2.sent;g--;S();_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](0);i?(m=!0,l(_context2.t0)):(u.push(_context2.t0),g--,S());case 14:case"end":return _context2.stop();}}},_callee,null,[[0,11]]);}));}();};for(var _=0;_<t&&(S(),!h);_++){;}}));case 2:case"end":return _context3.stop();}}},_callee2);}));};});var UR,_Z,_Rp,YC=d(function(){UR=y(pu());H();Op();_Z={italic:"i"},_Rp=/*#__PURE__*/function(){function Rp(e){var _this8=this;_classCallCheck(this,Rp);this.assetManager=e;this.injectedFonts={};this.loadedFonts={};this.isFontLoaded=function(e){return _this8.loadedFonts[e]!==void 0;};this.getGoogleFamiliesString=function(e){var t=e.reduce(function(i,o){var s=o.fontFamily,n=o.fontStyle,_o$fontWeight=o.fontWeight,a=_o$fontWeight===void 0?400:_o$fontWeight;return i[s]=(i[s]||[]).concat("".concat(a).concat(_Z[n]||"")),i;},{});return Object.keys(t).map(function(i){var o=t[i].length?":".concat(t[i].join(",")):"";return i.replace(" ","+")+o;}).join("|");};}_createClass(Rp,[{key:"getFontWithId",value:function getFontWithId(e){var t=this.assetManager.getFontAsset(e);if(!t)throw new Error("The requested font does not exist as an asset.");return t;}},{key:"injectAllFonts",value:function injectAllFonts(){var e=this.assetManager.getFontAssets();this.injectFonts(e);}},{key:"loadAllFonts",value:function loadAllFonts(){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e=this.assetManager.getFontAssets();return _context4.abrupt("return",this.loadFonts(e));case 2:case"end":return _context4.stop();}}},_callee3,this);}));}},{key:"loadFontsWithIdentifiers",value:function loadFontsWithIdentifiers(e){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee4(){var _this9=this;var t;return regeneratorRuntime.wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:t=e.map(function(i){return _this9.getFontWithId(i);});return _context5.abrupt("return",this.loadFonts(t));case 2:case"end":return _context5.stop();}}},_callee4,this);}));}},{key:"loadFonts",value:function loadFonts(e){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var _this10=this;return regeneratorRuntime.wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",(this.injectFonts(e),(0,UR["default"])(e,function(t){return _this10.loadFont(t,!1);},{stopOnError:!1}).then(function(){})));case 1:case"end":return _context6.stop();}}},_callee5,this);}));}},{key:"loadFont",value:function loadFont(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var _this11=this;return regeneratorRuntime.wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",new Promise(function(i,o){_this11.isFontLoaded(e.identifier)&&i(),t&&_this11.injectFonts([e]),new Va(e).load().then(function(){_this11.loadedFonts[e.identifier]=e,i();})["catch"](function(n){o(e.identifier);});}));case 1:case"end":return _context7.stop();}}},_callee6);}));}},{key:"loadFontWithIdentifier",value:function loadFontWithIdentifier(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee7(){var i;return regeneratorRuntime.wrap(function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:i=this.assetManager.getFontAsset(e);if(i){_context8.next=3;break;}throw new Error("The requested font asset with identifier ".concat(e," does not exist!"));case 3:return _context8.abrupt("return",this.loadFont(i,t));case 4:case"end":return _context8.stop();}}},_callee7,this);}));}},{key:"injectFonts",value:function injectFonts(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.assetManager.getPathForCategory("font");var i=e.filter(LC),o=e.filter(MC);i.length>0&&this.addGoogleFontLinks(i),o.length>0&&this.addWebFontCSS(o,t);}},{key:"addGoogleFontLinks",value:function addGoogleFontLinks(e){var _this12=this;var t=e.filter(function(n){return!_this12.injectedFonts[n.identifier];});if(t.length===0)return;var i=this.getGoogleFamiliesString(t),o=document.createElement("link");o.rel="stylesheet",o.href="https://fonts.googleapis.com/css?family=".concat(i),document.getElementsByTagName("head")[0].appendChild(o),e.forEach(function(n){_this12.injectedFonts[n.identifier]=n;});}},{key:"addWebFontCSS",value:function addWebFontCSS(e,t){var _this13=this;var i=e.filter(function(a){return!_this13.injectedFonts[a.identifier];});if(i.length===0)return;var s="\n      /* Injected by PhotoEditorSDK */\n      ".concat(_Rp.createFontFacesCSS(i,t).join("\n"),"\n    "),n=document.createElement("style");n.innerHTML=s,document.head.appendChild(n),e.forEach(function(a){_this13.injectedFonts[a.identifier]=a;});}}],[{key:"createFontFacesCSS",value:function createFontFacesCSS(e,t){return e.map(function(i){var o=t(i.fontURI);return"@font-face {\n        font-family: \"".concat(i.fontFamily,"\";\n        src: url('").concat(o,"') format('").concat(i.format||"woff","');\n        font-weight: ").concat(i.fontWeight||"normal",";\n        font-style: ").concat(i.fontStyle||"normal",";\n      }");});}}]);return Rp;}();});var Ap,NR=d(function(){H();$O();qO();KO();XO();ZO();QO();eR();tR();rR();sR();nR();kC();TC();Op();YC();Ap=/*#__PURE__*/function(){function Ap(e){var _this14=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,Ap);this.assetResolver=i;this.basePath="assets/";this.areCustomAssetsAllowed=!1;this.getAssets=function(e){switch(e){case"overlay":return _this14.overlayAssets;case"filter":return _this14.filterCategories;case"font":return _this14.fontAssets;case"focus":return _this14.focusAssets;case"adjustment":return _this14.adjustmentCategories;case"sticker":return _this14.stickerCategories;case"textdesign":return _this14.textDesignAssets;case"frame":return _this14.frameAssets;case"transform":return _this14.transformCategories;}return[];};this.getPath=function(e,t){var _this14$assetResolver=_this14.assetResolver,i=_this14$assetResolver===void 0?{}:_this14$assetResolver,o=t&&i.item?i.item(t,e):t;if((o==null?void 0:o.match(/data:image/g))||(o==null?void 0:o.match(/(ftp|http|https):\/\//))&&Ts(o))return o;if(!o&&Ts(e))return e;var s=o?Ip(e,o):Ip(e),n;if(_this14.basePath.match(/(ftp|http|https):\/\//)){var _a2=_this14.basePath.length;_this14.basePath[_a2-1]!=="/"&&(_this14.basePath="".concat(_this14.basePath,"/")),n=_this14.basePath+s;}else n=Ip(_this14.basePath,s);return i.path?i.path(n,e,o):n;};this.getPathForCategory=function(e){return function(){for(var _len4=arguments.length,t=new Array(_len4),_key4=0;_key4<_len4;_key4++){t[_key4]=arguments[_key4];}return _this14.getPath.apply(_this14,[e].concat(t));};};this.addCustomStickerAsset=function(e,t,i){e.forEach(function(o){var s=o.thumbnailURI,n=o.name,a=o.stickerURI,l=o.identifier,c=o.tintMode,u=o.resizeMode,p=_this14.stickerCategories.find(function(h){return h.identifier===t;}),m={identifier:l,name:n,thumbnailURI:s,stickerURI:a,tintMode:c,resizeMode:u};if(p)p.items.push(m),p.thumbnailURI=s;else{var h={identifier:t,name:i,thumbnailURI:s,items:[m]};_this14.stickerCategories=[h].concat(_toConsumableArray(_this14.stickerCategories));}}),_this14.stickerAssets=_this14.stickerCategories.reduce(_this14.allOptions,[]);};this.getItemPath=function(e,t,i){var o=e.find(function(s){return s.identifier===t;});return o&&(o[i]||o.path)||"";};this.isNonExistingFont=function(e){return!Tb.find(function(t){return t.identifier===e.identifier;})&&!Tn[e.identifier];};this.replaceDeprecatedFont=function(e){return Tn[e.identifier]?Tb.find(function(t){return t.identifier===Ga(e.identifier,!0);}):e;};var p,m;(e==null?void 0:e.basePath)&&(this.basePath=e.basePath),this.areCustomAssetsAllowed=t;var o=kb.reduce(this.allOptions,[]);e&&e.filter?this.filterCategories=this.configuredCategory(kb,e.filter,o):this.filterCategories=kb,this.lutFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter(function(h){return OC(h);}),this.duoToneFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter(function(h){return mu(h);});var s=wb.reduce(this.allOptions,[]);e&&e.adjustment?this.adjustmentCategories=this.configuredCategory(wb,e.adjustment,s):this.adjustmentCategories=wb,this.fontAssets=Tb.reduce(this.allOptions,[]);var n=YO.map(function(h){return _this14.getFontAsset(h);});if(((m=(p=e==null?void 0:e.text)==null?void 0:p.fonts)==null?void 0:m.length)>0){n=e.text.fonts.map(function(g){if(_this14.isNonExistingFont(g))return g;var v=_this14.replaceDeprecatedFont(g);return _this14.getFontAsset(v.identifier);});var h=e.text.fonts.filter(this.isNonExistingFont);this.fontAssets=e.text.fonts?[].concat(_toConsumableArray(this.fontAssets),_toConsumableArray(h)):this.fontAssets;}this.textToolFontAssets=n;var a=e&&e.focus&&e.focus.items&&e.focus.items.length?e.focus.items.map(function(h){return zC.find(function(g){return g.identifier===h.identifier;});}):zC;this.focusAssets=a,e&&e.overlay&&e.overlay.items?this.overlayAssets=this.configuredItem(e.overlay.items,Eb,Eb):this.overlayAssets=Eb,e&&e.frame&&e.frame.items?this.frameAssets=this.configuredItem(e.frame.items,Db,Db):this.frameAssets=Db;var l=Ib.reduce(this.allOptions,[]);e&&e.sticker?this.stickerCategories=this.configuredCategory(Ib,e.sticker,l):this.stickerCategories=Ib,this.stickerAssets=this.stickerCategories.reduce(this.allOptions,[]);var c=iR;e&&e.theme==="light"&&(c=oR),this.textDesignAssets=e&&e.textdesign&&e.textdesign.items&&e.textdesign.items.length?e.textdesign.items.map(function(h){return c.find(function(g){return g.identifier===h.identifier;});}):c,this.textDesignToolFontAssets=JO.map(function(h){return _this14.getFontAsset(h);});var u=Fb.reduce(this.allOptions,[]);e&&e.transform?this.transformCategories=this.configuredCategory(Fb,e.transform,u,C.TRANSFORM):this.transformCategories=Fb,this.transformAssets=this.transformCategories.reduce(this.allOptions,[]),this.fontManager=new _Rp(this);}_createClass(Ap,[{key:"getFontManager",value:function getFontManager(){return this.fontManager;}},{key:"getAssetSource",value:function getAssetSource(e,t){switch(e){case"filter":if(this.getLUTFilterAsset(t))return this.getPath(e,this.getItemPath(this.lutFilterAssets,t,"lutURI"));break;case"overlay":return this.getPath(e,this.getItemPath(this.overlayAssets,t,"overlayURI"));case"font":return this.getPath(e,this.getItemPath(this.fontAssets,t,"fontURI"));case"sticker":var o=this.stickerAssets.find(function(s){return s.identifier===t;});if(o){if(o.stickerURI.substr(0,10)==="data:image")return o.stickerURI;if(t.includes("imgly_sticker")&&o.stickerURI.includes(".svg")&&Gt()){var n=this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI")).split("/");return n.splice(n.length-1,0,"base"),n[n.length-1]=n[n.length-1].replace(".svg",".png"),n.join("/");}return this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI"));}throw new Error("Cannot resolve this type of sticker asset yet");case"textdesign":return this.getPath(Ip(e,"engine"),t);case"frame":return this.getPath(e,t);}throw new Error("Cannot resolve this type of asset yet");}},{key:"getDuotoneFilterAsset",value:function getDuotoneFilterAsset(e){return this.duoToneFilterAssets.filter(function(t){return t.identifier===e;})[0];}},{key:"getLUTFilterAsset",value:function getLUTFilterAsset(e){return this.lutFilterAssets.filter(function(t){return t.identifier===e;})[0];}},{key:"getOverlayAsset",value:function getOverlayAsset(e){return this.overlayAssets.filter(function(t){return t.identifier===e;})[0];}},{key:"getStickerAsset",value:function getStickerAsset(e){return this.stickerAssets.filter(function(t){return t.identifier===e;})[0];}},{key:"getFontAsset",value:function getFontAsset(e){return this.fontAssets.filter(function(t){return t.identifier===e;})[0];}},{key:"getTextDesignAssets",value:function getTextDesignAssets(e){return this.textDesignAssets.filter(function(t){return t.identifier===e;})[0];}},{key:"getFrameAsset",value:function getFrameAsset(e){return this.frameAssets.filter(function(t){return t.identifier===e;})[0];}},{key:"getFontAssets",value:function getFontAssets(){return this.fontAssets;}},{key:"getFontAssetsForText",value:function getFontAssetsForText(){return this.textToolFontAssets;}},{key:"getFontAssetsForTextDesign",value:function getFontAssetsForTextDesign(){return this.textDesignToolFontAssets;}},{key:"getFrameAssets",value:function getFrameAssets(){return this.frameAssets;}},{key:"allOptions",value:function allOptions(e,t){return Object.prototype.hasOwnProperty.call(t,"items")?[].concat(_toConsumableArray(e),_toConsumableArray(t.items)):[].concat(_toConsumableArray(e),[t]);}},{key:"configuredCategory",value:function configuredCategory(e,t,i,o){var _this15=this;return t.categories&&t.categories.length?t.categories.reduce(function(s,n){var a=e.find(function(l){return l.identifier===n.identifier;});return a?s.push(L(w(w({},a),n),{items:_this15.configuredItem(n.items,i,a.items,o).filter(Boolean)})):(_this15.areCustomAssetsAllowed||o===C.TRANSFORM)&&s.push(L(w({},n),{items:_this15.configuredItem(n.items,i,n.items,o).filter(Boolean)})),s;},[]):e;}},{key:"configuredItem",value:function configuredItem(e,t,i,o){var _this16=this;return e&&e.length?e.reduce(function(s,n){var a=t.find(function(l){return l.identifier===n.identifier;});return a?s.push(w(w({},a),n)):(_this16.areCustomAssetsAllowed||o===C.TRANSFORM)&&s.push(n),s;},[]).filter(Boolean):i;}}]);return Ap;}();});var JC,si,HR=d(function(){JC=/*#__PURE__*/function(){function JC(e,t,i,o){_classCallCheck(this,JC);if(typeof e=="number"){if(typeof t=="number"&&i!==void 0&&o!==void 0)this.origin={x:e,y:t},this.size={width:i||0,height:o||0};else throw new Error("Invalid arguments passed to Rect. Expected (number, number, number, number)");}else{if(this.origin=e,typeof t=="number")throw new Error("Invalid arguments passed to Rect. Expected (Float2, Size)");this.size=t;}}_createClass(JC,[{key:"minX",get:function get(){return this.origin.x;}},{key:"minY",get:function get(){return this.origin.y;}},{key:"midX",get:function get(){return this.origin.x+.5*this.size.width;}},{key:"midY",get:function get(){return this.origin.y+.5*this.size.height;}},{key:"maxX",get:function get(){return this.origin.x+this.size.width;}},{key:"maxY",get:function get(){return this.origin.y+this.size.height;}},{key:"width",get:function get(){return this.size.width;}},{key:"height",get:function get(){return this.size.height;}}],[{key:"contains",value:function contains(e,t){return t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY;}}]);return JC;}(),si=JC;si.ZERO=new JC({x:0,y:0},{width:0,height:0});});var _En,Me,WR=d(function(){_En=/*#__PURE__*/function(){function En(e,t,i,o,s,n){_classCallCheck(this,En);this.a=e;this.b=t;this.c=i;this.d=o;this.tx=s;this.ty=n;}_createClass(En,null,[{key:"fromScale",value:function fromScale(e,t){return new _En(e,0,0,t,0,0);}},{key:"fromRotation",value:function fromRotation(e){var t=Math.cos(e),i=Math.sin(e);return new _En(t,-i,i,t,0,0);}},{key:"fromRotationDeg",value:function fromRotationDeg(e){var t=Math.PI*e/180;return this.fromRotation(t);}},{key:"fromTranslation",value:function fromTranslation(e,t){return new _En(1,0,0,1,e,t);}},{key:"fromTRS",value:function fromTRS(e,t,i,o,s){var n=Math.cos(i),a=Math.sin(i);return new _En(o*n,-s*a,o*a,s*n,e,t);}},{key:"multiply",value:function multiply(e,t){var i=e.a*t.a+e.b*t.c,o=e.a*t.b+e.b*t.d,s=e.c*t.a+e.d*t.c,n=e.c*t.b+e.d*t.d,a=e.a*t.tx+e.b*t.ty+e.tx,l=e.c*t.tx+e.d*t.ty+e.ty;return new _En(i,o,s,n,a,l);}},{key:"transformPoint",value:function transformPoint(e,t){return{x:e.a*t.x+e.b*t.y+e.tx,y:e.c*t.x+e.d*t.y+e.ty};}},{key:"getInverted",value:function getInverted(e){var t=e.a*e.d-e.b*e.c;if(t===0)return e;var i=1/t,o=i*e.d,s=-i*e.b,n=-i*e.c,a=i*e.a,l=i*(e.b*e.ty-e.d*e.tx),c=i*(e.c*e.tx-e.a*e.ty);return new _En(o,s,n,a,l,c);}}]);return En;}(),Me=_En;Me.IDENTITY=_En.fromScale(1,1);});function _o(r){return typeof r=="number";}var ZC,QC,eS=d(function(){ZC=function ZC(r){return r<0;},QC=function QC(r){return ZC(r)?-r:r;};});var lc,Bb,yr,Mb,GR,Pp,tS,iS,rS,VR,jR=d(function(){var _Mb;eS();Op();lc=function lc(r){return r*(Math.PI/180);},Bb=function Bb(r){return r*(180/Math.PI);};(function(o){o[o.Top=0]="Top",o[o.Right=90]="Right",o[o.Bottom=180]="Bottom",o[o.Left=270]="Left";})(yr||(yr={}));Mb=(_Mb={},_defineProperty(_Mb,0,lc(0)),_defineProperty(_Mb,90,lc(90)),_defineProperty(_Mb,180,lc(180)),_defineProperty(_Mb,270,lc(270)),_Mb),GR=Object.values(Mb),Pp=function Pp(r){var e=Math.round(Bb(QC(r)));return ZC(r)&&(e===270?e=90:e===90&&(e=270)),Mb[e%360];},tS=function tS(r){return r===0?r:360-QC(r);},iS=function iS(r){return wR(GR,Pp(r));},rS=function rS(r){return kR(GR,Pp(r));},VR=function VR(r){var e=Pp(r);return e===Mb[270]||e===Mb[90];};});var $R=d(function(){jC();HR();WR();eS();jR();});var _ft,qR=d(function(){_ft=/*#__PURE__*/function(){function ft(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{x:1,y:1};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,ft);this.position=e,this.scale=t,this.rotation=i;}_createClass(ft,null,[{key:"IDENTITY",get:function get(){return new _ft({x:0,y:0});}}]);return ft;}();});var $=d(function(){lF();kC();hF();TC();DC();NR();YC();$R();qR();Op();});var ja,KR,XR,yZ,oS,YR=d(function(){ja=y(x("react"));vC();KR=y(rb()),XR=y(x("styled-components"));wC();$();yZ=XR["default"].div(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    /* css reset for a global box-sizing: border-box */\n    box-sizing: content-box;\n\n    scrollbar-width: thin;\n    scrollbar-color: "," transparent;\n\n    &::-webkit-scrollbar-track {\n      border-radius: 10px;\n      background-color: transparent;\n      margin: 1px;\n    }\n\n    &::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n      background-color: transparent;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n      box-shadow: inset 0 0 14px rgba(0, 0, 0, 0.4);\n      background-color: ",";\n    }\n\n    &::-webkit-scrollbar-thumb:hover {\n      background-color: ",";\n    }\n  }\n\n  /* This will be applied first in some cases and should be treated as such */\n  h1,\n  h2,\n  h3,\n  input,\n  textarea,\n  label,\n  span,\n  div,\n  p {\n    line-height: normal;\n  }\n"])),function(r){return r.theme.background;},function(r){return r.theme.foreground;},function(r){return r.theme.typography.fontFamily;},function(r){return r.theme.scrollbar.handleColor;},function(r){return r.theme.scrollbar.handleColor;},function(r){return r.theme.scrollbar.handleColor;}),oS=/*#__PURE__*/function(_ja$default$Component){_inherits(oS,_ja$default$Component);var _super4=_createSuper(oS);function oS(e){var _this17;_classCallCheck(this,oS);_this17=_super4.call(this,e);_this17.node=ja["default"].createRef();_this17.saveEditorDimensions=function(e){_this17.setState({contextValue:{element:e,rect:e.getBoundingClientRect()}});};var t;if((t=ja["default"])==null?void 0:t.version){var i=Number.parseInt(ja["default"].version.split(".")[0],10),o=Number.parseInt(ja["default"].version.split(".")[1],10);(i<16||i===16&&o<8)&&console.error("Please be aware that the PhotoEditorSDK will require React 16.8.6 or above.");}_this17.saveEditorDimensions=(0,KR["default"])(_this17.saveEditorDimensions,100),_this17.resizeObserver=new wp(function(_ref5){var _ref6=_slicedToArray(_ref5,1),i=_ref6[0];_this17.saveEditorDimensions(i.target);}),_this17.state={contextValue:{element:null,rect:null}};return _this17;}_createClass(oS,[{key:"componentDidMount",value:function componentDidMount(){var e;((e=this.node)==null?void 0:e.current)&&this.resizeObserver.observe(this.node.current);}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e;((e=this.node)==null?void 0:e.current)&&this.resizeObserver.unobserve(this.node.current);}},{key:"render",value:function render(){var e=this.props.children,t=this.state.contextValue;return ja["default"].createElement(yZ,{ref:this.node,"data-test":j.EditorContainer},ja["default"].createElement(ob.Provider,{value:t},e));}}]);return oS;}(ja["default"].Component);});var Lb,Bp,xZ,zb,Mp=d(function(){Lb=y(x("styled-components")),Bp=Lb.css(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  border-radius: ",";\n  pointer-events: none;\n"])),function(r){return r.theme.measurements.colorItem.size;},function(r){return r.theme.measurements.colorItem.size;},function(r){return r.theme.colorItem.borderRadius||"".concat(r.theme.shape.radiusSmall,"px");}),xZ=Lb["default"].div.attrs(function(r){return{style:{background:r.color}};})(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["\n  ","\n  z-index: ",";\n"])),Bp,function(r){return r.theme.measurements.zIndex.colorItem.background;}),zb=xZ;});var cc,Lp,vZ,sS,CZ,Ub,nS=d(function(){cc=y(x("react")),Lp=y(x("styled-components"));Mp();vZ=Lp["default"].div(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n\n  box-sizing: border-box;\n  border: 2px solid transparent;\n  border-radius: ",";\n  transition: border-color 300ms ease-in-out;\n  ","\n"])),Bp,function(r){return r.theme.measurements.zIndex.colorItem.overlay;},function(r){return r.theme.colorItem.borderRadius||"".concat(r.theme.shape.radiusSmall,"px");},function(r){return r.isActive&&Lp.css(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n      border-color: ",";\n    "])),r.theme.selectColor.activeBorderColor);}),sS=Lp["default"].span(_templateObject9||(_templateObject9=_taggedTemplateLiteral(["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"]))),CZ=function CZ(_ref7){var r=_ref7.isActive,e=_ref7.className,t=_ref7.style;return cc["default"].createElement(vZ,{isActive:r,className:e,style:t},r&&cc["default"].createElement(cc["default"].Fragment,null,cc["default"].createElement(sS,null),cc["default"].createElement(sS,null),cc["default"].createElement(sS,null)));},Ub=CZ;});var JR,wi,ZR=d(function(){JR=y(x("styled-components")),wi=JR.css(_templateObject10||(_templateObject10=_taggedTemplateLiteral(["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"])),function(r){return r.theme.focusOutlineColor;},function(r){return r.theme.focusOutlineColor;});});var QR,hu,eA=d(function(){QR=y(x("styled-components")),hu=QR.css(_templateObject11||(_templateObject11=_taggedTemplateLiteral(["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"])));});var yo=d(function(){ZR();eA();});var tA,SZ,Nb,aS=d(function(){tA=y(x("styled-components"));yo();SZ=tA["default"].button.attrs({type:"button"})(_templateObject12||(_templateObject12=_taggedTemplateLiteral(["\n  &&& {\n    box-sizing: border-box;\n  }\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: ",";\n  padding: 0;\n  cursor: pointer;\n  border-radius: ",";\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  ","\n\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"])),function(r){return r.theme.measurements.colorItem.size;},function(r){return r.theme.measurements.colorItem.size;},function(r){return r.theme.colorItem.margin;},function(r){return r.theme.colorItem.borderRadius||"".concat(r.theme.shape.radiusSmall,"px");},wi,function(r){return r.theme.selectColor.inactiveOpacity;}),Nb=SZ;});var iA,wZ,Hb,lS=d(function(){iA=y(x("styled-components"));Mp();wZ=iA["default"].div.attrs(function(r){var e=r.url?{backgroundImage:"url(".concat(r.url,")")}:{};return w({style:e},r.style);})(_templateObject13||(_templateObject13=_taggedTemplateLiteral(["\n  ","\n  z-index: ",";\n"])),Bp,function(r){return r.theme.measurements.zIndex.colorItem.tiledBackground;}),Hb=wZ;});var zp,kZ,rA,oA=d(function(){zp=y(x("react"));U();nS();Mp();aS();lS();kZ=function kZ(_ref8){var r=_ref8.isActive,e=_ref8.onClick,t=_ref8.color,i=_ref8.label,o=_ref8.isDisabled,s=_ref8.tiledBackgroundUrl,n=_ref8.className,a=_ref8.style,l=_ref8.children;return zp["default"].createElement(Nb,{disabled:o,onClick:e,"aria-label":i,className:n,style:a},zp["default"].createElement(Hb,{url:s}),zp["default"].createElement(zb,{color:t}),zp["default"].createElement(Ub,{isActive:r}),l);},rA=ne("config")(D(kZ));});var sA,TZ,Wb,cS=d(function(){sA=y(x("styled-components")),TZ=sA["default"].div(_templateObject14||(_templateObject14=_taggedTemplateLiteral(["\n  display: block;\n  opacity: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  height: 100%;\n  width: 100%;\n"])),function(r){return r.theme.measurements.zIndex.dialog.backdrop;},function(r){return r.theme.modal.backdrop;}),Wb=TZ;});var nA,Gb,DZ,Vb,dS=d(function(){nA=y(x("react")),Gb=y(x("styled-components")),DZ=Gb["default"].div(_templateObject15||(_templateObject15=_taggedTemplateLiteral(["\n  display: none;\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n  transition: opacity 100s ease-in-out;\n\n  ",";\n"])),function(r){return r.theme.measurements.zIndex.dialog.base;},function(r){return r.isVisible&&Gb.css(_templateObject16||(_templateObject16=_taggedTemplateLiteral(["\n      opacity: 1;\n      display: block;\n      visibility: visible;\n    "])));}),Vb=function Vb(_ref9){var r=_ref9.isVisible,e=_ref9.className,t=_ref9.children;return nA["default"].createElement(DZ,{isVisible:r,className:e},t);};});var aA,EZ,jb,uS=d(function(){aA=y(x("styled-components")),EZ=aA["default"].div.attrs(function(_ref10){var r=_ref10.style;return{role:"dialog","aria-hidden":!1,style:r};})(_templateObject17||(_templateObject17=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: calc(50% + ","px);\n  left: calc(50% + ","px);\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n  z-index: ",";\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    text-align: center;\n    width: auto;\n    min-width: 200px;\n    height: auto;\n    top: 50%;\n    left: 50%;\n  }\n"])),function(r){return r.top;},function(r){return r.left;},function(r){return r.width;},function(r){return r.height;},function(r){return r.theme.shape.radiusLarge;},function(r){return r.theme.modal.background;},function(r){return r.theme.modal.bodyForeground;},function(r){return r.theme.measurements.zIndex.dialog.container;}),jb=EZ;});var $b,IZ,lA,cA=d(function(){$b=y(x("react"));$();cS();dS();uS();IZ=function IZ(_ref11){var _ref11$isVisible=_ref11.isVisible,r=_ref11$isVisible===void 0?!1:_ref11$isVisible,_ref11$width=_ref11.width,e=_ref11$width===void 0?"350px":_ref11$width,_ref11$height=_ref11.height,t=_ref11$height===void 0?"fit-content":_ref11$height,i=_ref11.position,o=_ref11.header,s=_ref11.body,n=_ref11.footer,a=_ref11.className,l=_ref11.style,c=_ref11.children;return $b["default"].createElement(Vb,{isVisible:r},$b["default"].createElement(Wb,null),$b["default"].createElement(jb,{height:t,width:e,left:i.x,top:i.y,className:a,style:l,"data-test":j.Dialog},o,s,c,n));},lA=IZ;});var dA,FZ,In,Up=d(function(){dA=y(x("styled-components")),FZ=dA["default"].div(_templateObject18||(_templateObject18=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-sizing: border-box;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 0px 20px 11px;\n  &:first-child {\n    padding-top: 11px;\n  }\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    align-items: center;\n  }\n"])),function(r){return r.theme.measurements.fontSystem.body.size;},function(r){return r.theme.measurements.fontSystem.body.letterSpacing;},function(r){return r.theme.measurements.fontSystem.body["case"];},function(r){return r.theme.modal.bodyForeground;}),In=FZ;});var uA,OZ,fu,qb=d(function(){uA=y(x("styled-components")),OZ=uA["default"].div(_templateObject19||(_templateObject19=_taggedTemplateLiteral(["\n  display: flex;\n  border-top: 2px solid\n    ",";\n\n  min-height: 40px;\n  justify-content: flex-end;\n  @media all and (min-width: 0) and (max-width: 640px) {\n    height: auto;\n    flex-direction: column;\n    justify-content: space-around;\n  }\n"])),function(r){return r.type==="error"?r.theme.error:r.theme.warning;}),fu=OZ;});var mA,RZ,gu,Kb=d(function(){mA=y(x("styled-components")),RZ=mA["default"].h3(_templateObject20||(_templateObject20=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 11px 20px 0px;\n"])),function(r){return r.theme.measurements.fontSystem.headline2.size;},function(r){return r.theme.measurements.fontSystem.headline2.letterSpacing;},function(r){return r.theme.measurements.fontSystem.headline2["case"];},function(r){return r.theme.modal.headerForeground;}),gu=RZ;});var bu,Np,AZ,PZ,Xb,BZ,Yb,mS=d(function(){bu=y(x("react")),Np=y(x("styled-components")),AZ=Np.keyframes(_templateObject21||(_templateObject21=_taggedTemplateLiteral(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),PZ=Np["default"].div(_templateObject22||(_templateObject22=_taggedTemplateLiteral(["\n  display: inline-block;\n  position: relative;\n  width: 45px;\n  height: 45px;\n"]))),Xb=Np["default"].div(_templateObject23||(_templateObject23=_taggedTemplateLiteral(["\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  margin: 2.5px;\n  border: 2.5px solid ",";\n  border-radius: 50%;\n  animation: "," 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: "," transparent transparent\n    transparent;\n\n  :nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  :nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  :nth-child(3) {\n    animation-delay: -0.15s;\n  }\n"])),function(r){return r.theme.primary;},AZ,function(r){return r.theme.primary;}),BZ=function BZ(_ref12){var r=_ref12.className,e=_ref12.style;return bu["default"].createElement(PZ,{className:r,style:e},bu["default"].createElement(Xb,null),bu["default"].createElement(Xb,null),bu["default"].createElement(Xb,null),bu["default"].createElement(Xb,null));},Yb=BZ;});function MZ(r){var e="",t=!0,i;for(i=0;i<r.length;i+=1){t?(e+=r[i].toUpperCase(),t=!1):r[i]==="-"?t=!0:e+=r[i];}return e;}function hS(r,e){return e?"".concat(e).concat(MZ(r)):r;}function LZ(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"transform";if(typeof window=="undefined"||typeof window.document=="undefined")return"";var e=window.document.documentElement.style;if(r in e)return"";var t;for(t=0;t<pS.length;t+=1){if(hS(r,pS[t])in e)return pS[t];}return"";}var pS,pA,hA=d(function(){pS=["Moz","Webkit","O","ms"];pA=LZ();});function Jb(r,e){for(var t=0,i=r.length;t<i;t+=1){if(e.apply(e,[r[t],t,r]))return r[t];}return null;}function fS(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Function]";}function _u(r){return typeof r=="number"&&!Number.isNaN(r);}function ki(r){return parseInt(r,10);}var gS=d(function(){});function zZ(r,e){return Zb||(Zb=Jb(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return fS(r[t]);})),fS(r[Zb])?r[Zb](e):!1;}function bS(r,e,t){var i=r;do{if(zZ(i,e))return!0;if(i===t)return!1;i=i.parentNode;}while(i);return!1;}function Qb(r,e,t){!r||(r.attachEvent?r.attachEvent("on".concat(e),t):r.addEventListener?r.addEventListener(e,t,!0):r["on".concat(e)]=t);}function $a(r,e,t){!r||(r.detachEvent?r.detachEvent("on".concat(e),t):r.removeEventListener?r.removeEventListener(e,t,!0):r["on".concat(e)]=null);}function fA(r){var e=r.clientHeight,t=r.ownerDocument.defaultView.getComputedStyle(r);return e+=ki(t.borderTopWidth),e+=ki(t.borderBottomWidth),e;}function gA(r){var e=r.clientWidth,t=r.ownerDocument.defaultView.getComputedStyle(r);return e+=ki(t.borderLeftWidth),e+=ki(t.borderRightWidth),e;}function bA(r){var e=r.clientHeight,t=r.ownerDocument.defaultView.getComputedStyle(r);return e-=ki(t.paddingTop),e-=ki(t.paddingBottom),e;}function _A(r){var e=r.clientWidth,t=r.ownerDocument.defaultView.getComputedStyle(r);return e-=ki(t.paddingLeft),e-=ki(t.paddingRight),e;}function yA(r,e){var i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=r.clientX+e.scrollLeft-i.left,s=r.clientY+e.scrollTop-i.top;return{x:o,y:s};}function xA(_ref13){var r=_ref13.x,e=_ref13.y,t=_ref13.rotation;var i="translate(".concat(r,"px,").concat(e,"px) rotate(").concat(t,"rad)");return _defineProperty({},hS("transform",pA),i);}function vA(r,e){var t=null;return r.targetTouches&&(t=Jb(r.targetTouches,function(i){return e===i.identifier;})),r.changedTouches&&!t&&(t=Jb(r.changedTouches,function(i){return e===i.identifier;})),t;}function CA(r){return r.targetTouches&&r.targetTouches[0]?r.targetTouches[0].identifier:r.changedTouches&&r.changedTouches[0]?r.changedTouches[0].identifier:null;}var Zb,e_=d(function(){hA();gS();Zb="";});function _S(r){var e=r.findDOMNode();return e||null;}function UZ(r){return{left:r.left,top:r.top,right:r.right,bottom:r.bottom};}function SA(r,e,t){if(!r.props.bounds)return[e,t];var i=r.props.bounds;i=typeof i=="string"?i:UZ(i);var o=_S(r);if(!o)return[e,t];if(typeof i=="string"){var s=o.ownerDocument,n=s.defaultView,a;i==="parent"?a=o.parentNode:a=s.querySelector(i);var l=n.getComputedStyle(o),c=n.getComputedStyle(a);i={left:-o.offsetLeft+ki(c.paddingLeft)+ki(l.marginLeft),top:-o.offsetTop+ki(c.paddingTop)+ki(l.marginTop),right:_A(a)-gA(o)-o.offsetLeft+ki(c.paddingRight)-ki(l.marginRight),bottom:bA(a)-fA(o)-o.offsetTop+ki(c.paddingBottom)-ki(l.marginBottom)};}return _u(i.right)&&(e=Math.min(e,i.right)),_u(i.bottom)&&(t=Math.min(t,i.bottom)),_u(i.left)&&(e=Math.max(e,i.left)),_u(i.top)&&(t=Math.max(t,i.top)),[e,t];}function t_(r,e,t){var i=r.state,o=!_u(i.lastX),s=_S(r);return o?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:s,deltaX:e-i.lastX,deltaY:t-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:t};}function i_(r,e){return{node:e.node,x:r.state.x+e.deltaX,y:r.state.y+e.deltaY,deltaX:e.deltaX,deltaY:e.deltaY,lastX:r.state.x,lastY:r.state.y};}function wA(r){return r.props.axis==="both"||r.props.axis==="x";}function kA(r){return r.props.axis==="both"||r.props.axis==="y";}function r_(r,e){var t=_S(e);if(!t)return{x:0,y:0};var i=e.props.offsetParent;return!i&&t instanceof HTMLElement&&(i=t.offsetParent||t.ownerDocument.body),yA(r,i);}var yS=d(function(){e_();gS();});var o_,Fs,Nr,xS,dc,vS=d(function(){o_=y(x("react"));e_();yS();Fs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Nr=Fs.mouse,xS={cancel:null,disabled:!1,offsetParent:null,handle:null,transform:null,onStart:function onStart(){},onDrag:function onDrag(){},onStop:function onStop(){},onMouseDown:function onMouseDown(){}},dc=/*#__PURE__*/function(_o_$default$Component){_inherits(dc,_o_$default$Component);var _super5=_createSuper(dc);function dc(){var _this18;_classCallCheck(this,dc);_this18=_super5.apply(this,arguments);_this18.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:void 0};_this18.findDOMNode=function(){var e=_this18.props.nodeRef;return(e==null?void 0:e.current)||null;};_this18.getTouchFromEvent=function(e){var t=CA(e);return _this18.setState({touchIdentifier:t}),vA(e,t);};_this18.preventDefault=function(e){e.stopPropagation&&e.stopPropagation();};_this18.handleDragStart=function(e){var t=_this18.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var i=t.ownerDocument;if(_this18.props.disabled||!(e.target instanceof Node)||_this18.props.handle&&!bS(e.target,_this18.props.handle,t)||_this18.props.cancel&&bS(e.target,_this18.props.cancel,t))return!1;var o=r_(e,_assertThisInitialized(_this18));if(o==null)return!1;var s=o.x,n=o.y,a=t_(_assertThisInitialized(_this18),s,n);if(_this18.props.onStart(e,a)===!1)return!1;_this18.setState({dragging:!0,lastX:s,lastY:n}),Nr.move==="touchmove"?Qb(i,Nr.move,_this18.onTouchDrag):Qb(i,Nr.move,_this18.onMouseDrag),Qb(i,Nr.stop,_this18.handleDragStop);};_this18.handleDrag=function(e){var t=r_(e,_assertThisInitialized(_this18));if(t==null)return;var i=t.x,o=t.y,s=t_(_assertThisInitialized(_this18),i,o);if(_this18.props.onDrag(e,s)===!1){try{_this18.handleDragStop(new MouseEvent("mouseup"));}catch(a){var l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),_this18.handleDragStop(l);}return;}_this18.setState({lastX:i,lastY:o});};_this18.handleDragStop=function(e){if(!_this18.state.dragging)return;var t=r_(e,_assertThisInitialized(_this18));if(t==null)return;var i=t.x,o=t.y,s=t_(_assertThisInitialized(_this18),i,o),n=_this18.findDOMNode();_this18.setState({dragging:!1,lastX:NaN,lastY:NaN}),_this18.props.onStop(e,s),n&&(Nr.move==="touchmove"?$a(n.ownerDocument,Nr.move,_this18.onTouchDrag):$a(n.ownerDocument,Nr.move,_this18.onMouseDrag),$a(n.ownerDocument,Nr.stop,_this18.handleDragStop));};_this18.onMouseDown=function(e){return _this18.preventDefault(e),Nr=Fs.mouse,_this18.props.onMouseDown(e),e.button&&typeof e.button=="number"&&e.button!==0?!1:_this18.handleDragStart(e);};_this18.onMouseDrag=function(e){return _this18.preventDefault(e),_this18.handleDrag(e);};_this18.onMouseUp=function(e){return _this18.preventDefault(e),Nr=Fs.mouse,_this18.handleDragStop(e);};_this18.onTouchStart=function(e){_this18.preventDefault(e),Nr=Fs.touch;var t=_this18.getTouchFromEvent(e);return _this18.handleDragStart(t);};_this18.onTouchDrag=function(e){_this18.preventDefault(e),Nr=Fs.touch;var t=_this18.getTouchFromEvent(e);return _this18.handleDrag(t);};_this18.onTouchEnd=function(e){_this18.preventDefault(e),Nr=Fs.touch;var t=_this18.getTouchFromEvent(e);return _this18.handleDragStop(t);};return _this18;}_createClass(dc,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.findDOMNode();if(e){var t=e.ownerDocument;$a(t,Fs.mouse.move,this.onMouseDrag),$a(t,Fs.touch.move,this.onTouchDrag),$a(t,Fs.mouse.stop,this.handleDragStop),$a(t,Fs.touch.stop,this.handleDragStop);}}},{key:"render",value:function render(){return o_["default"].cloneElement(o_["default"].Children.only(this.props.children),{style:w({touchAction:"none"},this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd});}}]);return dc;}(o_["default"].Component);dc.defaultProps=xS,dc.displayName="DraggableCore";});var Hp,NZ,s_,TA,DA=d(function(){Hp=y(x("react"));vS();e_();yS();NZ=L(w({},xS),{axis:"both",bounds:!1,defaultClassName:"draggable",defaultClassNameDragging:"draggable-dragging",defaultClassNameDragged:"draggable-dragged",defaultPosition:{x:0,y:0},position:null,rotation:0,updateOnPosition:!1}),s_=/*#__PURE__*/function(_Hp$default$Component){_inherits(s_,_Hp$default$Component);var _super6=_createSuper(s_);function s_(e){var _this19;_classCallCheck(this,s_);_this19=_super6.call(this,e);_this19.onDragStart=function(e,t){if(_this19.props.onStart(e,i_(_assertThisInitialized(_this19),t))===!1)return!1;_this19.setState({dragging:!0,dragged:!0});};_this19.onDrag=function(e,t){var _this19$props=_this19.props,i=_this19$props.position,o=_this19$props.defaultPosition,s=_this19$props.onDrag,n=_this19$props.bounds;if(!_this19.state.dragging)return!1;var a=i_(_assertThisInitialized(_this19),t),l=Boolean(i),c={x:l?a.x:o.x,y:l?a.y:o.y,slackX:0,slackY:0};if(n){var p=c.x,m=c.y;c.x+=_this19.state.slackX,c.y+=_this19.state.slackY;var _SA=SA(_assertThisInitialized(_this19),c.x,c.y),_SA2=_slicedToArray(_SA,2),h=_SA2[0],g=_SA2[1];c.x=h,c.y=g,c.slackX=_this19.state.slackX+(p-c.x),c.slackY=_this19.state.slackY+(m-c.y),a.x=c.x,a.y=c.y,a.deltaX=c.x-_this19.state.x,a.deltaY=c.y-_this19.state.y;}if(s(e,a)===!1)return!1;_this19.setState(c);};_this19.onDragStop=function(e,t){if(!_this19.state.dragging||_this19.props.onStop(e,i_(_assertThisInitialized(_this19),t))===!1)return!1;var o={dragging:!1,slackX:0,slackY:0,x:0,y:0};if(Boolean(_this19.props.position)){var _this19$props$positio=_this19.props.position,n=_this19$props$positio.x,a=_this19$props$positio.y;o.x=n,o.y=a;}_this19.setState(o);};_this19.findDOMNode=function(){var e=_this19.props.nodeRef;return(e==null?void 0:e.current)||null;};_this19.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0};return _this19;}_createClass(s_,[{key:"componentDidUpdate",value:function componentDidUpdate(e){Boolean(this.props.position)&&(this.props.updateOnPosition?(e.position&&e.position.x!==this.props.position.x||e.position.y!==this.props.position.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}):(e.position&&this.props.position.x!==this.state.x||this.props.position.y!==this.state.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}));}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({dragging:!1});}},{key:"render",value:function render(){var O=this.props,e=O.position,t=O.defaultPosition,i=O.rotation,o=O.defaultClassName,s=O.defaultClassNameDragging,n=O.defaultClassNameDragged,a=pr(O,["position","defaultPosition","rotation","defaultClassName","defaultClassNameDragging","defaultClassNameDragged"]),_this$state=this.state,l=_this$state.x,c=_this$state.y,u=_this$state.dragging,p=_this$state.dragged,m={},g=!Boolean(e)||u,v=e||t,S={x:wA(this)&&g?l:v.x,y:kA(this)&&g?c:v.y,rotation:i};m=xA(S);var _=Hp["default"].Children.only(this.props.children),I=[_.props.className||"",o,u?s:"",p?n:""].join(" ").trim(),E=Hp["default"].cloneElement(_,{className:I,style:w(w({},_.props.style),m)});return Hp["default"].createElement(dc,L(w({},a),{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),E);}}]);return s_;}(Hp["default"].Component);s_.defaultProps=NZ,s_.displayName="Draggable";TA=s_;});var RA=tt(function(uxe,OA){var EA="Expected a function",IA=0/0,HZ="[object Symbol]",WZ=/^\s+|\s+$/g,GZ=/^[-+]0x[0-9a-f]+$/i,VZ=/^0b[01]+$/i,jZ=/^0o[0-7]+$/i,$Z=parseInt,qZ=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global,KZ=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self,XZ=qZ||KZ||Function("return this")(),YZ=Object.prototype,JZ=YZ.toString,ZZ=Math.max,QZ=Math.min,CS=function CS(){return XZ.Date.now();};function eQ(r,e,t){var i,o,s,n,a,l,c=0,u=!1,p=!1,m=!0;if(typeof r!="function")throw new TypeError(EA);e=FA(e)||0,n_(t)&&(u=!!t.leading,p="maxWait"in t,s=p?ZZ(FA(t.maxWait)||0,e):s,m="trailing"in t?!!t.trailing:m);function h(F){var P=i,ae=o;return i=o=void 0,c=F,n=r.apply(ae,P),n;}function g(F){return c=F,a=setTimeout(_,e),u?h(F):n;}function v(F){var P=F-l,ae=F-c,de=e-P;return p?QZ(de,s-ae):de;}function S(F){var P=F-l,ae=F-c;return l===void 0||P>=e||P<0||p&&ae>=s;}function _(){var F=CS();if(S(F))return I(F);a=setTimeout(_,v(F));}function I(F){return a=void 0,m&&i?h(F):(i=o=void 0,n);}function E(){a!==void 0&&clearTimeout(a),c=0,i=l=o=a=void 0;}function O(){return a===void 0?n:I(CS());}function V(){var F=CS(),P=S(F);if(i=arguments,o=this,l=F,P){if(a===void 0)return g(l);if(p)return a=setTimeout(_,e),h(l);}return a===void 0&&(a=setTimeout(_,e)),n;}return V.cancel=E,V.flush=O,V;}function tQ(r,e,t){var i=!0,o=!0;if(typeof r!="function")throw new TypeError(EA);return n_(t)&&(i="leading"in t?!!t.leading:i,o="trailing"in t?!!t.trailing:o),eQ(r,e,{leading:i,maxWait:e,trailing:o});}function n_(r){var e=_typeof(r);return!!r&&(e=="object"||e=="function");}function iQ(r){return!!r&&_typeof(r)=="object";}function rQ(r){return _typeof(r)=="symbol"||iQ(r)&&JZ.call(r)==HZ;}function FA(r){if(typeof r=="number")return r;if(rQ(r))return IA;if(n_(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=n_(e)?e+"":e;}if(typeof r!="string")return r===0?r:+r;r=r.replace(WZ,"");var t=VZ.test(r);return t||jZ.test(r)?$Z(r.slice(2),t?2:8):GZ.test(r)?IA:+r;}OA.exports=tQ;});var yu,a_,SS,Ji,xu,l_,c_,uc=d(function(){yu=y(x("styled-components"));aC();a_=yu["default"].span(_templateObject24||(_templateObject24=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),SS=(0,yu["default"])(a_)(_templateObject25||(_templateObject25=_taggedTemplateLiteral([""]))),Ji=(0,yu["default"])(a_)(_templateObject26||(_templateObject26=_taggedTemplateLiteral([""]))),xu=(0,yu["default"])(a_)(_templateObject27||(_templateObject27=_taggedTemplateLiteral([""]))),l_={display:"none",left:0,top:0},c_=(0,yu["default"])(a_)(_templateObject28||(_templateObject28=_taggedTemplateLiteral(["\n  display: ",";\n  left: ","px;\n  top: ","px;\n  pointer-events: none;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.12);\n  animation: "," 1.2s;\n  width: 100px;\n  height: 100px;\n  margin-top: -50px;\n  margin-left: -50px;\n  opacity: 0;\n"])),function(_ref15){var r=_ref15.display;return r;},function(_ref16){var r=_ref16.left;return r;},function(_ref17){var r=_ref17.top;return r;},qg);});var vu,d_,qo,oQ,Ai,qa=d(function(){vu=y(x("react")),d_=y(x("styled-components"));yo();uc();qo=d_.css(_templateObject29||(_templateObject29=_taggedTemplateLiteral(["\n  color: ",";\n  border-color: ",";\n\n  svg {\n    color: ",";\n  }\n"])),function(r){return r.theme.button.activeForeground;},function(r){return r.theme.button.activeForeground;},function(r){return r.theme.button.activeForeground;}),oQ=d_["default"].button(_templateObject30||(_templateObject30=_taggedTemplateLiteral(["\n  &&& {\n    box-sizing: border-box;\n  }\n  text-align: center;\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  overflow: hidden;\n  ","\n\n  /* Active */\n\n  &:active {\n    ","\n  }\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n\n  div {\n    font-size: ","px;\n    letter-spacing: ","px;\n  }\n"])),function(r){return r.theme.shape.radiusMedium;},function(r){return r.theme.measurements.fontSystem.button1.size;},function(r){return r.theme.measurements.fontSystem.button1.letterSpacing;},function(r){return r.theme.measurements.fontSystem.button1["case"];},function(r){return r.theme.typography.fontFamily;},wi,qo,function(_ref18){var r=_ref18.isActive;return r&&qo;},Ji,function(r){return r.theme.button.outlinedInactiveOverlayColor;},xu,function(r){return r.theme.button.hoverOverlayColor;},function(r){return r.theme.measurements.fontSystem.button1.size;},function(r){return r.theme.measurements.fontSystem.button1.letterSpacing;}),Ai=/*#__PURE__*/function(_vu$default$Component){_inherits(Ai,_vu$default$Component);var _super7=_createSuper(Ai);function Ai(){var _this20;_classCallCheck(this,Ai);_this20=_super7.apply(this,arguments);_this20.state=l_;_this20.timeout=null;_this20.onClick=function(e){var t=e.currentTarget.getBoundingClientRect(),i=e.pageX-t.left,o=e.pageY-t.top;_this20.state.display==="block"?_this20.setState({display:"none"},function(){_this20.setRippleState(i,o);}):_this20.setRippleState(i,o),_this20.props.onClick(e);};_this20.setRippleState=function(e,t){_this20.setState({left:e,top:t,display:"block"}),_this20.timeout=setTimeout(function(){_this20.setState({display:"none"});},1200);};return _this20;}_createClass(Ai,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timeout);}},{key:"render",value:function render(){var p=this.props,e=p.isActive,t=p.isDisabled,i=p.label,o=p.ariaLabel,s=p.children,n=p.className,a=pr(p,["isActive","isDisabled","label","ariaLabel","children","className"]),_this$state2=this.state,l=_this$state2.left,c=_this$state2.top,u=_this$state2.display;return vu["default"].createElement(oQ,L(w({"data-test":o,className:n,isActive:e,disabled:t,"aria-label":o},a),{onClick:this.onClick}),i,s,vu["default"].createElement(c_,{display:u,left:l,top:c}),vu["default"].createElement(Ji,null),vu["default"].createElement(xu,null));}}]);return Ai;}(vu["default"].Component);Ai.defaultProps={type:"button",isDisabled:!1,isActive:!1};});var AA,Wp,sQ,nQ,Pi,Fn=d(function(){AA=y(x("react")),Wp=y(x("styled-components"));yo();sQ=Wp["default"].label(_templateObject31||(_templateObject31=_taggedTemplateLiteral(["\n  ","\n"])),hu),nQ=Wp["default"].label(_templateObject32||(_templateObject32=_taggedTemplateLiteral(["\n  display: block;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  margin: 0;\n  padding-bottom: 8px;\n\n  ","\n"])),function(r){return r.theme.measurements.fontSystem.label.size;},function(r){return r.theme.measurements.fontSystem.label.letterSpacing;},function(r){return r.theme.measurements.fontSystem.label["case"];},function(r){return r.theme.toolControlBar.inputLabelForeground;},function(_ref19){var r=_ref19.isDisabled;return r&&Wp.css(_templateObject33||(_templateObject33=_taggedTemplateLiteral(["\n      opacity: ",";\n      cursor: default;\n      pointer-events: none;\n    "])),function(e){return e.theme.toolControlBar.inputLabelInactiveOpacity;});}),Pi=function Pi(_ref20){var r=_ref20.label,e=_ref20.htmlFor,t=_ref20.show,i=_ref20.style,o=_ref20.isDisabled,s=_ref20.className;var n=t?nQ:sQ,a=e||(r?r.replace(" ","-"):void 0);return AA["default"].createElement(n,{style:i,isDisabled:o,htmlFor:a,className:s},r);};Pi.defaultProps={show:!0};});var xo,PA,vo,aQ,lQ,BA,cQ,dQ,uQ,mQ,MA,wS,LA,zA=d(function(){xo=y(x("react")),PA=y(RA()),vo=y(x("styled-components"));$();qa();Fn();aQ=vo["default"].div(_templateObject34||(_templateObject34=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),lQ=(0,vo["default"])(Pi)(_templateObject35||(_templateObject35=_taggedTemplateLiteral(["\n  align-self: flex-start;\n"]))),BA=(0,vo["default"])(Ai)(_templateObject36||(_templateObject36=_taggedTemplateLiteral(["\n  color: ",";\n  padding: 1px 7px 2px;\n"])),function(r){return r.theme.button.textSecondaryForeground;}),cQ=vo["default"].div(_templateObject37||(_templateObject37=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"])),function(r){return r.theme.measurements.advancedUIToolControlBar.width-48;}),dQ=vo["default"].article(_templateObject38||(_templateObject38=_taggedTemplateLiteral(["\n  /* 0.6 of width here refers to the width of the container without padding */\n  width: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 7px;\n  display: inline-block;\n  color: ",";\n"])),function(r){return .6*r.theme.measurements.advancedUIToolControlBar.width;},function(r){return r.theme.measurements.fontSystem.body.size;},function(r){return r.theme.measurements.fontSystem.body.letterSpacing;},function(r){return r.theme.measurements.fontSystem.body["case"];},function(r){return r.theme.toolControlBar.inputLabelForeground;}),uQ=vo["default"].div(_templateObject39||(_templateObject39=_taggedTemplateLiteral(["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"])),function(r){return .6*r.theme.measurements.advancedUIToolControlBar.width;}),mQ=vo["default"].span(_templateObject40||(_templateObject40=_taggedTemplateLiteral(["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"])),function(r){return Math.round(r.length*.6*r.theme.measurements.advancedUIToolControlBar.width);},function(r){return r.activeIndex*.6*r.theme.measurements.advancedUIToolControlBar.width;},function(r){return r.theme.typography.fontFamily;}),MA=vo["default"].div(_templateObject41||(_templateObject41=_taggedTemplateLiteral(["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n\n  ","\n"])),function(r){return r.theme.card.foreground;},function(_ref21){var r=_ref21.direction;return r==="left"?vo.css(_templateObject42||(_templateObject42=_taggedTemplateLiteral(["\n          margin-left: 2px;\n          transform: rotate(135deg);\n        "]))):vo.css(_templateObject43||(_templateObject43=_taggedTemplateLiteral(["\n          margin-right: 2px;\n          transform: rotate(-45deg);\n        "])));}),wS=/*#__PURE__*/function(_xo$default$PureCompo){_inherits(wS,_xo$default$PureCompo);var _super8=_createSuper(wS);function wS(e){var _this21;_classCallCheck(this,wS);_this21=_super8.call(this,e);_this21.updateIndex=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=e+(t?-1:1),o=_this21.props.list.length-1;i>o&&(i=0),i<0&&(i=o),_this21.props.onSelect(_this21.props.list[i].identifier);};_this21.getActiveIndex=function(e){var t=_this21.props.list,i=t.findIndex(function(o){return o.identifier===e;});return i!==-1?i:0;};_this21.throttledUpdateIndex=(0,PA["default"])(_this21.updateIndex,600);return _this21;}_createClass(wS,[{key:"render",value:function render(){var _this22=this;var _this$props=this.props,e=_this$props.list,t=_this$props.label,_this$props$showLabel=_this$props.showLabel,i=_this$props$showLabel===void 0?!0:_this$props$showLabel,o=this.getActiveIndex(this.props.defaultIdentifier),s=e.length<=1;return xo["default"].createElement(aQ,{"data-test":j.CarouselSlider},xo["default"].createElement(lQ,{show:i,label:t}),xo["default"].createElement(cQ,{id:"photoeditorsdk-".concat(t.replace(" ","-"))},xo["default"].createElement(BA,{ariaLabel:"Select Previous",isDisabled:s,onClick:function onClick(){return _this22.throttledUpdateIndex(o,!0);}},xo["default"].createElement(MA,{direction:"left"})),xo["default"].createElement(uQ,null,xo["default"].createElement(mQ,{activeIndex:o,length:e.length},e.map(function(n){return xo["default"].createElement(dQ,{key:n.identifier},n.value);}))),xo["default"].createElement(BA,{ariaLabel:"Select Next",isDisabled:s,onClick:function onClick(){return _this22.throttledUpdateIndex(o);}},xo["default"].createElement(MA,{direction:"right"}))));}}]);return wS;}(xo["default"].PureComponent);wS.defaultProps={showLabel:!0};LA=wS;});var UA,pQ,u_,kS=d(function(){UA=y(x("styled-components")),pQ=UA["default"].div(_templateObject44||(_templateObject44=_taggedTemplateLiteral(["\n  display: flex;\n  position: relative;\n  margin-bottom: 12px;\n  max-width: ","px;\n"])),function(r){return r.theme.measurements.basicToolControlBar.maxWidth;}),u_=pQ;});var Gp,hQ,Vp,TS=d(function(){Gp=y(x("styled-components"));yo();hQ=Gp["default"].div.attrs({tabIndex:0})(_templateObject45||(_templateObject45=_taggedTemplateLiteral(["\n  position: relative;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n\n  &:first-child {\n    margin-right: 8px;\n  }\n\n  &:last-child {\n    margin-left: 8px;\n  }\n\n  ","\n\n  &:hover {\n    opacity: ",";\n  }\n  ","\n  ","\n"])),function(r){return r.theme.checkbox.background;},function(r){return r.theme.shape.radiusSmall;},wi,function(r){return r.theme.checkbox.hoverOpacity;},function(r){return r.isChecked&&Gp.css(_templateObject46||(_templateObject46=_taggedTemplateLiteral(["\n      background-color: ",";\n      &::after {\n        color: ",";\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n        opacity: 0.8;\n      }\n    "])),r.theme.checkbox.activeBackground,r.theme.checkbox.activeForeground,r.theme.checkbox.foreground,r.theme.checkbox.activeBackground);},function(r){return r.isDisabled&&Gp.css(_templateObject47||(_templateObject47=_taggedTemplateLiteral(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "])));}),Vp=hQ;});var NA,fQ,m_,DS=d(function(){NA=y(x("styled-components"));yo();fQ=NA["default"].input.attrs({type:"checkbox",tabIndex:0})(_templateObject48||(_templateObject48=_taggedTemplateLiteral(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  margin: 0;\n  padding: 0;\n  ","\n"])),wi),m_=fQ;});var Cu,HA,WA,GA=d(function(){Cu=y(x("react"));$();Fn();kS();TS();DS();HA=function HA(_ref22){var r=_ref22.label,e=_ref22.value,t=_ref22.checkMarkPosition,i=_ref22.onClick,o=_ref22.isDisabled,s=_ref22.className,n=_ref22.style;var a="photoeditorsdk-".concat(r.replace(" ","-"));return Cu["default"].createElement(u_,{"data-test":j.Checkbox,className:s,style:n},t==="left"&&Cu["default"].createElement(Vp,{onClick:i,isDisabled:o,isChecked:e}),Cu["default"].createElement(Pi,{isDisabled:o,label:r,htmlFor:a}),Cu["default"].createElement(m_,{id:a,disabled:o,checked:e,onChange:i}),t==="right"&&Cu["default"].createElement(Vp,{onClick:i,isDisabled:o,isChecked:e}));},WA=HA;HA.defaultProps={value:!1,checkMarkPosition:"left"};});var VA,mc,jp=d(function(){VA=y(x("styled-components")),mc=VA.css(_templateObject49||(_templateObject49=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  height: 100%;\n  width: 100%;\n  min-height: 26px;\n  color: ",";\n  padding-bottom: 7px;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n\n  &::-webkit-search-decoration,\n  &::-webkit-search-cancel-button,\n  &::-webkit-search-results-button,\n  &::-webkit-search-results-decoration {\n    -webkit-appearance: none;\n  }\n\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n\n  &:hover {\n    border-color: ",";\n  }\n"])),function(r){return r.theme.measurements.fontSystem.body.size;},function(r){return r.theme.measurements.fontSystem.body.letterSpacing;},function(r){return r.theme.measurements.fontSystem.body["case"];},function(r){return r.theme.textInput.foreground;},function(r){return r.theme.textInput.borderColor;},function(r){return r.theme.textInput.background;},function(r){return r.theme.typography.fontFamily;},function(r){return r.theme.textInput.hoverBorderColor;},function(r){return r.theme.textInput.hoverBorderColor;},function(r){return r.theme.textInput.inactiveOpacity;},function(r){return r.theme.textInput.hoverBorderColor;});});var p_,jA,$A,qA=d(function(){p_=y(x("styled-components")),jA=p_.css(_templateObject50||(_templateObject50=_taggedTemplateLiteral(["\n  opacity: ",";\n  pointer-events: none;\n"])),function(r){return r.theme.dropdown.inactiveOpacity;}),$A=p_["default"].div(_templateObject51||(_templateObject51=_taggedTemplateLiteral(["\n  display: block;\n  position: relative;\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n\n  &:disabled {\n    ","\n  }\n\n  ","\n"])),jA,function(_ref23){var r=_ref23.isDisabled;return r&&jA;});});var h_,KA,XA=d(function(){h_=y(x("styled-components"));yo();KA=h_["default"].li(_templateObject52||(_templateObject52=_taggedTemplateLiteral(["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n  }\n\n  ","\n\n  ","\n"])),function(r){return r.theme.measurements.fontSystem.button2.size;},function(r){return r.theme.measurements.fontSystem.button2.letterSpacing;},function(r){return r.theme.measurements.fontSystem.button2["case"];},function(r){return r.theme.dropdown.foreground;},function(r){return r.theme.dropdown.listItemHoverBackground;},function(_ref24){var r=_ref24.isActive;return r&&h_.css(_templateObject53||(_templateObject53=_taggedTemplateLiteral(["\n      border-left: 2px solid ",";\n    "])),function(e){return e.theme.primary;});},wi);});var ES,Os,gQ,bQ,Ko,YA=d(function(){ES=y(x("react")),Os=y(x("styled-components"));$();gQ=Os["default"].div(_templateObject54||(_templateObject54=_taggedTemplateLiteral(["\n  display: flex;\n  ",";\n"])),function(r){return Gt()||bo()?Os.css(_templateObject55||(_templateObject55=_taggedTemplateLiteral(["\n        overflow: hidden;\n      "]))):r.direction==="vertical"?Os.css(_templateObject56||(_templateObject56=_taggedTemplateLiteral(["\n        flex-direction: column;\n        flex: 1 1 auto;\n        overflow-y: auto;\n        overflow-x: hidden;\n      "]))):Os.css(_templateObject57||(_templateObject57=_taggedTemplateLiteral(["\n      overflow-y: hidden;\n      overflow-x: auto;\n    "])));}),bQ=Os["default"].ul.attrs(function(){return{role:"menubar","aria-label":"Tool Navigation"};})(_templateObject58||(_templateObject58=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: ",";\n\n  list-style: none;\n  padding: 0;\n  margin: 0;\n\n  ","\n"])),function(r){return r.direction==="vertical"?"column":"row";},function(r){return Gt()||bo()?Os.css(_templateObject59||(_templateObject59=_taggedTemplateLiteral(["\n        ","\n\n        scrollbar-face-color: ",";\n        scrollbar-track-color: ",";\n        scrollbar-base-color: ",";\n        scrollbar-3dlight-color: ",";\n        scrollbar-highlight-color: ",";\n        scrollbar-arrow-color: ",";\n        scrollbar-shadow-color: ",";\n        scrollbar-dark-shadow-color: ",";\n      "])),function(){return r.direction==="vertical"?Os.css(_templateObject60||(_templateObject60=_taggedTemplateLiteral(["\n              width: 100%;\n              overflow-y: auto;\n              overflow-x: hidden;\n\n              /* hidde the arrows */\n              margin-top: -10px;\n              margin-bottom: -10px;\n              padding-top: 10px;\n              padding-bottom: 10px;\n\n              /* hide the scrollbar */\n              padding-right: 10px;\n              margin-right: -10px;\n            "]))):Os.css(_templateObject61||(_templateObject61=_taggedTemplateLiteral(["\n            height: 100%;\n            overflow-y: hidden;\n            overflow-x: auto;\n\n            margin-right: -10px;\n            margin-left: -10px;\n            padding-right: 10px;\n            padding-left: 10px;\n\n            padding-bottom: 10px;\n            margin-bottom: -10px;\n          "])));},r.theme.scrollbar.handleColor,r.theme.toolbar.background,r.theme.toolbar.background,r.theme.scrollbar.handleColor,r.theme.scrollbar.handleColor,r.theme.toolbar.background,r.theme.scrollbar.handleColor,r.theme.scrollbar.handleColor):"";}),Ko=function Ko(_ref25){var _ref25$direction=_ref25.direction,r=_ref25$direction===void 0?"horizontal":_ref25$direction,e=_ref25["data-test"],t=_ref25.className,i=_ref25.children;return ES["default"].createElement(gQ,{direction:r,className:t},ES["default"].createElement(bQ,{direction:r,"data-test":e},i));};});var IS=d(function(){YA();});var $p,FS,JA=d(function(){$p=y(x("styled-components"));$();IS();FS=(0,$p["default"])(Ko)(_templateObject62||(_templateObject62=_taggedTemplateLiteral(["\n  position: absolute;\n\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n\n  visibility: hidden;\n  opacity: 0;\n  ","\n\n  transition: all 0.5s ease;\n\n  width: 100%;\n  max-height: 160px;\n  margin: 5px 0;\n\n  /* had to add these changes to get the dropdown working in IE11 */\n  ","\n\n  border-radius: 0 0 ","px\n    ","px;\n  z-index: ",";\n"])),function(r){return r.theme.dropdown.listBackground;},function(r){return r.theme.dropdown.listForeground;},function(r){return r.theme.dropdown.listBorderColor;},function(r){return r.theme.dropdown.listShadow;},function(r){return r.isOpen?$p.css(_templateObject63||(_templateObject63=_taggedTemplateLiteral(["\n        visibility: visible;\n        opacity: 1;\n        display: flex;\n      "]))):"";},function(){return Gt()?$p.css(_templateObject64||(_templateObject64=_taggedTemplateLiteral(["\n        > ul {\n          height: 160px;\n          margin-bottom: 0px;\n          margin-top: 0px;\n          padding-bottom: 0px;\n          padding-top: 0px;\n        }\n      "]))):"";},function(r){return r.theme.shape.radiusMedium;},function(r){return r.theme.shape.radiusMedium;},function(r){return r.theme.measurements.zIndex.input.list;});FS.defaultProps={direction:"vertical"};});var ZA,QA,e5=d(function(){ZA=y(x("styled-components"));yo();QA=ZA["default"].div(_templateObject65||(_templateObject65=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  transition: border-color 0.4s ease-in-out;\n\n  &:hover {\n    border-color: ",";\n  }\n\n  ","\n"])),function(r){return r.theme.measurements.fontSystem.body.size;},function(r){return r.theme.measurements.fontSystem.body.letterSpacing;},function(r){return r.theme.measurements.fontSystem.body["case"];},function(r){return r.theme.dropdown.foreground;},function(r){return r.theme.dropdown.background;},function(r){return r.theme.dropdown.borderColor;},function(r){return r.showList?"pointer":"default";},function(r){return r.theme.dropdown.hoverBorderColor;},wi);});var Rs,OS,_Q,yQ,RS,t5=d(function(){Rs=y(x("react")),OS=y(x("styled-components"));$();qA();XA();JA();e5();Fn();_Q=OS["default"].div(_templateObject66||(_templateObject66=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"])),function(r){return r.theme.dropdown.caretColor;},function(r){return r.rotation||0;}),yQ=OS["default"].div(_templateObject67||(_templateObject67=_taggedTemplateLiteral([""]))),RS=/*#__PURE__*/function(_Rs$default$PureCompo){_inherits(RS,_Rs$default$PureCompo);var _super9=_createSuper(RS);function RS(e){var _this23;_classCallCheck(this,RS);_this23=_super9.call(this,e);_this23.state={isOpen:!1};_this23.handleOutsideClick=function(e){_this23.node&&_this23.node.contains(e.target)||_this23.setState({isOpen:!1});};_this23.onSelect=function(e){var t=_this23.props.onSelect;t(e),_this23.setState({isOpen:!1});};_this23.onClick=function(){_this23.setState(function(e){return{isOpen:!e.isOpen};});};_this23.listItem=function(e){var _this23$props=_this23.props,t=_this23$props.itemStyle,i=_this23$props.selectedItem,o=_this23.state.isOpen,s=e.value,n=e.label,a={};return typeof t=="function"?a=t(e):t!==null&&_typeof(t)=="object"&&(a=t),Rs["default"].createElement(KA,{"aria-hidden":!o,tabIndex:0,style:a,onClick:function onClick(){return _this23.onSelect(s);},key:s,isActive:i===s},n);};_this23.onKeyDown=function(e){(e.code==="Space"||e.code==="Enter")&&_this23.onClick();};_this23.nodeRef=function(t){_this23.node=t;};return _this23;}_createClass(RS,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,!1);}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,!1);}},{key:"render",value:function render(){var _this$props2=this.props,e=_this$props2.selectedItem,t=_this$props2.list,i=_this$props2.label,o=_this$props2.style,s=_this$props2.isDisabled,n=this.state.isOpen,a=t.length>1,l=s?{}:{tabIndex:0};return Rs["default"].createElement(yQ,null,Rs["default"].createElement(Pi,{isDisabled:s,style:{paddingLeft:"0px"},label:i}),Rs["default"].createElement("div",{ref:this.nodeRef},Rs["default"].createElement($A,{isOpen:n,isDisabled:s},Rs["default"].createElement(QA,L(w({"data-test":j.Dropdown,"aria-hidden":s},l),{showList:a,style:o,onClick:a?this.onClick:void 0,onKeyDown:this.onKeyDown}),e,a&&Rs["default"].createElement(_Q,{rotation:n?180:0})),Rs["default"].createElement(FS,{"data-test":j.DropdownList,isOpen:n},a&&t.map(this.listItem)))));}}]);return RS;}(Rs["default"].PureComponent);});var i5,r5,o5=d(function(){i5=y(x("styled-components")),r5=i5["default"].input.attrs({type:"file",id:"fileUpload",accept:"image/*"})(_templateObject68||(_templateObject68=_taggedTemplateLiteral(["\n  display: none;\n"])));});var s5,xQ,n5,a5=d(function(){s5=y(x("react")),xQ=function xQ(_ref26){var r=_ref26.children;return s5["default"].createElement("form",{onSubmit:function onSubmit(t){t.preventDefault();}},r);},n5=xQ;});var f_,AS,vQ,CQ,PS,g_,BS=d(function(){f_=y(x("react")),AS=y(x("styled-components"));jp();vQ=AS["default"].input(_templateObject69||(_templateObject69=_taggedTemplateLiteral(["\n  ","\n  /* override user agent style */\n  padding: 0;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"])),mc,function(r){return r.theme.textInput.inactiveOpacity;}),CQ=AS["default"].div(_templateObject70||(_templateObject70=_taggedTemplateLiteral(["\n  position: relative;\n  &:first-child {\n    margin-right: 15px;\n  }\n"]))),PS=/*#__PURE__*/function(_f_$default$Component){_inherits(PS,_f_$default$Component);var _super10=_createSuper(PS);function PS(){var _this24;_classCallCheck(this,PS);_this24=_super10.apply(this,arguments);_this24.onChange=function(e){var t=_this24.props.onChange;t&&t(e.target.value);};return _this24;}_createClass(PS,[{key:"render",value:function render(){var _this$props3=this.props,e=_this$props3.id,t=_this$props3.testId,i=_this$props3.value,o=_this$props3.type,s=_this$props3.min,n=_this$props3.max,a=_this$props3.onBlur,l=_this$props3.onFocus,c=_this$props3.onKeyUp,u=_this$props3.onKeyDown,p=_this$props3.onMouseUp,m=_this$props3.onTouchEnd,h=_this$props3.isDisabled,g=_this$props3.className,v=_this$props3.children;return f_["default"].createElement(CQ,{className:g},f_["default"].createElement(vQ,{id:e,"data-test":t,"aria-hidden":h,disabled:h,value:i,type:o,min:s,max:n,onChange:this.onChange,onBlur:a,onFocus:l,onKeyUp:c,onKeyDown:u,onMouseUp:p,onTouchEnd:m}),v);}}]);return PS;}(f_["default"].Component);PS.defaultProps={type:"text"};g_=PS;});var Su,qp,SQ,_Kp,MS,b_,LS=d(function(){Su=y(x("react")),qp=y(x("styled-components"));$();Fn();BS();SQ=qp["default"].div(_templateObject71||(_templateObject71=_taggedTemplateLiteral(["\n  ","\n"])),Gt()?qp.css(_templateObject72||(_templateObject72=_taggedTemplateLiteral([""]))):qp.css(_templateObject73||(_templateObject73=_taggedTemplateLiteral(["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "])))),_Kp=/*#__PURE__*/function(_Su$default$Component){_inherits(Kp,_Su$default$Component);var _super11=_createSuper(Kp);function Kp(e){var _this25;_classCallCheck(this,Kp);_this25=_super11.call(this,e);_this25.node=null;_this25.handleOutsideClick=function(e){_this25.node&&_this25.node.current&&_this25.node.current.contains(e.target)||_this25.onSubmit();};_this25.onSubmit=function(){var e=_this25.props.onSubmit,_this25$state=_this25.state,t=_this25$state.value,i=_this25$state.isActive;if(e){var o=parseFloat(_Kp.cleanValue(t));!Number.isNaN(o)&&i&&e("".concat(o));}_this25.setState({isActive:!1});};_this25.onBlur=function(){_this25.onSubmit();};_this25.onFocus=function(){_this25.setState({isActive:!0});};_this25.onKeyDown=function(e){var t=_this25.state.value;if(e.key==="Enter")_this25.onSubmit();else if(e.key==="ArrowUp"){var i=parseFloat(_Kp.cleanValue(t));typeof i=="number"&&_this25.setState({value:(i+1).toString(),isActive:!0});}else if(e.key==="ArrowDown"){var _i2=parseFloat(_Kp.cleanValue(t));typeof _i2=="number"&&_this25.setState({value:(_i2-1).toString(),isActive:!0});}};_this25.onChange=function(e){_this25.setState({value:e.replace(/[^\d.,-]/g,""),isActive:!0});};_this25.state={value:_this25.props.value||"",isActive:!1},_this25.node=Su["default"].createRef();return _this25;}_createClass(Kp,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,!1),document.addEventListener("touchstart",this.handleOutsideClick,!1);}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1);}},{key:"render",value:function render(){var _this$props4=this.props,e=_this$props4.id,t=_this$props4.label,i=_this$props4.isDisabled,o=_this$props4.ariaHidden,s=_this$props4.onMouseUp,n=_this$props4.onTouchEnd,a=_this$props4.className,l=this.state.value;return Su["default"].createElement(SQ,{ref:this.node,"data-test":j.NummericInput,className:a},Su["default"].createElement(Pi,{htmlFor:e,label:t,show:!!t,isDisabled:i}),Su["default"].createElement(g_,{id:e,value:l,isDisabled:i,"aria-hidden":o,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.onFocus,onMouseUp:s,onTouchEnd:n}));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref27,_ref28){var e=_ref27.value;var t=_ref28.value,i=_ref28.isActive;return e!==t&&!i?{value:e}:null;}},{key:"cleanValue",value:function cleanValue(e){return e?e.replace(",",".").replace(/[a-zA-Z]/g,"").trim():"";}}]);return Kp;}(Su["default"].Component),MS=_Kp;MS.defaultProps={showLabel:!0};b_=MS;});var wu,l5,wQ,c5,d5=d(function(){wu=y(x("react")),l5=y(x("styled-components"));jp();Fn();wQ=l5["default"].input.attrs({type:"search"})(_templateObject74||(_templateObject74=_taggedTemplateLiteral(["\n  ","\n"])),mc),c5=(0,wu.forwardRef)(function(_ref29,s){var r=_ref29.onChange,e=_ref29.onKeyDown,t=_ref29.placeholder,i=_ref29.className,o=_ref29.style;return wu["default"].createElement("div",{className:i,style:o},wu["default"].createElement(Pi,{show:!1,label:"photoeditorsdk-Search"}),wu["default"].createElement(wQ,{ref:s,id:"photoeditorsdk-Search",onChange:function onChange(a){r&&r(a.target.value);},onKeyDown:e,placeholder:t,autoComplete:"off"}));});});var __,Xp,kQ,u5,TQ,m5,p5=d(function(){__=y(x("react")),Xp=y(x("styled-components"));Fn();kQ=Xp["default"].div(_templateObject75||(_templateObject75=_taggedTemplateLiteral([""]))),u5=function u5(_ref30){var r=_ref30.label,e=_ref30.children,t=_ref30.inline,i=_ref30.showLabel,o=_ref30.isDisabled,s=_ref30["data-test"];return __["default"].createElement(kQ,{"data-test":s},__["default"].createElement(Pi,{isDisabled:o,label:r,show:i}),__["default"].createElement(TQ,{id:"photoeditorsdk-".concat(r.replace(" ","-")),inline:!!t},e));},TQ=Xp["default"].div(_templateObject76||(_templateObject76=_taggedTemplateLiteral(["\n  display: inline-flex;\n  ","\n"])),function(r){return!r.inline&&Xp.css(_templateObject77||(_templateObject77=_taggedTemplateLiteral(["\n        flex-wrap: wrap;\n      "])))||"";});u5.defaultProps={showLabel:!0};m5=u5;});var pc,Co,DQ,EQ,zS,IQ,FQ,OQ,RQ,US,h5,f5=d(function(){pc=y(x("react")),Co=y(x("styled-components"));$();yo();Fn();LS();DQ=Co["default"].div(_templateObject78||(_templateObject78=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  /* needed for IE11 to properly calculate the width */\n  min-width: 1px;\n"]))),EQ=(0,Co["default"])(Pi)(_templateObject79||(_templateObject79=_taggedTemplateLiteral(["\n  padding-bottom: 2px;\n"]))),zS=Co.css(_templateObject80||(_templateObject80=_taggedTemplateLiteral(["\n  ","\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"])),bo()||Gt()?Co.css(_templateObject81||(_templateObject81=_taggedTemplateLiteral(["\n        width: 16px;\n        height: 16px;\n      "]))):Co.css(_templateObject82||(_templateObject82=_taggedTemplateLiteral(["\n        width: 20px;\n        height: 20px;\n      "]))),function(r){return r.theme.slider.thumbBackground;},function(r){return r.theme.slider.thumbBorderColor;}),IQ=function IQ(r){var e=(r.value-r.min)*100/(r.max-r.min);return r.adjust?r.value>0?(e=r.value*(r.max/2)*100,"".concat(r.theme.slider.trackColor," 0%,\n      ").concat(r.theme.slider.trackColor," 50%,\n      ").concat(r.theme.slider.activeTrackColor," 50%,\n      ").concat(r.theme.slider.activeTrackColor," ").concat(50+e,"%,\n      ").concat(r.theme.slider.trackColor," ").concat(50+e,"%,\n      ").concat(r.theme.slider.trackColor," 100%\n      ")):r.value<0?(e=r.value*(r.min/2)*100,"".concat(r.theme.slider.trackColor," 0%,\n      ").concat(r.theme.slider.trackColor," ").concat(50-e,"%,\n      ").concat(r.theme.slider.activeTrackColor," ").concat(50-e,"%,\n      ").concat(r.theme.slider.activeTrackColor," 50%,\n      ").concat(r.theme.slider.trackColor," 50%,\n      ").concat(r.theme.slider.trackColor," 100%\n      ")):"".concat(r.theme.slider.trackColor," 0%,\n    ").concat(r.theme.slider.trackColor," 100%"):"".concat(r.theme.slider.activeTrackColor," 0%,\n    ").concat(r.theme.slider.activeTrackColor," ").concat(e,"%,\n    ").concat(r.theme.slider.trackColor," ").concat(e,"%,\n    ").concat(r.theme.slider.trackColor," 100%");},FQ=Co["default"].input(_templateObject83||(_templateObject83=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  max-width: calc(100% - 50px);\n  outline: none;\n  border-radius: 0; /* iOS */\n\n  padding: 0;\n  margin: 0;\n  height: 100;\n  border: none;\n\n  ","\n\n  ","\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 2px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: 200px;\n  }\n"])),wi,bo()||Gt()?Co.css(_templateObject84||(_templateObject84=_taggedTemplateLiteral(["\n        margin-top: 10px;\n        height: 20px;\n        /* remove once we have a better concept for focus in all browser */\n        &:focus {\n          box-shadow: none;\n        }\n      "]))):Co.css(_templateObject85||(_templateObject85=_taggedTemplateLiteral(["\n        height: 2px;\n        background: ",";\n      "])),function(r){return"linear-gradient(to right, ".concat(IQ(r),")");}),function(r){return r.theme.slider.inactiveOpacity;},function(r){return r.theme.slider.hoverOpacity;},zS,zS,zS,function(r){return"".concat(r.theme.slider.activeTrackColor);},function(r){return"".concat(r.theme.slider.trackColor);}),OQ=Co["default"].div(_templateObject86||(_templateObject86=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n"])),function(r){return r.centerSlider?-56:0;}),RQ=(0,Co["default"])(b_)(_templateObject87||(_templateObject87=_taggedTemplateLiteral(["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"]))),US=/*#__PURE__*/function(_pc$default$Component){_inherits(US,_pc$default$Component);var _super12=_createSuper(US);function US(e){var _this26;_classCallCheck(this,US);_this26=_super12.call(this,e);_this26.onSubmit=function(e){var _this26$props=_this26.props,t=_this26$props.onChange,i=_this26$props.suffix,o=_this26$props.divider,s=_this26$props.min,n=_this26$props.max,a=_this26$props.value,l=e.replace(i,""),c=l?parseFloat(l)/o:a,u=Math.max(s,Math.min(n,c));Number.isNaN(u)||(t(u),_this26.props.onMouseUp?_this26.props.onMouseUp(u):_this26.props.onTouchEnd&&_this26.props.onTouchEnd(u));};_this26.onSliderChange=function(e){var t=_this26.props.onChange,i=parseFloat(e.target.value);t(i);};_this26.onTouchOrMouseUp=function(e){var t=e.target.value,_this26$props2=_this26.props,i=_this26$props2.onMouseUp,o=_this26$props2.onTouchEnd,s=parseFloat(t);i&&i(s),o&&o(s);};_this26.randomId=ot();return _this26;}_createClass(US,[{key:"render",value:function render(){var _this$props5=this.props,e=_this$props5["data-test"],t=_this$props5.identifier,i=_this$props5.value,o=_this$props5.min,s=_this$props5.max,n=_this$props5.divider,a=_this$props5.suffix,l=_this$props5.decimal,c=_this$props5.showLabel,u=_this$props5.showInput,p=_this$props5.style,m=_this$props5.centerSlider,h=_this$props5.adjust,g=_this$props5.label,v=_this$props5.isDisabled,S=_this$props5.step,_=_this$props5["aria-hidden"],I=_this$props5.className,E="photoeditorsdk-slider-".concat(this.randomId),O="".concat(E,"-input"),V="".concat((i*n).toFixed(l)).concat(a),F=u&&pc["default"].createElement(RQ,{id:O,value:V,isDisabled:v,"aria-hidden":_,onSubmit:this.onSubmit});return pc["default"].createElement(DQ,{className:I,"data-test":e||t||E},pc["default"].createElement(EQ,{isDisabled:v,label:g,show:c}),pc["default"].createElement(OQ,{centerSlider:u&&m},pc["default"].createElement(FQ,{type:"range",role:"slider","aria-hidden":_,tabIndex:0,value:i,min:o,max:s,step:S,style:p,disabled:v,id:E,onChange:this.onSliderChange,adjust:h,name:g,onKeyUp:this.onSliderChange,onKeyDown:this.onSliderChange,onMouseUp:this.onTouchOrMouseUp,onTouchEnd:this.onTouchOrMouseUp}),F));}}]);return US;}(pc["default"].Component);US.defaultProps={showLabel:!0,showInput:!0,adjust:!1,centerSlider:!1,min:-1,max:1,value:0,step:.01,decimal:0,divider:100,suffix:""};h5=US;});var g5,hc,y_=d(function(){g5=y(x("styled-components"));qa();uc();hc=(0,g5["default"])(Ai)(_templateObject88||(_templateObject88=_taggedTemplateLiteral(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),function(r){return r.theme.button.textPrimaryForeground;},function(r){return r.theme.button.textPrimaryForeground;},function(_ref31){var r=_ref31.isActive;return r&&qo;},Ji,function(r){return r.theme.button.textInactiveOpacity;});});var b5,Xo,x_=d(function(){b5=y(x("styled-components"));qa();uc();Xo=(0,b5["default"])(Ai)(_templateObject89||(_templateObject89=_taggedTemplateLiteral(["\n  color: ",";\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n\n  svg {\n    color: ",";\n  }\n"])),function(r){return r.theme.button.textSecondaryForeground;},function(_ref32){var r=_ref32.isActive;return r&&qo;},Ji,function(r){return r.theme.button.textInactiveOpacity;},function(r){return r.theme.button.textSecondaryForeground;});});var As,NS,_5=d(function(){As=y(x("react"));$();y_();x_();Up();qb();Kb();NS=/*#__PURE__*/function(_As$default$Component){_inherits(NS,_As$default$Component);var _super13=_createSuper(NS);function NS(){var _this27;_classCallCheck(this,NS);_this27=_super13.apply(this,arguments);_this27.onDismiss=function(){var _this27$props=_this27.props,e=_this27$props.handleClose,t=_this27$props.handleDismiss;e&&e(),t&&t();};_this27.onConfirm=function(){var _this27$props2=_this27.props,e=_this27$props2.handleClose,t=_this27$props2.handleConfirm;e&&e(),t&&t();};return _this27;}_createClass(NS,[{key:"render",value:function render(){var _this$props6=this.props,e=_this$props6.headerLabel,t=_this$props6.bodyLabel,i=_this$props6.confirmLabel,o=_this$props6.dismissLabel,s=_this$props6.type,n=_this$props6.children,a=As["default"].Children.toArray(n)[0];if(!As["default"].isValidElement(a))throw new Error("Child is not a valid react element");return As["default"].cloneElement(a,{handleConfirm:this.onConfirm,handleDismiss:this.onDismiss,header:As["default"].createElement(gu,null,e),body:As["default"].createElement(In,{"data-test":j.DialogBody},t),footer:As["default"].createElement(fu,{type:s},o&&As["default"].createElement(Xo,{label:o,ariaLabel:o,onClick:this.onDismiss}),i&&As["default"].createElement(hc,{label:i,ariaLabel:i,onClick:this.onConfirm}))});}}]);return NS;}(As["default"].Component);});var Yo,Yp,AQ,PQ,BQ,MQ,HS,y5=d(function(){Yo=y(x("react")),Yp=y(x("styled-components"));$();Up();Kb();mS();AQ=Yp["default"].div(_templateObject90||(_templateObject90=_taggedTemplateLiteral(["\n  display: flex;\n"]))),PQ=(0,Yp["default"])(gu)(_templateObject91||(_templateObject91=_taggedTemplateLiteral(["\n  padding: 0;\n"]))),BQ=Yp["default"].div(_templateObject92||(_templateObject92=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n  @media all and (min-width: 640px) {\n    margin-left: 30px;\n  }\n"]))),MQ=(0,Yp["default"])(In)(_templateObject93||(_templateObject93=_taggedTemplateLiteral(["\n  padding: 0;\n  margin: 0;\n"]))),HS=/*#__PURE__*/function(_Yo$default$PureCompo){_inherits(HS,_Yo$default$PureCompo);var _super14=_createSuper(HS);function HS(){_classCallCheck(this,HS);return _super14.apply(this,arguments);}_createClass(HS,[{key:"render",value:function render(){var _this$props7=this.props,e=_this$props7.headerLabel,t=_this$props7.bodyLabel,i=_this$props7.children,o=Yo["default"].Children.toArray(i)[0];if(!Yo["default"].isValidElement(o))throw new Error("Child is not a valid react element");return Yo["default"].cloneElement(o,{height:"90px",body:Yo["default"].createElement(In,{"data-test":j.DialogBody},Yo["default"].createElement(AQ,null,Yo["default"].createElement(Yb,null),Yo["default"].createElement(BQ,null,Yo["default"].createElement(PQ,null,e),Yo["default"].createElement(MQ,null,t))))});}}]);return HS;}(Yo["default"].PureComponent);});var Hr,ku,LQ,zQ,UQ,NQ,HQ,WS,x5,v5=d(function(){Hr=y(x("react")),ku=y(x("styled-components"));$();y_();x_();Up();qb();jp();LQ=ku["default"].form(_templateObject94||(_templateObject94=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]))),zQ=ku["default"].textarea(_templateObject95||(_templateObject95=_taggedTemplateLiteral(["\n  display: flex;\n  caret-color: ",";\n  ","\n  min-height: 100%;\n  padding: 0px;\n  outline-offset: -8px;\n  color: ",";\n  resize: none;\n  font-family: '","', sans-serif;\n\n  &:selection,\n  &:-moz-selection {\n    background-color: ",";\n    color: ",";\n  }\n"])),function(r){return r.theme.primary;},mc,function(r){return r.theme.modal.bodyForeground;},function(r){return r.theme.typography.fontFamily;},function(r){return r.theme.primary;},function(r){return r.theme.foreground;}),UQ=ku["default"].label(_templateObject96||(_templateObject96=_taggedTemplateLiteral(["\n  padding: 11px 20px 8px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),function(r){return r.theme.measurements.fontSystem.label.size;},function(r){return r.theme.measurements.fontSystem.label.letterSpacing;},function(r){return r.theme.measurements.fontSystem.label["case"];},function(r){return r.theme.modal.headerForeground;}),NQ=(0,ku["default"])(In)(_templateObject97||(_templateObject97=_taggedTemplateLiteral(["\n  height: 100%;\n"]))),HQ=(0,ku["default"])(fu)(_templateObject98||(_templateObject98=_taggedTemplateLiteral(["\n  border-top: none;\n"]))),WS=/*#__PURE__*/function(_Hr$default$Component){_inherits(WS,_Hr$default$Component);var _super15=_createSuper(WS);function WS(){var _this28;_classCallCheck(this,WS);_this28=_super15.apply(this,arguments);_this28.state={value:""};_this28.input=Hr["default"].createRef();_this28.handleKeydown=function(e){hR(_this28.handleDismiss)(e);};_this28.handleDismiss=function(){var e=_this28.props.handleDismiss;e&&e(!1);};_this28.handleConfirm=function(){var e=_this28.props.handleConfirm,t=_this28.input.current.value;t&&(e&&e(t),_this28.handleDismiss());};_this28.onChange=function(e){var t=_this28.props.allowEmojis,i=t?e.target.value:pF(e.target.value);_this28.input.current.value=i,_this28.setState({value:i});};_this28.onSubmit=function(e){e.preventDefault();};return _this28;}_createClass(WS,[{key:"componentDidMount",value:function componentDidMount(){var _this$props8=this.props,e=_this$props8.text,t=_this$props8.defaultText;this.input.current.focus(),this.input.current.value=e||t||"",this.setState({value:this.input.current.value}),document.addEventListener("keydown",this.handleKeydown,!1),e===t&&this.input.current.select();}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.isVisible;e.isVisible!==t&&t&&this.input.current.focus();}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeydown,!1);}},{key:"render",value:function render(){var _this$props9=this.props,e=_this$props9.headerLabel,t=_this$props9.dismissLabel,i=_this$props9.confirmLabel,o=_this$props9.maxLength,s=_this$props9.type,n=_this$props9.children,a=this.state.value,l=Hr["default"].Children.toArray(n)[0];if(!Hr["default"].isValidElement(l))throw new Error("Child is not a valid react element");return Hr["default"].cloneElement(l,{handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss,isConfirmDisabled:!a,height:"150px",header:Hr["default"].createElement(UQ,{htmlFor:"photoeditorsdk-TextInput"},e),body:Hr["default"].createElement(NQ,null,Hr["default"].createElement(LQ,{onSubmit:this.onSubmit},Hr["default"].createElement(zQ,{ref:this.input,id:"photoeditorsdk-TextInput",placeholder:"Write Something",autoFocus:!0,onChange:this.onChange,maxLength:o}))),footer:Hr["default"].createElement(HQ,{type:s},Hr["default"].createElement(Xo,{label:t,ariaLabel:t,onClick:this.handleDismiss}),Hr["default"].createElement(hc,{label:i,ariaLabel:i,isDisabled:!a,onClick:this.handleConfirm}))});}}]);return WS;}(Hr["default"].Component);WS.defaultProps={defaultText:"Write Something",allowEmojis:!1};x5=WS;});var C5,GS,S5=d(function(){C5=y(x("styled-components")),GS=C5["default"].div(_templateObject99||(_templateObject99=_taggedTemplateLiteral(["\n  padding-bottom: ","px;\n"])),function(r){return(r.count||1)*8;});GS.defaultProps={count:1};});var fc,VS,v_,C_,w5=d(function(){fc=y(x("react")),VS=/*#__PURE__*/function(_fc$default$Component){_inherits(VS,_fc$default$Component);var _super16=_createSuper(VS);function VS(){_classCallCheck(this,VS);return _super16.apply(this,arguments);}_createClass(VS,[{key:"getChildren",value:function getChildren(){var _this29=this;var e=[],t=[];return fc["default"].Children.forEach(this.props.children,function(i){switch(i.type.componentName){case"case":_this29.props.type===i.props.value&&e.push(i);break;case"default":t.push(i);break;}}),e.length>0?e:t;}},{key:"render",value:function render(){var e=this.getChildren();return e.length===0?null:fc["default"].createElement(fc["default"].Fragment,null,e);}}]);return VS;}(fc["default"].Component),v_=/*#__PURE__*/function(_fc$default$Component2){_inherits(v_,_fc$default$Component2);var _super17=_createSuper(v_);function v_(){_classCallCheck(this,v_);return _super17.apply(this,arguments);}_createClass(v_,[{key:"render",value:function render(){return this.props.children;}}]);return v_;}(fc["default"].Component);v_.componentName="case";C_=/*#__PURE__*/function(_fc$default$Component3){_inherits(C_,_fc$default$Component3);var _super18=_createSuper(C_);function C_(){_classCallCheck(this,C_);return _super18.apply(this,arguments);}_createClass(C_,[{key:"render",value:function render(){return this.props.children;}}]);return C_;}(fc["default"].Component);C_.componentName="default";});var Tu,WQ,GQ,k5,T5=d(function(){Tu=y(x("styled-components")),WQ=Tu.keyframes(_templateObject100||(_templateObject100=_taggedTemplateLiteral(["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"]))),GQ=Tu["default"].div(_templateObject101||(_templateObject101=_taggedTemplateLiteral(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n\n  ","\n"])),function(r){return r.position.y;},function(r){return r.position.x;},function(r){return r.theme.shape.radiusMedium;},function(r){return r.theme.measurements.zIndex.toast;},function(_ref33){var r=_ref33.show;return r&&Tu.css(_templateObject102||(_templateObject102=_taggedTemplateLiteral(["\n      visibility: visible;\n      animation: "," 0.5s, fadeout 0.5s 2.5s;\n    "])),WQ);}),k5=GQ;});var S_,Ka,VQ,jQ,$Q,Jo,Jp=d(function(){S_=y(x("react")),Ka=y(x("styled-components"));qa();VQ=(0,Ka["default"])(Ai)(_templateObject103||(_templateObject103=_taggedTemplateLiteral(["\n  ","\n"])),function(_ref34){var r=_ref34.fullWidth;return r&&Ka.css(_templateObject104||(_templateObject104=_taggedTemplateLiteral(["\n      width: 100%;\n    "])));}),jQ=Ka["default"].div(_templateObject105||(_templateObject105=_taggedTemplateLiteral(["\n  &:focus {\n    outline: none;\n  }\n\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: flex;\n  }\n"]))),$Q=Ka["default"].div(_templateObject106||(_templateObject106=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:focus {\n    outline: none;\n  }\n  font-size: inherit;\n  text-spacing: inherit;\n  color: inherit;\n\n  ","\n  ","\n"])),function(_ref35){var r=_ref35.isDisabled;return r&&Ka.css(_templateObject107||(_templateObject107=_taggedTemplateLiteral(["\n      opacity: ",";\n    "])),function(e){return e.theme.button.textInactiveOpacity;});},function(_ref36){var r=_ref36.hasIcon;return r&&Ka.css(_templateObject108||(_templateObject108=_taggedTemplateLiteral(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        display: none;\n      }\n    "])));}),Jo=function Jo(n){var a=n,r=a.label,e=a.children,t=a.icon,i=a.fullWidth,o=a.isDisabled,s=pr(a,["label","children","icon","fullWidth","isDisabled"]);var l=S_["default"].createElement($Q,{hasIcon:!!t,isDisabled:o},r,e);return S_["default"].createElement(VQ,w({fullWidth:i,isDisabled:o},s),t&&S_["default"].createElement(jQ,null,t),(e||r)&&l);};});var D5,Zp,E5=d(function(){D5=y(x("styled-components"));Jp();Zp=(0,D5["default"])(Jo)(_templateObject109||(_templateObject109=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  min-width: 32px;\n\n  svg {\n    color: ",";\n  }\n"])),function(r){return r.theme.button.outlinedPrimaryBackground;},function(r){return r.theme.button.outlinedPrimaryForeground;},function(r){return r.theme.button.outlinedBorderColor;},function(r){return r.theme.button.outlinedPrimaryForeground;});});var I5,Xa,F5=d(function(){I5=y(x("styled-components"));qa();Jp();Xa=(0,I5["default"])(Jo)(_templateObject110||(_templateObject110=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  svg {\n    color: ",";\n  }\n\n  ","\n"])),function(r){return r.theme.button.outlinedSecondaryBackground;},function(r){return r.theme.button.outlinedSecondaryForeground;},function(r){return r.theme.button.outlinedBorderColor;},function(r){return r.theme.button.outlinedSecondaryForeground;},function(_ref37){var r=_ref37.isActive;return r&&qo;});});var jS,$S,qQ,KQ,On,O5=d(function(){jS=y(x("react")),$S=y(x("styled-components"));qa();uc();qQ=(0,$S["default"])(Ai)(_templateObject111||(_templateObject111=_taggedTemplateLiteral(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),function(r){return r.theme.foreground;},function(r){return r.theme.foreground;},function(_ref38){var r=_ref38.isActive;return r&&qo;},Ji,function(r){return r.theme.button.textInactiveOpacity;}),KQ=$S["default"].div(_templateObject112||(_templateObject112=_taggedTemplateLiteral(["\n  display: flex;\n  &:focus {\n    outline: none;\n  }\n"]))),On=function On(o){var s=o,r=s.label,e=s.icon,t=s.children,i=pr(s,["label","icon","children"]);return jS["default"].createElement(qQ,w({},i),jS["default"].createElement(KQ,null,e));};});var R5,Qp,A5=d(function(){R5=y(x("styled-components"));Jp();Qp=(0,R5["default"])(Jo)(_templateObject113||(_templateObject113=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  &:active {\n    color: ",";\n  }\n\n  svg {\n    color: ",";\n\n    &:active {\n      color: ",";\n    }\n  }\n"])),function(r){return r.theme.button.containedPrimaryBackground;},function(r){return r.theme.button.containedPrimaryForeground;},function(r){return r.theme.button.containedPrimaryBackground;},function(r){return r.theme.button.containedPrimaryForeground;},function(r){return r.theme.button.containedPrimaryForeground;},function(r){return r.theme.button.containedPrimaryForeground;});});var gc,eh,XQ,YQ,JQ,Wr,P5=d(function(){gc=y(x("react")),eh=y(x("styled-components"));lC();uc();yo();XQ=function XQ(){return eh.css(_templateObject114||(_templateObject114=_taggedTemplateLiteral(["\n    animation: "," 0.2s linear;\n  "])),Kg);},YQ=eh.css(_templateObject115||(_templateObject115=_taggedTemplateLiteral(["\n  border: 1px solid ",";\n  "," {\n    background-color: ",";\n  }\n"])),function(r){return r.theme.card.activeBorderColor;},SS,function(r){return r.theme.card.activeOverlayColor;}),JQ=eh["default"].button.attrs(function(r){var e={};return r.image&&(e.backgroundImage="url(".concat(r.image,")")),w({style:e},r.style);})(_templateObject116||(_templateObject116=_taggedTemplateLiteral(["\n  &&& {\n    box-sizing: border-box;\n  }\n\n  /* basic ui text items use position absolute */\n  position: relative;\n\n  padding: 0;\n  cursor: pointer;\n  /* Safari will change the height of the toolbar and position the category cards at the bottom for some reason */\n  vertical-align: top;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n\n  border-radius: ","px;\n  ",";\n  animation-fill-mode: both;\n  overflow: hidden;\n\n  ","\n\n  /* Active */\n\n  /* No :active styles on purpose. */\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"])),function(r){return r.theme.card.background;},function(r){return r.theme.card.foreground;},function(r){return r.theme.shape.radiusMedium;},XQ,wi,function(_ref39){var r=_ref39.isActive;return r&&YQ;},Ji,function(r){return r.theme.card.inactiveOverlayColor;},xu,function(r){return r.theme.card.hoverOverlayColor;}),Wr=/*#__PURE__*/function(_gc$default$Component){_inherits(Wr,_gc$default$Component);var _super19=_createSuper(Wr);function Wr(){var _this30;_classCallCheck(this,Wr);_this30=_super19.apply(this,arguments);_this30.state=l_;_this30.timeout=null;_this30.onKeyDown=function(e){(e.key==="Space"||e.key==="Enter")&&_this30.props.onClick&&_this30.props.onClick();};_this30.onClick=function(e){var t=e.currentTarget.getBoundingClientRect(),i=e.pageX-t.left,o=e.pageY-t.top;_this30.state.display==="block"?_this30.setState({display:"none"},function(){_this30.setRippleState(i,o);}):_this30.setRippleState(i,o),_this30.props.onClick(e);};_this30.setRippleState=function(e,t){_this30.setState({left:e,top:t,display:"block"}),_this30.timeout=setTimeout(function(){_this30.setState({display:"none"});},1200);};return _this30;}_createClass(Wr,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timeout);}},{key:"render",value:function render(){var _this$props10=this.props,e=_this$props10.children,t=_this$props10.label,i=_this$props10.isActive,o=_this$props10.isDisabled,s=_this$props10.image,n=_this$props10.style,a=_this$props10.className,_this$state3=this.state,l=_this$state3.left,c=_this$state3.top,u=_this$state3.display;return gc["default"].createElement(JQ,{isActive:i,"aria-label":t,"data-test":t,disabled:o,image:s,onClick:this.onClick,onKeyDown:this.onKeyDown,style:n,className:a},e,gc["default"].createElement(c_,{display:u,left:l,top:c}),gc["default"].createElement(SS,null),gc["default"].createElement(Ji,null),gc["default"].createElement(xu,null));}}]);return Wr;}(gc["default"].Component);Wr.defaultProps={isActive:!1};});var Du,Gr,ZQ,QQ,eee,tee,iee,Mt,B5=d(function(){Du=y(x("react")),Gr=y(x("styled-components"));$();yo();ZQ=Gr["default"].div(_templateObject117||(_templateObject117=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 4px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  ","\n"])),function(r){return r.theme.measurements.fontSystem.label.size;},function(r){return r.theme.measurements.fontSystem.label.letterSpacing;},function(r){return r.theme.measurements.fontSystem.label["case"];},function(r){return r.withBackground?Gr.css(_templateObject118||(_templateObject118=_taggedTemplateLiteral(["\n          color: ",";\n        "])),r.theme.card.labelForeground):Gr.css(_templateObject119||(_templateObject119=_taggedTemplateLiteral(["\n          color: ",";\n        "])),r.theme.card.foreground);}),QQ=Gr["default"].div(_templateObject120||(_templateObject120=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  width: 100%;\n  cursor: pointer;\n"])),function(r){return r.theme.shape.radiusMedium;},function(r){return r.withBackground?Gr.css(_templateObject121||(_templateObject121=_taggedTemplateLiteral(["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "])),r.theme.card.labelForeground,r.theme.card.labelBackground):Gr.css(_templateObject122||(_templateObject122=_taggedTemplateLiteral(["\n          color: ",";\n          height: 32px;\n        "])),r.theme.card.foreground);}),eee=Gr["default"].div(_templateObject123||(_templateObject123=_taggedTemplateLiteral(["\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  ","\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"])),function(r){return r.theme.card.labelForeground;},function(r){return r.withBackground?Gr.css(_templateObject124||(_templateObject124=_taggedTemplateLiteral(["\n          border-top-color: ",";\n        "])),r.theme.card.labelForeground):Gr.css(_templateObject125||(_templateObject125=_taggedTemplateLiteral(["\n          border-top-color: ",";\n        "])),r.theme.card.foreground);},function(r){return r.rotation||0;}),tee=Gr["default"].span(_templateObject126||(_templateObject126=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 10px;\n"]))),iee=Gr["default"].div(_templateObject127||(_templateObject127=_taggedTemplateLiteral(["\n  ","\n"])),hu),Mt=function Mt(_ref40){var r=_ref40.children,e=_ref40.className,t=_ref40.caret,i=_ref40.isActive,o=_ref40.style,s=_ref40.withBackground,n=_ref40.hidden;if(n)return Du["default"].createElement(iee,null,r);var a=function a(){return Du["default"].createElement(tee,null,Du["default"].createElement(eee,{"aria-hidden":!0,rotation:i?180:0,withBackground:s}));};return Du["default"].createElement(QQ,{className:e,withBackground:s,style:o},Du["default"].createElement(ZQ,{"data-test":j.CardLabel,withBackground:s},r,t&&a()));};});var M5,bc,L5=d(function(){M5=y(x("styled-components"));$();bc=M5["default"].div.attrs(function(r){return{"data-test":j.CardAvatar,style:{backgroundImage:"url(".concat(r.url,")")}};})(_templateObject128||(_templateObject128=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  height: 28px;\n  width: 28px;\n  border-radius: 50%;\n"])));});var z5=d(function(){});var w_,U5,M,re=d(function(){lC();YR();oA();nS();Mp();aS();lS();cA();cS();dS();Up();uS();qb();Kb();mS();DA();vS();zA();GA();kS();TS();DS();jp();t5();o5();a5();Fn();LS();d5();p5();f5();BS();_5();y5();v5();S5();yo();w5();T5();uc();qa();Jp();E5();x_();y_();F5();O5();A5();P5();B5();L5();IS();z5();w_={Focused:wi,VisuallyHidden:hu},U5={ripple:qg,scale:SI,slide:Kg},M={Container:oS,ColorItem:rA,ColorItemBase:Nb,ColorItemBackground:zb,ColorItemTiledBackground:Hb,ColorItemActiveOverlay:Ub,Dialog:lA,DialogBase:Vb,DialogContainer:jb,DialogBackdrop:Wb,DialogHeader:gu,DialogBody:In,DialogFooter:fu,DialogSpinner:Yb,TextEditModal:x5,ActionModal:NS,InfoModal:HS,Spacer:GS,Draggable:TA,DraggableCore:dc,Toast:k5,Input:{Label:Pi,File:r5,Search:c5,Slider:h5,CarouselSlider:LA,Selection:m5,Checkbox:WA,CheckboxBase:u_,CheckboxInput:m_,CheckboxCheckMark:Vp,Dropdown:RS,Text:g_,NumericInput:b_,Form:n5},Switch:{Index:VS,Case:v_,Default:C_}};});var N5,k_,H5=d(function(){N5=y(x("styled-components"));re();k_=(0,N5["default"])(Jo)(_templateObject129||(_templateObject129=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),function(r){return r.theme.measurements.fontSystem.button2.size;},function(r){return r.theme.measurements.fontSystem.button2.letterSpacing;},function(r){return r.theme.measurements.fontSystem.button2["case"];},function(r){return r.theme.button.textSecondaryForeground;},Ji,function(r){return r.theme.button.textInactiveOpacity;});});var qS,KS,ree,oee,W5,G5=d(function(){qS=y(x("react")),KS=y(x("styled-components"));re();ree=(0,KS["default"])(Ai)(_templateObject130||(_templateObject130=_taggedTemplateLiteral(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  padding: 2px;\n"])),function(r){return r.theme.measurements.zIndex.button["float"];}),oee=KS["default"].div(_templateObject131||(_templateObject131=_taggedTemplateLiteral(["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"])),function(r){return r.theme.webcam.floatButton;}),W5=function W5(r){return qS["default"].createElement(ree,w({},r),qS["default"].createElement(oee,null));};});var _c,V5,Ps,th,j5=d(function(){_c=y(x("styled-components"));re();V5=_c["default"].div(_templateObject132||(_templateObject132=_taggedTemplateLiteral(["\n  display: inline-flex;\n"]))),Ps=(0,_c["default"])(Jo)(_templateObject133||(_templateObject133=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  padding: 4px 10px;\n  position: relative;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"])),function(r){return r.theme.canvasActionBar.background;},function(r){return r.theme.canvasActionBar.foreground;},function(r){return r.theme.measurements.fontSystem.button2.size;},function(r){return r.theme.measurements.fontSystem.button2.letterSpacing;},function(r){return r.theme.measurements.fontSystem.button2["case"];}),th=_c["default"].div(_templateObject134||(_templateObject134=_taggedTemplateLiteral(["\n  ",";\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid\n        ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"])),function(_ref41){var r=_ref41.show;return r?_c.css(_templateObject135||(_templateObject135=_taggedTemplateLiteral(["\n          opacity: 1;\n        "]))):_c.css(_templateObject136||(_templateObject136=_taggedTemplateLiteral(["\n          opacity: 0;\n        "])));},function(r){return r.theme.canvasActionBar.background;},function(r){return r.theme.canvasActionBar.foreground;},function(r){return r.theme.canvasActionBar.borderRadius?r.theme.canvasActionBar.borderRadius:r.theme.shape.radiusMedium;},function(r){return r.theme.measurements.zIndex.buttonGroup;},Ps,function(r){return r.theme.canvasActionBar.separatorColor;});});var T_=d(function(){H5();G5();j5();});var Rn,see,$5,q5=d(function(){Rn=y(x("react")),see=function see(){return Rn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Rn["default"].createElement("defs",null,Rn["default"].createElement("path",{id:"photoeditorsdk-blacks-icon",d:"M24 12c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12m0 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10m4 12c0 2.788-2.326 3.879-7 3V18.5c4.148-.459 6.516.226 6.516 2.623 0 1.207-.492 1.998-1.512 2.474C27.504 23.999 28 24.619 28 26zm-5-6v3c2.244.068 2.775-.719 2.775-1.536 0-1.22-.531-1.812-2.775-1.464zm0 7.5c2.19.193 3.038-.04 3.038-1.484 0-1.37-1.096-1.695-3.038-1.516v3z"})),Rn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Rn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Rn["default"].createElement("mask",{fill:"currentColor"},Rn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-blacks-icon"})),Rn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-blacks-icon"})));},$5=see;});var Ya,nee,K5,X5=d(function(){Ya=y(x("react")),nee=function nee(){return Ya["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Ya["default"].createElement("defs",null,Ya["default"].createElement("path",{id:"photoeditorsdk-brightness-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),Ya["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ya["default"].createElement("mask",null,Ya["default"].createElement("use",{xlinkHref:"#photoeditorsdk-brightness-icon"})),Ya["default"].createElement("use",{fillOpacity:"0.9",transform:"rotate(-45 24.039 24)",xlinkHref:"#photoeditorsdk-brightness-icon"})));},K5=nee;});var An,aee,Y5,J5=d(function(){An=y(x("react")),aee=function aee(){return An["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},An["default"].createElement("defs",null,An["default"].createElement("path",{id:"photoeditorsdk-clarity-icon",d:"M24 12L13 24.001 24 36l11-11.999L24 12zm-8.29 12.001H21l3-9.041 8.29 9.041-8.28 9.029L28 24.001h-7l2.99 9.029-8.28-9.029z"})),An["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},An["default"].createElement("path",{d:"M0 0H48V48H0z"}),An["default"].createElement("mask",{fill:"currentColor"},An["default"].createElement("use",{xlinkHref:"#photoeditorsdk-clarity-icon"})),An["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-clarity-icon"})));},Y5=aee;});var Pn,lee,Z5,Q5=d(function(){Pn=y(x("react")),lee=function lee(){return Pn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Pn["default"].createElement("defs",null,Pn["default"].createElement("path",{id:"photoeditorsdk-contrast-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c-6.62 0-12 5.38-12 12s5.38 12 12 12 12-5.38 12-12-5.38-12-12-12"})),Pn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Pn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Pn["default"].createElement("mask",{fill:"currentColor"},Pn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-contrast-icon"})),Pn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-contrast-icon"})));},Z5=lee;});var Bn,cee,eP,tP=d(function(){Bn=y(x("react")),cee=function cee(){return Bn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Bn["default"].createElement("defs",null,Bn["default"].createElement("path",{id:"photoeditorsdk-exposure-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm-3.536 8.464l-2.121 2.122-2.121-2.122-1.414 1.415L16.929 24l-2.121 2.121 1.414 1.415 2.121-2.122 2.121 2.122 1.415-1.415L19.757 24l2.122-2.121-1.415-1.415zm5.304 4.597l4.242-4.243 1.415 1.414-4.243 4.243-1.414-1.414z"})),Bn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Bn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Bn["default"].createElement("mask",{fill:"currentColor"},Bn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-exposure-icon"})),Bn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(45 24 24)",xlinkHref:"#photoeditorsdk-exposure-icon"})));},eP=cee;});var Mn,dee,iP,rP=d(function(){Mn=y(x("react")),dee=function dee(){return Mn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Mn["default"].createElement("defs",null,Mn["default"].createElement("path",{id:"photoeditorsdk-gamma-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),Mn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Mn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Mn["default"].createElement("mask",{fill:"#fff"},Mn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-gamma-icon"})),Mn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-gamma-icon"})));},iP=dee;});var Ln,uee,oP,sP=d(function(){Ln=y(x("react")),uee=function uee(){return Ln["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Ln["default"].createElement("defs",null,Ln["default"].createElement("path",{id:"photoeditorsdk-highlights-icon",d:"M31.07 31.07A9.932 9.932 0 0124 34c-2.67 0-5.18-1.04-7.07-2.93l14.14-14.14c3.9 3.9 3.9 10.24 0 14.14m1.42-15.56A11.995 11.995 0 0024 12c-3.07 0-6.14 1.17-8.49 3.51-4.68 4.69-4.68 12.29 0 16.98C17.86 34.83 20.93 36 24 36c3.07 0 6.14-1.17 8.49-3.51 4.68-4.69 4.68-12.29 0-16.98"})),Ln["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ln["default"].createElement("path",{d:"M0 0H48V48H0z"}),Ln["default"].createElement("mask",{fill:"currentColor"},Ln["default"].createElement("use",{xlinkHref:"#photoeditorsdk-highlights-icon"})),Ln["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-highlights-icon"})));},oP=uee;});var zn,mee,nP,aP=d(function(){zn=y(x("react")),mee=function mee(){return zn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},zn["default"].createElement("defs",null,zn["default"].createElement("path",{id:"photoeditorsdk-saturation-icon",d:"M17 31c1.334 1.099 2 2.177 2 3.234 0 .797-.454 1.39-1.211 1.655-.165.057-.428.094-.789.111l-.172-.01a2.54 2.54 0 01-.617-.101C15.454 35.624 15 35.03 15 34.234c0-1.057.666-2.135 2-3.234zm8.7-6l-4.24 4H17v-3.81l.2-.19h8.5zm-.7-7.59l4.24 4.25L26.76 24h-8.54L25 17.41zm7.778-3.532a3 3 0 01.135 4.1l-.135.143-1.414 1.414 1.414 1.415-1.414 1.414-7.07-7.071 1.413-1.414 1.414 1.413 1.414-1.414a3.001 3.001 0 014.243 0z"})),zn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},zn["default"].createElement("path",{d:"M0 0H48V48H0z"}),zn["default"].createElement("mask",{fill:"currentColor"},zn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-saturation-icon"})),zn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-saturation-icon"})));},nP=mee;});var Un,pee,lP,cP=d(function(){Un=y(x("react")),pee=function pee(){return Un["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Un["default"].createElement("defs",null,Un["default"].createElement("path",{id:"photoeditorsdk-shadows-icon",d:"M30.365 17.637l3.076 3.076c.382 1.09.566 2.234.56 3.387l-5.05-5.049-1.414 1.414 6.123 6.124a9.674 9.674 0 01-.792 2.036l-6.746-6.745-1.414 1.414 7.036 7.036c-.212.254-.43.502-.672.742-.24.24-.488.46-.742.672l-7.036-7.036-1.414 1.414 6.745 6.746a9.674 9.674 0 01-2.036.792l-6.124-6.123-1.414 1.414L24.101 34a10.012 10.012 0 01-3.388-.558l-3.076-3.076-.707.707c-3.896-3.896-3.896-10.246 0-14.142 3.896-3.896 10.246-3.896 14.142 0l-.707.707zm-14.849-2.12c-4.688 4.687-4.688 12.281 0 16.97a12.036 12.036 0 004.108 2.693c.064.022.127.057.191.078 4.264 1.577 9.242.658 12.671-2.772 3.43-3.429 4.35-8.407 2.772-12.67-.02-.065-.056-.128-.078-.192a12.036 12.036 0 00-2.694-4.108c-4.688-4.688-12.282-4.688-16.97 0z"})),Un["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Un["default"].createElement("path",{d:"M0 0H48V48H0z"}),Un["default"].createElement("mask",{fill:"currentColor"},Un["default"].createElement("use",{xlinkHref:"#photoeditorsdk-shadows-icon"})),Un["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shadows-icon"})));},lP=pee;});var Nn,hee,dP,uP=d(function(){Nn=y(x("react")),hee=function hee(){return Nn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Nn["default"].createElement("defs",null,Nn["default"].createElement("path",{id:"photoeditorsdk-sharpness-icon",d:"M24 12l11 24H13l11-24zm0 4.8V34h7.883L24 16.8z"})),Nn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Nn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Nn["default"].createElement("mask",{fill:"currentColor"},Nn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-sharpness-icon"})),Nn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-sharpness-icon"})));},dP=hee;});var Hn,fee,mP,pP=d(function(){Hn=y(x("react")),fee=function fee(){return Hn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Hn["default"].createElement("defs",null,Hn["default"].createElement("path",{id:"photoeditorsdk-temperature-icon",d:"M24 12a4 4 0 014 4v7.255a7 7 0 11-8 0V16a4 4 0 014-4zm0 2a2 2 0 00-2 2v8.298l-.856.597a5 5 0 105.712 0L26 24.298V16a2 2 0 00-2-2zm1 6v5.126A4.002 4.002 0 0124 33a4 4 0 01-1-7.874V20h2z"})),Hn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Hn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Hn["default"].createElement("mask",{fill:"currentColor"},Hn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-temperature-icon"})),Hn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-temperature-icon"})));},mP=fee;});var Wn,gee,hP,fP=d(function(){Wn=y(x("react")),gee=function gee(){return Wn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Wn["default"].createElement("defs",null,Wn["default"].createElement("path",{id:"photoeditorsdk-whites-icon",d:"M24 12c6.627 0 12 5.373 12 12s-5.373 12-12 12-12-5.373-12-12 5.373-12 12-12zm-2 6.46h-2c.221 4.539.762 9.051 1 11.04h1.5l1.5-5.52 1.5 5.52H27c.238-1.989.779-6.501 1-11.04h-2c-.051 1.071-.432 7.446-.5 7.973-.459-1.717-.541-3.111-1-4.811h-1c-.442 1.7-.541 2.975-1 4.811-.051-.527-.466-6.902-.5-7.973z"})),Wn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Wn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Wn["default"].createElement("mask",{fill:"currentColor"},Wn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-whites-icon"})),Wn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-whites-icon"})));},hP=gee;});var Ja,bee,gP,bP=d(function(){Ja=y(x("react")),bee=function bee(){return Ja["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Ja["default"].createElement("defs",null,Ja["default"].createElement("path",{id:"photoeditorsdk-close-icon",d:"M21.583 0L24 2.416 14.416 12 24 21.584 21.583 24 12 14.416 2.417 24 0 21.584 9.584 12 0 2.416 2.417 0 12 9.584 21.583 0z"})),Ja["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ja["default"].createElement("mask",{fill:"currentColor"},Ja["default"].createElement("use",{xlinkHref:"#photoeditorsdk-close-icon"})),Ja["default"].createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-close-icon"})));},gP=bee;});function _ee(){return Za["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Za["default"].createElement("defs",null,Za["default"].createElement("path",{id:"photoeditorsdk-export-icon",d:"M22 1.5a1.5 1.5 0 011.493 1.356L23.5 3H22h1.5v17a1.5 1.5 0 01-1.5 1.5H12a1.5 1.5 0 01-1.493-1.356L10.5 20v-6h2v5.499h9v-16h-9V9h-2V3A1.5 1.5 0 0112 1.5h10zM6.15 5.817L7.634 7.3l-3.171 3.171h13.978v2H4.47l3.171 3.17-1.483 1.483L.5 11.467l5.65-5.65z"})),Za["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Za["default"].createElement("mask",{fill:"#fff"},Za["default"].createElement("use",{xlinkHref:"#photoeditorsdk-export-icon"})),Za["default"].createElement("use",{fill:"currentcolor",fillOpacity:"0.9",transform:"rotate(90 12 11.5)",xlinkHref:"#photoeditorsdk-export-icon"})));}var Za,_P,yP=d(function(){Za=y(x("react"));_P=_ee;});var Qa,yee,xP,vP=d(function(){Qa=y(x("react")),yee=function yee(){return Qa["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},Qa["default"].createElement("defs",null,Qa["default"].createElement("path",{id:"photoeditorsdk-redo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),Qa["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Qa["default"].createElement("mask",{fill:"currentColor"},Qa["default"].createElement("use",{xlinkHref:"#photoeditorsdk-redo-icon"})),Qa["default"].createElement("use",{fill:"currentColor",transform:"matrix(0 1 1 0 .25 -.25)",xlinkHref:"#photoeditorsdk-redo-icon"})));},xP=yee;});var el,xee,CP,SP=d(function(){el=y(x("react")),xee=function xee(){return el["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},el["default"].createElement("defs",null,el["default"].createElement("path",{id:"photoeditorsdk-undo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),el["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},el["default"].createElement("mask",{fill:"currentColor"},el["default"].createElement("use",{xlinkHref:"#photoeditorsdk-undo-icon"})),el["default"].createElement("use",{fill:"currentColor",transform:"rotate(90 12.25 12)",xlinkHref:"#photoeditorsdk-undo-icon"})));},CP=xee;});function vee(){return tl["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Center Align",width:"26",height:"26"},tl["default"].createElement("defs",null,tl["default"].createElement("path",{id:"photoeditorsdk-align-center-icon",d:"M31.5 30v3h-15v-3h15zm4.5-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),tl["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},tl["default"].createElement("mask",{fill:"#fff"},tl["default"].createElement("use",{xlinkHref:"#photoeditorsdk-align-center-icon"})),tl["default"].createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-center-icon"})));}var tl,wP,kP=d(function(){tl=y(x("react"));wP=vee;});var il,Cee,TP,DP=d(function(){il=y(x("react")),Cee=function Cee(){return il["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Left Align",width:"26",height:"26"},il["default"].createElement("defs",null,il["default"].createElement("path",{id:"photoeditorsdk-align-left-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),il["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},il["default"].createElement("mask",{fill:"#fff"},il["default"].createElement("use",{xlinkHref:"#photoeditorsdk-align-left-icon"})),il["default"].createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-left-icon"})));},TP=Cee;});function See(){return Gn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",width:"26",height:"26",focusable:"false","aria-hidden":"true","aria-label":"Right Align"},Gn["default"].createElement("defs",null,Gn["default"].createElement("path",{id:"photoeditorsdk-align-right-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),Gn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Gn["default"].createElement("path",{d:"M0 0H48V48H0z"}),Gn["default"].createElement("mask",{fill:"#fff"},Gn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-align-right-icon"})),Gn["default"].createElement("use",{fill:"currentColor",transform:"matrix(-1 0 0 1 48 0)",xlinkHref:"#photoeditorsdk-align-right-icon"})));}var Gn,EP,IP=d(function(){Gn=y(x("react"));EP=See;});var Bi,wee,FP,OP=d(function(){Bi=y(x("react")),wee=function wee(){return Bi["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Adjustments",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Bi["default"].createElement("g",{fill:"none",fillRule:"evenodd"},Bi["default"].createElement("g",null,Bi["default"].createElement("g",{fill:"#D8D8D8",opacity:"0"},Bi["default"].createElement("rect",{width:"48",height:"48"})),Bi["default"].createElement("g",{transform:"translate(12 12)"},Bi["default"].createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),Bi["default"].createElement("g",{transform:"translate(2 13)",fill:"currentColor"},Bi["default"].createElement("path",{d:"M3.02746439,4 C3.00931666,4.16416693 3,4.33099545 3,4.5 C3,4.66900455 3.00931666,4.83583307 3.02746439,5 L0,5 L0,4 L3.02746439,4 Z M13,4 L20,4 L20,5 L13,5 L13,4 Z",fillOpacity:"0.2"}),Bi["default"].createElement("path",{d:"M5.09842503,6.29819429 C5.0340931,6.05140089 5,5.7851211 5,5.5 C5,3.56700338 6.56700338,2 8.5,2 C8.7851211,2 9.05140089,2.0340931 9.29819429,2.09842503 C10.0278893,2.64566496 10.5,3.5176988 10.5,4.5 C10.5,6.15685425 9.15685425,7.5 7.5,7.5 C6.5176988,7.5 5.64566496,7.02788926 5.09842503,6.29819429 Z M11.1637159,7.11349161 C10.874061,7.51881791 10.5188179,7.87406095 10.1134916,8.16371592 C10.5772175,7.93004328 10.9300433,7.5772175 11.1637159,7.11349161 Z",fillOpacity:"0.2"}),Bi["default"].createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,0 7.5,0 C9.98528137,0 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"})),Bi["default"].createElement("g",{transform:"rotate(-180 11 5.5)",fill:"currentColor"},Bi["default"].createElement("path",{d:"M11.9725356,4 L20,4 L20,5 L11.9725356,5 C11.9906833,4.83583307 12,4.66900455 12,4.5 C12,4.33099545 11.9906833,4.16416693 11.9725356,4 Z M0,4 L2,4 L2,5 L0,5 L0,4 Z",fillOpacity:"0.2"}),Bi["default"].createElement("g",{transform:"rotate(-180 5 3.5)",fillOpacity:"0.2"},Bi["default"].createElement("path",{d:"M0.0984250251,4.29819429 C0.0340930963,4.05140089 0,3.7851211 0,3.5 C0,1.56700338 1.56700338,0 3.5,0 C3.7851211,0 4.05140089,0.0340930963 4.29819429,0.0984250251 C5.02788926,0.645664963 5.5,1.5176988 5.5,2.5 C5.5,4.15685425 4.15685425,5.5 2.5,5.5 C1.5176988,5.5 0.645664963,5.02788926 0.0984250251,4.29819429 Z M6.16371592,5.11349161 C5.87406095,5.51881791 5.51881791,5.87406095 5.11349161,6.16371592 C5.5772175,5.93004328 5.93004328,5.5772175 6.16371592,5.11349161 Z"})),Bi["default"].createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,-3.6739404e-16 7.5,-3.6739404e-16 C9.98528137,-3.6739404e-16 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"}))))));},FP=wee;});function kee(){return rl["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Brush",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},rl["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},rl["default"].createElement("path",{fillOpacity:"0.87",d:"M14.73 18.86C13.293 19.503 11.624 20 10 20 2 20 0 13 0 10c.486.972 2.37 5.848 7.537 4.165C7.873 17.125 10.427 19 13 19c.6 0 1.177-.05 1.73-.14zM8.422 8.63a7.352 7.352 0 00-1.127 1.616L2.401 3.705c-.215-.287-.178-.807.072-1.056l.088-.088L8.5 8.5l-.078.13z",opacity:"0.5",transform:"translate(12 12) translate(2 2)"}),rl["default"].createElement("path",{fillOpacity:"0.87",d:"M7.295 10.246c-.27.526-.48 1.09-.615 1.68L1.2 4.603c-.663-.885-.564-2.24.212-3.015l.176-.176c.78-.78 2.121-.881 3.015-.212l7.245 5.421a6.088 6.088 0 00-1.67.624L3.706 2.401c-.294-.22-.801-.184-1.056.072l-.176.176c-.25.25-.287.769-.072 1.056l4.894 6.54z",transform:"translate(12 12) translate(2 2)"}),rl["default"].createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858z",opacity:"0.5",transform:"translate(12 12) translate(2 2) translate(7 7)"}),rl["default"].createElement("path",{fillOpacity:"0.25",d:"M10.379 9.027c.053.135.108.263.165.385C8.914 10.158 7.545 10.5 6 10.5c-2.165 0-4-1.706-4-4 0-1.528.79-2.921 1.88-3.74-.882 2.084-1.025 6.482 6.499 6.267z",transform:"translate(12 12) translate(2 2) translate(7 7)"}),rl["default"].createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858zM6 12C3.239 12 .5 9.842.5 6.5S3.239.5 6 .5c6.5 0 4 8 7 9.342C11 10.947 8.761 12 6 12z",transform:"translate(12 12) translate(2 2) translate(7 7)"})));}var rl,RP,AP=d(function(){rl=y(x("react"));RP=kee;});var Zo,Tee,PP,BP=d(function(){Zo=y(x("react")),Tee=function Tee(){return Zo["default"].createElement("svg",{"aria-hidden":"true",focusable:"false","aria-label":"Filter",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Zo["default"].createElement("g",{fill:"none",fillRule:"evenodd"},Zo["default"].createElement("g",null,Zo["default"].createElement("g",{fill:"#D8D8D8",opacity:"0"},Zo["default"].createElement("rect",{width:"48",height:"48"})),Zo["default"].createElement("g",{transform:"translate(16 14)",fill:"currentColor"},Zo["default"].createElement("g",null,Zo["default"].createElement("path",{d:"M1.53468397,11.3244256 C2.30584171,10.1516526 4.0927284,8.69757613 8,10 C11.5643313,11.1881104 13.1877038,10.2588113 13.9183327,9.30853287 C14.2918933,10.1286474 14.5,11.0400207 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.41014913,18.5 1.5,15.5898509 1.5,12 C1.5,11.7718729 1.51175212,11.5464906 1.53468397,11.3244256 Z",fillOpacity:"0.2"}),Zo["default"].createElement("path",{d:"M1.53471819,12.6759057 C2.39408133,13.5811739 4.12541941,14.1109247 5.5,13.5 C9.81068889,11.5841383 9.99203585,9.66827654 14.3948028,10.8290113 C14.4639074,11.2088572 14.5,11.6002137 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.63838968,18.5 1.87279864,15.9481381 1.53471819,12.6759057 Z",fillOpacity:"0.25"}),Zo["default"].createElement("path",{d:"M11,1.44328993e-15 L11,4.58151705 C13.9318303,5.7682918 16,8.64262245 16,12 C16,16.418278 12.418278,20 8,20 C3.581722,20 0,16.418278 0,12 C0,8.64262245 2.06816966,5.7682918 5,4.58151705 L5,1.60982339e-15 L6.5,1.44328993e-15 L6.5,5.67393184 C3.6333,6.35109564 1.5,8.92641836 1.5,12 C1.5,15.5898509 4.41014913,18.5 8,18.5 C11.5898509,18.5 14.5,15.5898509 14.5,12 C14.5,8.92641836 12.3667,6.35109564 9.5,5.67393184 L9.5,1.77635684e-15 L11,1.44328993e-15 Z",fillOpacity:"0.87"}))))));},PP=Tee;});var So,Dee,MP,LP=d(function(){So=y(x("react")),Dee=function Dee(){return So["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Focus",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},So["default"].createElement("g",{fill:"none",fillRule:"evenodd"},So["default"].createElement("g",null,So["default"].createElement("g",{fill:"#D8D8D8",opacity:"0"},So["default"].createElement("rect",{width:"48",height:"48"})),So["default"].createElement("g",{transform:"translate(12 12)"},So["default"].createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),So["default"].createElement("g",{transform:"translate(4 2)",fill:"currentColor"},So["default"].createElement("path",{d:"M8.51312274,19.9836057 C8.77273397,19.9669655 9.02898229,19.9377873 9.2812837,19.8966625 C9.14309542,19.9643562 9.04607398,20 9,20 C8.83633495,20 8.67398178,19.9944755 8.51312274,19.9836057 Z M2.27242753,15.0235117 C2.09503729,14.4174909 2,13.7771617 2,13.115 C2,8.89625769 7.39855682,4.1952443 9.03524007,2.8669743 C9.66704719,3.45933018 10.2896864,4.09178959 10.8802638,4.75434357 C12.9939648,7.12565193 14.310818,9.45010207 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C5.525182,18.5 3.37015673,17.0943182 2.27242753,15.0235117 Z M15.999821,11.9547651 C15.9999402,11.9698392 16,11.9849176 16,12 C16,12.0581275 15.9984809,12.1163475 15.9954873,12.1746435 C15.9978914,12.1015915 15.9993401,12.0282946 15.999821,11.9547651 Z",fillOpacity:"0.2"}),So["default"].createElement("path",{d:"M3.47269084,16.6357644 C3.47244857,13.6389249 9.59189484,15.3529683 12,11.5 C13.2066771,9.56931667 12.316614,7.05620551 11.0727604,4.97270186 C13.0737756,7.26814668 14.316054,9.51197209 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C6.2411126,18.5 4.64375705,17.7899702 3.47269084,16.6357644 Z",fillOpacity:"0.25"}),So["default"].createElement("path",{d:"M7.73975027,2.16383649 C6.84545319,2.94914111 5.95084629,3.82194197 5.11973623,4.75434357 C3.00603518,7.12565193 1.68918197,9.45010207 1.51870896,11.4644804 C1.50624591,11.6117488 1.5,11.7569175 1.5,11.9 C1.5,15.5492218 4.41434886,18.5 8,18.5 C11.5855665,18.5 14.5,15.5490785 14.5,11.9 C14.5,11.7569175 14.4937541,11.6117488 14.481291,11.4644804 C14.310818,9.45010207 12.9939648,7.12565193 10.8802638,4.75434357 C10.0491537,3.82194197 9.15454681,2.94914111 8.26024973,2.16383649 C8.17157048,2.08596503 8.08476013,2.01060875 8,1.93784184 C7.91523987,2.01060875 7.82842952,2.08596503 7.73975027,2.16383649 Z M8,20 C3.581722,20 0,16.3735065 0,11.9 C0,6.05 8,0 8,0 C8,0 16,6.05 16,11.9 C16,16.3732777 12.418278,20 8,20 Z",fillOpacity:"0.87"}))))));},MP=Dee;});var yc,Eee,zP,UP=d(function(){yc=y(x("react")),Eee=function Eee(){return yc["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true","aria-label":"Frames",width:"48",height:"48",viewBox:"0 0 48 48"},yc["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},yc["default"].createElement("path",{fillOpacity:"0.2",d:"M8 8L17 7 17 17 7 17z"}),yc["default"].createElement("path",{fillOpacity:"0.87",d:"M4.5 19.5h15v-15h-15v15zM3 3h18v18H3V3z"}),yc["default"].createElement("path",{fillOpacity:"0.87",d:"M7 17h10V7H7v10zM6 6h12v12H6V6z"}),yc["default"].createElement("path",{fillOpacity:"0.25",d:"M9 15L11 12 13 14 14 13.5 15 15z"})));},zP=Eee;});var Vr,Iee,NP,HP=d(function(){Vr=y(x("react")),Iee=function Iee(){return Vr["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Library",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Vr["default"].createElement("g",{fill:"none",fillRule:"evenodd"},Vr["default"].createElement("g",{transform:"translate(15 15)",fill:"currentColor"},Vr["default"].createElement("g",null,Vr["default"].createElement("polygon",{fillOpacity:"0.2",points:"3 3 12.5 1.5 12.5 15.5 1.5 15.5"}),Vr["default"].createElement("path",{d:"M1.5,1.5 L1.5,15.5 L12.5,15.5 L12.5,1.5 L1.5,1.5 Z M0,0 L14,0 L14,17 L0,17 L0,0 Z",fillOpacity:"0.87"}),Vr["default"].createElement("polygon",{fillOpacity:"0.25",points:"3 11 6 7 8 9 9 8.5 11 11"}),Vr["default"].createElement("circle",{fillOpacity:"0.25",cx:"9",cy:"5",r:"1"}),Vr["default"].createElement("rect",{fillOpacity:"0.25",x:"3",y:"13",width:"8",height:"1"}),Vr["default"].createElement("g",{transform:"rotate(14 -2.352 56.952)",fillOpacity:"0.2"},Vr["default"].createElement("path",{d:"M1.32904158,1.07500967e-13 L5,1.07500967e-13 L5,14.7234101 L4,10.7126291 L4,1 L1.57836958,1 L1.32904158,1.07500967e-13 Z M5,14.9745817 L5,16 L0.887271787,16 L5,14.9745817 Z"}),Vr["default"].createElement("path",{d:"M1.82769758,2 L3,2 L3,6.70184819 L1.82769758,2 Z"}))))));},NP=Iee;});var Eu,Fee,WP,GP=d(function(){Eu=y(x("react")),Fee=function Fee(){return Eu["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Overlays",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Eu["default"].createElement("g",{fill:"none",fillRule:"evenodd"},Eu["default"].createElement("g",{transform:"translate(15 15)",fill:"currentColor"},Eu["default"].createElement("path",{d:"M13.5,4 L13.5,13.5 L4,13.5 L4,5 C4,4.44771525 4.44771525,4 5,4 L13.5,4 Z M15,4 L17,4 C17.5522847,4 18,4.44771525 18,5 L18,17 C18,17.5522847 17.5522847,18 17,18 L5,18 C4.44771525,18 4,17.5522847 4,17 L4,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,4 Z",fillOpacity:"0.2"}),Eu["default"].createElement("path",{d:"M1.5,1.5 L1.5,13.5 L13.5,13.5 L13.5,1.5 L1.5,1.5 Z M1,0 L14,0 C14.5522847,-1.01453063e-16 15,0.44771525 15,1 L15,14 C15,14.5522847 14.5522847,15 14,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z",fillOpacity:"0.87"}))));},WP=Fee;});var Bs,Oee,VP,jP=d(function(){Bs=y(x("react")),Oee=function Oee(){return Bs["default"].createElement("svg",{focusable:"false","aria-hidden":"true",width:"48px",height:"48px",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-label":"Stickers",viewBox:"0 0 48 48"},Bs["default"].createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Bs["default"].createElement("g",null,Bs["default"].createElement("g",{transform:"translate(14.000000, 14.000000)",fill:"currentColor"},Bs["default"].createElement("g",{transform:"translate(2.000000, 2.000000)",fillOpacity:"0.2"},Bs["default"].createElement("path",{d:"M11.5840291,0.290311095 C14.1040281,1.4637822 15.9529364,3.83641178 16.3972985,6.6747443 C11.4538042,7.5567274 7.55733385,11.4556991 6.68374109,16.3973312 C3.83946575,15.9530468 1.46423317,14.1041207 0.290132399,11.5832649 C0.0988489957,10.7650202 3.01980663e-14,9.89786431 3.01980663e-14,9 C3.01980663e-14,6.64646143 0.903391324,4.50392121 2.38232909,2.90022422 C4.02683831,1.11698861 6.38297582,-3.55271368e-15 9,-3.55271368e-15 C9.89814387,-3.55271368e-15 10.7655602,0.0989105588 11.5840291,0.290311095 Z"}),Bs["default"].createElement("path",{d:"M17.9877222,8 L8,17.9877222 C8.2591955,12.5923102 12.5906864,8.26470667 17.9877222,8 Z"})),Bs["default"].createElement("path",{d:"M9.87290303,14.9211604 C9.09408801,14.4293124 5,11.7146562 5,9 C5,7.34 6.34,6 8,6 C8.77,6 9.47,6.52 10,7 C10.53,6.52 11.23,6 12,6 C13.66,6 15,7.34 15,9 C15,9.30171667 14.9494261,9.60343334 14.8584511,9.90209822 C12.7354304,11.0373368 10.9933363,12.7905402 9.87290303,14.9211604 Z",fillOpacity:"0.25"}),Bs["default"].createElement("path",{d:"M10,1.5 C5.30557963,1.5 1.5,5.30557963 1.5,10 C1.5,14.2449983 4.61102233,17.7611603 8.68374109,18.3973312 C9.55733385,13.4556991 13.4538042,9.5567274 18.3972985,8.6747443 C17.7608961,4.60976745 14.2436106,1.5 10,1.5 Z M0,10 C0,4.4771525 4.4771525,0 10,0 C15.5228475,0 20,4.4771525 20,10 C14.5988732,10.2649073 10.2649073,14.5988732 10.0116954,19.9999933 C4.4771525,20 0,15.5228475 0,10 Z",fillOpacity:"0.87"})))));},VP=Oee;});var Iu,Ree,$P,qP=d(function(){Iu=y(x("react")),Ree=function Ree(){return Iu["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Texts",width:"48",height:"48"},Iu["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Iu["default"].createElement("path",{fillOpacity:"0.2",d:"M17.883 19.5H16.07L11.702 6.833l1.235-1.411L17.883 19.5z",transform:"translate(12 12)"}),Iu["default"].createElement("path",{fillOpacity:"0.87",d:"M10.8 8.818L8.483 14.5h4.275l-1.96-5.682zM10 6.5l3.5-4 5.973 17H21V21h-8v-1.5h1.483L13.276 16H7.873l-1.426 3.5H8V21H3v-1.5h1.704L10 6.5zm1.702.333L16.069 19.5h1.814L12.937 5.422l-1.235 1.411z",transform:"translate(12 12)"}),Iu["default"].createElement("path",{fillOpacity:"0.2",d:"M19.55 15l-.35-1H21v1h-1.45zm1.05 3l-.35-1H21v1h-.4zM7.639 8L7.25 9H3V8h4.639zm1.167-3l-.39 1H7V5h1.806zm-2.334 6l-.389 1H6v-1h.472zm-1.166 3l-.39 1H3v-1h2.306zm-1.167 3l-.389 1H3v-1h1.139zM15.35 3L15 2h1v1h-.65zm3.15 9l-.35-1H21v1h-2.5zm-1.05-3l-.35-1H21v1h-3.55zM16.4 6l-.35-1H18v1h-1.6zm-5.9-3H9V2h2.5l-1 1zM3 5h3v1H3V5zm16 0h2v1h-2V5zM3 11h2v1H3v-1zm18-8h-4V2h4v1zM8 3H3V2h5v1z",transform:"translate(12 12)"})));},$P=Ree;});var Fu,Aee,KP,XP=d(function(){Fu=y(x("react")),Aee=function Aee(){return Fu["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Text Design",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Fu["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Fu["default"].createElement("path",{fillOpacity:"0.87",d:"M1 0h14a1 1 0 011 1v19l-8-6-8 6V1a1 1 0 011-1zm.5 1.5V17L8 12.125 14.5 17V1.5h-13z",transform:"translate(14 14) translate(2)"}),Fu["default"].createElement("path",{fillOpacity:"0.2",d:"M1.5 1.5h13V17L8 12.125 1.5 17V1.5z",transform:"translate(14 14) translate(2)"}),Fu["default"].createElement("path",{fillOpacity:"0.25",d:"M9 4l2.52 7H10.2l-.7-1.85H6.45L5.77 11H4.49L6.9 4H9zm-1.04.78h-.05L6.73 8.14H9.2L7.96 4.78z",transform:"translate(14 14) translate(2)"})));},KP=Aee;});function Pee(){return ol["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Transform",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},ol["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},ol["default"].createElement("path",{fillOpacity:"0.2",d:"M10 10L15 9 15 15 9 15z"}),ol["default"].createElement("path",{fillOpacity:"0.87",d:"M9 15h6V9H9v6zm-1.5 0V7.5H15V3h1.5v13.5H3V15h4.5zm0 2.5H9V21H7.5v-3.5zM21 7.5V9h-3.5V7.5H21z"}),ol["default"].createElement("g",{fillOpacity:"0.2"},ol["default"].createElement("path",{d:"M0 10h1a9.003 9.003 0 015.5-8.294L7 3 10.942.044C10.632.014 10.318 0 10 0 4.477 0 0 4.477 0 10z",transform:"translate(2 2)"}),ol["default"].createElement("path",{d:"M9 20h1a9.003 9.003 0 015.5-8.294L16 13l3.942-2.956c-.31-.03-.624-.044-.942-.044-5.523 0-10 4.477-10 10z",transform:"translate(2 2) rotate(-180 14.47 15)"}))));}var ol,YP,JP=d(function(){ol=y(x("react"));YP=Pee;});var sl,Bee,ZP,QP=d(function(){sl=y(x("react")),Bee=function Bee(){return sl["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},sl["default"].createElement("defs",null,sl["default"].createElement("path",{id:"photoeditorsdk-icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),sl["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},sl["default"].createElement("mask",{fill:"currentColor"},sl["default"].createElement("use",{xlinkHref:"#photoeditorsdk-icon-add-text"})),sl["default"].createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-icon-add-text"})));},ZP=Bee;});var XS,Mee,eB,tB=d(function(){XS=y(x("react")),Mee=function Mee(){return XS["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},XS["default"].createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"}));},eB=Mee;});var YS,Lee,iB,rB=d(function(){YS=y(x("react")),Lee=function Lee(){return YS["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},YS["default"].createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"}));},iB=Lee;});function zee(){return nl["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},nl["default"].createElement("defs",null,nl["default"].createElement("path",{id:"photoeditorsdk-shuffle-icon",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),nl["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},nl["default"].createElement("mask",{fill:"currentColor"},nl["default"].createElement("use",{xlinkHref:"#photoeditorsdk-shuffle-icon"})),nl["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shuffle-icon"})));}var nl,oB,sB=d(function(){nl=y(x("react"));oB=zee;});var al,Uee,nB,aB=d(function(){al=y(x("react")),Uee=function Uee(){return al["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},al["default"].createElement("defs",null,al["default"].createElement("path",{id:"photoeditorsdk-upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),al["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},al["default"].createElement("mask",{fill:"currentColor"},al["default"].createElement("use",{xlinkHref:"#photoeditorsdk-upload-icon"})),al["default"].createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-upload-icon"})));},nB=Uee;});var Vn,Nee,lB,cB=d(function(){Vn=y(x("react")),Nee=function Nee(){return Vn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Vn["default"].createElement("defs",null,Vn["default"].createElement("path",{id:"photoeditorsdk-bring-to-front-icon",d:"M21 16a2 2 0 012 2v4a2 2 0 01-2 2H3a2 2 0 01-2-2v-4a2 2 0 012-2h18zM12.006 1l5.996 5.996-1.414 1.414-3.578-3.577V12h-2.008V4.833L7.418 8.417 6.004 7.003 12.006 1z"})),Vn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Vn["default"].createElement("path",{d:"M0 0H24V24H0z"}),Vn["default"].createElement("mask",{fill:"currentColor"},Vn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-bring-to-front-icon"})),Vn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-bring-to-front-icon"})));},lB=Nee;});var ci,Hee,dB,uB=d(function(){ci=y(x("react")),Hee=function Hee(_ref42){var _ref42$highlight=_ref42.highlight,r=_ref42$highlight===void 0?"currentColor":_ref42$highlight,_ref42$width=_ref42.width,e=_ref42$width===void 0?48:_ref42$width,_ref42$height=_ref42.height,t=_ref42$height===void 0?48:_ref42$height;return ci["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 48 48"},ci["default"].createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},ci["default"].createElement("g",{fill:r,transform:"translate(13 13)"},ci["default"].createElement("path",{d:"M22 3.701h-1.642V1.644l-2.06-.001V0h2.538c.421 0 .682.174.827.32.322.322.337.748.337.83v2.551z"}),ci["default"].createElement("path",{d:"M1.643 3.701H0V1.165C0 .743.174.482.32.336.64.016 1.06 0 1.147 0H3.701v1.643H1.644l-.001 2.058z"}),ci["default"].createElement("path",{d:"M13.7232174 1.5486087L17.4249565 1.5486087 17.4249565 0 13.7232174 0z"}),ci["default"].createElement("path",{d:"M9.15008696 1.5486087L12.8508696 1.5486087 12.8508696 0 9.15008696 0z"}),ci["default"].createElement("path",{d:"M4.57504348 1.5486087L8.27678261 1.5486087 8.27678261 0 4.57504348 0z"}),ci["default"].createElement("path",{d:"M0 8.27582609L1.5486087 8.27582609 1.5486087 4.57504348 0 4.57504348z"}),ci["default"].createElement("path",{d:"M20.4513913 8.27582609L22 8.27582609 22 4.57504348 20.4513913 4.57504348z"}),ci["default"].createElement("path",{d:"M0 12.8508696L1.5486087 12.8508696 1.5486087 9.14913043 0 9.14913043z"}),ci["default"].createElement("path",{d:"M0 17.4249565L1.5486087 17.4249565 1.5486087 13.7232174 0 13.7232174z"}),ci["default"].createElement("path",{d:"M20.4513913 12.8508696L22 12.8508696 22 9.14913043 20.4513913 9.14913043z"}),ci["default"].createElement("path",{d:"M20.4513913 17.4249565L22 17.4249565 22 13.7232174 20.4513913 13.7232174z"}),ci["default"].createElement("path",{d:"M3.702 22H1.165c-.421 0-.682-.174-.828-.32-.322-.322-.337-.748-.337-.83v-2.552h1.643v2.059h2.059V22z"}),ci["default"].createElement("path",{d:"M20.853 22h-2.554v-1.642h2.057l.001-2.06H22v2.538c0 .42-.174.682-.319.827-.32.32-.742.337-.828.337"}),ci["default"].createElement("path",{d:"M4.57504348 22L8.27678261 22 8.27678261 20.4513913 4.57504348 20.4513913z"}),ci["default"].createElement("path",{d:"M9.15008696 22L12.8508696 22 12.8508696 20.4513913 9.15008696 20.4513913z"}),ci["default"].createElement("path",{d:"M13.7232174 22L17.4249565 22 17.4249565 20.4513913 13.7232174 20.4513913z"}))));},dB=Hee;});var D_,Wee,mB,pB=d(function(){D_=y(x("react")),Wee=function Wee(_ref43){var _ref43$highlight=_ref43.highlight,r=_ref43$highlight===void 0?"currentColor":_ref43$highlight,_ref43$width=_ref43.width,e=_ref43$width===void 0?48:_ref43$width,_ref43$height=_ref43.height,t=_ref43$height===void 0?48:_ref43$height;return D_["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 48 48"},D_["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},D_["default"].createElement("path",{fill:r,d:"M29.967 13.005L26.984 13c-3.35 0-5.516 2.222-5.516 5.66v2.61h-2.999c-.26 0-.469.21-.469.47v3.78c0 .26.21.47.469.47h2.999v9.541c0 .26.21.469.469.469h3.912c.26 0 .47-.21.47-.469V25.99h3.506c.259 0 .469-.21.469-.47l.001-3.78a.47.47 0 00-.469-.47h-3.508v-2.212c0-1.064.254-1.603 1.639-1.603l2.01-.001c.258 0 .468-.21.468-.47v-3.51a.47.47 0 00-.468-.47z"})));},mB=Wee;});var xc,Gee,hB,fB=d(function(){xc=y(x("react")),Gee=function Gee(_ref44){var _ref44$highlight=_ref44.highlight,r=_ref44$highlight===void 0?"currentColor":_ref44$highlight,_ref44$width=_ref44.width,e=_ref44$width===void 0?48:_ref44$width,_ref44$height=_ref44.height,t=_ref44$height===void 0?48:_ref44$height;return xc["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 48 48"},xc["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},xc["default"].createElement("g",{fill:r,transform:"translate(13 13)"},xc["default"].createElement("path",{d:"M15.125 0h-8.25A6.876 6.876 0 000 6.875v8.25A6.876 6.876 0 006.875 22h8.25A6.876 6.876 0 0022 15.125v-8.25A6.876 6.876 0 0015.125 0zm4.813 15.125a4.818 4.818 0 01-4.813 4.813h-8.25a4.818 4.818 0 01-4.813-4.813v-8.25a4.818 4.818 0 014.813-4.813h8.25a4.818 4.818 0 014.813 4.813v8.25z"}),xc["default"].createElement("path",{d:"M11 5.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 8.938A3.442 3.442 0 017.562 11 3.441 3.441 0 0111 7.562 3.441 3.441 0 0114.438 11 3.442 3.442 0 0111 14.438z"}),xc["default"].createElement("circle",{cx:"16.913",cy:"5.088",r:"1"}))));},hB=Gee;});var E_,Vee,gB,bB=d(function(){E_=y(x("react")),Vee=function Vee(_ref45){var _ref45$highlight=_ref45.highlight,r=_ref45$highlight===void 0?"currentColor":_ref45$highlight,_ref45$width=_ref45.width,e=_ref45$width===void 0?48:_ref45$width,_ref45$height=_ref45.height,t=_ref45$height===void 0?48:_ref45$height;return E_["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 48 48"},E_["default"].createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},E_["default"].createElement("path",{fill:r,d:"M36 17.305c-.892.402-1.843.668-2.835.797a4.997 4.997 0 002.165-2.79 9.685 9.685 0 01-3.12 1.222 4.874 4.874 0 00-3.595-1.596c-2.723 0-4.916 2.267-4.916 5.047 0 .4.032.785.113 1.151-4.09-.205-7.71-2.215-10.141-5.278a5.18 5.18 0 00-.673 2.55c0 1.748.877 3.297 2.185 4.194a4.766 4.766 0 01-2.223-.621v.055c0 2.452 1.705 4.49 3.942 4.958-.4.113-.837.167-1.29.167-.315 0-.633-.019-.931-.087.637 1.999 2.446 3.468 4.597 3.516a9.73 9.73 0 01-6.1 2.152c-.404 0-.791-.018-1.178-.07a13.601 13.601 0 007.548 2.266c9.054 0 14.004-7.693 14.004-14.36 0-.224-.008-.439-.018-.653A9.958 9.958 0 0036 17.305z"})));},gB=Vee;});var _B,jee,Zi,ll=d(function(){_B=y(x("styled-components")),jee=_B["default"].svg.attrs({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"})(_templateObject137||(_templateObject137=_taggedTemplateLiteral([""]))),Zi=jee;});var gt,$ee,yB,xB=d(function(){gt=y(x("react"));ll();$ee=function $ee(_ref46){var _ref46$highlight=_ref46.highlight,r=_ref46$highlight===void 0?"#565656":_ref46$highlight,_ref46$width=_ref46.width,e=_ref46$width===void 0?32:_ref46$width,_ref46$height=_ref46.height,t=_ref46$height===void 0?32:_ref46$height;return gt["default"].createElement(Zi,{width:e,height:t,viewBox:"0 0 32 32"},gt["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},gt["default"].createElement("g",{fill:r,transform:"translate(-8 -8)"},gt["default"].createElement("g",{transform:"translate(8 8)"},gt["default"].createElement("g",null,gt["default"].createElement("path",{d:"M.941 31.992h2.824v-.94L.941 31.05v-2.822h-.94v2.846s-.004.918.94.918"}),gt["default"].createElement("path",{d:"M31.974 31.051v-2.823h-.942v2.823h-2.823v.941h2.846s.919.003.919-.94"}),gt["default"].createElement("path",{d:"M4.62305882 31.9926588L8.38776471 31.9926588 8.38776471 31.0514824 4.62305882 31.0514824z"}),gt["default"].createElement("path",{d:"M9.32894118 31.9926588L13.0936471 31.9926588 13.0936471 31.0514824 9.32894118 31.0514824z"}),gt["default"].createElement("path",{d:"M14.0348235 31.9926588L17.7995294 31.9926588 17.7995294 31.0514824 14.0348235 31.0514824z"}),gt["default"].createElement("path",{d:"M18.7407059 31.9926588L22.5054118 31.9926588 22.5054118 31.0514824 18.7407059 31.0514824z"}),gt["default"].createElement("path",{d:"M23.4465882 31.9926588L27.2112941 31.9926588 27.2112941 31.0514824 23.4465882 31.0514824z"}),gt["default"].createElement("path",{d:"M0 .94v2.824h.941L.942.941h2.823V0H.919S0-.002 0 .94"}),gt["default"].createElement("path",{d:"M31.032 0H28.21v.94l2.823.002v2.822h.942V.92s.002-.92-.942-.92"}),gt["default"].createElement("path",{d:"M4.62305882 0.940423529L8.38776471 0.940423529 8.38776471 -0.000752941176 4.62305882 -0.000752941176z"}),gt["default"].createElement("path",{d:"M9.32894118 0.940423529L13.0936471 0.940423529 13.0936471 -0.000752941176 9.32894118 -0.000752941176z"}),gt["default"].createElement("path",{d:"M14.0348235 0.940423529L17.7995294 0.940423529 17.7995294 -0.000752941176 14.0348235 -0.000752941176z"}),gt["default"].createElement("path",{d:"M18.7407059 0.940423529L22.5054118 0.940423529 22.5054118 -0.000752941176 18.7407059 -0.000752941176z"}),gt["default"].createElement("path",{d:"M23.4465882 0.940423529L27.2112941 0.940423529 27.2112941 -0.000752941176 23.4465882 -0.000752941176z"}),gt["default"].createElement("path",{d:"M0 8.46324706L0.941176471 8.46324706 0.941176471 4.69854118 0 4.69854118z"}),gt["default"].createElement("path",{d:"M0 13.1691294L0.941176471 13.1691294 0.941176471 9.40442353 0 9.40442353z"}),gt["default"].createElement("path",{d:"M0 17.8750118L0.941176471 17.8750118 0.941176471 14.1103059 0 14.1103059z"}),gt["default"].createElement("path",{d:"M0 22.5808941L0.941176471 22.5808941 0.941176471 18.8161882 0 18.8161882z"}),gt["default"].createElement("path",{d:"M0 27.2867765L0.941176471 27.2867765 0.941176471 23.5220706 0 23.5220706z"}),gt["default"].createElement("path",{d:"M30.976 8.46324706L31.9171765 8.46324706 31.9171765 4.69854118 30.976 4.69854118z"}),gt["default"].createElement("path",{d:"M30.976 13.1691294L31.9171765 13.1691294 31.9171765 9.40442353 30.976 9.40442353z"}),gt["default"].createElement("path",{d:"M30.976 17.8750118L31.9171765 17.8750118 31.9171765 14.1103059 30.976 14.1103059z"}),gt["default"].createElement("path",{d:"M30.976 22.5808941L31.9171765 22.5808941 31.9171765 18.8161882 30.976 18.8161882z"}),gt["default"].createElement("path",{d:"M30.976 27.2867765L31.9171765 27.2867765 31.9171765 23.5220706 30.976 23.5220706z"}))))));},yB=$ee;});var ih,qee,vB,CB=d(function(){ih=y(x("react"));ll();qee=function qee(_ref47){var _ref47$highlight=_ref47.highlight,r=_ref47$highlight===void 0?"#565656":_ref47$highlight,_ref47$width=_ref47.width,e=_ref47$width===void 0?32:_ref47$width,_ref47$height=_ref47.height,t=_ref47$height===void 0?48:_ref47$height;return ih["default"].createElement(Zi,{width:e,height:t,viewBox:"0 0 42 32"},ih["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},ih["default"].createElement("g",{fill:r,transform:"translate(-3 -8)"},ih["default"].createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5"}))));},vB=qee;});var rh,Kee,SB,wB=d(function(){rh=y(x("react"));ll();Kee=function Kee(_ref48){var _ref48$highlight=_ref48.highlight,r=_ref48$highlight===void 0?"#565656":_ref48$highlight,_ref48$width=_ref48.width,e=_ref48$width===void 0?26:_ref48$width,_ref48$height=_ref48.height,t=_ref48$height===void 0?46:_ref48$height;return rh["default"].createElement(Zi,{width:e,height:t,viewBox:"0 0 26 46"},rh["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},rh["default"].createElement("g",{fill:r,transform:"translate(-11 -1)"},rh["default"].createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z",transform:"rotate(90 24 24)"}))));},SB=Kee;});var oh,Xee,kB,TB=d(function(){oh=y(x("react"));ll();Xee=function Xee(_ref49){var _ref49$highlight=_ref49.highlight,r=_ref49$highlight===void 0?"#565656":_ref49$highlight,_ref49$width=_ref49.width,e=_ref49$width===void 0?26:_ref49$width,_ref49$height=_ref49.height,t=_ref49$height===void 0?46:_ref49$height;return oh["default"].createElement(Zi,{width:e,height:t,viewBox:"0 0 26 46"},oh["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},oh["default"].createElement("g",{fill:r,transform:"translate(-11 -1)"},oh["default"].createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z"}))));},kB=Xee;});var Ms,Yee,DB,EB=d(function(){Ms=y(x("react"));ll();Yee=function Yee(_ref50){var _ref50$highlight=_ref50.highlight,r=_ref50$highlight===void 0?"#565656":_ref50$highlight,_ref50$mask=_ref50.mask,e=_ref50$mask===void 0?"#fff":_ref50$mask,_ref50$width=_ref50.width,t=_ref50$width===void 0?32:_ref50$width,_ref50$height=_ref50.height,i=_ref50$height===void 0?32:_ref50$height;return Ms["default"].createElement(Zi,{width:t,height:i,viewBox:"0 0 32 32"},Ms["default"].createElement("defs",null,Ms["default"].createElement("rect",{id:"photoeditorsdk-square-icon",width:"32",height:"32",x:"0.92",y:"0.707",rx:"1"})),Ms["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ms["default"].createElement("g",{transform:"translate(-8 -8)"},Ms["default"].createElement("g",{transform:"translate(7.08 7.293)"},Ms["default"].createElement("mask",{fill:e},Ms["default"].createElement("use",{xlinkHref:"#photoeditorsdk-square-icon"})),Ms["default"].createElement("use",{fill:r,xlinkHref:"#photoeditorsdk-square-icon"})))));},DB=Yee;});var sh,Jee,IB,FB=d(function(){sh=y(x("react"));ll();Jee=function Jee(_ref51){var _ref51$highlight=_ref51.highlight,r=_ref51$highlight===void 0?"#565656":_ref51$highlight,_ref51$width=_ref51.width,e=_ref51$width===void 0?32:_ref51$width,_ref51$height=_ref51.height,t=_ref51$height===void 0?42:_ref51$height;return sh["default"].createElement(Zi,{width:e,height:t,viewBox:"0 0 32 42"},sh["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},sh["default"].createElement("g",{fill:r,transform:"translate(-8 -3)"},sh["default"].createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5",transform:"rotate(90 24 24)"}))));},IB=Jee;});var Ls,Zee,OB,RB=d(function(){Ls=y(x("react")),Zee=function Zee(_ref52){var _ref52$main=_ref52.main,r=_ref52$main===void 0?"#424242":_ref52$main,_ref52$highlight=_ref52.highlight,e=_ref52$highlight===void 0?"#565656":_ref52$highlight,_ref52$width=_ref52.width,t=_ref52$width===void 0?"48px":_ref52$width,_ref52$height=_ref52.height,i=_ref52$height===void 0?"48px":_ref52$height;return Ls["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},Ls["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ls["default"].createElement("rect",{width:"28",height:"3",x:"12",y:"41",fill:r,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),Ls["default"].createElement("rect",{width:"34",height:"28",x:"7",y:"8",fill:e,rx:"0.5",transform:"matrix(1 0 0 -1 0 44)"}),Ls["default"].createElement("rect",{width:"3",height:"3",x:"8",y:"41",fill:r,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),Ls["default"].createElement("rect",{width:"28",height:"3",x:"12",y:"37",fill:r,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),Ls["default"].createElement("rect",{width:"28",height:"3",x:"12",y:"4",fill:r,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"}),Ls["default"].createElement("rect",{width:"3",height:"3",x:"8",y:"37",fill:r,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),Ls["default"].createElement("rect",{width:"3",height:"3",x:"8",y:"4",fill:r,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"})));},OB=Zee;});var zs,Qee,AB,PB=d(function(){zs=y(x("react")),Qee=function Qee(_ref53){var _ref53$main=_ref53.main,r=_ref53$main===void 0?"#424242":_ref53$main,_ref53$highlight=_ref53.highlight,e=_ref53$highlight===void 0?"#565656":_ref53$highlight,_ref53$width=_ref53.width,t=_ref53$width===void 0?"48px":_ref53$width,_ref53$height=_ref53.height,i=_ref53$height===void 0?"48px":_ref53$height;return zs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},zs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},zs["default"].createElement("g",null,zs["default"].createElement("path",{fill:r,d:"M42 5a1 1 0 011 1v13a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1h36zM21.505 18h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0029.51 18z"}),zs["default"].createElement("rect",{width:"22",height:"11",x:"20",y:"29",fill:r,rx:"1"}),zs["default"].createElement("rect",{width:"13",height:"10",x:"6",y:"23",fill:r,rx:"1"}),zs["default"].createElement("rect",{width:"22",height:"5",x:"20",y:"23",fill:r,rx:"1"}),zs["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:e,rx:"1"}),zs["default"].createElement("rect",{width:"13",height:"9",x:"6",y:"34",fill:r,rx:"1"}))));},AB=Qee;});var Us,ete,BB,MB=d(function(){Us=y(x("react")),ete=function ete(_ref54){var _ref54$main=_ref54.main,r=_ref54$main===void 0?"#424242":_ref54$main,_ref54$highlight=_ref54.highlight,e=_ref54$highlight===void 0?"#565656":_ref54$highlight,_ref54$width=_ref54.width,t=_ref54$width===void 0?"48px":_ref54$width,_ref54$height=_ref54.height,i=_ref54$height===void 0?"48px":_ref54$height;return Us["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},Us["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Us["default"].createElement("g",{transform:"translate(5 5)"},Us["default"].createElement("path",{fill:e,d:"M37 0a1 1 0 011 1v13a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h36zM16.505 13h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0024.51 13z"}),Us["default"].createElement("rect",{width:"22",height:"11",x:"15",y:"24",fill:r,rx:"1"}),Us["default"].createElement("rect",{width:"13",height:"10",x:"1",y:"18",fill:r,rx:"1"}),Us["default"].createElement("rect",{width:"22",height:"5",x:"15",y:"18",fill:r,rx:"1"}),Us["default"].createElement("rect",{width:"7",height:"7",x:"4",y:"9",fill:r,rx:"1"}),Us["default"].createElement("rect",{width:"13",height:"9",x:"1",y:"29",fill:r,rx:"1"}))));},BB=ete;});var jn,tte,LB,zB=d(function(){jn=y(x("react")),tte=function tte(_ref55){var _ref55$main=_ref55.main,r=_ref55$main===void 0?"#424242":_ref55$main,_ref55$highlight=_ref55.highlight,e=_ref55$highlight===void 0?"#565656":_ref55$highlight,_ref55$width=_ref55.width,t=_ref55$width===void 0?"48px":_ref55$width,_ref55$height=_ref55.height,i=_ref55$height===void 0?"48px":_ref55$height;return jn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},jn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},jn["default"].createElement("rect",{width:"26",height:"7",x:"7",y:"18",fill:r,rx:"1"}),jn["default"].createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:r,rx:"1"}),jn["default"].createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:r,rx:"1"}),jn["default"].createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:r,rx:"1"}),jn["default"].createElement("rect",{width:"26",height:"21",x:"7",y:"27",fill:r,rx:"1"}),jn["default"].createElement("rect",{width:"26",height:"16",x:"7",y:"5",fill:e,rx:"1"})));},LB=tte;});var $n,ite,UB,NB=d(function(){$n=y(x("react")),ite=function ite(_ref56){var _ref56$main=_ref56.main,r=_ref56$main===void 0?"#424242":_ref56$main,_ref56$highlight=_ref56.highlight,e=_ref56$highlight===void 0?"#565656":_ref56$highlight,_ref56$width=_ref56.width,t=_ref56$width===void 0?"48px":_ref56$width,_ref56$height=_ref56.height,i=_ref56$height===void 0?"48px":_ref56$height;return $n["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},$n["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},$n["default"].createElement("rect",{width:"26",height:"7",x:"7",y:"34",fill:r,rx:"1"}),$n["default"].createElement("rect",{width:"26",height:"32",x:"7",y:"5",fill:e,rx:"1"}),$n["default"].createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:r,rx:"1"}),$n["default"].createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:r,rx:"1"}),$n["default"].createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:r,rx:"1"}),$n["default"].createElement("rect",{width:"26",height:"5",x:"7",y:"43",fill:r,rx:"1"})));},UB=ite;});var qn,rte,HB,WB=d(function(){qn=y(x("react")),rte=function rte(_ref57){var _ref57$main=_ref57.main,r=_ref57$main===void 0?"#424242":_ref57$main,_ref57$highlight=_ref57.highlight,e=_ref57$highlight===void 0?"#565656":_ref57$highlight,_ref57$width=_ref57.width,t=_ref57$width===void 0?"48px":_ref57$width,_ref57$height=_ref57.height,i=_ref57$height===void 0?"48px":_ref57$height;return qn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},qn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn["default"].createElement("rect",{width:"26",height:"7",x:"7",y:"28",fill:r,rx:"1"}),qn["default"].createElement("rect",{width:"26",height:"26",x:"7",y:"5",fill:e,rx:"1"}),qn["default"].createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:r,rx:"1"}),qn["default"].createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:r,rx:"1"}),qn["default"].createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:r,rx:"1"}),qn["default"].createElement("rect",{width:"26",height:"11",x:"7",y:"37",fill:r,rx:"1"})));},HB=rte;});var nh,ote,GB,VB=d(function(){nh=y(x("react")),ote=function ote(_ref58){var _ref58$main=_ref58.main,r=_ref58$main===void 0?"#424242":_ref58$main,_ref58$highlight=_ref58.highlight,e=_ref58$highlight===void 0?"#565656":_ref58$highlight,_ref58$width=_ref58.width,t=_ref58$width===void 0?"48px":_ref58$width,_ref58$height=_ref58.height,i=_ref58$height===void 0?"48px":_ref58$height;return nh["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},nh["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},nh["default"].createElement("rect",{width:"20",height:"34",x:"14",y:"10",fill:e,rx:"1.5"}),nh["default"].createElement("rect",{width:"3",height:"3",x:"14",y:"5",fill:r,rx:"1"})));},GB=ote;});var Qi,ste,jB,$B=d(function(){Qi=y(x("react")),ste=function ste(_ref59){var _ref59$main=_ref59.main,r=_ref59$main===void 0?"#424242":_ref59$main,_ref59$highlight=_ref59.highlight,e=_ref59$highlight===void 0?"#565656":_ref59$highlight,_ref59$shadow=_ref59.shadow,t=_ref59$shadow===void 0?"#333333":_ref59$shadow,_ref59$width=_ref59.width,i=_ref59$width===void 0?"48px":_ref59$width,_ref59$height=_ref59.height,o=_ref59$height===void 0?"48px":_ref59$height;return Qi["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:o,viewBox:"0 0 48 48"},Qi["default"].createElement("defs",null,Qi["default"].createElement("filter",{id:"photoeditorsdk-twitter-post-icon",width:"166.7%",height:"166.7%",x:"-33.3%",y:"-33.3%",filterUnits:"objectBoundingBox"},Qi["default"].createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:"1"}))),Qi["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Qi["default"].createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:r,rx:"0.5"}),Qi["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:r,rx:"0.5"}),Qi["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:r,rx:"0.5"}),Qi["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:r,rx:"0.5"}),Qi["default"].createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:e,rx:"0.5"}),Qi["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:r,rx:"0.5"}),Qi["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:r,rx:"0.5"}),Qi["default"].createElement("rect",{width:"9",height:"9",x:"8",y:"13",fill:t,filter:"url(#photoeditorsdk-twitter-post-icon)",rx:"1"}),Qi["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:r,rx:"1"})));},jB=ste;});var Qo,nte,qB,KB=d(function(){Qo=y(x("react")),nte=function nte(_ref60){var _ref60$main=_ref60.main,r=_ref60$main===void 0?"#424242":_ref60$main,_ref60$highlight=_ref60.highlight,e=_ref60$highlight===void 0?"#565656":_ref60$highlight,_ref60$width=_ref60.width,t=_ref60$width===void 0?"48px":_ref60$width,_ref60$height=_ref60.height,i=_ref60$height===void 0?"48px":_ref60$height;return Qo["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},Qo["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Qo["default"].createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:r,rx:"0.5"}),Qo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:r,rx:"0.5"}),Qo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:r,rx:"0.5"}),Qo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:r,rx:"0.5"}),Qo["default"].createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:r,rx:"0.5"}),Qo["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:r,rx:"0.5"}),Qo["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:r,rx:"0.5"}),Qo["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:e,rx:"1"})));},qB=nte;});var es,ate,XB,YB=d(function(){es=y(x("react")),ate=function ate(_ref61){var _ref61$main=_ref61.main,r=_ref61$main===void 0?"#424242":_ref61$main,_ref61$highlight=_ref61.highlight,e=_ref61$highlight===void 0?"#565656":_ref61$highlight,_ref61$width=_ref61.width,t=_ref61$width===void 0?"48px":_ref61$width,_ref61$height=_ref61.height,i=_ref61$height===void 0?"48px":_ref61$height;return es["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 48 48"},es["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},es["default"].createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:e,rx:"0.5"}),es["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:r,rx:"0.5"}),es["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:r,rx:"0.5"}),es["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:r,rx:"0.5"}),es["default"].createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:r,rx:"0.5"}),es["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:r,rx:"0.5"}),es["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:r,rx:"0.5"}),es["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:r,rx:"1"})));},XB=ate;});var cl,lte,JB,ZB=d(function(){cl=y(x("react")),lte=function lte(){return cl["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},cl["default"].createElement("defs",null,cl["default"].createElement("path",{id:"photoeditorsdk-delete-icon",d:"M20 6l-2.312 15.718A1.5 1.5 0 0116.204 23H5.796a1.5 1.5 0 01-1.484-1.282L2 6h18zM7 1a1 1 0 011-1h6a1 1 0 011 1v1h7v2H0V2h7V1z"})),cl["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},cl["default"].createElement("mask",{fill:"currentColor"},cl["default"].createElement("use",{xlinkHref:"#photoeditorsdk-delete-icon"})),cl["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-delete-icon"})));},JB=lte;});var jr,cte,QB,eM=d(function(){jr=y(x("react")),cte=function cte(_ref62){var _ref62$height=_ref62.height,r=_ref62$height===void 0?3:_ref62$height,_ref62$width=_ref62.width,e=_ref62$width===void 0?102:_ref62$width,_ref62$x=_ref62.x,t=_ref62$x===void 0?-102:_ref62$x,i=_ref62.className,o=_ref62.style;return jr["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 102 3",className:i,style:o},jr["default"].createElement("pattern",{id:"photoeditorsdk-slider-dots",fill:"currentColor",patternUnits:"userSpaceOnUse",width:"102",height:"3"},jr["default"].createElement("rect",{width:"3",height:"3",x:"99",y:"0",opacity:"0.5",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"88",y:"0",opacity:"0.5",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"77",y:"0",opacity:"0.5",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"66",y:"0",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"55",y:"0",opacity:"0.5",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"44",y:"0",opacity:"0.5",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"33",y:"0",opacity:"0.5",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"22",y:"0",opacity:"0.5",rx:"1.5"}),jr["default"].createElement("rect",{width:"3",height:"3",x:"11",y:"0",rx:"1.5"})),jr["default"].createElement("rect",{fill:"url(#photoeditorsdk-slider-dots)",x:-e*1.5,y:"0",width:e*4,height:"3",transform:"translate(".concat(t,", 0)")}));},QB=cte;});var dl,dte,tM,iM=d(function(){dl=y(x("react")),dte=function dte(){return dl["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},dl["default"].createElement("defs",null,dl["default"].createElement("path",{id:"photoeditorsdk-duplicate-icon",d:"M3.429 8.571v12h12v-12h-12zM1.714 5.143h15.429c.947 0 1.714.767 1.714 1.714v15.429c0 .946-.767 1.714-1.714 1.714H1.714A1.714 1.714 0 010 22.286V6.857c0-.947.768-1.714 1.714-1.714zM22.286 0C23.232 0 24 .768 24 1.714v15.429c0 .947-.768 1.714-1.714 1.714H20.57V3.429L5.142 3.428V1.714C5.143.768 5.91 0 6.858 0h15.429z"})),dl["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},dl["default"].createElement("mask",{fill:"currentColor"},dl["default"].createElement("use",{xlinkHref:"#photoeditorsdk-duplicate-icon"})),dl["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-duplicate-icon"})));},tM=dte;});var JS,ute,rM,oM=d(function(){JS=y(x("react")),ute=function ute(){return JS["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},JS["default"].createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M2.087 7.115h7.66v15.32h5.027l.223-15.32h7.438V2.087H2.087v5.028zM14.075 24h-4.15a2.42 2.42 0 01-1.718-.711 2.423 2.423 0 01-.711-1.717V9.01H2.429c-.67 0-1.278-.273-1.718-.713A2.426 2.426 0 010 6.579V2.43C0 1.76.272 1.153.711.713A2.424 2.424 0 012.43 0h19.142c.671 0 1.278.272 1.718.713.439.44.711 1.047.711 1.718v4.148c0 .671-.272 1.278-.711 1.718-.44.44-1.047.713-1.718.713h-5.067v12.562c0 .67-.272 1.278-.711 1.717a2.42 2.42 0 01-1.718.711z"}));},rM=ute;});var Kn,mte,sM,nM=d(function(){Kn=y(x("react")),mte=function mte(_ref63){var r=_ref63.className;return Kn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",transform:"scale(-1, 1)",className:r},Kn["default"].createElement("title",null,"Flip Horizontal"),Kn["default"].createElement("defs",null,Kn["default"].createElement("path",{id:"photoeditorsdk-flip-horizontal-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),Kn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},Kn["default"].createElement("mask",{fill:"none"},Kn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})),Kn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})));},sM=mte;});var Xn,pte,aM,lM=d(function(){Xn=y(x("react")),pte=function pte(_ref64){var r=_ref64.className;return Xn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",className:r},Xn["default"].createElement("title",null,"Flip Vertical"),Xn["default"].createElement("defs",null,Xn["default"].createElement("path",{id:"photoeditorsdk-flip-vertical-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),Xn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},Xn["default"].createElement("mask",{fill:"none"},Xn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-flip-vertical-icon"})),Xn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(-90 41.417 8)",xlinkHref:"#photoeditorsdk-flip-vertical-icon"})));},aM=pte;});var Yn,hte,cM,dM=d(function(){Yn=y(x("react")),hte=function hte(_ref65){var _ref65$alt=_ref65.alt,r=_ref65$alt===void 0?"Rotate":_ref65$alt,e=_ref65.className;return Yn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 16 16",className:e},Yn["default"].createElement("title",null,r),Yn["default"].createElement("defs",null,Yn["default"].createElement("path",{id:"photoeditorsdk-rotate-icon",d:"M132 0l1.25 1.57a8.01 8.01 0 0110.41.77 8.015 8.015 0 010 11.32c-.33.33-.67.62-1.04.859-1.38.991-3 1.481-4.62 1.481v-2c1.22 0 2.44-.37 3.47-1.111a6 6 0 00.77-9.129 5.992 5.992 0 00-7.73-.63L136 5h-5l1-5zm2.43 12.82c.5.38 1.06.67 1.66.87l-.64 1.89a7.56 7.56 0 01-1.48-.67l-.03-.01v-.01h-.02v-.01h-.01c0-.01-.01-.01-.01-.01h-.01v-.01h-.02v-.01h-.01l-.01-.01s-.01 0-.01-.01h-.01c-.2-.12-.4-.26-.6-.4zm-2.15-3.02c.18.6.47 1.17.83 1.68l-1.63 1.16v-.01s-.01 0-.01-.01c0 0 0-.01-.01-.01v-.01h-.01v-.01c-.01 0-.01-.01-.01-.01v-.01h-.01v-.01h-.01v-.01c0-.01-.01-.01-.01-.01v-.01c-.01 0-.01 0-.01-.01-.27-.39-.49-.79-.68-1.21-.01 0-.01-.01-.01-.01v-.01h-.01v-.02l-.01-.01c0-.02-.01-.02-.01-.02v-.02h-.01v-.02h-.01v-.03h-.01v-.02h-.01v-.02c-.01 0-.01 0-.01-.01v-.01c-.1-.23-.19-.47-.26-.7z"})),Yn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-130)"},Yn["default"].createElement("mask",{fill:"none"},Yn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-rotate-icon"})),Yn["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-rotate-icon"})));},cM=hte;});var I_,F_,jt,ah,it,uM,Lt=d(function(){var _I_,_categories,_crops,_uM;H();q5();X5();J5();Q5();tP();rP();sP();aP();cP();uP();pP();fP();bP();yP();vP();SP();kP();DP();IP();OP();AP();BP();LP();UP();HP();GP();jP();qP();XP();JP();QP();tB();rB();sB();aB();cB();uB();pB();fB();bB();ll();xB();CB();wB();TB();EB();FB();RB();PB();MB();zB();NB();WB();VB();$B();KB();YB();ZB();eM();iM();oM();nM();lM();dM();I_=(_I_={},_defineProperty(_I_,C.ADJUSTMENT,FP),_defineProperty(_I_,C.FILTER,PP),_defineProperty(_I_,C.LIBRARY,NP),_defineProperty(_I_,C.OVERLAY,WP),_defineProperty(_I_,C.FOCUS,MP),_defineProperty(_I_,C.STICKER,VP),_defineProperty(_I_,C.TEXT,$P),_defineProperty(_I_,C.TEXT_DESIGN,KP),_defineProperty(_I_,C.FRAME,zP),_defineProperty(_I_,C.TRANSFORM,YP),_defineProperty(_I_,C.BRUSH,RP),_I_),F_={left:TP,right:EP,center:wP},jt={addText:ZP,openWebcam:eB,reset:iB,shuffle:oB,uploadImage:nB},ah={undo:CP,redo:xP,close:gP,"export":_P},it={categories:(_categories={},_defineProperty(_categories,Vt.CommonCategory,dB),_defineProperty(_categories,Vt.FacebookCategory,mB),_defineProperty(_categories,Vt.TwitterCategory,gB),_defineProperty(_categories,Vt.InstagramCategory,hB),_categories),crops:(_crops={},_defineProperty(_crops,Vt.Custom,yB),_defineProperty(_crops,Vt.Square,DB),_defineProperty(_crops,Vt.ThreeByFour,IB),_defineProperty(_crops,Vt.FourByThree,vB),_defineProperty(_crops,Vt.NineBySixteen,SB),_defineProperty(_crops,Vt.SixteenByNine,kB),_defineProperty(_crops,Vt.FacebookPost,OB),_defineProperty(_crops,Vt.FacebookProfile,AB),_defineProperty(_crops,Vt.FacebookTitle,BB),_defineProperty(_crops,Vt.InstagramLandscape,LB),_defineProperty(_crops,Vt.InstagramPortrait,UB),_defineProperty(_crops,Vt.InstagramSquare,HB),_defineProperty(_crops,Vt.InstagramStory,GB),_defineProperty(_crops,Vt.TwitterPost,jB),_defineProperty(_crops,Vt.TwitterProfile,qB),_defineProperty(_crops,Vt.TwitterTitle,XB),_crops),dots:QB,duplicate:tM,edit:rM,bringToFront:lB,"delete":JB,flipHorizontal:sM,flipVertical:aM,rotate:cM},uM=(_uM={},_defineProperty(_uM,ze.BRIGHTNESS,K5),_defineProperty(_uM,ze.CONTRAST,Z5),_defineProperty(_uM,ze.SATURATION,nP),_defineProperty(_uM,ze.CLARITY,Y5),_defineProperty(_uM,ze.SHADOWS,lP),_defineProperty(_uM,ze.HIGHLIGHTS,oP),_defineProperty(_uM,ze.EXPOSURE,eP),_defineProperty(_uM,ze.GAMMA,iP),_defineProperty(_uM,ze.BLACKS,$5),_defineProperty(_uM,ze.WHITES,hP),_defineProperty(_uM,ze.TEMPERATURE,mP),_defineProperty(_uM,ze.SHARPNESS,dP),_uM);});var mM,ul,ZS=d(function(){mM=y(x("styled-components")),ul=mM["default"].div(_templateObject138||(_templateObject138=_taggedTemplateLiteral(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"])));});var lh,pM,hM=d(function(){lh=y(x("styled-components"));$();pM=lh["default"].div.attrs(function(){return{"data-test":j.MainCanvasActionBar};})(_templateObject139||(_templateObject139=_taggedTemplateLiteral(["\n  &&& {\n    display: ",";\n    flex-direction: row;\n    align-items: center;\n    height: ","px;\n    color: ",";\n    border-bottom: 1px solid\n      ",";\n    padding: 8px 24px;\n    box-sizing: border-box;\n    position: absolute;\n    width: 100%;\n    z-index: ",";\n    background: ",";\n    ","\n  }\n"])),function(r){return r.hide?"none":"flex";},function(r){return r.theme.measurements.mainCanvasActionBar.height;},function(r){return r.theme.mainCanvasActionBar.foreground;},function(r){return r.theme.mainCanvasActionBar.borderColor;},function(r){return r.theme.measurements.zIndex.canvas.bar;},function(r){return r.transparentBackgound?"transparent":r.theme.mainCanvasActionBar.background;},function(r){return r.bottom?lh.css(_templateObject140||(_templateObject140=_taggedTemplateLiteral(["\n            justify-content: space-around;\n            bottom: 0;\n            transform: rotate(180deg);\n          "]))):lh.css(_templateObject141||(_templateObject141=_taggedTemplateLiteral(["\n            justify-content: space-between;\n          "])));});});var fM,gM,bM=d(function(){fM=y(x("styled-components")),gM=fM["default"].canvas(_templateObject142||(_templateObject142=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"])));});var _M,yM,xM=d(function(){_M=y(x("styled-components")),yM=_M["default"].div.attrs({role:"main"})(_templateObject143||(_templateObject143=_taggedTemplateLiteral(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"])),function(r){return r.theme.canvas.background;},function(r){return r.theme.measurements.canvas.marginTop;});});var vM,CM,SM=d(function(){vM=y(x("styled-components")),CM=vM["default"].div.attrs(function(_ref66){var r=_ref66.height,e=_ref66.width;return{style:{height:"".concat(r,"px"),width:"".concat(e,"px")}};})(_templateObject144||(_templateObject144=_taggedTemplateLiteral(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2),\n    inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"])),function(r){return r.theme.canvas.controlsOutline;});});var wM,kM,TM=d(function(){wM=y(x("styled-components")),kM=wM["default"].div.attrs(function(_ref67){var r=_ref67.radius;return{style:{height:"".concat(r*2,"px"),width:"".concat(r*2,"px")}};})(_templateObject145||(_templateObject145=_taggedTemplateLiteral(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"])),function(r){return r.theme.canvas.controlsOutline;});});var DM,EM,IM=d(function(){DM=y(x("styled-components")),EM=DM["default"].div(_templateObject146||(_templateObject146=_taggedTemplateLiteral(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"])));});var Ot,fte,O_,QS=d(function(){Ot=y(x("styled-components")),fte=Ot["default"].div(function(r){var _r$theme$measurements=r.theme.measurements.canvasControls.corner.touchable,e=_r$theme$measurements.desktop,t=_r$theme$measurements.mobile,i=e/4,o=t/2;return Ot.css(_templateObject147||(_templateObject147=_taggedTemplateLiteral(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n      width: ","px;\n      height: ","px;\n      ","\n      ","\n    }\n  "])),e,e,function(s){return s.vertical==="top"?Ot.css(_templateObject148||(_templateObject148=_taggedTemplateLiteral(["\n            top: 0px;\n          "]))):Ot.css(_templateObject149||(_templateObject149=_taggedTemplateLiteral(["\n            bottom: 0px;\n          "])));},function(s){return s.horizontal==="left"?Ot.css(_templateObject150||(_templateObject150=_taggedTemplateLiteral(["\n            left: 0px;\n          "]))):Ot.css(_templateObject151||(_templateObject151=_taggedTemplateLiteral(["\n            right: 0px;\n          "])));},function(s){return s.vertical==="top"?Ot.css(_templateObject152||(_templateObject152=_taggedTemplateLiteral(["\n            margin-top: -","px;\n          "])),i):Ot.css(_templateObject153||(_templateObject153=_taggedTemplateLiteral(["\n            margin-bottom: -","px;\n          "])),i);},function(s){return s.horizontal==="left"?Ot.css(_templateObject154||(_templateObject154=_taggedTemplateLiteral(["\n            margin-left: -","px;\n          "])),i):Ot.css(_templateObject155||(_templateObject155=_taggedTemplateLiteral(["\n            margin-right: -","px;\n          "])),i);},t,t,function(s){return s.vertical==="top"?Ot.css(_templateObject156||(_templateObject156=_taggedTemplateLiteral(["\n              margin-top: -","px;\n            "])),o):Ot.css(_templateObject157||(_templateObject157=_taggedTemplateLiteral(["\n              margin-bottom: -","px;\n            "])),o);},function(s){return s.horizontal==="left"?Ot.css(_templateObject158||(_templateObject158=_taggedTemplateLiteral(["\n              margin-left: -","px;\n            "])),o):Ot.css(_templateObject159||(_templateObject159=_taggedTemplateLiteral(["\n              margin-right: -","px;\n            "])),o);});}),O_=(0,Ot["default"])(fte)(function(r){var e=r.horizontal==="right"?r.borderWidth:0,t=r.vertical==="bottom"?r.borderWidth:0,i=r.horizontal==="left"?r.borderWidth:0,s="".concat(r.vertical==="top"?r.borderWidth:0,"px ").concat(e,"px ").concat(t,"px ").concat(i,"px"),n=r.horizontal==="left"&&r.vertical==="bottom"||r.horizontal==="right"&&r.vertical==="top"?"nesw-resize":"nwse-resize",a=r.theme.measurements.canvasControls.corner.touchable.desktop/4-r.borderWidth,l=r.theme.measurements.canvasControls.corner.touchable.mobile/4+r.borderWidth;return Ot.css(_templateObject160||(_templateObject160=_taggedTemplateLiteral(["\n    &:before {\n      display: block;\n      position: absolute;\n      content: '';\n      width: ","px;\n      height: ","px;\n      z-index: ",";\n      border-color: ",";\n      border-style: solid;\n      border-width: ",";\n      pointer-events: auto;\n      ","\n      ","\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n        ","\n      }\n    }\n    cursor: ",";\n    pointer-events: none;\n  "])),function(c){return c.theme.measurements.canvasControls.corner.size;},function(c){return c.theme.measurements.canvasControls.corner.size;},function(c){return c.theme.measurements.zIndex.canvas.controls;},function(c){return c.theme.canvas.controlsColor;},s,r.vertical==="top"?Ot.css(_templateObject161||(_templateObject161=_taggedTemplateLiteral(["\n            top: ","px;\n          "])),a):Ot.css(_templateObject162||(_templateObject162=_taggedTemplateLiteral(["\n            bottom: ","px;\n          "])),a),r.horizontal==="left"?Ot.css(_templateObject163||(_templateObject163=_taggedTemplateLiteral(["\n            left: ","px;\n          "])),a):Ot.css(_templateObject164||(_templateObject164=_taggedTemplateLiteral(["\n            right: ","px;\n          "])),a),r.vertical==="top"?Ot.css(_templateObject165||(_templateObject165=_taggedTemplateLiteral(["\n              margin-top: ","px;\n            "])),l):Ot.css(_templateObject166||(_templateObject166=_taggedTemplateLiteral(["\n              margin-bottom: ","px;\n            "])),l),r.horizontal==="left"?Ot.css(_templateObject167||(_templateObject167=_taggedTemplateLiteral(["\n              margin-left: ","px;\n            "])),l):Ot.css(_templateObject168||(_templateObject168=_taggedTemplateLiteral(["\n              margin-right: ","px;\n            "])),l),n);});});var FM,OM,RM=d(function(){FM=y(x("styled-components"));$();OM=FM["default"].div.attrs(function(){return{"data-test":j.Knob};})(_templateObject169||(_templateObject169=_taggedTemplateLiteral(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"])),function(r){return r.theme.measurements.canvasControls.knob.touchable.desktop;},function(r){return r.theme.measurements.canvasControls.knob.touchable.desktop;},function(r){return r.theme.measurements.zIndex.canvas.knob;},function(r){return r.theme.canvas.controlsColor;},function(r){return r.theme.measurements.canvasControls.knob.size;},function(r){return r.theme.measurements.canvasControls.knob.size;},function(r){return r.theme.measurements.canvasControls.knob.size/4;},function(r){return r.theme.measurements.canvasControls.knob.size/4;});});var AM,PM,BM=d(function(){AM=y(x("styled-components")),PM=AM["default"].div(_templateObject170||(_templateObject170=_taggedTemplateLiteral(["\n  position: absolute;\n  color: ",";\n"])),function(r){return r.theme.canvas.controlsOutline;});});var MM,LM,zM=d(function(){MM=y(x("styled-components")),LM=MM["default"].div.attrs(function(r){return{style:{left:"".concat(r.x,"px")}};})(_templateObject171||(_templateObject171=_taggedTemplateLiteral(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"])),function(r){return r.theme.measurements.canvasControls.sprite.rotateHandle.height;},function(r){return r.theme.measurements.canvasControls.sprite.rotateHandle.height;},function(r){return r.theme.canvas.controlsOutline;});});var UM,NM,HM=d(function(){UM=y(x("styled-components")),NM=UM["default"].div.attrs(function(_ref68){var r=_ref68.height,e=_ref68.width,t=_ref68.theme;return{style:{height:"".concat(r+t.measurements.canvasControls.sprite.controlPadding,"px"),width:"".concat(e+t.measurements.canvasControls.sprite.controlPadding,"px")}};})(_templateObject172||(_templateObject172=_taggedTemplateLiteral(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"])),function(r){return r.theme.measurements.canvasControls.sprite.controlPadding/2;},function(r){return r.theme.measurements.canvasControls.sprite.controlPadding/2;},function(r){return r.theme.canvas.controlsColor;});});var WM,GM,VM=d(function(){WM=y(x("styled-components"));$();GM=WM["default"].div.attrs(function(){return{"data-test":j.TextWidth};})(_templateObject173||(_templateObject173=_taggedTemplateLiteral(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"])),function(r){return r.theme.measurements.canvasControls.width.size;},function(r){return r.theme.measurements.zIndex.canvas.controls;},function(r){return r.theme.canvas.controlsColor;});});var jM,$M,qM=d(function(){jM=y(x("styled-components")),$M=jM["default"].div.attrs({tabIndex:0})(_templateObject174||(_templateObject174=_taggedTemplateLiteral(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"])),function(r){return r.height;},function(r){return r.width;});});var ml,R_,KM,XM,YM,vc,e1=d(function(){ml=y(x("styled-components"));$();QS();R_=dF()?ml.css(_templateObject175||(_templateObject175=_taggedTemplateLiteral(["\n      transition: unset;\n    "]))):ml.css(_templateObject176||(_templateObject176=_taggedTemplateLiteral(["\n      transition: all 0.4s ease-in-out;\n    "]))),KM=ml["default"].div(_templateObject177||(_templateObject177=_taggedTemplateLiteral(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),function(r){return r.theme.canvas.cropBackdrop;},function(r){return r.theme.measurements.zIndex.canvas.crop.backdrop;},R_),XM=ml["default"].div.attrs({"data-test":j.CropMask})(_templateObject178||(_templateObject178=_taggedTemplateLiteral(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"])),function(r){return r.theme.canvas.controlsOutline;},R_),YM=ml["default"].div(_templateObject179||(_templateObject179=_taggedTemplateLiteral(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),function(r){return r.theme.canvas.controlsOutline;},function(r){return r.theme.measurements.zIndex.canvas.crop.grid;},R_),vc=(0,ml["default"])(O_)(_templateObject180||(_templateObject180=_taggedTemplateLiteral(["\n  z-index: ",";\n  ",";\n"])),function(r){return r.theme.measurements.zIndex.canvas.controls;},R_);});var JM,ZM,QM=d(function(){JM=y(x("styled-components")),ZM=JM["default"].canvas(_templateObject181||(_templateObject181=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"])));});var eL,tL,iL=d(function(){eL=y(x("styled-components")),tL=eL["default"].video(_templateObject182||(_templateObject182=_taggedTemplateLiteral(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"])));});var rL,oL,sL=d(function(){rL=y(x("styled-components")),oL=rL["default"].div(_templateObject183||(_templateObject183=_taggedTemplateLiteral(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"])),function(r){return r.theme.measurements.zIndex.canvas.webcam.backdrop;},function(r){return r.theme.webcam.background;});});var _e,ni=d(function(){T_();ZS();hM();bM();xM();SM();TM();IM();QS();RM();BM();zM();HM();VM();qM();e1();QM();iL();sL();_e={Index:gM,Area:ul,Bar:{Index:pM,ButtonGroup:V5},Button:{TextSecondary:k_,Float:W5},Container:yM,Element:ZM,Wrapper:oL,Webcam:tL,Controls:{Knob:OM,Circle:kM,Corner:O_,Line:PM,Area:CM,Sprite:NM,RotateHandle:LM,Container:EM,Wrapper:$M,SpriteActionsWrapper:th,SpriteActionButton:Ps,Width:GM},Crop:{Mask:XM,GridLine:YM,Backdrop:KM,Control:vc}};});var xr={};It(xr,{FragmentPrecision:function FragmentPrecision(){return wo;},ImageFormat:function ImageFormat(){return Cc;},OptionType:function OptionType(){return b;},RenderType:function RenderType(){return $r;},RendererType:function RendererType(){return Se;},UniformType:function UniformType(){return Z;}});var $r,Cc,b,Z,Se,wo,qr=d(function(){$r={IMAGE:"image",DATAURL:"data-url",BUFFER:"buffer",BLOB:"blob",MSBLOB:"ms-blob"},Cc={PNG:"image/png",JPEG:"image/jpeg",RAW:"raw"};(function(h){h.NUMBER="number",h.VECTOR2="vector2",h.COLOR_MATRIX="color-matrix",h.COLOR="color",h.ARRAY="array",h.OBJECT="object",h.STRING="string",h.BOOLEAN="boolean",h.CONFIGURABLE="configurable",h.IMAGE="image",h.FUNCTION="function",h.TEXTURE="texture",h.ALL="*";})(b||(b={}));(function(v){v.SAMPLER2D="sampler2d",v.INT="i",v.INT1="1i",v.INT2="2i",v.INT3="3i",v.INT4="4i",v.FLOAT="f",v.FLOAT1="1f",v.FLOAT2="2f",v.FLOAT_VECTOR2="2fv",v.FLOAT3="3f",v.FLOAT4="4f",v.MAT3="mat3",v.MAT3FV="mat3fv",v.MAT4="mat4";})(Z||(Z={}));(function(t){t.WEBGL="webgl",t.CANVAS="canvas";})(Se||(Se={}));(function(i){i.High="highp",i.Medium="mediump",i.Low="lowp";})(wo||(wo={}));});var ch,nL,aL=d(function(){ch=function ch(){return document.createElement("canvas");},nL=function nL(r,e){var t=e||ch();t.width=r.width,t.height=r.height;var i=t.getContext("2d");if(!i)throw new Error("Cannot render context");return i.clearRect(0,0,t.width,t.height),i.drawImage(r,0,0,r.width,r.height),t;};});var Ou,t1=d(function(){Ou=function Ou(e,t,i){_classCallCheck(this,Ou);this.width=e;this.height=t;this.data=i;};});var lL={};It(lL,{glGet:function glGet(){return A_;},webUtils:function webUtils(){return yte;}});var A_,gte,bte,_te,yte,cL=d(function(){aL();t1();A_=function A_(r){var e={preserveDrawingBuffer:!0};return r.getContext("webgl",e)||r.getContext("experimental-webgl",e);},gte=function gte(){var r=A_(ch()),e=r.getParameter(r.MAX_TEXTURE_SIZE),t=r.getExtension("WEBGL_lose_context");return t&&t.loseContext(),e;},bte=function bte(r,e){if(e instanceof Ou)r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width,e.height,0,r.RGBA,r.UNSIGNED_BYTE,e.data);else{var t=nL(e);r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t);}},_te=function _te(r){return Boolean(r.tagName&&r.tagName.toUpperCase()==="IMG");},yte={isSupported:function isSupported(){return Boolean(A_(ch()));},isCanvas:function isCanvas(r){return r.constructor.name==="Canvas"||Boolean(r.tagName&&r.tagName.toUpperCase()==="CANVAS");},isImage:_te,Image:typeof window!="undefined"?window.Image:void 0,glMaxTexture:gte,glGet:A_,createCanvas:ch,glResize:function glResize(r,e){return r;},glTexImage:bte};});var dL,Ti,Ru,i1,uL,Ns=d(function(){qr();dL=(cL(),lL).webUtils;Ti=dL,Ru=function Ru(r){return r._type===Se.WEBGL;},i1=function i1(r){return Boolean(r&&"tagName"in r&&r.tagName&&r.tagName.toUpperCase()==="CANVAS");},uL=function uL(r){return Boolean("tagName"in r&&r.tagName.toUpperCase()==="IMG");};});var _P_,mL,pL=d(function(){_P_=/*#__PURE__*/function(){function P_(){_classCallCheck(this,P_);}_createClass(P_,null,[{key:"head",value:function head(e){return e[0];}},{key:"tail",value:function tail(e){return e.slice(1);}},{key:"last",value:function last(e){return e[e.length-1];}},{key:"init",value:function init(e){return e.slice(0,e.length-1);}},{key:"remove",value:function remove(e,t){return e.filter(function(i,o,s){return!t(i,o,s);});}},{key:"findIndex",value:function findIndex(e,t){for(var i=0;i<e.length;i++){if(t(e[i]))return i;}return-1;}},{key:"find",value:function find(e,t){for(var i=0;i<e.length;i++){if(t(e[i]))return e[i];}}},{key:"flatten",value:function flatten(e){return e.reduce(function(t,i){return t.concat(Array.isArray(i)?_P_.flatten(i):i);},[]);}},{key:"range",value:function range(e,t){var i=[];if(t>e)for(var o=e;o<t;o++){i.push(o);}return i;}},{key:"repeat",value:function repeat(e,t){var i=[];for(var o=0;o<t;o++){i[o]=e;}return i;}},{key:"zip",value:function zip(e,t){var i=Math.min(e.length,t.length),o=[];for(var s=0;s<i;s++){o[s]=[e[s],t[s]];}return o;}}]);return P_;}(),mL=_P_;});var pl,xte,ts,Au=d(function(){pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",xte={encode:function encode(r){var e="",t,i,o,s,n,a,l,c=0;do{t=r[c++],i=r[c++],o=r[c++],s=t>>2,n=(t&3)<<4|i>>4,a=(i&15)<<2|o>>6,l=o&63,isNaN(i)?a=l=64:isNaN(o)&&(l=64),e=e+pl.charAt(s)+pl.charAt(n)+pl.charAt(a)+pl.charAt(l),t=i=o="",s=n=a=l="";}while(c<r.length);return e;},decode:function decode(r){var e,t,i,o,s,n,a,l=0,c=[];if(/[^A-Za-z0-9+/=]/g.exec(r))throw new Error("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");r=r.replace(/[^A-Za-z0-9+/=]/g,"");do{o=pl.indexOf(r.charAt(l++)),s=pl.indexOf(r.charAt(l++)),n=pl.indexOf(r.charAt(l++)),a=pl.indexOf(r.charAt(l++)),e=o<<2|s>>4,t=(s&15)<<4|n>>2,i=(n&3)<<6|a,c.push(e),n!==64&&c.push(t),a!==64&&c.push(i),e=t=i="",o=s=n=a="";}while(l<r.length);return c;}},ts=xte;});var _Sc,r1,G,Hs=d(function(){Ns();pL();Au();_Sc=/*#__PURE__*/function(){function Sc(){_classCallCheck(this,Sc);}_createClass(Sc,null,[{key:"mapRange",value:function mapRange(e,t,i){return(e-t.getMin())*i.getLength()/t.getLength()+i.getMin();}},{key:"isPlainObject",value:function isPlainObject(e){if(_typeof(e)!="object"||!e)return!1;if(typeof Object.getPrototypeOf=="function"){var t=Object.getPrototypeOf(e);return t===Object.prototype||t===null;}return Object.prototype.toString.call(e)==="[object Object]";}},{key:"isMobile",value:function isMobile(){if(typeof navigator=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));}},{key:"isBrowser",value:function isBrowser(){return typeof window!="undefined";}},{key:"values",value:function values(e){var t=[];for(var i in e){t.push(e[i]);}return t;}},{key:"generateUUID",value:function generateUUID(){var e=new Date().getTime();return typeof window.performance!="undefined"&&typeof window.performance.now=="function"&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t==="x"?i:i&3|8).toString(16);});}},{key:"resizeVectorToFit",value:function resizeVectorToFit(e,t){var i=Math.min(t.x/e.x,t.y/e.y);return e.clone().multiply(i);}},{key:"resizeVectorToFill",value:function resizeVectorToFill(e,t){var i=e.x/e.y,o=t.x/t.y;return i>o?t.clone().set(t.y*i,t.y):t.clone().set(t.x,t.x/i);}},{key:"isExtendable",value:function isExtendable(e){return typeof e!="undefined"&&e!==null&&(_typeof(e)=="object"||typeof e=="function");}},{key:"defaults",value:function defaults(e){var i={};for(var o in e){i[o]=e[o];}for(var _o2=0;_o2<(arguments.length<=1?0:arguments.length-1);_o2++){var s=_o2+1<1||arguments.length<=_o2+1?undefined:arguments[_o2+1];for(var n in s){typeof i[n]=="undefined"&&(i[n]=s[n]);}}return i;}},{key:"deepMerge",value:function deepMerge(e){var i=function i(o,s){if(s===void 0)return i(null,o);if(Array.isArray(s))return _toConsumableArray(s);if(!_Sc.isPlainObject(s))return s;if(!_Sc.isPlainObject(o))return w({},s);var n=w({},o);return Object.keys(s).forEach(function(a){var l=s[a];l!==void 0&&(n[a]=i(o[a],l));}),n;};for(var _len5=arguments.length,t=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){t[_key5-1]=arguments[_key5];}return t.reduce(i,e);}},{key:"deepDefaults",value:function deepDefaults(e){var _Sc2;for(var _len6=arguments.length,t=new Array(_len6>1?_len6-1:0),_key6=1;_key6<_len6;_key6++){t[_key6-1]=arguments[_key6];}var i=[].concat(t).reverse();return(_Sc2=_Sc).deepMerge.apply(_Sc2,_toConsumableArray(i).concat([e]));}},{key:"deepClone",value:function deepClone(e){var t={};for(var i in e){_Sc.isExtendable(e[i])?t[i]=_Sc.deepClone(e[i]):t[i]=e[i];}return t;}},{key:"extend",value:function extend(e){var i={};for(var o in e){i[o]=e[o];}for(var _o3=0;_o3<(arguments.length<=1?0:arguments.length-1);_o3++){var s=_o3+1<1||arguments.length<=_o3+1?undefined:arguments[_o3+1];for(var n in s){i[n]=s[n];}}return i;}},{key:"clone",value:function clone(e){return this.extend({},e);}},{key:"getUUID",value:function getUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16);});}},{key:"createCanvas",value:function createCanvas(){return Ti.createCanvas();}},{key:"isPowerOfTwo",value:function isPowerOfTwo(e){return(e.x&e.x-1)==0&&(e.y&e.y-1)==0;}},{key:"nextLowestPOT",value:function nextLowestPOT(e){for(var t=1;t<32;t<<=1){e|=e>>t;}return e-(e>>1);}},{key:"nextHighestPOT",value:function nextHighestPOT(e){e--;for(var t=1;t<32;t<<=1){e|=e>>t;}return e+1;}},{key:"moveArrayItem",value:function moveArrayItem(e,t,i){if(i>=e.length){var o=i-e.length;for(;o--+1;){e.push(void 0);}}e.splice(i,0,e.splice(t,1)[0]);}},{key:"ensureCanvasDimensions",value:function ensureCanvasDimensions(e,t){return e.width!==t.x||e.height!==t.y?(e.width=t.x,e.height=t.y,!0):!1;}},{key:"byteArrayToString",value:function byteArrayToString(e){return e.map(function(t){return String.fromCharCode(t);}).join("");}},{key:"clamp",value:function clamp(e,t,i){return Math.max(t,Math.min(e,i));}},{key:"wildCardMatch",value:function wildCardMatch(e,t){return new RegExp("^".concat(t.split("*").join(".*"),"$")).test(e);}},{key:"flipObject",value:function flipObject(e){var t={};for(var i in e){t[e[i]]=i;}return t;}},{key:"ISODateString",value:function ISODateString(e){function t(i){return i<10?"0".concat(i):i;}return"".concat(e.getUTCFullYear(),"-").concat(t(e.getUTCMonth()+1),"-").concat(t(e.getUTCDate()),"T").concat(t(e.getUTCHours()),":").concat(t(e.getUTCMinutes()),":").concat(t(e.getUTCSeconds()),"Z");}},{key:"getCrossOriginValue",value:function getCrossOriginValue(e){if(!e)return"anonymous";if(e!=="none")return e;}},{key:"invariant",value:function invariant(e,t){if(!e)throw new Error(t);}},{key:"executePromises",value:function executePromises(e){var t=e.length,i=0,o=[],s=[];return new Promise(function(n,a){var l=function l(){i++,i>=t&&(s.length<=0?n(o):a(s));},c=function c(p){o.push(p),l();},u=function u(p){s.push(p),l();};e.forEach(function(p){p.then(c)["catch"](u);});});}}]);return Sc;}(),r1=_Sc;te(r1,"Array",mL);G=r1;});var vte,hL,Cte,Ste,fL,o1,oe,is=d(function(){Hs();vte=[{name:"trace",type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{name:"info",type:"log",background:"#BDE5F8",color:"#00529B"},{name:"warn",type:"warn",background:"#FEEFB3",color:"#9F6000"},{name:"error",type:"error",background:"#FFBABA",color:"#D8000C"},{name:"log",type:"log",background:"#EEEEEE",color:"#1f4f6b"}],hL=function hL(){return console&&console.group&&console.groupCollapsed&&console.groupEnd;},Cte=function Cte(){return typeof navigator!="undefined"&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/);},Ste=function Ste(r,e){return["background: #2D7BFF; line-height: 20px; padding: 4px 0","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0","background: ".concat(r,"; color: ").concat(e,"; line-height: 20px; padding: 4px 0; font-weight: bold"),"background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0"];},fL=/*#__PURE__*/function(){function fL(){var _this31=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"warn";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:vte;_classCallCheck(this,fL);this._levels=_toConsumableArray(t),this._maxLevel=this.getLevelIndexByName(e),this._consoleFuncs={trace:function trace(){var _console,_console2;hL()?((_console=console).groupCollapsed.apply(_console,arguments),console.trace(),console.groupEnd()):(_console2=console).trace.apply(_console2,arguments);}},this._levels.forEach(function(_ref69){var i=_ref69.name;_this31[i]=function(o){for(var _len7=arguments.length,s=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){s[_key7-1]=arguments[_key7];}_this31._log.apply(_this31,[i,o].concat(s));};});}_createClass(fL,[{key:"getLevelIndexByName",value:function getLevelIndexByName(e){return G.Array.findIndex(this._levels,function(t){return t.name===e;});}},{key:"getLevelObjectByName",value:function getLevelObjectByName(e){return G.Array.find(this._levels,function(t){return t.name===e;});}},{key:"canLog",value:function canLog(e){var t=this.getLevelIndexByName(e);return t<0?!1:t>=this._maxLevel;}},{key:"setLevel",value:function setLevel(e){var t=this.getLevelIndexByName(e);t<0||(this._maxLevel=t);}},{key:"_log",value:function _log(e,t){var _console5;var o=this.getLevelObjectByName(e);if(!o||!this.canLog(e))return;for(var _len8=arguments.length,i=new Array(_len8>2?_len8-2:0),_key8=2;_key8<_len8;_key8++){i[_key8-2]=arguments[_key8];}var s=o.name,n=o.type,a=o.background,l=o.color,c=i.filter(function(h){return h!==void 0;}).map(function(h){return h.toObject?JSON.parse(JSON.stringify(h.toObject())):h;}),u=this._consoleFuncs[n]||console[n]?function(){var _console3;return(_console3=console)[n].apply(_console3,arguments);}:function(){var _console4;return(_console4=console).log.apply(_console4,arguments);},p=c.length,m=Ste(a,l);if(!Cte()){var h=c.length;if(h<=0){u("PhotoEditorSDK | ".concat(t," "));return;}if(h===1&&typeof c[0]=="string"){u("PhotoEditorSDK | ".concat(t," | ").concat(c[0]));return;}u.apply(void 0,["PhotoEditorSDK | ".concat(t," | ")].concat(_toConsumableArray(c)));return;}if(p<=0){u.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c %c  ")].concat(_toConsumableArray(m)));return;}if(p===1&&typeof c[0]=="string"){u.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c  ").concat(c[0],"  %c  ")].concat(_toConsumableArray(m)));return;}hL()?((_console5=console).groupCollapsed.apply(_console5,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c")].concat(_toConsumableArray(G.Array.init(m)))),u.apply(void 0,_toConsumableArray(c)),console.groupEnd()):u.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c")].concat(_toConsumableArray(G.Array.init(m)),_toConsumableArray(c)));}},{key:"image",value:function image(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var t=arguments.length>1?arguments[1]:undefined;{var i=new window.Image(),o=function o(){var _i3=i,s=_i3.width,_i4=i,n=_i4.height;e&&console.log(e),console.log("%c+","\n        font-size: 1px;\n        padding: 0px ".concat(Math.floor(s/2),"px;\n        line-height: ").concat(n,"px;\n        background: url(").concat(i.src,");\n        color: transparent;\n        background-repeat: no-repeat;\n        background-size: ").concat(s,"px ").concat(n,"px;"));};return i.onload=o,t instanceof window.HTMLCanvasElement?i.src=t.toDataURL():t instanceof window.Image?(i=t,o()):typeof t=="string"?i.src=t:this.log(e,t),i;}}},{key:"texture",value:function texture(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var t=arguments.length>1?arguments[1]:undefined;{if(!t){this.log(e,"texture: null or undefined");return;}var i=t.getBaseTexture(),o=i.getRenderers(),s=G.Array.find(o,function(l){return l&&l.constructor.type==="webgl";}),_i$getFrame=i.getFrame(),n=_i$getFrame.width,a=_i$getFrame.height;if(s){var l=s.getContext(),c=i.getGLTextureForRenderer(s);this.logGlTexture(l,c,n,a,e);}else o1.image(e,i.getSource());}}},{key:"logGlTexture",value:function logGlTexture(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:150;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:150;var s=arguments.length>4?arguments[4]:undefined;{e.bindTexture(e.TEXTURE_2D,t);var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);var a=new Uint8Array(i*o*4);e.readPixels(0,0,i,o,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(n);var l=document.createElement("canvas");l.width=i,l.height=o;var c=l.getContext("2d"),u=c.createImageData(i,o);return u.data.set(a),c.putImageData(u,0,0),o1.image(s,l);}}}]);return fL;}(),o1=new fL("warn"),oe=o1;});var er,Pu=d(function(){er={load:function load(r){var _this32=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:!0,value:"anonymous"};return function(){return Promise.resolve([r,r]);}().then(function(_ref70){var _ref71=_slicedToArray(_ref70,2),i=_ref71[0],o=_ref71[1];return _this32._createAndLoadImage(i,o,e);});},loadImage:function loadImage(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:!0,value:"anonymous"};return this._loadWithoutExif(r,e);},_loadWithoutExif:function _loadWithoutExif(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:!0,value:"anonymous"};return new Promise(function(t,i){var o=new window.Image();o.addEventListener("load",function(){t(o);}),o.addEventListener("error",function(){i(new Error("Failed to load image at ".concat(r)));}),e.cors&&(o.crossOrigin=e.value),o.src=r;});},_createAndLoadImage:function _createAndLoadImage(r,e){var _this33=this;var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{cors:!0,value:"anonymous"};return new Promise(function(i,o){{var s=_this33._loadWithoutExif(e,t).then(function(a){return i(a);}),n=new Promise(function(a,l){_this33._loadAsDataURL(e,t).then(function(c){var u=new window.Image();u.addEventListener("load",function(){a(u);}),u.src=c,u.rawSource=c;})["catch"](function(c){s.then(function(u){return a(u);});});});return _this33._stringEndsWith(e,".svg")?s.then(function(a){return i(a);}):n.then(function(a){return i(a);});}});},_stringEndsWith:function _stringEndsWith(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:r.length;return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e;},_loadAsDataURL:function _loadAsDataURL(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:!0,value:"anonymous"};return new Promise(function(t,i){var o=new XMLHttpRequest();o.onload=function(){var s=new FileReader();s.onloadend=function(){s.error&&i(s.error),t(s.result);},s.readAsDataURL(o.response);},o.open("GET",r),o.responseType="blob",o.withCredentials=e.cors&&e.value==="use-credentials",o.send();});},loadXHR:function loadXHR(r,e){return new Promise(function(t,i){var o;window.XDomainRequest?(o=new window.XDomainRequest(),e&&o.overrideMimeType(e),o.onload=function(){t(o);},o.onerror=function(s){i(s);}):window.XMLHttpRequest&&(o=new window.XMLHttpRequest(),e&&o.overrideMimeType(e),o.onreadystatechange=function(s){o.readyState===4&&(o.status===200?t(o):i(new Error("HTTP Status ".concat(o.status))));}),o.open("GET",r,!0),o.send();});}};});var bL=tt(function(gke,gL){"use strict";function wte(r,e){return Object.prototype.hasOwnProperty.call(r,e);}gL.exports=function(r,e,t,i){e=e||"&",t=t||"=";var o={};if(typeof r!="string"||r.length===0)return o;var s=/\+/g;r=r.split(e);var n=1e3;i&&typeof i.maxKeys=="number"&&(n=i.maxKeys);var a=r.length;n>0&&a>n&&(a=n);for(var l=0;l<a;++l){var c=r[l].replace(s,"%20"),u=c.indexOf(t),p,m,h,g;u>=0?(p=c.substr(0,u),m=c.substr(u+1)):(p=c,m=""),h=decodeURIComponent(p),g=decodeURIComponent(m),wte(o,h)?Array.isArray(o[h])?o[h].push(g):o[h]=[o[h],g]:o[h]=g;}return o;};});var yL=tt(function(bke,_L){"use strict";var dh=function dh(r){switch(_typeof(r)){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return"";}};_L.exports=function(r,e,t,i){return e=e||"&",t=t||"=",r===null&&(r=void 0),_typeof(r)=="object"?Object.keys(r).map(function(o){var s=encodeURIComponent(dh(o))+t;return Array.isArray(r[o])?r[o].map(function(n){return s+encodeURIComponent(dh(n));}).join(e):s+encodeURIComponent(dh(r[o]));}).join(e):i?encodeURIComponent(dh(i))+t+encodeURIComponent(dh(r)):"";};});var xL=tt(function(uh){"use strict";uh.decode=uh.parse=bL();uh.encode=uh.stringify=yL();});function mh(r){typeof r=="string"&&(r=Mu(r));var e=function(t,i,o){var s=t.auth,n=t.hostname,a=t.protocol||"",l=t.pathname||"",c=t.hash||"",u=t.query||"",p=!1;s=s?encodeURIComponent(s).replace(/%3A/i,":")+"@":"",t.host?p=s+t.host:n&&(p=s+(~n.indexOf(":")?"["+n+"]":n),t.port&&(p+=":"+t.port)),u&&_typeof(u)=="object"&&(u=i.encode(u));var m=t.search||u&&"?"+u||"";return a&&a.substr(-1)!==":"&&(a+=":"),t.slashes||(!a||o.test(a))&&p!==!1?(p="//"+(p||""),l&&l[0]!=="/"&&(l="/"+l)):p||(p=""),c&&c[0]!=="#"&&(c="#"+c),m&&m[0]!=="?"&&(m="?"+m),{protocol:a,host:p,pathname:l=l.replace(/[?#]/g,encodeURIComponent),search:m=m.replace("#","%23"),hash:c};}(r,s1["default"],kte);return""+e.protocol+e.host+e.pathname+e.search+e.hash;}function vL(r,e){var t=typeof r=="string"?Mu(r):r;r=_typeof(r)=="object"?mh(r):r;var i=Mu(e),o="";t.protocol&&!t.slashes&&(o=t.protocol,r=r.replace(t.protocol,""),o+=e[0]==="/"||r[0]==="/"?"/":""),o&&i.protocol&&(o="",i.slashes||(o=i.protocol,e=e.replace(i.protocol,"")));var s=r.match(Tte);s&&!i.protocol&&(r=r.substr((o=s[1]+(s[2]||"")).length),/^\/\/[^/]/.test(e)&&(o=o.slice(0,-1)));var n=new URL(r,l1+"/"),a=new URL(e,n).toString().replace(l1,""),l=i.protocol||t.protocol;return l+=t.slashes||i.slashes?"//":"",!o&&l?a=a.replace(n1,l):o&&(a=a.replace(n1,"")),Dte.test(a)||~e.indexOf(".")||r.slice(-1)==="/"||e.slice(-1)==="/"||a.slice(-1)!=="/"||(a=a.slice(0,-1)),o&&(a=o+(a[0]==="/"?a.substr(1):a)),a;}function Bu(){}function Mu(r,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!1),r&&_typeof(r)=="object"&&r instanceof Bu)return r;var i=(r=r.trim()).match(Ete);r=i?i[1].replace(/\\/g,"/")+i[2]:r.replace(/\\/g,"/"),Ote.test(r)&&r.slice(-1)!=="/"&&(r+="/");var o=!/(^javascript)/.test(r)&&r.match(Ite),s=Fte.test(r),n="";o&&(c1.test(o[1])||(n=o[1].toLowerCase(),r=""+o[2]+o[3]),o[2]||(s=!1,c1.test(o[1])?(n=o[1],r=""+o[3]):r="//"+o[3]),o[2].length!==3&&o[2].length!==1||(n=o[1],r="/"+o[3]));var a,l=(i?i[1]:r).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),c=l&&l[1],u=new Bu(),p="",m="";try{a=new URL(r);}catch(v){p=v,n||t||!/^\/\//.test(r)||/^\/\/.+[@.]/.test(r)||(m="/",r=r.substr(1));try{a=new URL(r,l1);}catch(S){return u.protocol=n,u.href=n,u;}}u.slashes=s&&!m,u.host=a.host===a1?"":a.host,u.hostname=a.hostname===a1?"":a.hostname.replace(/(\[|\])/g,""),u.protocol=p?n||null:a.protocol,u.search=a.search.replace(/\\/g,"%5C"),u.hash=a.hash.replace(/\\/g,"%5C");var h=r.split("#");!u.search&&~h[0].indexOf("?")&&(u.search="?"),u.hash||h[1]!==""||(u.hash="#"),u.query=e?s1["default"].decode(a.search.substr(1)):u.search.substr(1),u.pathname=m+(o?function(v){return v.replace(/['^|`]/g,function(S){return"%"+S.charCodeAt().toString(16).toUpperCase();}).replace(/((?:%[0-9A-F]{2})+)/g,function(S,_){try{return decodeURIComponent(_).split("").map(function(I){var E=I.charCodeAt();return E>256||/^[a-z0-9]$/i.test(I)?I:"%"+E.toString(16).toUpperCase();}).join("");}catch(I){return _;}});}(a.pathname):a.pathname),u.protocol==="about:"&&u.pathname==="blank"&&(u.protocol="",u.pathname=""),p&&r[0]!=="/"&&(u.pathname=u.pathname.substr(1)),n&&!c1.test(n)&&r.slice(-1)!=="/"&&u.pathname==="/"&&(u.pathname=""),u.path=u.pathname+u.search,u.auth=[a.username,a.password].map(decodeURIComponent).filter(Boolean).join(":"),u.port=a.port,c&&!u.host.endsWith(c)&&(u.host+=c,u.port=c.slice(1)),u.href=m?""+u.pathname+u.search+u.hash:mh(u);var g=/^(file)/.test(u.href)?["host","hostname"]:[];return Object.keys(u).forEach(function(v){~g.indexOf(v)||(u[v]=u[v]||null);}),u;}var s1,kte,n1,a1,l1,Tte,Dte,c1,Ete,Ite,Fte,Ote,CL=d(function(){s1=y(xL()),kte=/https?|ftp|gopher|file/;n1="http://",a1="w.w",l1=n1+a1,Tte=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,Dte=/https?|ftp|gopher|file/;Bu.prototype.parse=Mu,Bu.prototype.format=mh,Bu.prototype.resolve=vL,Bu.prototype.resolveObject=vL;c1=/^https?|ftp|gopher|file/,Ete=/^(.*?)([#?].*)/,Ite=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,Fte=/^([a-z0-9.+-]*:)?\/\/\/*/i,Ote=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;});var Rte,ph,ko,Lu=d(function(){CL();Rte=5e3,ph=typeof window!="undefined"?window:global,ko=/*#__PURE__*/function(){function ko(e){_classCallCheck(this,ko);this._url=e,this._parsedUrl=Mu(this._url,!0);}_createClass(ko,[{key:"_isJSONPRequest",value:function _isJSONPRequest(){var e=this._parsedUrl.query;for(var t in e){if(e[t]==="?")return!0;}return!1;}},{key:"load",value:function load(){return this._isJSONPRequest()?this._loadJSONP():this._loadJSON();}},{key:"_loadJSON",value:function _loadJSON(){var _this34=this;return new Promise(function(e,t){var i;ph.XDomainRequest?(i=new ph.XDomainRequest(),i.onload=function(){var o=JSON.parse(i.responseText);e(o);},i.onerror=function(o){t(o);},i.open("GET",_this34._url,!0),i.send()):ph.XMLHttpRequest&&(i=new XMLHttpRequest(),i.onreadystatechange=function(o){if(i.readyState===4)if(i.status===200){var s=JSON.parse(i.responseText);e(s);}else t(new Error("HTTP Status ".concat(i.status)));},i.open("GET",_this34._url,!0),i.send());});}},{key:"_loadJSONP",value:function _loadJSONP(){var _this35=this;var e=!1,t=!1,i="pesdk".concat(Math.round(Math.random()*99999999999999));return new Promise(function(o,s){var n=_this35._createJSONPNode(i);ph[i]=function(a){_this35._removeJSONPNode(n),e||(t=!0,o(a));},ph.setTimeout(function(){t||(_this35._removeJSONPNode(n),e=!0,s(new Error("Timeout of 5 seconds exceeded.")));},Rte);});}},{key:"_createJSONPNode",value:function _createJSONPNode(e){var t=this._buildJSONPUrl(e),i=document.querySelector("head"),o=document.createElement("script");return o.src=t,i.appendChild(o),o;}},{key:"_removeJSONPNode",value:function _removeJSONPNode(e){e.parentNode.removeChild(e);}},{key:"_buildJSONPUrl",value:function _buildJSONPUrl(e){var t=this._parsedUrl.query,i=null;for(var o in t){if(t[o]==="?"){i=o;break;}}return delete this._parsedUrl.search,t[i]=e,mh(this._parsedUrl);}}]);return ko;}();});var d1={};It(d1,{ImageLoader:function ImageLoader(){return er;},JSONLoader:function JSONLoader(){return ko;}});var SL=d(function(){Pu();Lu();});var _vr,K,zu=d(function(){_vr=/*#__PURE__*/function(){function vr(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,vr);this.r=e,this.g=t,this.b=i,this.a=o;}_createClass(vr,[{key:"toRGBA",value:function toRGBA(){return"rgba(".concat([Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255),this.a.toFixed(2)].join(","),")");}},{key:"set",value:function set(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.a;return this.r=e,this.g=t,this.b=i,this.a=o,this;}},{key:"toRGB",value:function toRGB(){return[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)];}},{key:"toHex",value:function toHex(){return"#".concat([this._componentToHex(Math.round(this.r*255)),this._componentToHex(Math.round(this.g*255)),this._componentToHex(Math.round(this.b*255))].join(""));}},{key:"toGLColor",value:function toGLColor(){return[this.r,this.g,this.b,this.a];}},{key:"toArray",value:function toArray(){return this.toGLColor();}},{key:"toRGBGLColor",value:function toRGBGLColor(){return[this.r,this.g,this.b];}},{key:"toHSV",value:function toHSV(){var e=Math.max(this.r,this.g,this.b),t=Math.min(this.r,this.g,this.b),i,o,s=e,n=e-t;if(o=e===0?0:n/e,e===t)i=0;else{switch(e){case this.r:i=(this.g-this.b)/n,this.g<this.b&&(i+=6);break;case this.g:i=(this.b-this.r)/n+2;break;case this.b:i=(this.r-this.g)/n+4;break;}i/=6;}return[i,o,s];}},{key:"fromHSV",value:function fromHSV(e,t,i){return this.copy(_vr.fromHSV(e,t,i)),this;}},{key:"clone",value:function clone(){return new _vr(this.r,this.g,this.b,this.a);}},{key:"add",value:function add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this.a+=e.a,this;}},{key:"minus",value:function minus(e){return this.r-=e.r,this.g-=e.g,this.b-=e.b,this.a-=e.a,this;}},{key:"multiplyScalar",value:function multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this.a*=e,this;}},{key:"divideScalar",value:function divideScalar(e){return this.r/=e,this.g/=e,this.b/=e,this.a/=e,this;}},{key:"clamp",value:function clamp(e,t){return this.r=Math.min(Math.max(this.r,e),t),this.g=Math.min(Math.max(this.g,e),t),this.b=Math.min(Math.max(this.b,e),t),this.a=Math.min(Math.max(this.a,e),t),this;}},{key:"mix",value:function mix(e,t){return this.r=(1-t)*this.r+t*e.r,this.g=(1-t)*this.g+t*e.g,this.b=(1-t)*this.b+t*e.b,this.a=(1-t)*this.a+t*e.a,this;}},{key:"copy",value:function copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this;}},{key:"equals",value:function equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a;}},{key:"_componentToHex",value:function _componentToHex(e){var t=e.toString(16);return t.length===1?"0".concat(t):t;}},{key:"toString",value:function toString(){return"Color(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", ").concat(this.a,")");}}],[{key:"fromHSV",value:function fromHSV(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var _ref72=[],s=_ref72[0],n=_ref72[1],a=_ref72[2],l=Math.floor(e*6),c=e*6-l,u=i*(1-t),p=i*(1-c*t),m=i*(1-(1-c)*t);switch(l%6){case 0:s=i,n=m,a=u;break;case 1:s=p,n=i,a=u;break;case 2:s=u,n=i,a=m;break;case 3:s=u,n=p,a=i;break;case 4:s=m,n=u,a=i;break;case 5:s=i,n=u,a=p;break;}return new _vr(s,n,a,o);}},{key:"fromArray",value:function fromArray(e){return new _vr(e[0],e[1],e[2],e[3]);}},{key:"fromHex",value:function fromHex(e){var _e$match=e.match(/[0-9A-fa-f]{1,2}/g),_e$match2=_slicedToArray(_e$match,3),t=_e$match2[0],i=_e$match2[1],o=_e$match2[2];return new _vr(parseInt(t,16)/255,parseInt(i,16)/255,parseInt(o,16)/255,1);}},{key:"TRANSPARENT",get:function get(){return new _vr(0,0,0,0);}},{key:"WHITE",get:function get(){return new _vr(1,1,1,1);}},{key:"BLACK",get:function get(){return new _vr(0,0,0,1);}},{key:"RED",get:function get(){return new _vr(1,0,0,1);}},{key:"BLUE",get:function get(){return new _vr(0,0,1,1);}},{key:"GREEN",get:function get(){return new _vr(0,1,0,1);}}]);return vr;}(),K=_vr;});var Ate,wL,tr,Uu=d(function(){is();Ate=12,wL=/*#__PURE__*/function(){function wL(){_classCallCheck(this,wL);this._maxListeners=Ate,this._events={},this._pipeDestinations=[];}_createClass(wL,[{key:"pipeEvents",value:function pipeEvents(e){this._pipeDestinations.push(e);}},{key:"unpipeEvents",value:function unpipeEvents(e){var t=this._pipeDestinations.indexOf(e);t!==-1&&this._pipeDestinations.splice(t,1);}},{key:"on",value:function on(e,t){if(typeof e=="undefined")throw new Error("Invalid event type: `".concat(e,"`"));if(typeof t!="function")throw new TypeError();var i=this._events[e]||(this._events[e]=[]);return i.indexOf(t)!==-1?this:(i.push(t),this._maxListeners&&i.length>this._maxListeners&&(oe.warn("EventEmitter","Possible memory leak detected, added ".concat(i.length," `").concat(e,"` listeners (current limit is ").concat(this._maxListeners,")")),typeof console!="undefined"&&console.trace()),this);}},{key:"once",value:function once(e,t){if(typeof e=="undefined")throw new Error("Invalid event type: `".concat(e,"`"));var i=this;function o(){i.off(e,o),t.apply(null,arguments);}return this.on(e,o);}},{key:"off",value:function off(e){if(typeof e=="undefined")throw new Error("Invalid event type: `".concat(e,"`"));if((arguments.length<=1?0:arguments.length-1)===0)return this._events[e]=null,this;var i=arguments.length<=1?undefined:arguments[1];if(typeof i!="function")throw new TypeError();var o=this._events[e];if(!o||!o.length)return this;var s=o.indexOf(i);return s===-1?this:(o.splice(s,1),this);}},{key:"emit",value:function emit(e){for(var _len9=arguments.length,t=new Array(_len9>1?_len9-1:0),_key9=1;_key9<_len9;_key9++){t[_key9-1]=arguments[_key9];}if(typeof e=="undefined")throw new Error("Invalid event type: `".concat(e,"`"));this._pipeDestinations.forEach(function(o){o.emit.apply(o,[e].concat(t));});var i=this._events[e];return!i||!i.length?!1:(i.slice(0).forEach(function(o){return o.apply(null,t);}),!0);}},{key:"setMaxListeners",value:function setMaxListeners(e){if(parseInt(e,10)!==e)throw new TypeError();this._maxListeners=e;}}]);return wL;}(),tr=wL;});var wc,u1=d(function(){is();wc={checkFramebufferStatus:function checkFramebufferStatus(r,e){var _i5;var t=e.checkFramebufferStatus(e.FRAMEBUFFER),i=(_i5={},_defineProperty(_i5,e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,"Incomplete attachment"),_defineProperty(_i5,e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,"Missing attachment"),_defineProperty(_i5,e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,"Incomplete dimensions"),_defineProperty(_i5,e.FRAMEBUFFER_UNSUPPORTED,"Framebuffer unsupported"),_i5);t!==e.FRAMEBUFFER_COMPLETE&&oe.warn(r,"Framebuffer incomplete: ".concat(i[t]));},determineGPUName:function determineGPUName(r){var e=null,t=null;r||(t=document.createElement("canvas"),r=t.getContext("experimental-webgl")||t.getContext("webgl"));var i=r&&r.getExtension("WEBGL_debug_renderer_info");return i&&(e=r.getParameter(i.UNMASKED_RENDERER_WEBGL),t&&t.remove()),e;},isGPUBlacklisted:function isGPUBlacklisted(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return!1;}};});var B_,kL=d(function(){B_=function B_(r){return typeof r=="number";};});var Pte,kc,M_,_ue,Jn=d(function(){kL();Pte=function Pte(r){return r instanceof _ue;},kc=function kc(r,e){return Pte(r)?{x:r.x,y:r.y}:{x:r,y:B_(e)?e:r};},M_=function M_(r,e){return function(t,i){var _kc=kc(t,i),o=_kc.x,s=_kc.y;return r.x=e(r.x,o),r.y=e(r.y,s),r;};},_ue=/*#__PURE__*/function(){function ue(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,ue);this.add=M_(this,function(e,t){return e+t;});this.subtract=M_(this,function(e,t){return e-t;});this.divide=M_(this,function(e,t){return e/t;});this.multiply=M_(this,function(e,t){return e*t;});this.x=e,this.y=t;}_createClass(ue,[{key:"set",value:function set(e,t){var _kc2=kc(e,t),i=_kc2.x,o=_kc2.y;return this.x=i,this.y=o,this;}},{key:"clone",value:function clone(){return new _ue(this.x,this.y);}},{key:"copy",value:function copy(e){return this.x=e.x,this.y=e.y,this;}},{key:"clamp",value:function clamp(e,t){return B_(e)&&(e=new _ue(e,e)),B_(t)&&(t=new _ue(t,t)),e&&(this.x=Math.max(e.x,this.x),this.y=Math.max(e.y,this.y)),t&&(this.x=Math.min(t.x,this.x),this.y=Math.min(t.y,this.y)),this;}},{key:"dot",value:function dot(e,t){var _kc3=kc(e,t),i=_kc3.x,o=_kc3.y;return this.x*i+this.y*o;}},{key:"equals",value:function equals(e,t){var _kc4=kc(e,t),i=_kc4.x,o=_kc4.y;return i===this.x&&o===this.y;}},{key:"flip",value:function flip(){var e=this.x;return this.x=this.y,this.y=e,this;}},{key:"round",value:function round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this;}},{key:"ceil",value:function ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this;}},{key:"floor",value:function floor(){return this.x|=0,this.y|=0,this;}},{key:"abs",value:function abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this;}},{key:"len",value:function len(){return Math.sqrt(this.x*this.x+this.y*this.y);}},{key:"min",value:function min(){return Math.min(this.x,this.y);}},{key:"max",value:function max(){return Math.max(this.x,this.y);}},{key:"toObject",value:function toObject(){return{x:this.x,y:this.y};}},{key:"toString",value:function toString(){return"Vector2({ x: ".concat(this.x,", y: ").concat(this.y," })");}},{key:"roundDecimal",value:function roundDecimal(e){return this.x=parseFloat(this.x.toFixed(e)),this.y=parseFloat(this.y.toFixed(e)),this;}},{key:"asArray",value:function asArray(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return e?[this.y,this.x]:[this.x,this.y];}}],[{key:"fromObject",value:function fromObject(e){return new _ue(e.x,e.y);}},{key:"NULL",get:function get(){return new _ue(0,0);}}]);return ue;}();});var _Cr,m1=d(function(){Jn();_Cr=/*#__PURE__*/function(){function Cr(){_classCallCheck(this,Cr);this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;this.reset();}_createClass(Cr,[{key:"multiply",value:function multiply(e){var t,i,o,s,n,a;return t=this.a*e.a+this.b*e.c,i=this.a*e.b+this.b*e.d,o=this.c*e.a+this.d*e.c,s=this.c*e.b+this.d*e.d,n=this.tx*e.a+this.ty*e.c+e.tx,a=this.tx*e.b+this.ty*e.d+e.ty,this.a=t,this.b=i,this.c=o,this.d=s,this.tx=n,this.ty=a,this;}},{key:"applyToVector",value:function applyToVector(e){var _e2=e,t=_e2.x,i=_e2.y;return e=e.clone(),e.x=this.a*t+this.c*i+this.tx,e.y=this.b*t+this.d*i+this.tx,e;}},{key:"applyInverseToVector",value:function applyInverseToVector(e){var t=1/(this.a*this.d+this.c*-this.b),_e3=e,i=_e3.x,o=_e3.y;return e=e.clone(),e.x=this.d*t*i+-this.c*t*o+(this.ty*this.c-this.tx*this.d)*t,e.y=this.a*t*o+-this.b*t*i+(-this.ty*this.a+this.tx*this.b)*t,e;}},{key:"rectangleToCoordinates",value:function rectangleToCoordinates(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _ue(0,0);var i=e.width*(1-t.x),o=e.width*-t.x,s=e.height*(1-t.y),n=e.height*-t.y,a=[];return a.push(new _ue(this.a*o+this.c*n+this.tx,this.d*n+this.b*o+this.ty)),a.push(new _ue(this.a*i+this.c*n+this.tx,this.d*n+this.b*i+this.ty)),a.push(new _ue(this.a*i+this.c*s+this.tx,this.d*s+this.b*i+this.ty)),a.push(new _ue(this.a*o+this.c*s+this.tx,this.d*s+this.b*o+this.ty)),a;}},{key:"reset",value:function reset(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0;}},{key:"toArray",value:function toArray(){var e=[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1];return typeof Float32Array=="undefined"?e:new Float32Array(e);}},{key:"toString",value:function toString(){return"Matrix({ a: ".concat(this.a,", b: ").concat(this.b,", c: ").concat(this.c,", d: ").concat(this.d,", tx: ").concat(this.tx,", ty: ").concat(this.ty," })");}}],[{key:"IDENTITY",get:function get(){return new _Cr();}}]);return Cr;}();});var _vt,p1=d(function(){Jn();_vt=/*#__PURE__*/function(){function vt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,vt);this.x=0;this.y=0;this.width=0;this.height=0;this.x=e,this.y=t,this.width=i,this.height=o;}_createClass(vt,[{key:"set",value:function set(e,t,i,o){return this.x=e,this.y=t,this.width=i,this.height=o,this;}},{key:"clone",value:function clone(){return new _vt(this.x,this.y,this.width,this.height);}},{key:"copy",value:function copy(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this;}},{key:"equals",value:function equals(e,t,i,o){return e instanceof _vt?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:e===this.x&&t===this.y&&i===this.width&&o===this.height;}},{key:"translate",value:function translate(e,t){var _kc5=kc(e,t),i=_kc5.x,o=_kc5.y;return this.x+=i,this.y+=o,this;}},{key:"scale",value:function scale(e,t){var _kc6=kc(e,t),i=_kc6.x,o=_kc6.y;return this.width*=i,this.height*=o,this;}},{key:"round",value:function round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.width=Math.round(this.width),this.height=Math.round(this.height),this;}},{key:"getPosition",value:function getPosition(){return new _ue(this.x,this.y);}},{key:"getSize",value:function getSize(){return new _ue(this.width,this.height);}},{key:"insetBy",value:function insetBy(e,t){return this.x+=e,this.y+=t,this.width-=2*e,this.height-=2*t,this;}},{key:"intersects",value:function intersects(e){var t=new _ue(this.x,this.y),i=new _ue(this.x+this.width,this.y+this.height),o=new _ue(e.x,e.y),s=new _ue(e.x+e.width,e.y+e.height);return!(o.x>i.x||t.x>s.x||s.y<t.y||i.y<o.y);}},{key:"toString",value:function toString(){return"Rectangle({ x: ".concat(this.x,", y: ").concat(this.y,", width: ").concat(this.width,", height: ").concat(this.height," })");}}],[{key:"FromDiagonalPoints",value:function FromDiagonalPoints(e,t){var i=!1;t.x-e.x<0&&(i=!0);var o=i?t:e,s=i?e:t,n=s.x-o.x,a=s.y-o.y;return new _vt(o.x,o.y,n,a);}}]);return vt;}();});var Nu,Bte,hl,Jt=d(function(){is();qr();zu();Uu();u1();m1();p1();Jn();Hs();Nu=2e3,Bte=5,hl=Bte*4;});var Tc,L_=d(function(){Jt();Tc=/*#__PURE__*/function(){function Tc(){_classCallCheck(this,Tc);this._position=new _ue(0,0),this._scale=new _ue(1,1),this._pivot=new _ue(0,0),this._rotation=0,this._lastRotation=null,this._alpha=1,this._visible=!0,this._worldTransform=new _Cr(),this._parent=null,this._shaders=[],this._boundsNeedUpdate=!0,this._bounds=new _vt(0,0,1,1),this._localBoundsNeedUpdate=!0,this._localBounds=new _vt(0,0,1,1),this._filterRectangle=new _vt(0,0,0,0);}_createClass(Tc,[{key:"renderWebGL",value:function renderWebGL(e){oe.warn(this.constructor.name,"`renderWebGL` is abstract and not implemented in inherited class");}},{key:"renderCanvas",value:function renderCanvas(e){oe.warn(this.constructor.name,"`renderCanvas` is abstract and not implemented in inherited class");}},{key:"updateTransform",value:function updateTransform(){var e=this._parent?this._parent.getWorldTransform():_Cr.IDENTITY,t=this._worldTransform,i=Math.sin(this._rotation),o=Math.cos(this._rotation);t.a=o*this._scale.x,t.b=i*this._scale.x,t.c=-i*this._scale.y,t.d=o*this._scale.y,t.tx=this._position.x,t.ty=this._position.y,(this._pivot.x||this._pivot.y)&&(t.tx-=this._pivot.x*t.a+this._pivot.y*t.c,t.ty-=this._pivot.x*t.b+this._pivot.y*t.d),t.multiply(e),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0;}},{key:"addShader",value:function addShader(e){this._shaders.push(e);}},{key:"removeShader",value:function removeShader(e){var t=this._shaders.indexOf(e);return t!==-1?(this._shaders.splice(t,1),!0):!1;}},{key:"removeShaderAt",value:function removeShaderAt(e){return this._shaders[e]?(this._shaders.splice(e,1),!0):!1;}},{key:"getBounds",value:function getBounds(){return this._bounds.clone();}},{key:"getPosition",value:function getPosition(){return this._position;}},{key:"setPosition",value:function setPosition(e,t){this._position.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0;}},{key:"getScale",value:function getScale(){return this._scale;}},{key:"setScale",value:function setScale(e,t){this._scale.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0;}},{key:"getPivot",value:function getPivot(){return this._pivot;}},{key:"setPivot",value:function setPivot(e,t){this._pivot.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0;}},{key:"getRotation",value:function getRotation(){return this._rotation;}},{key:"setRotation",value:function setRotation(e){this._rotation=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0;}},{key:"getAlpha",value:function getAlpha(){return this._alpha;}},{key:"setAlpha",value:function setAlpha(e){this._alpha=e;}},{key:"getWorldAlpha",value:function getWorldAlpha(){return this._parent?this._parent.getAlpha()*this._alpha:this._alpha;}},{key:"getWorldTransform",value:function getWorldTransform(){return this._worldTransform;}},{key:"getParent",value:function getParent(){return this._parent;}},{key:"setParent",value:function setParent(e){this._parent=e;}},{key:"getFilterRectangle",value:function getFilterRectangle(){return this._filterRectangle;}},{key:"setFilterRectangle",value:function setFilterRectangle(e){this._filterRectangle.copy(e);}},{key:"isVisible",value:function isVisible(){return this._visible;}},{key:"setVisible",value:function setVisible(e){this._visible=e;}}]);return Tc;}();});var _Ws,z_=d(function(){Jt();L_();_Ws=/*#__PURE__*/function(_Tc){_inherits(Ws,_Tc);var _super20=_createSuper(Ws);function Ws(){var _this36;_classCallCheck(this,Ws);_this36=_super20.call(this);_this36._children=[],_this36._filters=[];return _this36;}_createClass(Ws,[{key:"addFilter",value:function addFilter(e){this._filters.push(e);}},{key:"removeFilter",value:function removeFilter(e){var t=this._filters.indexOf(e);return t!==-1?(this._filters.splice(t,1),!0):!1;}},{key:"setFilters",value:function setFilters(e){this._filters=e;}},{key:"addChild",value:function addChild(e){var t=e.getParent();t instanceof _Ws&&t.removeChild(e),e.setParent(this),this._children.push(e);}},{key:"prependChild",value:function prependChild(e){var t=e.getParent();t instanceof _Ws&&t.removeChild(e),e.setParent(this),this._children.unshift(e);}},{key:"hasChild",value:function hasChild(e){return this._children.indexOf(e)!==-1;}},{key:"removeChild",value:function removeChild(e){var t=this._children.indexOf(e);t!==-1?(this._children.splice(t,1),e.setParent(null)):oe.info(this.constructor.name,"Tried to remove a child that does not exist");}},{key:"clearChildren",value:function clearChildren(){this._children=[];}},{key:"renderWebGL",value:function renderWebGL(e){if(!this._visible)return;var t=e.getFilterManager();this._filters&&this._filters.length&&t.pushFilters(this,this._filters),e.getCurrentObjectRenderer().start(),this._renderWebGL(e),this._children.forEach(function(i){i.renderWebGL(e);}),e.getCurrentObjectRenderer().flush(),this._filters&&this._filters.length&&t.popFilters(),e.getCurrentObjectRenderer().start();}},{key:"_renderWebGL",value:function _renderWebGL(e){}},{key:"renderCanvas",value:function renderCanvas(e){if(!this._visible)return;var t=e.getFilterManager();this._filters&&this._filters.length&&t.pushFilters(this,this._filters),this._renderCanvas(e),this._children.forEach(function(i){i.renderCanvas(e);}),this._filters&&this._filters.length&&t.popFilters();}},{key:"_renderCanvas",value:function _renderCanvas(e){}},{key:"updateTransform",value:function updateTransform(){_get(_getPrototypeOf(Ws.prototype),"updateTransform",this).call(this),this._children.forEach(function(e){e.updateTransform();});}},{key:"getLocalBounds",value:function getLocalBounds(){return this._localBoundsNeedUpdate&&(this._localBoundsNeedUpdate=!1),this._localBounds.clone();}},{key:"getBounds",value:function getBounds(){return this._boundsNeedUpdate&&(this._boundsNeedUpdate=!1),this._bounds.clone();}},{key:"getChildren",value:function getChildren(){return this._children;}},{key:"getFilters",value:function getFilters(){return this._filters;}},{key:"dispose",value:function dispose(){}}]);return Ws;}(Tc);});function TL(r,e,t,i,o,s){if(!(isNaN(s)||s<1)){s|=0;var n=r.data,a,l,c,u,p,m,h,g,v,S,_,I,E,O,V,F,P,ae,de,ye,Te,Ce,xe,ut,Ii=s+s+1,hi=i-1,fo=o-1,Pe=s+1,Et=Pe*(Pe+1)/2,yt=new DL(),pt,Ge=yt;for(c=1;c<Ii;c++){Ge=Ge.next=new DL(),c==Pe&&(pt=Ge);}Ge.next=yt;var xt=null,Si=null;h=m=0;var bs=Mte[s],_s=Lte[s];for(l=0;l<o;l++){for(F=P=ae=de=g=v=S=_=0,I=Pe*(ye=n[m]),E=Pe*(Te=n[m+1]),O=Pe*(Ce=n[m+2]),V=Pe*(xe=n[m+3]),g+=Et*ye,v+=Et*Te,S+=Et*Ce,_+=Et*xe,Ge=yt,c=0;c<Pe;c++){Ge.r=ye,Ge.g=Te,Ge.b=Ce,Ge.a=xe,Ge=Ge.next;}for(c=1;c<Pe;c++){u=m+((hi<c?hi:c)<<2),g+=(Ge.r=ye=n[u])*(ut=Pe-c),v+=(Ge.g=Te=n[u+1])*ut,S+=(Ge.b=Ce=n[u+2])*ut,_+=(Ge.a=xe=n[u+3])*ut,F+=ye,P+=Te,ae+=Ce,de+=xe,Ge=Ge.next;}for(xt=yt,Si=pt,a=0;a<i;a++){n[m+3]=xe=_*bs>>_s,xe!==0?(xe=255/xe,n[m]=(g*bs>>_s)*xe,n[m+1]=(v*bs>>_s)*xe,n[m+2]=(S*bs>>_s)*xe):n[m]=n[m+1]=n[m+2]=0,g-=I,v-=E,S-=O,_-=V,I-=xt.r,E-=xt.g,O-=xt.b,V-=xt.a,u=h+((u=a+s+1)<hi?u:hi)<<2,F+=xt.r=n[u],P+=xt.g=n[u+1],ae+=xt.b=n[u+2],de+=xt.a=n[u+3],g+=F,v+=P,S+=ae,_+=de,xt=xt.next,I+=ye=Si.r,E+=Te=Si.g,O+=Ce=Si.b,V+=xe=Si.a,F-=ye,P-=Te,ae-=Ce,de-=xe,Si=Si.next,m+=4;}h+=i;}for(a=0;a<i;a++){for(P=ae=de=F=v=S=_=g=0,m=a<<2,I=Pe*(ye=n[m]),E=Pe*(Te=n[m+1]),O=Pe*(Ce=n[m+2]),V=Pe*(xe=n[m+3]),g+=Et*ye,v+=Et*Te,S+=Et*Ce,_+=Et*xe,Ge=yt,c=0;c<Pe;c++){Ge.r=ye,Ge.g=Te,Ge.b=Ce,Ge.a=xe,Ge=Ge.next;}for(p=i,c=1;c<=s;c++){m=p+a<<2,g+=(Ge.r=ye=n[m])*(ut=Pe-c),v+=(Ge.g=Te=n[m+1])*ut,S+=(Ge.b=Ce=n[m+2])*ut,_+=(Ge.a=xe=n[m+3])*ut,F+=ye,P+=Te,ae+=Ce,de+=xe,Ge=Ge.next,c<fo&&(p+=i);}for(m=a,xt=yt,Si=pt,l=0;l<o;l++){u=m<<2,n[u+3]=xe=_*bs>>_s,xe>0?(xe=255/xe,n[u]=g*bs>>_s,n[u+1]=v*bs>>_s,n[u+2]=S*bs>>_s):n[u]=n[u+1]=n[u+2]=0,g-=I,v-=E,S-=O,_-=V,I-=xt.r,E-=xt.g,O-=xt.b,V-=xt.a,u=a+((u=l+Pe)<fo?u:fo)*i<<2,g+=F+=xt.r=n[u],v+=P+=xt.g=n[u+1],S+=ae+=xt.b=n[u+2],_+=de+=xt.a=n[u+3],xt=xt.next,I+=ye=Si.r,E+=Te=Si.g,O+=Ce=Si.b,V+=xe=Si.a,F-=ye,P-=Te,ae-=Ce,de-=xe,Si=Si.next,m+=i;}}}}function DL(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null;}var Mte,Lte,EL=d(function(){"use strict";Mte=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Lte=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];});var _Gs,hh,h1=d(function(){zu();_Gs=/*#__PURE__*/function(){function Gs(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var n=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var a=arguments.length>6&&arguments[6]!==undefined?arguments[6]:1;var l=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var c=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;var u=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;var p=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;var m=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;var h=arguments.length>12&&arguments[12]!==undefined?arguments[12]:1;var g=arguments.length>13&&arguments[13]!==undefined?arguments[13]:0;var v=arguments.length>14&&arguments[14]!==undefined?arguments[14]:0;var S=arguments.length>15&&arguments[15]!==undefined?arguments[15]:0;var _=arguments.length>16&&arguments[16]!==undefined?arguments[16]:0;var I=arguments.length>17&&arguments[17]!==undefined?arguments[17]:0;var E=arguments.length>18&&arguments[18]!==undefined?arguments[18]:1;var O=arguments.length>19&&arguments[19]!==undefined?arguments[19]:0;_classCallCheck(this,Gs);this.set(e,t,i,o,s,n,a,l,c,u,p,m,h,g,v,S,_,I,E,O);}_createClass(Gs,[{key:"set",value:function set(e,t,i,o,s,n,a,l,c,u,p,m,h,g,v,S,_,I,E,O){this.a=e,this.b=t,this.c=i,this.d=o,this.e=s,this.f=n,this.g=a,this.h=l,this.i=c,this.j=u,this.k=p,this.l=m,this.m=h,this.n=g,this.o=v,this.p=S,this.q=_,this.r=I,this.s=E,this.t=O;}},{key:"reset",value:function reset(){this.a=1,this.b=0,this.c=0,this.d=0,this.e=0,this.f=0,this.g=1,this.h=0,this.i=0,this.j=0,this.k=0,this.l=0,this.m=1,this.n=0,this.o=0,this.p=0,this.q=0,this.r=0,this.s=1,this.t=0;}},{key:"apply",value:function apply(e){var t=this.a*e.r+this.b*e.g+this.c*e.b+this.d*e.a+this.e,i=this.f*e.r+this.g*e.g+this.h*e.b+this.i*e.a+this.j,o=this.k*e.r+this.l*e.g+this.m*e.b+this.n*e.a+this.o,s=this.p*e.r+this.q*e.g+this.r*e.b+this.s*e.a+this.t;return new K(t,i,o,s);}},{key:"multiply",value:function multiply(e){var t,i,o,s,n,a,l,c,u,p,m,h,g,v,S,_,I,E,O,V,F=e,P=this;return t=F.a*P.a+F.b*P.f+F.c*P.k+F.d*P.p,i=F.a*P.b+F.b*P.g+F.c*P.l+F.d*P.q,o=F.a*P.c+F.b*P.h+F.c*P.m+F.d*P.r,s=F.a*P.d+F.b*P.i+F.c*P.n+F.d*P.s,a=F.f*P.a+F.g*P.f+F.h*P.k+F.i*P.p,l=F.f*P.b+F.g*P.g+F.h*P.l+F.i*P.q,c=F.f*P.c+F.g*P.h+F.h*P.m+F.i*P.r,u=F.f*P.d+F.g*P.i+F.h*P.n+F.i*P.s,m=F.k*P.a+F.l*P.f+F.m*P.k+F.n*P.p,h=F.k*P.b+F.l*P.g+F.m*P.l+F.n*P.q,g=F.k*P.c+F.l*P.h+F.m*P.m+F.n*P.r,v=F.k*P.d+F.l*P.i+F.m*P.n+F.n*P.s,_=F.p*P.a+F.q*P.f+F.r*P.k+F.s*P.p,I=F.p*P.b+F.q*P.g+F.r*P.l+F.s*P.q,E=F.p*P.c+F.q*P.h+F.r*P.m+F.s*P.r,O=F.p*P.d+F.q*P.i+F.r*P.n+F.s*P.s,n=F.a*P.e+F.b*P.j+F.c*P.o+F.d*P.t+F.e,p=F.f*P.e+F.g*P.j+F.h*P.o+F.i*P.t+F.j,S=F.k*P.e+F.l*P.j+F.m*P.o+F.n*P.t+F.o,V=F.p*P.e+F.q*P.j+F.r*P.o+F.s*P.t+F.t,this.a=t,this.b=i,this.c=o,this.d=s,this.e=n,this.f=a,this.g=l,this.h=c,this.i=u,this.j=p,this.k=m,this.l=h,this.m=g,this.n=v,this.o=S,this.p=_,this.q=I,this.r=E,this.s=O,this.t=V,this;}},{key:"clone",value:function clone(){var e=new _Gs();return e.set(this.a,this.b,this.c,this.d,this.e,this.f,this.g,this.h,this.i,this.j,this.k,this.l,this.m,this.n,this.o,this.p,this.q,this.r,this.s,this.t),e;}},{key:"equals",value:function equals(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f&&this.g===e.g&&this.h===e.h&&this.i===e.i&&this.j===e.j&&this.k===e.k&&this.l===e.l&&this.m===e.m&&this.n===e.n&&this.o===e.o&&this.p===e.p&&this.q===e.q&&this.r===e.r&&this.s===e.s&&this.t===e.t;}},{key:"getOffsets",value:function getOffsets(){return[this.e,this.j,this.o,this.t];}},{key:"toString",value:function toString(){return"ColorMatrix( ".concat(this.a,", ").concat(this.b,", ").concat(this.c,", ").concat(this.d,", ").concat(this.e,",\n      ").concat(this.f,", ").concat(this.g,", ").concat(this.h,", ").concat(this.i,", ").concat(this.j,",\n      ").concat(this.k,", ").concat(this.l,", ").concat(this.m,", ").concat(this.n,", ").concat(this.o,",\n      ").concat(this.p,", ").concat(this.q,", ").concat(this.r,", ").concat(this.s,", ").concat(this.t," )");}},{key:"toArray",value:function toArray(){var _this37=this;return"abcdefghijklmnopqrst".split("").map(function(e){return _this37[e];});}}],[{key:"IDENTITY",get:function get(){return new _Gs();}},{key:"createBrightnessMatrix",value:function createBrightnessMatrix(e){var t=new _Gs();return t.e=e,t.j=e,t.o=e,t;}},{key:"createContrastMatrix",value:function createContrastMatrix(e){var t=new _Gs(),i=(1-e)/2;return t.a=t.g=t.m=e,t.e=t.j=t.o=i,t;}},{key:"createSaturationMatrix",value:function createSaturationMatrix(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=new _Gs(),i=1-e,o=.213*i,s=.715*i,n=.072*i;return t.a=o+e,t.b=s,t.c=n,t.f=o,t.g=s+e,t.h=n,t.k=o,t.l=s,t.m=n+e,t;}},{key:"createExposureMatrix",value:function createExposureMatrix(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=Math.pow(2,e);return new _Gs(t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0);}},{key:"createLinearMatrix",value:function createLinearMatrix(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=new _Gs();return i.a=i.g=i.m=e,i.e=i.j=i.o=t,i;}}]);return Gs;}(),hh=_Gs;});var _Hu,Fe,Wu=d(function(){qr();Ns();zu();Uu();h1();Jn();Hs();_Hu=/*#__PURE__*/function(_tr){_inherits(Hu,_tr);var _super21=_createSuper(Hu);function Hu(){var _this38;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Hu);_this38=_super21.call(this);_this38.availableOptions=w(w({},Object.getPrototypeOf(_assertThisInitialized(_this38)).availableOptions),t),_this38._onConfigurableUpdate=_this38._onConfigurableUpdate.bind(_assertThisInitialized(_this38)),_this38._initOptions(e);return _this38;}_createClass(Hu,[{key:"_buildConfigError",value:function _buildConfigError(e){var t="";return this.constructor.name&&(t="".concat(this.constructor.name,": ")),t+=e,new Error(t);}},{key:"_onOptionsChange",value:function _onOptionsChange(){}},{key:"validateSettings",value:function validateSettings(){var _this39=this;return new Promise(function(e,t){for(var i in _this39.availableOptions){if(_this39.availableOptions[i].required&&typeof _this39._options[i]=="undefined")return t(_this39._buildConfigError("Option `".concat(i,"` is required.")));}e();});}},{key:"_initOptions",value:function _initOptions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options={};var t,i,o,s=this;for(t in this.availableOptions){if(o=t.charAt(0).toUpperCase()+t.slice(1),i=this.availableOptions[t],[b.STRING,b.NUMBER,b.BOOLEAN,b.OBJECT,b.VECTOR2,b.COLOR,b.CONFIGURABLE,b.COLOR_MATRIX,b.ARRAY,b.IMAGE,b.FUNCTION,b.ALL].indexOf(i.type)===-1)throw this._buildConfigError("Unknown option type: `".concat(i.type,"`"));if(function(l){s["set".concat(o)]=function(c,u,p){s.setOption(l,c,u,p);},s["get".concat(o)]=function(){return s.getOption(l);};}(t),i.type===b.CONFIGURABLE&&(this._options[t]=new _Hu(void 0,i.structure||{}),this._options[t].on("update",this._onConfigurableUpdate)),!(t in e)||typeof e[t]=="undefined")if(typeof i["default"]!="undefined"){var a=i["default"];typeof i["default"]=="function"&&(a=i["default"]()),this["set".concat(o)](a,!1,!0);}else i.type!==b.CONFIGURABLE&&(this._options[t]=void 0);}for(t in e){if(typeof this.availableOptions[t]=="undefined")throw new Error("Invalid option: ".concat(t));typeof e[t]!="undefined"&&(o=t.charAt(0).toUpperCase()+t.slice(1),this["set".concat(o)](e[t],!1,!0));}}},{key:"set",value:function set(e){var _this40=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;Object.keys(e).forEach(function(i){_this40.setOption(i,e[i],!1);}),this._onOptionsChange(),t&&this.emit("update",this,e);}},{key:"getOption",value:function getOption(e){return this._options[e];}},{key:"hasOption",value:function hasOption(e){return!!this.availableOptions[e];}},{key:"getOptionDefault",value:function getOptionDefault(e){var t=this.availableOptions[e];if(!t)throw new Error("Invalid option: ".concat(e));return t["default"];}},{key:"resetOptions",value:function resetOptions(){this.set(this.getDefaultOptions());}},{key:"getDefaultOptions",value:function getDefaultOptions(){var e={};for(var t in this.availableOptions){var i=this.availableOptions[t]["default"];typeof i!="undefined"&&(e[t]=i);}return e;}},{key:"getOptions",value:function getOptions(){return w({},this._options);}},{key:"equals",value:function equals(e){var t=e.getOptions();return this.optionsEqual(t);}},{key:"optionsEqual",value:function optionsEqual(e){for(var t in e){var i=e[t];if(!this._optionEquals(t,i))return!1;}return!0;}},{key:"_optionEquals",value:function _optionEquals(e,t){if(typeof this.availableOptions[e]=="undefined")throw new Error("Invalid option: ".concat(e));var o=this.availableOptions[e].type,s=this._options[e];if(s===t)return!0;if(typeof t=="undefined"||typeof s=="undefined")return!1;switch(o){case b.OBJECT:return typeof s.optionsEqual=="function"?s.optionsEqual(t._options):s===t;case b.STRING:case b.NUMBER:case b.BOOLEAN:case b.FUNCTION:case"*":return s===t;case b.VECTOR2:return s.equals(t);case b.COLOR:case b.COLOR_MATRIX:return t.equals(s);case b.CONFIGURABLE:return s.optionsEqual(t);case b.ARRAY:return this._arrayOptionEquals(e,t);case b.IMAGE:return s.src===t.src;}}},{key:"_arrayOptionEquals",value:function _arrayOptionEquals(e,t){var i=this._options[e];if(t.length!==i.length)return!1;var o=!0;for(var s=0;s<i.length;s++){var n=i[s],a=t[s];if(n instanceof _Hu){if(typeof a=="undefined"||!n.optionsEqual(a)){o=!1;break;}}else if(a!==n){o=!1;break;}}return o;}},{key:"serializeOptions",value:function serializeOptions(){var _this41=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(this._options);var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i={};return e.forEach(function(o){if(typeof _this41.availableOptions[o]=="undefined")return Log.warn("Trying to serialize a key that does not exist: ".concat(o));_this41.availableOptions[o].serializable!==!1&&(i[o]=_this41.serializeOption(o,t));}),i;}},{key:"serializeOption",value:function serializeOption(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.availableOptions[e],o=i.type,s=this._options[e];if(!s)return s;if(i.serializable===!1)throw new Error("Option `".concat(e,"` is not serializable."));switch(o){case b.STRING:case b.NUMBER:case b.BOOLEAN:case b.OBJECT:case b.FUNCTION:case b.ALL:return s;case b.VECTOR2:return t?s.toObject():s.clone();case b.COLOR:case b.COLOR_MATRIX:return t?s.toArray():s.clone();case b.CONFIGURABLE:return s.serializeOptions(void 0,t);case b.ARRAY:return s.slice(0);case b.IMAGE:return t?s.src:s;}}},{key:"setOption",value:function setOption(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=this.availableOptions[e];if(!s)throw new Error("Invalid option: ".concat(e));if(typeof s.setter!="undefined"&&(t=s.setter.call(this,t,o)),typeof s.validation!="undefined"&&s.validation(t),t===null||typeof t=="undefined"){if(s.required)throw this._buildConfigError("Option `".concat(e,"` is required."));this._options[e]=t;}else switch(s.type){case b.STRING:{if(_typeof(t)!==b.STRING)throw this._buildConfigError("Option `".concat(e,"` has to be a string."));var n=s.available;if(typeof n!="undefined"&&n.indexOf(t)===-1)throw this._buildConfigError("Invalid value for `".concat(e,"` (valid values are: ").concat(s.available.join(", "),")"));this._options[e]=t;break;}case b.NUMBER:if(_typeof(t)!==b.NUMBER)throw this._buildConfigError("Option `".concat(e,"` has to be a number."));this._options[e]=t;break;case b.BOOLEAN:if(_typeof(t)!==b.BOOLEAN)throw this._buildConfigError("Option `".concat(e,"` has to be a boolean."));this._options[e]=t;break;case b.VECTOR2:if(!(t instanceof _ue)&&!(_typeof(t)=="object"&&"x"in t&&"y"in t))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of Vector2 or an Object holding x and y values."));t instanceof _ue?this._options[e]=t.clone():this._options[e]=_ue.fromObject(t);break;case b.COLOR:if(!(t instanceof K))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of Color."));this._options[e]=t;break;case b.COLOR_MATRIX:if(!(t instanceof hh))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of ColorMatrix."));this._options[e]=t.clone();break;case b.FUNCTION:if(typeof t!="function")throw this._buildConfigError("Option `".concat(e,"` has to be a function."));this._options[e]=t;break;case b.OBJECT:case"*":this._options[e]=t;break;case b.IMAGE:{var _Ti=Ti,_n2=_Ti.Image;if(typeof t=="string"){var a=new _n2();uL(a)&&(a.crossOrigin=G.getCrossOriginValue(s.crossOrigin)),a.src=t,this._options[e]=a;}else if(t instanceof _n2||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement)this._options[e]=t;else throw this._buildConfigError("Option `".concat(e,"` has to be an Image, Canvas or String."));break;}case b.CONFIGURABLE:t instanceof _Hu?this._options[e]=t:this._options[e].set(t);break;case b.ARRAY:if(!(t instanceof Array))throw this._buildConfigError("Option `".concat(e,"` has to be an Array."));this._options[e]=t.slice(0);break;default:throw this._buildConfigError("Unknown option type: `".concat(s.type,"`"));}i&&(this._onOptionsChange(),this.emit("update",this,_defineProperty({},e,t)));}},{key:"_onConfigurableUpdate",value:function _onConfigurableUpdate(){for(var _len10=arguments.length,e=new Array(_len10),_key10=0;_key10<_len10;_key10++){e[_key10]=arguments[_key10];}this.emit.apply(this,["update"].concat(e));}},{key:"hasChanges",value:function hasChanges(){var e=this.getDefaultOptions();return!this.optionsEqual(e);}}]);return Hu;}(tr),Fe=_Hu;});var fh,f1=d(function(){qr();Jt();Jt();fh=/*#__PURE__*/function(){function fh(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];_classCallCheck(this,fh);this._program=null;this._renderer=e,this._vertexSource=t,this._fragmentSource=i,this._uniforms=o,this._uniformLocations={},this._attributes=s,this._attributeLocations={},this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange),this._init();}_createClass(fh,[{key:"_init",value:function _init(){this._compile(),this._renderer.getContext().useProgram(this._program),this._cacheUniformLocations(),this._cacheAttributeLocations();}},{key:"_onContextChange",value:function _onContextChange(){this._init();}},{key:"setupBuffers",value:function setupBuffers(e,t){var i=this._renderer.getContext();i.bindBuffer(i.ARRAY_BUFFER,e),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t),i.vertexAttribPointer(this._attributeLocations.a_position,2,i.FLOAT,!1,hl,0),i.vertexAttribPointer(this._attributeLocations.a_texCoord,2,i.FLOAT,!1,hl,2*4),i.vertexAttribPointer(this._attributeLocations.a_color,4,i.UNSIGNED_BYTE,!0,hl,4*4);}},{key:"syncUniforms",value:function syncUniforms(){var _this42=this;Object.keys(this._uniforms).forEach(function(e){_this42.syncUniform(e);});}},{key:"syncUniform",value:function syncUniform(e){var t=this._renderer.getContext(),i=this._uniforms[e],o=this._uniformLocations[e];switch(i.type){case Z.SAMPLER2D:t.uniform1i(o,i.value);break;case Z.INT:case Z.INT1:t.uniform1i(o,i.value);break;case Z.INT2:t.uniform2i(o,i.value[0],i.value[1]);break;case Z.INT3:t.uniform3i(o,i.value[0],i.value[1],i.value[2]);break;case Z.INT4:t.uniform4i(o,i.value[0],i.value[1],i.value[2],i.value[3]);break;case Z.FLOAT:case Z.FLOAT1:t.uniform1f(o,i.value);break;case Z.FLOAT2:t.uniform2f(o,i.value[0],i.value[1]);break;case Z.FLOAT3:t.uniform3f(o,i.value[0],i.value[1],i.value[2]);break;case Z.FLOAT4:t.uniform4f(o,i.value[0],i.value[1],i.value[2],i.value[3]);break;case Z.FLOAT_VECTOR2:t.uniform2fv(o,i.value);break;case Z.MAT3:case Z.MAT3FV:t.uniformMatrix3fv(o,!1,i.value);break;case Z.MAT4:t.uniformMatrix4fv(o,!1,i.value);break;default:oe.warn(this.constructor.name,"Unknown uniform type: ".concat(i.type));}}},{key:"_cacheAttributeLocations",value:function _cacheAttributeLocations(){var _this43=this;var e=this._renderer.getContext();this._attributes.forEach(function(t){_this43._program&&(_this43._attributeLocations[t]=e.getAttribLocation(_this43._program,t));});}},{key:"_cacheUniformLocations",value:function _cacheUniformLocations(){var _this44=this;var e=this._renderer.getContext();Object.keys(this._uniforms).forEach(function(i){if(_this44._program){var o=e.getUniformLocation(_this44._program,i);o&&(_this44._uniformLocations[i]=o);}});}},{key:"_addPrecisionToSource",value:function _addPrecisionToSource(e){var t=this._renderer.getMaxFloatPrecision(),i=wo.Medium;return G.isMobile()&&t===wo.High&&(i=wo.High),"precision ".concat(i," float;\n").concat(e);}},{key:"_compile",value:function _compile(){var e=this._renderer.getContext(),t=this._compileShader(e.VERTEX_SHADER,this._vertexSource);this._vertexShader=t;var i=this._addPrecisionToSource(this._fragmentSource),o=this._compileShader(e.FRAGMENT_SHADER,i);this._fragmentShader=o;var s=e.createProgram();if(!s)return;if(e.attachShader(s,t),e.attachShader(s,o),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS))this._program=s;else{var a=e.getProgramInfoLog(s);e.isContextLost()&&(a="WebGL context lost"),e.deleteProgram(s),oe.error(this.constructor.name,"WebGL program linking error: ".concat(a));}}},{key:"_compileShader",value:function _compileShader(e,t){var i=this._renderer.getContext(),o=i.createShader(e);if(!o)throw new Error("Cannot create shared: ".concat(JSON.stringify(e)));if(i.shaderSource(o,t),i.compileShader(o),!i.getShaderParameter(o,i.COMPILE_STATUS)){var n=i.getShaderInfoLog(o);i.isContextLost()&&(n="WebGL context lost"),i.deleteShader(o),oe.error(this.constructor.name,"WebGL shader compilation error: ".concat(n));}return o;}},{key:"setUniform",value:function setUniform(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;this._uniforms[e].value=t,i&&this.syncUniform(e);}},{key:"setUniforms",value:function setUniforms(e){var _this45=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;Object.keys(e).forEach(function(i){_this45._uniforms[i].value=e[i],t&&_this45.syncUniform(i);});}},{key:"getUniforms",value:function getUniforms(){return this._uniforms;}},{key:"getAttributes",value:function getAttributes(){return this._attributes;}},{key:"getAttributeLocations",value:function getAttributeLocations(){return this._attributeLocations;}},{key:"getProgram",value:function getProgram(){return this._program;}},{key:"dispose",value:function dispose(){var e=this._renderer.getContext();e.deleteProgram(this._program),e.deleteShader(this._vertexShader),e.deleteShader(this._fragmentShader),this._renderer.off("context",this._onContextChange);}}]);return fh;}();});var FL,IL=d(function(){FL="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  gl_FragColor = texture2D(u_image, v_texCoord) * v_color;\n}\n";});var RL,OL=d(function(){RL="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\nuniform mat3 u_projMatrix;\n\nvoid main() {\n  gl_Position = vec4((u_projMatrix * vec3(a_position, 1)).xy, 0, 1);\n  v_texCoord = a_texCoord;\n  v_color = vec4(a_color.rgb * a_color.a, a_color.a);\n}\n";});var Nte,Zn,g1,AL=d(function(){qr();Jt();f1();IL();OL();Nte=new _Cr(),Zn={vertexSource:RL,fragmentSource:FL,uniforms:{u_image:{type:Z.SAMPLER2D,value:0},u_projMatrix:{type:Z.MAT3,value:Nte.toArray()}},attributes:["a_position","a_texCoord","a_color"]},g1=/*#__PURE__*/function(_fh){_inherits(g1,_fh);var _super22=_createSuper(g1);function g1(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Zn.vertexSource;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Zn.fragmentSource;_classCallCheck(this,g1);return _super22.call(this,e,t,i,Zn.uniforms,Zn.attributes);}return g1;}(fh);});var b1=d(function(){f1();AL();});var rs,Gu=d(function(){EL();qr();Wu();Jt();b1();Ns();rs=/*#__PURE__*/function(_Fe){_inherits(rs,_Fe);var _super23=_createSuper(rs);function rs(){var _this46;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,rs);_this46=_super23.call(this,e,t);_this46._initOptions(e);return _this46;}_createClass(rs,[{key:"_initOptions",value:function _initOptions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._shaders=[],this._availableUniforms=Zn.uniforms,this._attributes=Zn.attributes,this._vertexSource=Zn.vertexSource,this._fragmentSource=Zn.fragmentSource,this._initUniforms(),_get(_getPrototypeOf(rs.prototype),"_initOptions",this).call(this,e);}},{key:"_initUniforms",value:function _initUniforms(){this._uniforms={};for(var e in this._availableUniforms){var t=this._availableUniforms[e];this._uniforms[e]={type:t.type,value:t["default"]||null};}for(var _e4 in this.availableOptions){var _t2=this.availableOptions[_e4];_t2.uniformType?this._uniforms["u_".concat(_e4)]={type:_t2.uniformType,value:_t2["default"]||null}:oe.trace(this.constructor.name,"Option `".concat(_e4,"` is missing a `uniformType`!"));}}},{key:"setOption",value:function setOption(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;_get(_getPrototypeOf(rs.prototype),"setOption",this).call(this,e,t,i);var o=t,s=this.availableOptions[e];if(!s.uniformType)return;var n="u_".concat(e);switch(s.type){case b.COLOR:s.uniformType===Z.FLOAT4?o=t.toGLColor():s.uniformType===Z.FLOAT3&&(o=t.toRGBGLColor());break;case b.VECTOR2:o=[t.x,t.y];break;case b.COLOR_MATRIX:{o=[t.a,t.b,t.c,t.d,t.f,t.g,t.h,t.i,t.k,t.l,t.m,t.n,t.p,t.q,t.r,t.s];var a=[t.e,t.j,t.o,t.t];this._uniforms["".concat(n,"_vec")]={value:a,type:Z.FLOAT4};}}this.setUniform(n,o);}},{key:"setUniform",value:function setUniform(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;this._uniforms[e].value=t;}},{key:"setUniforms",value:function setUniforms(e){var _this47=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;Object.entries(e).forEach(function(_ref73){var _ref74=_slicedToArray(_ref73,2),i=_ref74[0],o=_ref74[1];_this47._uniforms[i].value=o,t&&_this47.syncUniform(i);});}},{key:"syncUniform",value:function syncUniform(e){this._shaders.forEach(function(t){t.syncUniform(e);});}},{key:"syncUniforms",value:function syncUniforms(){this._shaders.forEach(function(e){e.syncUniforms();});}},{key:"getShaderForRenderer",value:function getShaderForRenderer(e){var t=e.id;this._shaders||(this._shaders=[]);var i=this._shaders[t];return i||(i=new fh(e,this._vertexSource,this._fragmentSource,this._uniforms,this._attributes),this._shaders[t]=i),i;}},{key:"apply",value:function apply(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;Ru(e)?this._applyWebGL(e,t,i,o):this._applyCanvas(e,t,i,o);}},{key:"_applyWebGL",value:function _applyWebGL(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=e.getContext(),n=this.getShaderForRenderer(e);e.setRenderTarget(i),o&&i.clear(),e.setShader(n);var a=e.getCurrentRenderTarget().getProjectionMatrix().toArray();n.setUniform("u_projMatrix",a),n.syncUniforms(),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t.getTexture()),s.drawElements(s.TRIANGLES,6,s.UNSIGNED_SHORT,0);}},{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=i.getContext();oe.warn(this.constructor.name,"`_applyCanvas` is not implemented. Just copying image data from `inputTarget` to `outputTarget`."),n.clearRect(0,0,s.width,s.height),n.drawImage(s,0,0);}},{key:"dispose",value:function dispose(){this._shaders.forEach(function(e){return e.dispose();}),this._shaders=[];}},{key:"_blurImage",value:function _blurImage(e,t,i){var o=10,s=e.getCanvas(),n=Math.min(1,o/(i*Math.min(s.width,s.height))),a=G.createCanvas();a.width=Math.round(s.width*n),a.height=Math.round(s.height*n);var l=a.getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,a.width,a.height);var c=i*Math.min(a.width,a.height),u=l.getImageData(0,0,a.width,a.height);TL(u,0,0,a.width,a.height,c),l.putImageData(u,0,0),t.getContext().drawImage(a,0,0,a.width,a.height,0,0,s.width,s.height);}}]);return rs;}(Fe);});var BL,PL=d(function(){BL="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(color.a > 0. ? color.rgb / color.a : vec3(0), color.a);\n}\n";});var U_,ML=d(function(){Gu();PL();U_=/*#__PURE__*/function(_rs){_inherits(U_,_rs);var _super24=_createSuper(U_);function U_(){var _this48;_classCallCheck(this,U_);_this48=_super24.call(this);_this48._fragmentSource=BL;return _this48;}return U_;}(rs);});var zL,LL=d(function(){zL="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(mix(color.rgb, u_color.rgb, u_color.a), color.a) * color.a;\n}\n";});var Gte,Vte,_1,UL,NL=d(function(){var _xr;Jt();Gu();LL();(_xr=xr,Gte=_xr.OptionType,Vte=_xr.UniformType,_xr),_1=/*#__PURE__*/function(_rs2){_inherits(_1,_rs2);var _super25=_createSuper(_1);function _1(){var _this49;_classCallCheck(this,_1);for(var _len11=arguments.length,e=new Array(_len11),_key11=0;_key11<_len11;_key11++){e[_key11]=arguments[_key11];}_this49=_super25.call.apply(_super25,[this].concat(e));_this49._fragmentSource=zL;return _this49;}_createClass(_1,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=this._options.color,c=n.getImageData(0,0,s.width,s.height),u=a.getImageData(0,0,s.width,s.height),p=s.width*s.height,m=new K(),h=new K();for(var g=0;g<p*4;g+=4){m.set(c.data[g]/255,c.data[g+1]/255,c.data[g+2]/255,c.data[g+3]/255),h.set(u.data[g]/255,u.data[g+1]/255,u.data[g+2]/255,u.data[g+3]/255);var v=h.r+m.a*(m.r-h.r);u.data[g]=(v+m.a*(l.r-v))*255;var S=h.g+m.a*(m.g-h.g);u.data[g+1]=(S+m.a*(l.g-S))*255;var _=h.b+m.a*(m.b-h.b);u.data[g+2]=(_+m.a*(l.b-_))*255;}a.putImageData(u,0,0);}}]);return _1;}(rs);_1.prototype.availableOptions={color:{type:Gte.COLOR,"default":K.WHITE,uniformType:Vte.FLOAT4}};UL=_1;});var WL,HL=d(function(){WL="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\nuniform int u_mode;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\nconst float EPSILON = 0.0000001;\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord); // Is premultiplied.\n    color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha.\n    vec4 newColor;\n    if (u_mode == 0) {\n        newColor = vec4(color.rgb, 1.0); // We use alpha 1.0 becaue color is not premultiplied.\n        newColor *= color.a; // Premultiply the result\n    } else if (u_mode == 1) {\n        newColor = vec4(u_color.rgb, 1.0); // Use alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    } else if (u_mode == 2) {\n        float luminance = dot(color.rgb, W); // Convert to color to gray value.\n        newColor = vec4(vec3(luminance) * u_color.rgb, 1.0); // Colorize and with alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    }\n    gl_FragColor = newColor;\n}";});var GL,VL,_fl,jL,$L=d(function(){var _xr2;Jt();Gu();HL();(_xr2=xr,GL=_xr2.OptionType,VL=_xr2.UniformType,_xr2),_fl=/*#__PURE__*/function(_rs3){_inherits(fl,_rs3);var _super26=_createSuper(fl);function fl(){var _this50;_classCallCheck(this,fl);for(var _len12=arguments.length,e=new Array(_len12),_key12=0;_key12<_len12;_key12++){e[_key12]=arguments[_key12];}_this50=_super26.call.apply(_super26,[this].concat(e));_this50._fragmentSource=WL;return _this50;}_createClass(fl,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),_this$_options=this._options,c=_this$_options.mode,u=_this$_options.color,p=u.r,m=u.g,h=u.b,g=u.a,v=[.2125,.7154,.0721];switch(c){case _fl.MODES.SOLID:for(var S=0;S<s.width*s.height;S++){var _=S*4;l.data[_]+=(p*255-l.data[_])*g,l.data[_+1]+=(m*255-l.data[_+1])*g,l.data[_+2]+=(h*255-l.data[_+2])*g;}break;case _fl.MODES.COLORIZED:for(var _S2=0;_S2<s.width*s.height;_S2++){var _10=_S2*4,I=l.data[_10]/255*v[0]+l.data[_10+1]/255*v[1]+l.data[_10+2]/255*v[2],E=new K(I*p,I*m,I*h);l.data[_10]+=(E.r*255-l.data[_10])*g,l.data[_10+1]+=(E.g*255-l.data[_10+1])*g,l.data[_10+2]+=(E.b*255-l.data[_10+2])*g;}break;}a.putImageData(l,0,0);}}]);return fl;}(rs);_fl.MODES={NONE:0,SOLID:1,COLORIZED:2};_fl.prototype.availableOptions={color:{type:GL.COLOR,"default":K.WHITE,uniformType:VL.FLOAT4},mode:{type:GL.NUMBER,"default":_fl.MODES.NONE,uniformType:VL.INT}};jL=_fl;});var KL,qL=d(function(){KL="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform sampler2D u_overlayImage;\nuniform int u_blendMode;\nuniform float u_alpha;\n\nconst float EPSILON = 0.000001;\n\nvec4 overlay(vec4 a, vec4 b) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 hardLight(vec4 b, vec4 a) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(b, vec4(result, b.a), u_alpha * a.a);\n}\n\nvec4 softLight(vec4 a, vec4 b) {\n    vec3 result = mix(\n          2.0 * a.rgb * (1.0 - b.rgb) + (2.0 * b.rgb - 1.0) * sqrt(a.rgb),\n          2.0 * a.rgb * b.rgb + a.rgb * a.rgb * (1.0 - 2.0 * b.rgb),\n          vec3(b.r < 0.5, b.g < 0.5, b.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 multiply(vec4 a, vec4 b) {\n    vec3 result = a.rgb * b.rgb;\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 darken(vec4 a, vec4 b) {\n    vec3 result = min(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 lighten(vec4 a, vec4 b) {\n    vec3 result = max(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 screen(vec4 a, vec4 b) {\n    vec3 result = 1.0 - (1.0 - a.rgb) * (1.0 - b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 colorBurn(vec4 a, vec4 b) {\n    vec3 result = clamp(1.0 - (1.0 - a.rgb) / max(b.rgb, EPSILON), 0.0, 1.0);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 normal(vec4 a, vec4 b) {\n    return mix(a, vec4(b.rgb, a.a), u_alpha * b.a);\n}\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 overlayColor = texture2D(u_overlayImage, v_texCoord);\n\n  vec4 resultColor;\n  if (u_blendMode == 0) {\n    resultColor = normal(color, overlayColor);\n  } else if (u_blendMode == 1) {\n    resultColor = overlay(color, overlayColor);\n  } else if (u_blendMode == 2) {\n    resultColor = hardLight(color, overlayColor);\n  } else if (u_blendMode == 3) {\n    resultColor = softLight(color, overlayColor);\n  } else if (u_blendMode == 4) {\n    resultColor = multiply(color, overlayColor);\n  } else if (u_blendMode == 5) {\n    resultColor = darken(color, overlayColor);\n  } else if (u_blendMode == 6) {\n    resultColor = lighten(color, overlayColor);\n  } else if (u_blendMode == 7) {\n    resultColor = screen(color, overlayColor);\n  } else if (u_blendMode == 8) {\n    resultColor = colorBurn(color, overlayColor);\n  }\n  gl_FragColor = vec4(resultColor.rgb * resultColor.a, resultColor.a);\n}\n";});var N_,y1,x1,_ir,XL,YL=d(function(){var _xr3;Jt();Gu();qL();(_xr3=xr,N_=_xr3.OptionType,y1=_xr3.UniformType,_xr3),x1=1e-6,_ir=/*#__PURE__*/function(_rs4){_inherits(ir,_rs4);var _super27=_createSuper(ir);function ir(){var _this51;_classCallCheck(this,ir);for(var _len13=arguments.length,e=new Array(_len13),_key13=0;_key13<_len13;_key13++){e[_key13]=arguments[_key13];}_this51=_super27.call.apply(_super27,[this].concat(e));_this51._fragmentSource=KL,_this51._lastImage=null;return _this51;}_createClass(ir,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=this._options.overlayTexture.getRenderTarget().getContext(),n=t.getCanvas(),a=t.getContext(),l=i.getContext(),c=a.getImageData(0,0,n.width,n.height),u=s.getImageData(0,0,n.width,n.height),_this$_options2=this._options,p=_this$_options2.blendMode,m=_this$_options2.alpha,h=new K(),g=new K(),v=new K();for(var S=0;S<n.width*n.height*4;S+=4){h.set(c.data[S]/255,c.data[S+1]/255,c.data[S+2]/255,c.data[S+3]/255),g.set(u.data[S]/255,u.data[S+1]/255,u.data[S+2]/255,u.data[S+3]/255);var _=void 0,I=void 0,E=void 0,O=void 0,V=void 0,F=void 0,P=void 0,ae=void 0,de=void 0;switch(p){case _ir.BLEND_MODES.NORMAL:v.set(h.r+g.a*m*(g.r-h.r),h.g+g.a*m*(g.g-h.g),h.b+g.a*m*(g.b-h.b),h.a);break;case _ir.BLEND_MODES.OVERLAY:_=1-2*(1-h.r)*(1-g.r),I=2*h.r*g.r,E=_+(h.r<.5?1:0)*(I-_),O=1-2*(1-h.g)*(1-g.g),V=2*h.g*g.g,F=O+(h.g<.5?1:0)*(V-O),P=1-2*(1-h.b)*(1-g.b),ae=2*h.b*g.b,de=P+(h.b<.5?1:0)*(ae-P),v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;case _ir.BLEND_MODES.HARD_LIGHT:_=1-2*(1-g.r)*(1-h.r),I=2*g.r*h.r,E=_+(g.r<.5?1:0)*(I-_),O=1-2*(1-g.g)*(1-h.g),V=2*g.g*h.g,F=O+(g.g<.5?1:0)*(V-O),P=1-2*(1-g.b)*(1-h.b),ae=2*g.b*h.b,de=P+(g.b<.5?1:0)*(ae-P),v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;case _ir.BLEND_MODES.SOFT_LIGHT:_=2*h.r*(1-g.r)+(2*g.r-1)*Math.sqrt(h.r),I=2*h.r*g.r+h.r*h.r*(1-2*g.r),E=_+(g.r<.5?1:0)*(I-_),O=2*h.g*(1-g.g)+(2*g.g-1)*Math.sqrt(h.g),V=2*h.g*g.g+h.g*h.g*(1-2*g.g),F=O+(g.g<.5?1:0)*(V-O),P=2*h.b*(1-g.b)+(2*g.b-1)*Math.sqrt(h.b),ae=2*h.b*g.b+h.b*h.b*(1-2*g.b),de=P+(g.b<.5?1:0)*(ae-P),v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;case _ir.BLEND_MODES.MULTIPLY:E=h.r*g.r,F=h.g*g.g,de=h.b*g.b,v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;case _ir.BLEND_MODES.DARKEN:E=Math.min(h.r,g.r),F=Math.min(h.g,g.g),de=Math.min(h.b,g.b),v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;case _ir.BLEND_MODES.LIGHTEN:E=Math.max(h.r,g.r),F=Math.max(h.g,g.g),de=Math.max(h.b,g.b),v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;case _ir.BLEND_MODES.SCREEN:E=1-(1-h.r)*(1-g.r),F=1-(1-h.g)*(1-g.g),de=1-(1-h.b)*(1-g.b),v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;case _ir.BLEND_MODES.COLOR_BURN:E=Math.max(0,Math.min(1,1-(1-h.r)/Math.max(g.r,x1))),F=Math.max(0,Math.min(1,1-(1-h.g)/Math.max(g.g,x1))),de=Math.max(0,Math.min(1,1-(1-h.b)/Math.max(g.b,x1))),v.set(h.r+g.a*m*(E-h.r),h.g+g.a*m*(F-h.g),h.b+g.a*m*(de-h.b),h.a);break;}c.data[S]=v.r*255,c.data[S+1]=v.g*255,c.data[S+2]=v.b*255,c.data[S+3]=v.a*255;}l.putImageData(c,0,0);}}]);return ir;}(rs);_ir.BLEND_MODES={NORMAL:0,OVERLAY:1,HARD_LIGHT:2,SOFT_LIGHT:3,MULTIPLY:4,DARKEN:5,LIGHTEN:6,SCREEN:7,COLOR_BURN:8};_ir.prototype.availableOptions={blendMode:{type:N_.NUMBER,"default":_ir.BLEND_MODES.NORMAL,uniformType:y1.INT},overlayImage:{type:N_.NUMBER,required:!0,uniformType:y1.SAMPLER2D},overlayTexture:{type:N_.OBJECT,required:!0},alpha:{type:N_.NUMBER,"default":1,uniformType:y1.FLOAT}};XL=_ir;});var v1={};It(v1,{ColorOverlayFilter:function ColorOverlayFilter(){return UL;},OverlayFilter:function OverlayFilter(){return XL;},TintFilter:function TintFilter(){return jL;},UnpremultiplyFilter:function UnpremultiplyFilter(){return U_;}});var JL=d(function(){ML();NL();$L();YL();});var To,gl,ZL,_Vu,$t,ju=d(function(){var _ZL;Jt();Ns();(function(o){o[o.Nearest=0]="Nearest",o[o.Linear=1]="Linear",o[o.Bilinear=2]="Bilinear",o[o.Trilinear=3]="Trilinear";})(To||(To={}));(function(i){i[i.ClampToEdge=0]="ClampToEdge",i[i.Repeat=1]="Repeat",i[i.MirroredRepeat=2]="MirroredRepeat";})(gl||(gl={}));ZL=(_ZL={},_defineProperty(_ZL,1,"LINEAR"),_defineProperty(_ZL,0,"NEAREST"),_defineProperty(_ZL,2,"LINEAR_MIPMAP_NEAREST"),_defineProperty(_ZL,3,"LINEAR_MIPMAP_LINEAR"),_ZL),_Vu=/*#__PURE__*/function(_tr2){_inherits(Vu,_tr2);var _super28=_createSuper(Vu);function Vu(e){var _this52;_classCallCheck(this,Vu);_this52=_super28.call(this);_this52._renderers=[];_this52._glTextures={};_this52._dirty=!0;_this52._mipMapping=!1;_this52._glUnit=0;_this52._magFilter=_Vu.DefaultMagFilter;_this52._minFilter=_Vu.DefaultMinFilter;_this52._repeatX=0;_this52._repeatY=0;_this52._pixelRatio=1;_this52._loaded=!1;_this52._frame=new _vt(0,0,100,100);_this52._onSourceLoaded=_this52._onSourceLoaded.bind(_assertThisInitialized(_this52)),_this52._source=e,_this52._loadSource();return _this52;}_createClass(Vu,[{key:"resizeTo",value:function resizeTo(e){this._frame.width===e.x&&this._frame.height===e.y||(this._frame.width=e.x,this._frame.height=e.y,this._dirty=!0);}},{key:"_loadSource",value:function _loadSource(){var e=this._source;if(!!e){if(Ti.isCanvas(e))return this._onSourceLoaded();if(e.complete)return this._onSourceLoaded();e.addEventListener&&e.addEventListener("load",this._onSourceLoaded);}}},{key:"_onSourceLoaded",value:function _onSourceLoaded(){this._loaded=!0,this.emit("loaded"),this.update();}},{key:"_updateGLFilters",value:function _updateGLFilters(){if(!this._source)return;var e=new _ue(this._source.width,this._source.height);G.isPowerOfTwo(e)?(oe.info(this.constructor.name,"Mip-mapping enabled"),this._minFilter=_Vu.TrilinearFilter,this._mipMapping=!0):(this._minFilter=_Vu.LinearFilter,this._mipMapping=!1);}},{key:"update",value:function update(){!this._source||((this._frame.width!==this._source.width||this._frame.height!==this._source.height)&&(this._frame=new _vt(0,0,this._source.width,this._source.height),this._dirty=!0),this._updateGLFilters(),this.emit("update"));}},{key:"getRenderers",value:function getRenderers(){return _toConsumableArray(this._renderers);}},{key:"getGLFilter",value:function getGLFilter(e,t){switch(t){case"min":return e[ZL[this._minFilter]];case"mag":return e[ZL[this._magFilter]];}}},{key:"isLoaded",value:function isLoaded(){return this._loaded;}},{key:"setLoaded",value:function setLoaded(e){this._loaded=e;}},{key:"getSource",value:function getSource(){return this._source;}},{key:"setSource",value:function setSource(e){this._source=e;}},{key:"getGLTextureForRenderer",value:function getGLTextureForRenderer(e){return this._glTextures[e.id];}},{key:"setGLTextureForRenderer",value:function setGLTextureForRenderer(e,t){this._renderers[t.id]=t,this._glTextures[t.id]=e;}},{key:"getFrame",value:function getFrame(){return this._frame;}},{key:"setFrame",value:function setFrame(e){this._frame=e;}},{key:"getDimensions",value:function getDimensions(){return new _ue(this._frame.width,this._frame.height);}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(e){this._pixelRatio=e;}},{key:"getGLUnit",value:function getGLUnit(){return this._glUnit;}},{key:"setGLUnit",value:function setGLUnit(e){this._glUnit=e;}},{key:"setMinFilter",value:function setMinFilter(e){this._minFilter=e;}},{key:"getMinFilter",value:function getMinFilter(){return this._minFilter;}},{key:"setMagFilter",value:function setMagFilter(e){this._magFilter=e;}},{key:"getMagFilter",value:function getMagFilter(){return this._magFilter;}},{key:"setRepeatX",value:function setRepeatX(e){this._repeatX=e;}},{key:"getRepeatX",value:function getRepeatX(){return this._repeatX;}},{key:"setRepeatY",value:function setRepeatY(e){this._repeatY=e;}},{key:"getRepeatY",value:function getRepeatY(){return this._repeatY;}},{key:"getGLRepeat",value:function getGLRepeat(e,t){switch(t==="x"?this.getRepeatX():this.getRepeatY()){case 0:return e.CLAMP_TO_EDGE;case 1:return e.REPEAT;case 2:return e.MIRRORED_REPEAT;default:return 0;}}},{key:"isDirty",value:function isDirty(){return this._dirty;}},{key:"setDirty",value:function setDirty(e){this._dirty=e;}},{key:"disposeGLTextures",value:function disposeGLTextures(){var _this53=this;this._renderers.forEach(function(e){Ru(e)&&_this53.disposeGLTexturesForRenderer(e);});}},{key:"disposeGLTexturesForRenderer",value:function disposeGLTexturesForRenderer(e){if(!this._glTextures[e.id])return;e.getContext().deleteTexture(this._glTextures[e.id]),delete this._glTextures[e.id],this._renderers[e.id]||delete this._renderers[e.id];}},{key:"isMipMappingEnabled",value:function isMipMappingEnabled(){return this._mipMapping;}},{key:"setMipMappingEnabled",value:function setMipMappingEnabled(e){this._mipMapping=e;}},{key:"dispose",value:function dispose(){this.disposeGLTextures(),this._source=void 0;}}]);return Vu;}(tr),$t=_Vu;$t.NearestFilter=0,$t.LinearFilter=1,$t.BilinearFilter=2,$t.TrilinearFilter=3,$t.DefaultMagFilter=0,$t.DefaultMinFilter=1,$t.Repeat=1,$t._id=0;});var Qn,gh=d(function(){Jt();ju();Ns();Qn=/*#__PURE__*/function(){function Qn(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Ti.createCanvas();var s=arguments.length>4?arguments[4]:undefined;_classCallCheck(this,Qn);this._width=e,this._height=t,this._pixelRatio=i,this._baseTexture=new $t(),this._canvas=o;var n=s||this._canvas.getContext("2d");if(!n)throw new Error("Cannot get canvas context");this._context=n,this._baseTexture.setSource(this._canvas),this._canvas.width=this._width*this._pixelRatio,this._canvas.height=this._height*this._pixelRatio,this._filterStack=[{renderTarget:this,filters:[]}];}_createClass(Qn,[{key:"clear",value:function clear(){var e=this._context;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio);}},{key:"resizeTo",value:function resizeTo(e){this._baseTexture.resizeTo(e),this._width!==e.x&&(this._width=e.x,this._canvas.width=this._width*this._pixelRatio),this._height!==e.y&&(this._height=e.y,this._canvas.height=this._height*this._pixelRatio);}},{key:"getCanvas",value:function getCanvas(){return this._canvas;}},{key:"getContext",value:function getContext(){return this._context;}},{key:"getFilterStack",value:function getFilterStack(){return this._filterStack;}},{key:"getWidth",value:function getWidth(){return this._width;}},{key:"getHeight",value:function getHeight(){return this._height;}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(e){this._pixelRatio=e;}},{key:"getDimensions",value:function getDimensions(){return new _ue(this._width,this._height);}},{key:"getBaseTexture",value:function getBaseTexture(){return this._baseTexture;}},{key:"dispose",value:function dispose(){delete this._canvas,delete this._context,this._baseTexture.dispose();}}]);return Qn;}();});var Dc,H_=d(function(){Jt();gh();Dc=/*#__PURE__*/function(){function Dc(e){_classCallCheck(this,Dc);this._renderer=e,this._filterStack=[{renderTarget:e.getCurrentRenderTarget(),filters:[]}],this._textures=[],this._textureFrame=new _vt(0,0,e.getWidth(),e.getHeight());}_createClass(Dc,[{key:"resizeTo",value:function resizeTo(e){this._textureFrame.width=e.x,this._textureFrame.height=e.y,this._textures.forEach(function(t){return t.resizeTo(e);});}},{key:"pushFilters",value:function pushFilters(e,t){this._currentFrame=e.getBounds();var i=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(i),this._filterStack.push({renderTarget:i,filters:t}),i.clear();}},{key:"popFilters",value:function popFilters(){var e=this._filterStack.pop();if(!e)return;var t=e.filters,i=e.renderTarget,o=this._filterStack[this._filterStack.length-1],s=i,n=o.renderTarget;return t.length===1?(t[0].apply(this._renderer,s,n),this._textures.push(s)):this._applyFilters(t,s,n),t;}},{key:"_applyFilters",value:function _applyFilters(e,t,i){var _this54=this;var o=t,s=this._getOrCreateRenderTarget(!0),n=e[e.length-1];e.forEach(function(a){if(a===n)a.apply(_this54._renderer,o,i);else{a.apply(_this54._renderer,o,s);var c=o;o=s,s=c;}}),this._textures.push(o),this._textures.push(s);}},{key:"_getOrCreateRenderTarget",value:function _getOrCreateRenderTarget(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this._textures.pop();return t||(t=new Qn(this._textureFrame.width,this._textureFrame.height,1)),e&&t.clear(),t;}},{key:"setFilterStack",value:function setFilterStack(e){this._filterStack=e;}},{key:"dispose",value:function dispose(){}}]);return Dc;}();});var _h=tt(function(QL,bh){(function(){var r,e,t,i,o,s;typeof performance!="undefined"&&performance!==null&&performance.now?bh.exports=function(){return performance.now();}:typeof process!="undefined"&&process!==null&&process.hrtime?(bh.exports=function(){return(r()-o)/1e6;},e=process.hrtime,r=function r(){var n;return n=e(),n[0]*1e9+n[1];},i=r(),s=process.uptime()*1e9,o=i-s):Date.now?(bh.exports=function(){return Date.now()-t;},t=Date.now()):(bh.exports=function(){return new Date().getTime()-t;},t=new Date().getTime());}).call(QL);});var e4,t4,W_,C1=d(function(){Jt();e4=typeof window!="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):_h(),t4=/*#__PURE__*/function(){function t4(e){var _this55=this;_classCallCheck(this,t4);this._context=e,this._tracking=!1;var t=this;var _loop2=function _loop2(i){typeof e[i]=="function"?_this55[i]=function(){var n=e[i];for(var _len14=arguments.length,s=new Array(_len14),_key14=0;_key14<_len14;_key14++){s[_key14]=arguments[_key14];}if(!t._tracking)return n.apply(e,s);var a=e4(),l=n.apply(e,s),c=e4()-a,u={functionName:i,arguments:s,duration:c};return t._trackedCalls.push(u),l;}:_this55._makePropertyWrapper(i);};for(var i in e){_loop2(i);}}_createClass(t4,[{key:"_makePropertyWrapper",value:function _makePropertyWrapper(e){if(["_context","_trackedCalls","_tracking"].indexOf(e)!==-1)return;var i=this._context;this.__defineGetter__(e,function(){return i[e];}),this.__defineSetter__(e,function(o){i[e]=o;});}},{key:"startFrame",value:function startFrame(){this._tracking=!0,this._trackedCalls=[];}},{key:"endFrame",value:function endFrame(){var e="Rendering";oe.log(e,"Frame rendering results:"),oe.log(e,"Context calls: ".concat(this._trackedCalls.length));var t={};this._trackedCalls.forEach(function(_ref75){var o=_ref75.functionName,s=_ref75.duration;t[o]=t[o]||{totalDuration:0,calls:0},t[o].totalDuration+=s,t[o].calls++;});var i=[];for(var o in t){var s=t[o];s.averageDuration=s.totalDuration/s.calls,i.push({functionName:o,data:s});}i.sort(function(o,s){return s.data.totalDuration-o.data.totalDuration;}),i=i.slice(0,3),i.forEach(function(o){oe.log(e,"".concat(o.functionName,": ").concat(o.data.calls," calls, ").concat(o.data.totalDuration.toFixed(2),"ms"));});}}]);return t4;}(),W_=t4;});var yh,S1=d(function(){Jt();yh=/*#__PURE__*/function(_tr3){_inherits(yh,_tr3);var _super29=_createSuper(yh);function yh(){var _this56;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:800;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,yh);_this56=_super29.call(this);_this56._maxTextureSize=null;_this56._options=L(w({debug:!1,transparent:!1,clearColor:K.TRANSPARENT},i),{pixelRatio:1}),_this56.setMaxListeners(0),_this56._width=e,_this56._height=t,_this56._dimensions=new _ue(_this56._width,_this56._height),_this56._maxTextureSize=null,_this56._pixelRatio=_this56._options.pixelRatio,_this56._canvas=_this56._options.canvas,_this56._clearColor=_this56._options.transparent?K.TRANSPARENT:_this56._options.clearColor||K.BLACK;return _this56;}_createClass(yh,[{key:"setCanvas",value:function setCanvas(e){var t=this._canvas;this._canvas=e,t!==e&&(this._createContext(),this._onBeforeContext(),this._setupContext()),this.resizeTo(new _ue(this._width,this._height));}},{key:"getCanvas",value:function getCanvas(){return this._canvas;}},{key:"_onBeforeContext",value:function _onBeforeContext(){}},{key:"resizeTo",value:function resizeTo(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;this._width=e.x*this._pixelRatio,this._height=e.y*this._pixelRatio,t&&this._canvas&&(this._canvas.width=this._width,this._canvas.height=this._height,"style"in this._canvas&&(this._canvas.style.width="".concat(this._width/this._pixelRatio,"px"),this._canvas.style.height="".concat(this._height/this._pixelRatio,"px"))),this._dimensions=e.clone();}},{key:"_createContext",value:function _createContext(){oe.warn(this.constructor.name,"`_createContext` is abstract and not implemented in inherited class");}},{key:"_setupContext",value:function _setupContext(){oe.warn(this.constructor.name,"`_setupContext` is abstract and not implemented in inherited class");}},{key:"render",value:function render(e){oe.warn(this.constructor.name,"`render` is abstract and not implemented in inherited class");}},{key:"getMaxDimensions",value:function getMaxDimensions(){return null;}},{key:"getContext",value:function getContext(){return this._context;}},{key:"getWidth",value:function getWidth(){return this._dimensions.x;}},{key:"getHeight",value:function getHeight(){return this._dimensions.y;}},{key:"getDimensions",value:function getDimensions(){return this._dimensions;}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(e){this._pixelRatio=e,this._defaultRenderTarget&&this._defaultRenderTarget.setPixelRatio(e);}},{key:"getMaxTextureSize",value:function getMaxTextureSize(){return this._maxTextureSize;}},{key:"getFilterManager",value:function getFilterManager(){return this._filterManager;}},{key:"setFilterManager",value:function setFilterManager(e){this._filterManager=e;}},{key:"isOfType",value:function isOfType(e){return this._type===e;}},{key:"dispose",value:function dispose(){oe.warn(this.constructor.name,"`dispose` is abstract and not implemented in inherited class");}}]);return yh;}(tr);});var i4,_w2,$u,r4=d(function(){var _xr4;L_();Jt();H_();gh();C1();Ns();S1();(_xr4=xr,i4=_xr4.RendererType,_xr4),_w2=/*#__PURE__*/function(_yh){_inherits(w1,_yh);var _super30=_createSuper(w1);function w1(){var _this57;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:800;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,w1);_this57=_super30.call(this,e,t,w({},i));_this57.id=0;_this57.setCanvas((i==null?void 0:i.canvas)||Ti.createCanvas()),_this57._type=i4.CANVAS;return _this57;}_createClass(w1,[{key:"_createContext",value:function _createContext(){var t=this._canvas.getContext("2d");if(!!t)return this._options.debug&&(t=new W_(t)),this.id=_w2.contextId++,this._context=t,this.emit("context",t),t;}},{key:"_setupContext",value:function _setupContext(){var e=this._context;"imageSmoothingEnabled"in e?e.imageSmoothingEnabled=!0:["moz","webkit","ms"].forEach(function(t){e[t]&&(e[t]=!0);}),this._defaultRenderTarget=new Qn(this._width,this._height,this._pixelRatio,this._canvas,this._context),this.setRenderTarget(this._defaultRenderTarget),this._filterManager=new Dc(this);}},{key:"render",value:function render(e){var t=this._renderTarget.getContext(),i=e.getParent();e.setParent(new Tc()),e.updateTransform(),i&&e.setParent(i),t.setTransform(1,0,0,1,0,0),t.globalAlpha=1;var _this$_canvas=this._canvas,o=_this$_canvas.width,s=_this$_canvas.height;t.clearRect(0,0,o,s),this._clearColor.a!==0&&(t.save(),t.fillStyle=this._clearColor.toRGBA(),t.fillRect(0,0,o,s),t.restore()),this.renderDisplayObject(e,this._renderTarget);}},{key:"renderDisplayObject",value:function renderDisplayObject(e,t){var i=this._renderTarget;this._filterManager.setFilterStack(t.getFilterStack()),this.setRenderTarget(t),e.renderCanvas(this),this.setRenderTarget(i);}},{key:"getCurrentRenderTarget",value:function getCurrentRenderTarget(){return this._renderTarget;}},{key:"setRenderTarget",value:function setRenderTarget(e){this._renderTarget=e;}},{key:"getContext",value:function getContext(){return this._renderTarget.getContext();}},{key:"dispose",value:function dispose(){this._filterManager.dispose();}}]);return w1;}(yh),$u=_w2;$u.contextId=0,$u.type=i4.CANVAS;});var o4,s4=d(function(){o4=function o4(r){if(typeof window!="undefined"){var _window=window,e=_window.WebGLDebugUtils;if(e){var t=function t(i,o){console.error("gl.".concat(i,"(").concat(e.glFunctionArgsToString(i,o),")"));};r=e.makeDebugContext(r,null,t);}}return r;};});var k1,n4=d(function(){k1=/*#__PURE__*/function(){function k1(e){_classCallCheck(this,k1);this.vertices=new Float32Array([0,0,100,0,100,100,0,100]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.indices=new Uint16Array([0,1,2,0,3,2]);this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);this.vertexBuffer=null;this.indexBuffer=null;this.gl=e,this.initBuffers(),this.uploadBuffers();}_createClass(k1,[{key:"map",value:function map(e,t){var i=t.x,o=t.y;this.uvs[2]=t.width/e.width,this.uvs[4]=this.uvs[2],this.uvs[5]=t.height/e.height,this.uvs[7]=this.uvs[5],this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+t.width,this.vertices[3]=o,this.vertices[4]=this.vertices[2],this.vertices[5]=o+t.height,this.vertices[6]=i,this.vertices[7]=this.vertices[5],this.uploadBuffers();}},{key:"getVertexBuffer",value:function getVertexBuffer(){return this.vertexBuffer;}},{key:"getIndexBuffer",value:function getIndexBuffer(){return this.indexBuffer;}},{key:"dispose",value:function dispose(){this.cleanBuffer();}},{key:"initBuffers",value:function initBuffers(){var e=this.gl;this.cleanBuffer(),this.vertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,(8+8+16)*4,e.DYNAMIC_DRAW),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW);}},{key:"uploadBuffers",value:function uploadBuffers(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.bufferSubData(e.ARRAY_BUFFER,8*4,this.uvs),e.bufferSubData(e.ARRAY_BUFFER,(8+8)*4,this.colors);}},{key:"cleanBuffer",value:function cleanBuffer(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer);}}]);return k1;}();});var ea,xh=d(function(){Jt();ju();ea=/*#__PURE__*/function(){function ea(e,t,i,o){var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!1;_classCallCheck(this,ea);this._renderer=e,this._gl=e.getContext(),this._width=t,this._height=i,this._frame=null,this._pixelRatio=o,this._projectionMatrix=new _Cr(),this._mipMapping=!1,this._baseTexture=new $t();var n=this._baseTexture.getFrame();n.width=t,n.height=i,this._baseTexture.setPixelRatio(o),this._baseTexture.setLoaded(!0),this._framebuffer=null,this._isRoot=s,this._filterStack=[{renderTarget:this,filters:[]}],s||this._initFrameBuffer();}_createClass(ea,[{key:"resizeTo",value:function resizeTo(e){this._width=e.x|0,this._height=e.y|0,this._baseTexture.resizeTo(e),this._isRoot||this._resizeTexture(),this._baseTexture.setMinFilter(this._getMinFilter()),this._baseTexture.setMagFilter(this._getMagFilter()),this._calculateProjectionMatrix();}},{key:"_getMinFilter",value:function _getMinFilter(){var e=$t.DefaultMinFilter;return this._mipMapping&&(e=$t.TrilinearFilter),e;}},{key:"_getMagFilter",value:function _getMagFilter(){return $t.DefaultMagFilter;}},{key:"_resizeTexture",value:function _resizeTexture(){var e=this._gl,t=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this._texture&&(e.deleteTexture(this._texture),this._texture=null),this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),this._texture&&this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer),this._renderer._options.debug&&wc.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",e);var o=new _ue(this._width,this._height);G.isPowerOfTwo(o)?(oe.info("WebGLRenderTarget","Mip-mapping enabled"),this._mipMapping=!0):this._mipMapping=!1,this._baseTexture.setMipMappingEnabled(this._mipMapping);}},{key:"activate",value:function activate(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),this._calculateProjectionMatrix(),e.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio),e.disable(e.STENCIL_TEST);}},{key:"clear",value:function clear(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:K.TRANSPARENT;var t=this._gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),this._renderer._options.debug&&wc.checkFramebufferStatus("WebGLRenderTarget#clear",t),t.clearColor.apply(t,e.toGLColor()),t.clear(t.COLOR_BUFFER_BIT);}},{key:"_calculateProjectionMatrix",value:function _calculateProjectionMatrix(){var e=this._projectionMatrix;e.reset();var t=this._frame||new _vt(0,0,this._width,this._height),i=t.x,o=t.y;this._isRoot?(e.a=1/this._width*2,e.d=-1/this._height*2,e.tx=-1-i*e.a,e.ty=1-o*e.d):(e.a=1/this._width*2,e.d=1/this._height*2,e.tx=-1-i*e.a,e.ty=-1-o*e.d);}},{key:"_initFrameBuffer",value:function _initFrameBuffer(){var e=this._gl;this._framebuffer&&(e.deleteFramebuffer(this._framebuffer),this._framebuffer=null),this._texture&&(e.deleteTexture(this._texture),this._texture=null),this._framebuffer=e.createFramebuffer(),this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),this._texture&&this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer),this.resizeTo(new _ue(this._width,this._height)),this._renderer._options.debug&&wc.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",e);}},{key:"getProjectionMatrix",value:function getProjectionMatrix(){return this._projectionMatrix;}},{key:"getTexture",value:function getTexture(){return this._texture;}},{key:"getFrame",value:function getFrame(){return this._frame;}},{key:"setFrame",value:function setFrame(e){this._frame=e;}},{key:"getFilterStack",value:function getFilterStack(){return this._filterStack;}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(e){this._pixelRatio=e,this._isRoot||this._resizeTexture();}},{key:"getBaseTexture",value:function getBaseTexture(){return this._baseTexture;}},{key:"dispose",value:function dispose(){var e=this._gl;this._baseTexture.dispose(),this._framebuffer&&(e.deleteFramebuffer(this._framebuffer),this._framebuffer=null),this._texture&&(e.deleteTexture(this._texture),this._texture=null);}}]);return ea;}();});var vh,T1=d(function(){Jt();n4();Ns();xh();vh=/*#__PURE__*/function(){function vh(e){_classCallCheck(this,vh);this._renderer=e,this._filterStack=[],this._currentFrame=null,this._renderTargets=[],this._textureFrame=new _vt(0,0,e.getWidth(),e.getHeight()),this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange),this._onContextChange();}_createClass(vh,[{key:"resizeTo",value:function resizeTo(e){this._textureFrame.width=e.x,this._textureFrame.height=e.y,this._renderTargets.forEach(function(t){return t.resizeTo(e);});}},{key:"getFilterStack",value:function getFilterStack(){return this._filterStack;}},{key:"setFilterStack",value:function setFilterStack(e){this._filterStack=e;}},{key:"_getOrCreateRenderTarget",value:function _getOrCreateRenderTarget(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this._renderTargets.pop();return t||(t=new ea(this._renderer,this._textureFrame.width,this._textureFrame.height,1)),this._currentFrame&&t.setFrame(this._currentFrame),e&&t.clear(),t;}},{key:"pushFilters",value:function pushFilters(e,t){var i=e.getBounds();this._currentFrame=i;var o=e.getFilterRectangle();o.width>0&&o.height>0&&(this._currentFrame=o);var s=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(s),s.clear(),this._filterStack.push({renderTarget:s,filters:t});}},{key:"popFilters",value:function popFilters(){var e=this._filterStack.pop();if(!e)return;var t=e.filters,i=e.renderTarget,o=this._filterStack[this._filterStack.length-1],s=i,n=o.renderTarget,a=s.getFrame();a&&this._quad.map(this._textureFrame,a);var l=t[0].getShaderForRenderer(this._renderer),c=this._quad.getVertexBuffer(),u=this._quad.getIndexBuffer(),p=this._renderer.getContext();p.bindBuffer(p.ARRAY_BUFFER,c),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u);var m=l.getAttributeLocations();return p.vertexAttribPointer(m.a_position,2,p.FLOAT,!1,0,0),p.vertexAttribPointer(m.a_texCoord,2,p.FLOAT,!1,0,2*4*4),p.vertexAttribPointer(m.a_color,4,p.FLOAT,!1,0,4*4*4),this._renderer.updateTexture(s.getBaseTexture(),!1),t.length===1?(t[0].apply(this._renderer,s,n),this._renderTargets.push(s)):this._applyFilters(t,s,n),t;}},{key:"_applyFilters",value:function _applyFilters(e,t,i){var _this58=this;var o=t,s=this._getOrCreateRenderTarget(!0);this._renderer.updateTexture(s.getBaseTexture(),!1);var n=e[e.length-1];e.forEach(function(a){if(a===n)a.apply(_this58._renderer,o,i,!0);else{a.apply(_this58._renderer,o,s,!0);var c=o;o=s,s=c;}}),this._renderTargets.push(o),this._renderTargets.push(s);}},{key:"_onContextChange",value:function _onContextChange(){this._renderTargets.length=0,Ru(this._renderer)&&(this._quad&&this._quad.dispose(),this._quad=new k1(this._renderer.getContext()));}},{key:"dispose",value:function dispose(){this._renderer.off("context",this._onContextChange),this._quad&&this._quad.dispose(),this._renderTargets.forEach(function(e){e.dispose();});}}]);return vh;}();});var a4=tt(function(L2e,D1){var Ch=function Ch(){function r(u){return i.appendChild(u.dom),u;}function e(u){for(var p=0;p<i.children.length;p++){i.children[p].style.display=p===u?"block":"none";}t=u;}var t=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(u){u.preventDefault(),e(++t%i.children.length);},!1);var o=(performance||Date).now(),s=o,n=0,a=r(new Ch.Panel("FPS","#0ff","#002")),l=r(new Ch.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=r(new Ch.Panel("MB","#f08","#201"));return e(0),{REVISION:16,dom:i,addPanel:r,showPanel:e,begin:function begin(){o=(performance||Date).now();},end:function end(){n++;var u=(performance||Date).now();if(l.update(u-o,200),u>s+1e3&&(a.update(1e3*n/(u-s),100),s=u,n=0,c)){var p=performance.memory;c.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576);}return u;},update:function update(){o=this.end();},domElement:i,setMode:e};};Ch.Panel=function(r,e,t){var i=1/0,o=0,s=Math.round,n=s(window.devicePixelRatio||1),a=80*n,l=48*n,c=3*n,u=2*n,p=3*n,m=15*n,h=74*n,g=30*n,v=document.createElement("canvas");v.width=a,v.height=l,v.style.cssText="width:80px;height:48px";var S=v.getContext("2d");return S.font="bold "+9*n+"px Helvetica,Arial,sans-serif",S.textBaseline="top",S.fillStyle=t,S.fillRect(0,0,a,l),S.fillStyle=e,S.fillText(r,c,u),S.fillRect(p,m,h,g),S.fillStyle=t,S.globalAlpha=.9,S.fillRect(p,m,h,g),{dom:v,update:function update(_,I){i=Math.min(i,_),o=Math.max(o,_),S.fillStyle=t,S.globalAlpha=1,S.fillRect(0,0,a,m),S.fillStyle=e,S.fillText(s(_)+" "+r+" ("+s(i)+"-"+s(o)+")",c,u),S.drawImage(v,p+n,m,h-n,g,p,m,h-n,g),S.fillRect(p+h-n,m,n,g),S.fillStyle=t,S.globalAlpha=.9,S.fillRect(p+h-n,m,n,s((1-_/I)*g));}};};_typeof(D1)=="object"&&(D1.exports=Ch);});var bl,G_,l4=d(function(){bl=y(a4()),G_=/*#__PURE__*/function(){function G_(e){_classCallCheck(this,G_);this._context=e,this._domAvailable=typeof document!="undefined",this._hookIntoContext(),this._textures={},this._framebuffers={},this._programs={},this._shaders={},this._buffers={},this._boundTexture=null,this._id=0,this._enums={},this._setupStats(),this._createEnumMap(),this._updateMemoryStats=this._updateMemoryStats.bind(this),this._updateMemoryStats();}_createClass(G_,[{key:"_createEnumMap",value:function _createEnumMap(){for(var e in this._context){var t=this._context[e];typeof t=="number"&&(this._enums[t]=e);}}},{key:"_enumValueToString",value:function _enumValueToString(e){var t=this._enums[e];return typeof t=="undefined"?e:t;}},{key:"_setupStats",value:function _setupStats(){!this._domAvailable||(this._stats=new bl["default"](),this._stats.showPanel(3),this._memPanel=this._stats.addPanel(new bl["default"].Panel("MB [WebGL]","#43ADEB","#282828")),this._texPanel=this._stats.addPanel(new bl["default"].Panel("Textures","#43ADEB","#282828")),this._bufPanel=this._stats.addPanel(new bl["default"].Panel("Buffers","#43ADEB","#282828")),this._fboPanel=this._stats.addPanel(new bl["default"].Panel("FBOs","#43ADEB","#282828")),this._prgPanel=this._stats.addPanel(new bl["default"].Panel("Programs","#43ADEB","#282828")),this._shdPanel=this._stats.addPanel(new bl["default"].Panel("Shaders","#43ADEB","#282828")));}},{key:"_updatePanel",value:function _updatePanel(e){if(!!this._domAvailable){switch(this._stats.begin(),e){case"tex":this._texPanel.update(this.getTexturesCount(),50);break;case"buf":this._bufPanel.update(this.getBuffersCount(),50);break;case"fbo":this._fboPanel.update(this.getFBOCount(),50);break;case"prg":this._prgPanel.update(this.getProgramCount(),50);break;case"shd":this._shdPanel.update(this.getShaderCount(),50);break;}this._stats.end();}}},{key:"getTexturesCount",value:function getTexturesCount(){return Object.keys(this._textures).length;}},{key:"getBuffersCount",value:function getBuffersCount(){return Object.keys(this._buffers).length;}},{key:"getFBOCount",value:function getFBOCount(){return Object.keys(this._framebuffers).length;}},{key:"getProgramCount",value:function getProgramCount(){return Object.keys(this._programs).length;}},{key:"getShaderCount",value:function getShaderCount(){return Object.keys(this._shaders).length;}},{key:"_updateMemoryStats",value:function _updateMemoryStats(){if(!this._domAvailable)return;var e=this._getMemoryUsage()/1e3/1e3;this._memPanel.update(e,400),setTimeout(this._updateMemoryStats,1e3);}},{key:"_getMemoryUsage",value:function _getMemoryUsage(){var e=0;for(var t in this._textures){e+=this._textures[t].memory;}for(var _t3 in this._buffers){e+=this._buffers[_t3].memory;}return e;}},{key:"_hookIntoContext",value:function _hookIntoContext(){var _this59=this;var _loop3=function _loop3(e){typeof _this59._context[e]=="function"?_this59[e]=function(){var o=this._context[e];for(var _len15=arguments.length,i=new Array(_len15),_key15=0;_key15<_len15;_key15++){i[_key15]=arguments[_key15];}return this._trackGLCall(o,e,i);}:_this59._makePropertyWrapper(e);};for(var e in this._context){_loop3(e);}}},{key:"_makePropertyWrapper",value:function _makePropertyWrapper(e){if(["_context"].indexOf(e)!==-1)return;var i=this._context;this.__defineGetter__(e,function(){return i[e];}),this.__defineSetter__(e,function(o){i[e]=o;});}},{key:"_trackGLCall",value:function _trackGLCall(e,t,i){var o=["texImage2D","bindTexture","createTexture","deleteTexture","createBuffer","bindBuffer","bufferData","deleteBuffer","createFramebuffer","deleteFramebuffer","createProgram","deleteProgram","createShader","deleteShader"],s;o.indexOf(t)!==-1?s=this["_".concat(t)](i):s=e.apply(this._context,i);var n=this._context.getError();if(n!==0){var a=i.join(", ");a.length>100&&(a="".concat(a.substr(0,100),"...")),console.error(new Error("WebGL Error ".concat(this._enumValueToString(n)," in ").concat(t,"(").concat(a,")")));}return s;}},{key:"_createProgram",value:function _createProgram(){var e=this._context.createProgram();return e._wmmId=this._id++,this._programs[e._wmmId]=e,this._updatePanel("prg"),e;}},{key:"_deleteProgram",value:function _deleteProgram(_ref76){var _ref77=_slicedToArray(_ref76,1),e=_ref77[0];!e||!this._programs[e._wmmId]||(delete this._programs[e._wmmId],this._context.deleteProgram(e),this._updatePanel("prg"));}},{key:"_createShader",value:function _createShader(_ref78){var _ref79=_slicedToArray(_ref78,1),e=_ref79[0];var t=this._context.createShader(e);return t._wmmId=this._id++,this._shaders[t._wmmId]=t,this._updatePanel("shd"),t;}},{key:"_deleteShader",value:function _deleteShader(_ref80){var _ref81=_slicedToArray(_ref80,1),e=_ref81[0];!e||!this._shaders[e._wmmId]||(delete this._shaders[e._wmmId],this._context.deleteShader(e),this._updatePanel("shd"));}},{key:"_createFramebuffer",value:function _createFramebuffer(){var e=this._context.createFramebuffer();return e._wmmId=this._id++,this._framebuffers[e._wmmId]=e,this._updatePanel("fbo"),e;}},{key:"_deleteFramebuffer",value:function _deleteFramebuffer(_ref82){var _ref83=_slicedToArray(_ref82,1),e=_ref83[0];!e||!this._framebuffers[e._wmmId]||(delete this._framebuffers[e._wmmId],this._context.deleteFramebuffer(e),this._updatePanel("fbo"));}},{key:"_createBuffer",value:function _createBuffer(){var e=this._context.createBuffer();return e._wmmId=this._id++,this._buffers[e._wmmId]={buffer:e,memory:0},this._updatePanel("buf"),e;}},{key:"_bindBuffer",value:function _bindBuffer(_ref84){var _ref85=_slicedToArray(_ref84,2),e=_ref85[0],t=_ref85[1];this._context.bindBuffer(e,t),this._boundBuffer=t._wmmId;}},{key:"_bufferData",value:function _bufferData(_ref86){var _ref87=_slicedToArray(_ref86,3),e=_ref87[0],t=_ref87[1],i=_ref87[2];this._context.bufferData(e,t,i);var o;typeof t=="number"?o=t:"byteLength"in t?o=t.byteLength:"length"in t&&(o=t.length),this._buffers[this._boundBuffer].memory=o;}},{key:"_deleteBuffer",value:function _deleteBuffer(_ref88){var _ref89=_slicedToArray(_ref88,1),e=_ref89[0];!e||!this._buffers[e._wmmId]||(delete this._buffers[e._wmmId],this._context.deleteBuffer(e),this._updatePanel("buf"));}},{key:"_createTexture",value:function _createTexture(){var e=this._context.createTexture();return e._wmmId=this._id++,this._textures[e._wmmId]={texture:e,memory:0},this._updatePanel("tex"),e;}},{key:"_deleteTexture",value:function _deleteTexture(_ref90){var _ref91=_slicedToArray(_ref90,1),e=_ref91[0];!e||!this._textures[e._wmmId]||(delete this._textures[e._wmmId],this._context.deleteTexture(e),this._updatePanel("tex"));}},{key:"_bindTexture",value:function _bindTexture(_ref92){var _ref93=_slicedToArray(_ref92,2),e=_ref93[0],t=_ref93[1];this._context.bindTexture(e,t),this._boundTexture=t._wmmId;}},{key:"_texImage2D",value:function _texImage2D(e){var _e5=_slicedToArray(e,9),t=_e5[2],i=_e5[3],o=_e5[4],s=_e5[5],n=_e5[8];typeof n=="undefined"&&(n=s),this._context.texImage2D.apply(this._context,e);var a=this._calculateByteCountForTexture(t,i,o,n);this._textures[this._boundTexture].memory=a;}},{key:"_calculateByteCountForTexture",value:function _calculateByteCountForTexture(e,t,i,o){if(o!==null)if("width"in o)t=o.width,i=o.height;else return o.length;var s=1;switch(e){case this._context.ALPHA:s=1;break;case this._context.RGB:s=3;break;case this._context.RGBA:s=4;break;}return t*i*s;}}]);return G_;}();});var Sh,E1=d(function(){Sh=/*#__PURE__*/function(){function Sh(e){_classCallCheck(this,Sh);this._renderer=e,this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange);}_createClass(Sh,[{key:"_onContextChange",value:function _onContextChange(){}},{key:"start",value:function start(){}},{key:"stop",value:function stop(){this.flush();}},{key:"flush",value:function flush(){}},{key:"dispose",value:function dispose(){this._renderer.off("context",this._onContextChange),delete this._renderer;}}]);return Sh;}();});var I1,c4=d(function(){Jt();E1();I1=/*#__PURE__*/function(_Sh){_inherits(I1,_Sh);var _super31=_createSuper(I1);function I1(e){var _this60;_classCallCheck(this,I1);_this60=_super31.call(this,e);_this60._vertexBuffer=null;_this60._indexBuffer=null;_this60._maxBatchSize=Nu,_this60._vertices=new ArrayBuffer(Nu*4*hl),_this60._positions=new Float32Array(_this60._vertices),_this60._colors=new Uint32Array(_this60._vertices),_this60._indices=new Uint16Array(Nu*6);for(var t=0,i=0;t<Nu*6;t+=6,i+=4){_this60._indices[t+0]=i+0,_this60._indices[t+1]=i+1,_this60._indices[t+2]=i+2,_this60._indices[t+3]=i+0,_this60._indices[t+4]=i+2,_this60._indices[t+5]=i+3;}_this60._sprites=[],_this60._currentBatchSize=0,_this60._onContextChange();return _this60;}_createClass(I1,[{key:"render",value:function render(e){var t=e.getTexture();if(!t)return;var i=t.getFrame(),o=t.getBaseTexture();this._currentBatchSize>=this._maxBatchSize&&this.flush();var s=t.getUVs();if(!s)return;var n=this._currentBatchSize*hl;this._addVertexCoordinates(e,n,i),this._addTextureUVs(e,n,s),this._addColors(e,n),this._sprites[this._currentBatchSize]=e,this._currentBatchSize++;}},{key:"_addColors",value:function _addColors(e,t){var i=this._colors,o=16777215,s=(o>>16)+(o&65280)+((o&255)<<16)+(e.getWorldAlpha()*255<<24);i[t+4]=i[t+9]=i[t+14]=i[t+19]=s;}},{key:"_addTextureUVs",value:function _addTextureUVs(e,t,i){var o=this._positions,_i6=_slicedToArray(i,4),s=_i6[0],n=_i6[1],a=_i6[2],l=_i6[3];o[t+2]=s.x,o[t+3]=s.y,o[t+7]=n.x,o[t+8]=n.y,o[t+12]=a.x,o[t+13]=a.y,o[t+17]=l.x,o[t+18]=l.y;}},{key:"_addVertexCoordinates",value:function _addVertexCoordinates(e,t,i){var o=this._positions,s=e.getWorldTransform(),n=e.getAnchor(),a=s.rectangleToCoordinates(i,n),l=5;for(var c=0;c<4;c++){o[t+c*l]=a[c].x,o[t+c*l+1]=a[c].y;}}},{key:"_onContextChange",value:function _onContextChange(){var e=this._renderer.getContext();this._shader=this._renderer.shaders["default"],this._vertexBuffer&&(this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer=null),this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this._indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this._vertices,e.DYNAMIC_DRAW);}},{key:"start",value:function start(){this._vertexBuffer&&this._indexBuffer&&this._shader.setupBuffers(this._vertexBuffer,this._indexBuffer);}},{key:"flush",value:function flush(){var m;var e=this._renderer,t=e.getContext();if(this._currentBatchSize===0)return;if(this._currentBatchSize>Nu*.5)t.bufferSubData(t.ARRAY_BUFFER,0,this._vertices);else{var h=this._positions.subarray(0,this._currentBatchSize*hl);t.bufferSubData(t.ARRAY_BUFFER,0,h);}var i=0,o=null,s=null,n=null,a=null,l=!1,c=!1,u=null,p=0;for(var _h2=0,g=this._currentBatchSize;_h2<g;_h2++){if(u=this._sprites[_h2],s=(m=u.getTexture())==null?void 0:m.getBaseTexture(),a=u.getShader()||this._shader,l=n!==a,c=o!==s,(c||l)&&(o&&this._renderBatch(o,i,p),p=_h2,i=0,o=s,l)){n=a,e.setShader(n);var S=e.getCurrentRenderTarget().getProjectionMatrix().toArray();n.setUniform("u_projMatrix",S),n.syncUniforms(),t.activeTexture(t.TEXTURE0);}i++;}o&&this._renderBatch(o,i,p),this._currentBatchSize=0,this._sprites=[];}},{key:"_renderBatch",value:function _renderBatch(e,t,i){if(t===0)return;var o=this._renderer,s=o.getContext(),n=e.getGLTextureForRenderer(o);n||(n=o.getOrCreateGLTexture(e)),e.isDirty()&&(o.updateTexture(e),e.setDirty(!1)),s.activeTexture(s.TEXTURE0+e.getGLUnit()),s.bindTexture(s.TEXTURE_2D,n);var a=t*6,l=i*6*2;s.drawElements(s.TRIANGLES,a,s.UNSIGNED_SHORT,l);}},{key:"dispose",value:function dispose(){var t=this._renderer.getContext();this._sprites.forEach(function(i){i.dispose();}),this._vertexBuffer&&(t.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(t.deleteBuffer(this._indexBuffer),this._indexBuffer=null),delete this._vertices,delete this._positions,delete this._colors,delete this._indices,_get(_getPrototypeOf(I1.prototype),"dispose",this).call(this);}}]);return I1;}(Sh);});var _F2,V_,d4=d(function(){s4();qr();L_();Jt();T1();b1();C1();Ns();xh();l4();S1();E1();c4();_F2=/*#__PURE__*/function(_yh2){_inherits(F1,_yh2);var _super32=_createSuper(F1);function F1(){var _this61;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:800;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,F1);_this61=_super32.call(this,e,t,i);_this61.type=Se.WEBGL;_this61.maxTextureDimensions=null;_this61._type=Se.WEBGL,_this61._onContextLost=_this61._onContextLost.bind(_assertThisInitialized(_this61)),_this61._onContextRestored=_this61._onContextRestored.bind(_assertThisInitialized(_this61)),_this61.setCanvas(_this61._options.canvas||Ti.createCanvas()),_this61.shaders={"default":new g1(_assertThisInitialized(_this61),void 0,void 0)},_this61.renderers={sprite:new I1(_assertThisInitialized(_this61))};return _this61;}_createClass(F1,[{key:"_onContextLost",value:function _onContextLost(e){e.preventDefault(),oe.warn(this.constructor.name,"WebGL context has been lost - trying to restore."),this.emit("context-lost");}},{key:"_onContextCreationError",value:function _onContextCreationError(e){e.preventDefault(),oe.warn(this.constructor.name,"Failed to create WebGL context: ".concat(e.statusMessage||"Unknown error"));}},{key:"_onContextRestored",value:function _onContextRestored(){oe.warn(this.constructor.name,"WebGL context has been restored. Clearing all textures."),this._createContext(),this._setupContext(),this.emit("context-restored");}},{key:"_onBeforeContext",value:function _onBeforeContext(){this._filterManager&&this._filterManager.dispose(),this._filterManager=new vh(this),this._currentObjectRenderer=new Sh(this);}},{key:"setShader",value:function setShader(e){this._currentShader=e,this._context.useProgram(e.getProgram()),this._setAttributesForShader(e);}},{key:"setCanvas",value:function setCanvas(e){this._canvas&&this._removeContextEventListeners(),_get(_getPrototypeOf(F1.prototype),"setCanvas",this).call(this,e),this._addContextEventListeners();}},{key:"_addContextEventListeners",value:function _addContextEventListeners(){i1(this._canvas)&&(this._canvas.addEventListener("webglcontextlost",this._onContextLost),this._canvas.addEventListener("webglcontextrestored",this._onContextRestored),this._canvas.addEventListener("webglcontextcreationerror",this._onContextCreationError));}},{key:"_removeContextEventListeners",value:function _removeContextEventListeners(){i1(this._canvas)&&(this._canvas.removeEventListener("webglcontextlost",this._onContextLost),this._canvas.removeEventListener("webglcontextrestored",this._onContextRestored),this._canvas.removeEventListener("webglcontextcreationerror",this._onContextCreationError));}},{key:"_setAttributesForShader",value:function _setAttributesForShader(e){if(!this._canvas)return;var t=this._context,i=e.getAttributes(),o=e.getAttributeLocations();i.forEach(function(s){var n=o[s];t.enableVertexAttribArray(n);});}},{key:"_createContext",value:function _createContext(){if(!this._canvas)return;var e=Ti.glGet(this._canvas);return this._options.debug&&o4(e),this._options.debug&&(e=new W_(e),e=new G_(e)),this.id=_F2.contextId++,this._context=e,this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.emit("context",e),e;}},{key:"_setupContext",value:function _setupContext(){var e=this._context;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this._defaultRenderTarget=new ea(this,this._width,this._height,this._pixelRatio,!0),this.setRenderTarget(this._defaultRenderTarget),this._getMaxPrecision();}},{key:"getContext",value:function getContext(){return this._context;}},{key:"_getMaxPrecision",value:function _getMaxPrecision(){var e=this._context,t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);this._maxFloatPrecision=(t==null?void 0:t.precision)!==0?wo.High:wo.Medium;var i=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT);this._maxIntPrecision=(i==null?void 0:i.rangeMax)!==0?wo.High:wo.Low;}},{key:"resizeTo",value:function resizeTo(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;_get(_getPrototypeOf(F1.prototype),"resizeTo",this).call(this,e,t),this._currentRenderTarget&&this._currentRenderTarget.resizeTo(e),this._context=Ti.glResize(this._context,e);}},{key:"setRenderTarget",value:function setRenderTarget(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._defaultRenderTarget;this._currentRenderTarget=e,this._currentRenderTarget.activate();}},{key:"setObjectRenderer",value:function setObjectRenderer(e){this._currentObjectRenderer.stop(),this._currentObjectRenderer=e,this._currentObjectRenderer.start();}},{key:"render",value:function render(e){this.setRenderTarget(this._defaultRenderTarget),this._defaultRenderTarget.clear(this._clearColor);var t=e.getParent();e.setParent(new Tc()),e.updateTransform(),t&&e.setParent(t),this.renderDisplayObject(e,this._defaultRenderTarget);}},{key:"renderDisplayObject",value:function renderDisplayObject(e,t){this.setRenderTarget(t),this._filterManager.setFilterStack(t.getFilterStack()),e.renderWebGL(this),this._currentObjectRenderer.flush();}},{key:"clear",value:function clear(){var e=this._context;e.clearColor.apply(e,this._clearColor.toGLColor),e.clear(e.COLOR_BUFFER_BIT);}},{key:"save",value:function save(){return{renderTarget:this._currentRenderTarget,objectRenderer:this._currentObjectRenderer,filterStack:this._filterManager.getFilterStack()};}},{key:"restore",value:function restore(e){this.setRenderTarget(e.renderTarget),this._filterManager.setFilterStack(e.filterStack),this._currentObjectRenderer=e.objectRenderer;}},{key:"getOrCreateGLTexture",value:function getOrCreateGLTexture(e){var t=this._context,i=e.getGLTextureForRenderer(this);return i||(i=t.createTexture(),e.setGLTextureForRenderer(i,this)),i;}},{key:"updateTexture",value:function updateTexture(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=e.getSource(),o=this._context,s=e.getGLUnit(),n=this.getOrCreateGLTexture(e);o.activeTexture(o.TEXTURE0+s),o.bindTexture(o.TEXTURE_2D,n),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t&&i&&Ti.glTexImage(o,i),e.isMipMappingEnabled()?o.generateMipmap(o.TEXTURE_2D):(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,e.getGLRepeat(o,"x")),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,e.getGLRepeat(o,"y"))),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,e.getGLFilter(o,"min")),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,e.getGLFilter(o,"mag")),o.activeTexture(o.TEXTURE0);}},{key:"getMaxDimensions",value:function getMaxDimensions(){return this.maxTextureDimensions||(this.maxTextureDimensions=Ti.glMaxTexture(this._context)),this.maxTextureDimensions;}},{key:"getCurrentRenderTarget",value:function getCurrentRenderTarget(){return this._currentRenderTarget;}},{key:"getCurrentObjectRenderer",value:function getCurrentObjectRenderer(){return this._currentObjectRenderer;}},{key:"getMaxFloatPrecision",value:function getMaxFloatPrecision(){return this._maxFloatPrecision;}},{key:"getMaxIntPrecision",value:function getMaxIntPrecision(){return this._maxIntPrecision;}},{key:"dispose",value:function dispose(){this._filterManager.dispose(),this._currentObjectRenderer.dispose(),this._defaultRenderTarget.dispose();for(var i in this.shaders){this.shaders[i].dispose(),delete this.shaders[i];}this._removeContextEventListeners();var t=this._context.getExtension("WEBGL_lose_context");t&&t.loseContext();}}]);return F1;}(yh),V_=_F2;V_.contextId=0;});var qte,Kte,O1,u4=d(function(){Jn();qte=function qte(){return[new _ue(0,0),new _ue(1,0),new _ue(1,1),new _ue(0,1)];},Kte=function Kte(r,e,t){var _r2=_slicedToArray(r,4),i=_r2[0],o=_r2[1],s=_r2[2],n=_r2[3];return i.x=e.x/t.width,i.y=e.y/t.height,o.x=(e.x+e.width)/t.width,o.y=e.y/t.height,s.x=(e.x+e.width)/t.width,s.y=(e.y+e.height)/t.height,n.x=e.x/t.width,n.y=(e.y+e.height)/t.height,r;},O1={create:qte,updateViaFrames:Kte};});var _l2,R1=d(function(){u4();Jt();ju();_l2=/*#__PURE__*/function(_tr4){_inherits(_l,_tr4);var _super33=_createSuper(_l);function _l(e,t){var _this62;_classCallCheck(this,_l);_this62=_super33.call(this);if(!(e instanceof $t))throw new Error("`baseTexture` should be an instance of BaseTexture");_this62._uvs=O1.create(),_this62._frame=t?t.clone():new _vt(0,0,1,1),_this62._frameLocked=Boolean(t),_this62._onBaseTextureLoaded=_this62._onBaseTextureLoaded.bind(_assertThisInitialized(_this62)),_this62._onBaseTextureUpdated=_this62._onBaseTextureUpdated.bind(_assertThisInitialized(_this62)),_this62.setBaseTexture(e);return _this62;}_createClass(_l,[{key:"_onBaseTextureLoaded",value:function _onBaseTextureLoaded(){if(!this._frameLocked){var e=this._baseTexture.getFrame().clone();this.setFrame(e);}this._baseTexture.on("update",this._onBaseTextureUpdated);}},{key:"_onBaseTextureUpdated",value:function _onBaseTextureUpdated(){var _this$_baseTexture$ge=this._baseTexture.getFrame(),e=_this$_baseTexture$ge.width,t=_this$_baseTexture$ge.height;this._frame.width=e,this._frame.height=t,this.emit("update");}},{key:"_updateUVs",value:function _updateUVs(){this._uvs=O1.updateViaFrames(this._uvs,this._frame,this._baseTexture.getFrame());}},{key:"getBaseTexture",value:function getBaseTexture(){return this._baseTexture;}},{key:"setBaseTexture",value:function setBaseTexture(e){if(this._baseTexture=e,!this._baseTexture.isLoaded())this._baseTexture.once("loaded",this._onBaseTextureLoaded);else{var _e$getFrame=e.getFrame(),t=_e$getFrame.width,i=_e$getFrame.height;this._frameLocked||(this._frame=new _vt(0,0,t,i)),this._onBaseTextureLoaded();}}},{key:"getFrame",value:function getFrame(){return this._frame;}},{key:"setFrame",value:function setFrame(e){this._frame=e,this._updateUVs();}},{key:"getWidth",value:function getWidth(){return this._frame.width;}},{key:"getHeight",value:function getHeight(){return this._frame.height;}},{key:"getUVs",value:function getUVs(){return this._uvs;}},{key:"getDimensions",value:function getDimensions(){return new _ue(this._frame.width,this._frame.height);}},{key:"dispose",value:function dispose(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;e&&this._baseTexture.dispose();}}],[{key:"fromImage",value:function fromImage(e){var t=new $t(e);return new _l2(t);}},{key:"fromCanvas",value:function fromCanvas(e){var t=new $t(e);return new _l2(t);}}]);return _l;}(tr);});var wh,kh,A1=d(function(){qr();Jt();H_();T1();gh();xh();ju();R1();wh=function wh(r){return r._type===Se.WEBGL;},kh=/*#__PURE__*/function(_l3){_inherits(kh,_l3);var _super34=_createSuper(kh);function kh(e){var _this63;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,kh);_this63=_super34.call(this,new $t(),new _vt(0,0,t,i));_this63._loaded=!0,_this63._width=t,_this63._height=i,_this63._pixelRatio=o,_this63._renderer=e,_this63._setupFilterManager(),_this63._setupBuffer(),_this63.setBaseTexture(_this63._renderTarget.getBaseTexture()),_this63._updateUVs();return _this63;}_createClass(kh,[{key:"_setupFilterManager",value:function _setupFilterManager(){this._filterManager&&this._filterManager.dispose(),wh(this._renderer)?this._filterManager=new vh(this._renderer):this._filterManager=new Dc(this._renderer),this._filterManager.resizeTo(new _ue(this._width,this._height));}},{key:"_setupBuffer",value:function _setupBuffer(){this._renderTarget&&this._renderTarget.dispose(),wh(this._renderer)?this._renderTarget=new ea(this._renderer,this._width,this._height,this._pixelRatio):this._renderTarget=new Qn(this._width,this._height,this._pixelRatio);}},{key:"clear",value:function clear(e){this._renderTarget.clear(e);}},{key:"resizeTo",value:function resizeTo(e){this._width===e.x&&this._height===e.y||(this._width=e.x,this._height=e.y,this._frame.width=e.x,this._frame.height=e.y,this._renderTarget.resizeTo(e),this._filterManager.resizeTo(e));}},{key:"render",value:function render(e){wh(this._renderer)?this._renderWebGL(e):this._renderCanvas(e);}},{key:"_renderWebGL",value:function _renderWebGL(e){if(!wh(this._renderer))return;this._renderTarget.activate(),e.getWorldTransform().reset(),e.getChildren().forEach(function(i){i.updateTransform();});var t=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager),this._renderer.renderDisplayObject(e,this._renderTarget),this._renderer.setFilterManager(t);}},{key:"_renderCanvas",value:function _renderCanvas(e){if(wh(this._renderer))return;e.getWorldTransform().reset(),e.getChildren().forEach(function(i){i.updateTransform();});var t=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager),this._renderer.renderDisplayObject(e,this._renderTarget),this._renderer.setFilterManager(t);}},{key:"getRenderTarget",value:function getRenderTarget(){return this._renderTarget;}},{key:"dispose",value:function dispose(){this._renderTarget.dispose(),this._filterManager.dispose(),_get(_getPrototypeOf(kh.prototype),"dispose",this).call(this);}}]);return kh;}(_l2);});var qu,ta,Th=d(function(){qu={EXPORT:"export",CLOSE:"close",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",EDITOR_READY:"editor:ready",WINDOW_RESIZE:"window:resize",ZOOM_DONE:"editor:zoom_done",HISTORY_UNDO:"history:undo",HISTORY_UPDATED:"history:update",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",TRANSFORM_REAPPLY_RATIO:"transform:reapply_ratio"},ta={DEFAULTS:{FILTERS:[{identifier:"imgly_filters_duotone",defaultName:"DuoTone",assetFileName:"duotone",filters:[{identifier:"imgly_duotone_desert",defaultName:"Desert",lightColor:"#e1de9a",darkColor:"#cb2129"},{identifier:"imgly_duotone_peach",defaultName:"Peach",lightColor:"#e9abb8",darkColor:"#0040ff"},{identifier:"imgly_duotone_clash",defaultName:"Clash",lightColor:"#f41a0f",darkColor:"#23007c"},{identifier:"imgly_duotone_plum",defaultName:"Plum",lightColor:"#74d7ff",darkColor:"#23007c"},{identifier:"imgly_duotone_breezy",defaultName:"Breezy",lightColor:"#68fdff",darkColor:"#c20000"},{identifier:"imgly_duotone_deepblue",defaultName:"Deep Blue",lightColor:"#2de9eb",darkColor:"#58007c"},{identifier:"imgly_duotone_frog",defaultName:"Frog",lightColor:"#5bff60",darkColor:"#7f23a9"},{identifier:"imgly_duotone_sunset",defaultName:"Sunset",lightColor:"#f8ea46",darkColor:"#c400be"}]},{identifier:"imgly_filters_bw",assetFileName:"b&w",defaultName:"Black & White",filters:[{identifier:"imgly_lut_ad1920",defaultName:"1920 A.D.",lutImage:"filters/imgly_lut_ad1920_5_5_128.png"},{identifier:"imgly_lut_bw",defaultName:"Greyed",lutImage:"filters/imgly_lut_bw_5_5_128.png"},{identifier:"imgly_lut_x400",defaultName:"Dusty",lutImage:"filters/imgly_lut_dusty_5_5_128.png"},{identifier:"imgly_lut_litho",defaultName:"Litho",lutImage:"filters/imgly_lut_litho_5_5_128.png"},{identifier:"imgly_lut_sepiahigh",defaultName:"Sepia",lutImage:"filters/imgly_lut_sepia_5_5_128.png"},{identifier:"imgly_lut_plate",defaultName:"Weathered",lutImage:"filters/imgly_lut_weathered_5_5_128.png"},{identifier:"imgly_lut_sin",defaultName:"Hard Stuff",lutImage:"filters/imgly_lut_hard_stuff_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filters_retro",assetFileName:"vintage",defaultName:"Vintage",filters:[{identifier:"imgly_lut_blues",defaultName:"Polaroid",lutImage:"filters/imgly_lut_polaroid_5_5_128.png"},{identifier:"imgly_lut_front",defaultName:"Sunny 70s",lutImage:"filters/imgly_lut_sunny_70s_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",defaultName:"Oldtimer",lutImage:"filters/imgly_lut_oldtimer_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",defaultName:"Inferno",lutImage:"filters/imgly_lut_inferno_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",defaultName:"Snappy",lutImage:"filters/imgly_lut_snappy_5_5_128.png"}]},{identifier:"imgly_filters_analog",assetFileName:"smooth",defaultName:"Smooth",filters:[{identifier:"imgly_lut_chest",defaultName:"Chestnut",lutImage:"filters/imgly_lut_chestnut_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",defaultName:"Softly",lutImage:"filters/imgly_lut_softly_5_5_128.png"},{identifier:"imgly_lut_kdynamic",defaultName:"Pebble",lutImage:"filters/imgly_lut_pebble_5_5_128.png"},{identifier:"imgly_lut_fall",defaultName:"Moss",lutImage:"filters/imgly_lut_moss_5_5_128.png"},{identifier:"imgly_lut_lenin",defaultName:"Lemon",lutImage:"filters/imgly_lut_lemon_5_5_128.png"},{identifier:"imgly_lut_pola669",defaultName:"Green Gap",lutImage:"filters/imgly_lut_green_gap_5_5_128.png"}]},{identifier:"imgly_filters_winter",assetFileName:"cold",defaultName:"Cold",filters:[{identifier:"imgly_lut_elder",defaultName:"Colla",lutImage:"filters/imgly_lut_colla_5_5_128.png"},{identifier:"imgly_lut_orchid",defaultName:"Solanus",lutImage:"filters/imgly_lut_solanus_5_5_128.png"},{identifier:"imgly_lut_bleached",defaultName:"Kalmen",lutImage:"filters/imgly_lut_kalmen_5_5_128.png"},{identifier:"imgly_lut_bleachedblue",defaultName:"Joran",lutImage:"filters/imgly_lut_joran_5_5_128.png"},{identifier:"imgly_lut_breeze",defaultName:"Levante",lutImage:"filters/imgly_lut_levante_5_5_128.png"},{identifier:"imgly_lut_blueshadows",defaultName:"Zephyr",lutImage:"filters/imgly_lut_zephyr_5_5_128.png"}]},{identifier:"imgly_filters_summer",assetFileName:"warm",defaultName:"Warm",filters:[{identifier:"imgly_lut_sunset",defaultName:"Golden",lutImage:"filters/imgly_lut_golden_5_5_128.png"},{identifier:"imgly_lut_eighties",defaultName:"Low Fire",lutImage:"filters/imgly_lut_low_fire_5_5_128.png"},{identifier:"imgly_lut_evening",defaultName:"Sunrise",lutImage:"filters/imgly_lut_sunrise_5_5_128.png"},{identifier:"imgly_lut_k2",defaultName:"Flat Black",lutImage:"filters/imgly_lut_flat_black_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",defaultName:"Pumpkin",lutImage:"filters/imgly_lut_pumpkin_5_5_128.png"}]},{identifier:"imgly_filters_legacy",defaultName:"Legacy",assetFileName:"legacy",filters:[{identifier:"imgly_lut_ancient",defaultName:"Ancient",lutImage:"filters/imgly_lut_ancient_5_5_128.png"},{identifier:"imgly_lut_cottoncandy",defaultName:"Candy",lutImage:"filters/imgly_lut_cottoncandy_5_5_128.png"},{identifier:"imgly_lut_classic",defaultName:"Classic",lutImage:"filters/imgly_lut_classic_5_5_128.png"},{identifier:"imgly_lut_colorful",defaultName:"Colorful",lutImage:"filters/imgly_lut_colorful_5_5_128.png"},{identifier:"imgly_lut_creamy",defaultName:"Creamy",lutImage:"filters/imgly_lut_creamy_5_5_128.png"},{identifier:"imgly_lut_fixie",defaultName:"Fixie",lutImage:"filters/imgly_lut_fixie_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",defaultName:"Food",lutImage:"filters/imgly_lut_food_5_5_128.png"},{identifier:"imgly_lut_fridge",defaultName:"Fridge",lutImage:"filters/imgly_lut_fridge_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",defaultName:"Glam",lutImage:"filters/imgly_lut_glam_5_5_128.png"},{identifier:"imgly_lut_gobblin",defaultName:"Gobblin",lutImage:"filters/imgly_lut_gobblin_5_5_128.png"},{identifier:"imgly_lut_highcontrast",defaultName:"Hicon",lutImage:"filters/imgly_lut_highcontrast_5_5_128.png"},{identifier:"imgly_lut_highcarb",defaultName:"High Carb",lutImage:"filters/imgly_lut_highcarb_5_5_128.png"},{identifier:"imgly_lut_k1",defaultName:"K1",lutImage:"filters/imgly_lut_k1_5_5_128.png"},{identifier:"imgly_lut_k6",defaultName:"K6",lutImage:"filters/imgly_lut_k6_5_5_128.png"},{identifier:"imgly_lut_keen",defaultName:"Keen",lutImage:"filters/imgly_lut_keen_5_5_128.png"},{identifier:"imgly_lut_lomo",defaultName:"Lomo",lutImage:"filters/imgly_lut_lomo_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",defaultName:"Lomo 100",lutImage:"filters/imgly_lut_lomo100_5_5_128.png"},{identifier:"imgly_lut_lucid",defaultName:"Lucid",lutImage:"filters/imgly_lut_lucid_5_5_128.png"},{identifier:"imgly_lut_mellow",defaultName:"Mellow",lutImage:"filters/imgly_lut_mellow_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",defaultName:"Neat",lutImage:"filters/imgly_lut_neat_5_5_128.png"},{identifier:"imgly_lut_pale",defaultName:"Pale",lutImage:"filters/imgly_lut_pale_5_5_128.png"},{identifier:"imgly_lut_pitched",defaultName:"Pitched",lutImage:"filters/imgly_lut_pitched_5_5_128.png"},{identifier:"imgly_lut_polasx",defaultName:"Pola SX",lutImage:"filters/imgly_lut_polasx_5_5_128.png"},{identifier:"imgly_lut_pro400",defaultName:"Pro 400",lutImage:"filters/imgly_lut_pro400_5_5_128.png"},{identifier:"imgly_lut_quozi",defaultName:"Quozi",lutImage:"filters/imgly_lut_quozi_5_5_128.png"},{identifier:"imgly_lut_settled",defaultName:"Settled",lutImage:"filters/imgly_lut_settled_5_5_128.png"},{identifier:"imgly_lut_seventies",defaultName:"Seventies",lutImage:"filters/imgly_lut_seventies_5_5_128.png"},{identifier:"imgly_lut_soft",defaultName:"Soft",lutImage:"filters/imgly_lut_soft_5_5_128.png"},{identifier:"imgly_lut_steel",defaultName:"Steel",lutImage:"filters/imgly_lut_steel_5_5_128.png"},{identifier:"imgly_lut_summer",defaultName:"Summer",lutImage:"filters/imgly_lut_summer_5_5_128.png"},{identifier:"imgly_lut_tender",defaultName:"Tender",lutImage:"filters/imgly_lut_tender_5_5_128.png"},{identifier:"imgly_lut_twilight",defaultName:"Twilight",lutImage:"filters/imgly_lut_twilight_5_5_128.png"}]}],OVERLAYS:[{identifier:"imgly_overlay_golden",defaultName:"Golden",image:"overlays/imgly_overlay_golden.jpg",thumbnail:"overlays/imgly_overlay_golden_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_bokeh",defaultName:"Bokeh",image:"overlays/imgly_overlay_bokeh.jpg",thumbnail:"overlays/imgly_overlay_bokeh_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_hearts",defaultName:"Hearts",image:"overlays/imgly_overlay_hearts.jpg",thumbnail:"overlays/imgly_overlay_hearts_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak1",defaultName:"Light Leak",image:"overlays/imgly_overlay_lightleak1.jpg",thumbnail:"overlays/imgly_overlay_lightleak1_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak2",defaultName:"Light Leak 2",image:"overlays/imgly_overlay_lightleak2.jpg",thumbnail:"overlays/imgly_overlay_lightleak2_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_rain",defaultName:"Rain",image:"overlays/imgly_overlay_rain.jpg",thumbnail:"overlays/imgly_overlay_rain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_wood",defaultName:"Wood",image:"overlays/imgly_overlay_wood.jpg",thumbnail:"overlays/imgly_overlay_wood_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_mosaic",defaultName:"Mosaic",image:"overlays/imgly_overlay_mosaic.jpg",thumbnail:"overlays/imgly_overlay_mosaic_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_chop",defaultName:"Chop",image:"overlays/imgly_overlay_chop.jpg",thumbnail:"overlays/imgly_overlay_chop_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_vintage",defaultName:"Vintage",image:"overlays/imgly_overlay_vintage.jpg",thumbnail:"overlays/imgly_overlay_vintage_thumb.jpg",blendMode:"darken"},{identifier:"imgly_overlay_metal",defaultName:"Metal",image:"overlays/imgly_overlay_metal.jpg",thumbnail:"overlays/imgly_overlay_metal_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_paper",defaultName:"Paper",image:"overlays/imgly_overlay_paper.jpg",thumbnail:"overlays/imgly_overlay_paper_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_painting",defaultName:"Painting",image:"overlays/imgly_overlay_painting.jpg",thumbnail:"overlays/imgly_overlay_painting_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_grain",defaultName:"Grain",image:"overlays/imgly_overlay_grain.jpg",thumbnail:"overlays/imgly_overlay_grain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_clouds",defaultName:"Clouds",image:"overlays/imgly_overlay_clouds.jpg",thumbnail:"overlays/imgly_overlay_clouds_thumb.jpg",blendMode:"softLight"},{identifier:"imgly_overlay_wall1",defaultName:"Wall",image:"overlays/imgly_overlay_wall1.jpg",thumbnail:"overlays/imgly_overlay_wall1_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_wall2",defaultName:"Wall 2",image:"overlays/imgly_overlay_wall2.jpg",thumbnail:"overlays/imgly_overlay_wall2_thumb.jpg",blendMode:"overlay"}],FRAME_CATEGORIES:[{identifier:"imgly_frame_generic",defaultName:"Generic",metaData:{backgroundImage:"frames/generic.png"},frames:[{identifier:"imgly_frame_dia",defaultName:"Dia",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_left.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_right.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",defaultName:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",defaultName:"Black Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",defaultName:"Low Poly",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",defaultName:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}}]}],STICKER_CATEGORIES:[{identifier:"imgly_sticker_emoticons",defaultName:"Emoticons",metaData:{backgroundImage:"stickers/emoticons/background.png"},stickers:[{identifier:"imgly_sticker_emoticons_alien",defaultName:"Alien",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_alien.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_alien.png"],width:1e3,height:935}}},{identifier:"imgly_sticker_emoticons_angel",defaultName:"Angel",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angel.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angel.png"]}}},{identifier:"imgly_sticker_emoticons_angry",defaultName:"Angry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angry.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angry.png"]}}},{identifier:"imgly_sticker_emoticons_anxious",defaultName:"Anxious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_anxious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_anxious.png"]}}},{identifier:"imgly_sticker_emoticons_asleep",defaultName:"Asleep",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_asleep.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_asleep.png"]}}},{identifier:"imgly_sticker_emoticons_attention",defaultName:"Attention",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_attention.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_attention.png"]}}},{identifier:"imgly_sticker_emoticons_baby_chicken",defaultName:"Baby Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_baby_chicken.png"],width:61,height:42},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_baby_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_batman",defaultName:"Batman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_batman.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_batman.png"]}}},{identifier:"imgly_sticker_emoticons_beer",defaultName:"Beer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_beer.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_beer.png"]}}},{identifier:"imgly_sticker_emoticons_blush",defaultName:"Blush",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_blush.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_blush.png"]}}},{identifier:"imgly_sticker_emoticons_boxer",defaultName:"Boxer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_boxer.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_boxer.png"]}}},{identifier:"imgly_sticker_emoticons_business",defaultName:"Business",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_business.png"],width:60,height:63},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_business.png"]}}},{identifier:"imgly_sticker_emoticons_chicken",defaultName:"Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_chicken.png"],width:63,height:55},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_cool",defaultName:"Cool",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cool.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cool.png"]}}},{identifier:"imgly_sticker_emoticons_cry",defaultName:"Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cry.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cry.png"]}}},{identifier:"imgly_sticker_emoticons_deceased",defaultName:"Deceased",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_deceased.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_deceased.png"]}}},{identifier:"imgly_sticker_emoticons_devil",defaultName:"Devil",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_devil.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_devil.png"]}}},{identifier:"imgly_sticker_emoticons_duckface",defaultName:"Duckface",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_duckface.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_duckface.png"]}}},{identifier:"imgly_sticker_emoticons_furious",defaultName:"Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_furious.png"],width:62,height:61},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_furious.png"]}}},{identifier:"imgly_sticker_emoticons_grin",defaultName:"Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_grin.png"]}}},{identifier:"imgly_sticker_emoticons_guitar",defaultName:"Guitar",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_guitar.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_guitar.png"]}}},{identifier:"imgly_sticker_emoticons_harry_potter",defaultName:"Harry Potter",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_harry_potter.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_harry_potter.png"]}}},{identifier:"imgly_sticker_emoticons_hippie",defaultName:"Hippie",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hippie.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hippie.png"]}}},{identifier:"imgly_sticker_emoticons_hitman",defaultName:"Hitman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hitman.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hitman.png"]}}},{identifier:"imgly_sticker_emoticons_humourous",defaultName:"Humourous",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_humourous.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_humourous.png"]}}},{identifier:"imgly_sticker_emoticons_idea",defaultName:"Idea",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_idea.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_idea.png"]}}},{identifier:"imgly_sticker_emoticons_impatient",defaultName:"Impatient",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_impatient.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_impatient.png"]}}},{identifier:"imgly_sticker_emoticons_kiss",defaultName:"Kiss",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kiss.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kiss.png"]}}},{identifier:"imgly_sticker_emoticons_kisses",defaultName:"Kisses",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kisses.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kisses.png"]}}},{identifier:"imgly_sticker_emoticons_laugh",defaultName:"Laugh",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_laugh.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_laugh.png"]}}},{identifier:"imgly_sticker_emoticons_loud_cry",defaultName:"Loud Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loud_cry.png"],width:64,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loud_cry.png"]}}},{identifier:"imgly_sticker_emoticons_loving",defaultName:"Loving",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loving.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loving.png"]}}},{identifier:"imgly_sticker_emoticons_masked",defaultName:"Masked",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_masked.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_masked.png"]}}},{identifier:"imgly_sticker_emoticons_music",defaultName:"Music",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_music.png"],width:62,height:54},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_music.png"]}}},{identifier:"imgly_sticker_emoticons_nerd",defaultName:"Nerd",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_nerd.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_nerd.png"]}}},{identifier:"imgly_sticker_emoticons_ninja",defaultName:"Ninja",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_ninja.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_ninja.png"]}}},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",defaultName:"Not Speaking To You",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_not_speaking_to_you.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_not_speaking_to_you.png"]}}},{identifier:"imgly_sticker_emoticons_pig",defaultName:"Pig",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pig.png"],width:63,height:41},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pig.png"]}}},{identifier:"imgly_sticker_emoticons_pumpkin",defaultName:"Pumpkin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pumpkin.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pumpkin.png"]}}},{identifier:"imgly_sticker_emoticons_question",defaultName:"Question",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_question.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_question.png"]}}},{identifier:"imgly_sticker_emoticons_rabbit",defaultName:"Rabbit",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_rabbit.png"],width:65,height:47},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_rabbit.png"]}}},{identifier:"imgly_sticker_emoticons_sad",defaultName:"Sad",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sad.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sad.png"]}}},{identifier:"imgly_sticker_emoticons_sick",defaultName:"Sick",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sick.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sick.png"]}}},{identifier:"imgly_sticker_emoticons_skateboard",defaultName:"Skateboard",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skateboard.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skateboard.png"]}}},{identifier:"imgly_sticker_emoticons_skull",defaultName:"Skull",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skull.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skull.png"]}}},{identifier:"imgly_sticker_emoticons_sleepy",defaultName:"Sleepy",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sleepy.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sleepy.png"]}}},{identifier:"imgly_sticker_emoticons_smile",defaultName:"Smile",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smile.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smile.png"]}}},{identifier:"imgly_sticker_emoticons_smoking",defaultName:"Smoking",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smoking.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smoking.png"]}}},{identifier:"imgly_sticker_emoticons_sobbing",defaultName:"Sobbing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sobbing.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sobbing.png"]}}},{identifier:"imgly_sticker_emoticons_star",defaultName:"Star",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_star.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_star.png"]}}},{identifier:"imgly_sticker_emoticons_steaming_furious",defaultName:"Steaming Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_steaming_furious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_steaming_furious.png"]}}},{identifier:"imgly_sticker_emoticons_sunbathing",defaultName:"Sunbathing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sunbathing.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sunbathing.png"]}}},{identifier:"imgly_sticker_emoticons_tired",defaultName:"Tired",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tired.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tired.png"]}}},{identifier:"imgly_sticker_emoticons_tongue_out_wink",defaultName:"Tongue Out Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tongue_out_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tongue_out_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wave",defaultName:"Wave",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wave.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wave.png"]}}},{identifier:"imgly_sticker_emoticons_wide_grin",defaultName:"Wide Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wide_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wide_grin.png"]}}},{identifier:"imgly_sticker_emoticons_wink",defaultName:"Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wrestler",defaultName:"Wrestler",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wrestler.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wrestler.png"]}}}]},{identifier:"imgly_sticker_shapes",defaultName:"Shapes",metaData:{backgroundImage:"stickers/shapes/background.png"},stickers:[{identifier:"imgly_sticker_shapes_arrow_02",defaultName:"Arrow 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236}}},{identifier:"imgly_sticker_shapes_arrow_03",defaultName:"Arrow 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_01",defaultName:"Badge 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_04",defaultName:"Badge 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589}}},{identifier:"imgly_sticker_shapes_badge_06",defaultName:"Badge 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733}}},{identifier:"imgly_sticker_shapes_badge_08",defaultName:"Badge 4",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_11",defaultName:"Badge 5",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_12",defaultName:"Badge 6",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903}}},{identifier:"imgly_sticker_shapes_badge_13",defaultName:"Badge 7",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718}}},{identifier:"imgly_sticker_shapes_badge_15",defaultName:"Badge 8",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_18",defaultName:"Badge 9",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_19",defaultName:"Badge 10",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_19.png"],width:2127,height:481},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_19.png"],width:2127,height:481}}},{identifier:"imgly_sticker_shapes_badge_20",defaultName:"Badge 11",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404}}},{identifier:"imgly_sticker_shapes_badge_28",defaultName:"Badge 12",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_32",defaultName:"Badge 13",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_35",defaultName:"Badge 14",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002}}},{identifier:"imgly_sticker_shapes_badge_36",defaultName:"Badge 15",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668}}},{identifier:"imgly_sticker_shapes_spray_01",defaultName:"Spray 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039}}},{identifier:"imgly_sticker_shapes_spray_03",defaultName:"Spray 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779}}},{identifier:"imgly_sticker_shapes_spray_04",defaultName:"Spray 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248}}}]}]}};});function Q(r,e,t){r!=null&&(typeof r=="number"?this.fromNumber(r,e,t):e==null&&typeof r!="string"?this.fromString(r,256):this.fromString(r,e));}function Je(){return new Q(null);}function Yte(r,e,t,i,o,s){for(;--s>=0;){var n=e*this[r++]+t[i]+o;o=Math.floor(n/67108864),t[i++]=n&67108863;}return o;}function Jte(r,e,t,i,o,s){for(var n=e&32767,a=e>>15;--s>=0;){var l=this[r]&32767,c=this[r++]>>15,u=a*l+c*n;l=n*l+((u&32767)<<15)+t[i]+(o&1073741823),o=(l>>>30)+(u>>>15)+a*c+(o>>>30),t[i++]=l&1073741823;}return o;}function Zte(r,e,t,i,o,s){for(var n=e&16383,a=e>>14;--s>=0;){var l=this[r]&16383,c=this[r++]>>14,u=a*l+c*n;l=n*l+((u&16383)<<14)+t[i]+o,o=(l>>28)+(u>>14)+a*c,t[i++]=l&268435455;}return o;}function p4(r){return Qte.charAt(r);}function h4(r,e){var t=j_[r.charCodeAt(e)];return t==null?-1:t;}function eie(r){for(var e=this.t-1;e>=0;--e){r[e]=this[e];}r.t=this.t,r.s=this.s;}function tie(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0;}function xl(r){var e=Je();return e.fromInt(r),e;}function iie(r,e){var t;if(e==16)t=4;else if(e==8)t=3;else if(e==256)t=8;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else{this.fromRadix(r,e);return;}this.t=0,this.s=0;for(var i=r.length,o=!1,s=0;--i>=0;){var n=t==8?r[i]&255:h4(r,i);if(n<0){r.charAt(i)=="-"&&(o=!0);continue;}o=!1,s==0?this[this.t++]=n:s+t>this.DB?(this[this.t-1]|=(n&(1<<this.DB-s)-1)<<s,this[this.t++]=n>>this.DB-s):this[this.t-1]|=n<<s,s+=t,s>=this.DB&&(s-=this.DB);}t==8&&(r[0]&128)!=0&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&Q.ZERO.subTo(this,this);}function rie(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;){--this.t;}}function oie(r){if(this.s<0)return"-"+this.negate().toString(r);var e;if(r==16)e=4;else if(r==8)e=3;else if(r==2)e=1;else if(r==32)e=5;else if(r==4)e=2;else return this.toRadix(r);var t=(1<<e)-1,i,o=!1,s="",n=this.t,a=this.DB-n*this.DB%e;if(n-->0)for(a<this.DB&&(i=this[n]>>a)>0&&(o=!0,s=p4(i));n>=0;){a<e?(i=(this[n]&(1<<a)-1)<<e-a,i|=this[--n]>>(a+=this.DB-e)):(i=this[n]>>(a-=e)&t,a<=0&&(a+=this.DB,--n)),i>0&&(o=!0),o&&(s+=p4(i));}return o?s:"0";}function sie(){var r=Je();return Q.ZERO.subTo(this,r),r;}function nie(){return this.s<0?this.negate():this;}function aie(r){var e=this.s-r.s;if(e!=0)return e;var t=this.t;if(e=t-r.t,e!=0)return this.s<0?-e:e;for(;--t>=0;){if((e=this[t]-r[t])!=0)return e;}return 0;}function $_(r){var e=1,t;return(t=r>>>16)!=0&&(r=t,e+=16),(t=r>>8)!=0&&(r=t,e+=8),(t=r>>4)!=0&&(r=t,e+=4),(t=r>>2)!=0&&(r=t,e+=2),(t=r>>1)!=0&&(r=t,e+=1),e;}function lie(){return this.t<=0?0:this.DB*(this.t-1)+$_(this[this.t-1]^this.s&this.DM);}function cie(r,e){var t;for(t=this.t-1;t>=0;--t){e[t+r]=this[t];}for(t=r-1;t>=0;--t){e[t]=0;}e.t=this.t+r,e.s=this.s;}function die(r,e){for(var t=r;t<this.t;++t){e[t-r]=this[t];}e.t=Math.max(this.t-r,0),e.s=this.s;}function uie(r,e){var t=r%this.DB,i=this.DB-t,o=(1<<i)-1,s=Math.floor(r/this.DB),n=this.s<<t&this.DM,a;for(a=this.t-1;a>=0;--a){e[a+s+1]=this[a]>>i|n,n=(this[a]&o)<<t;}for(a=s-1;a>=0;--a){e[a]=0;}e[s]=n,e.t=this.t+s+1,e.s=this.s,e.clamp();}function mie(r,e){e.s=this.s;var t=Math.floor(r/this.DB);if(t>=this.t){e.t=0;return;}var i=r%this.DB,o=this.DB-i,s=(1<<i)-1;e[0]=this[t]>>i;for(var n=t+1;n<this.t;++n){e[n-t-1]|=(this[n]&s)<<o,e[n-t]=this[n]>>i;}i>0&&(e[this.t-t-1]|=(this.s&s)<<o),e.t=this.t-t,e.clamp();}function pie(r,e){for(var t=0,i=0,o=Math.min(r.t,this.t);t<o;){i+=this[t]-r[t],e[t++]=i&this.DM,i>>=this.DB;}if(r.t<this.t){for(i-=r.s;t<this.t;){i+=this[t],e[t++]=i&this.DM,i>>=this.DB;}i+=this.s;}else{for(i+=this.s;t<r.t;){i-=r[t],e[t++]=i&this.DM,i>>=this.DB;}i-=r.s;}e.s=i<0?-1:0,i<-1?e[t++]=this.DV+i:i>0&&(e[t++]=i),e.t=t,e.clamp();}function hie(r,e){var t=this.abs(),i=r.abs(),o=t.t;for(e.t=o+i.t;--o>=0;){e[o]=0;}for(o=0;o<i.t;++o){e[o+t.t]=t.am(0,i[o],e,o,0,t.t);}e.s=0,e.clamp(),this.s!=r.s&&Q.ZERO.subTo(e,e);}function fie(r){for(var e=this.abs(),t=r.t=2*e.t;--t>=0;){r[t]=0;}for(t=0;t<e.t-1;++t){var i=e.am(t,e[t],r,2*t,0,1);(r[t+e.t]+=e.am(t+1,2*e[t],r,2*t+1,i,e.t-t-1))>=e.DV&&(r[t+e.t]-=e.DV,r[t+e.t+1]=1);}r.t>0&&(r[r.t-1]+=e.am(t,e[t],r,2*t,0,1)),r.s=0,r.clamp();}function gie(r,e,t){var i=r.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t){e!=null&&e.fromInt(0),t!=null&&this.copyTo(t);return;}t==null&&(t=Je());var s=Je(),n=this.s,a=r.s,l=this.DB-$_(i[i.t-1]);l>0?(i.lShiftTo(l,s),o.lShiftTo(l,t)):(i.copyTo(s),o.copyTo(t));var c=s.t,u=s[c-1];if(u!=0){var p=u*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0),m=this.FV/p,h=(1<<this.F1)/p,g=1<<this.F2,v=t.t,S=v-c,_=e==null?Je():e;for(s.dlShiftTo(S,_),t.compareTo(_)>=0&&(t[t.t++]=1,t.subTo(_,t)),Q.ONE.dlShiftTo(c,_),_.subTo(s,s);s.t<c;){s[s.t++]=0;}for(;--S>=0;){var I=t[--v]==u?this.DM:Math.floor(t[v]*m+(t[v-1]+g)*h);if((t[v]+=s.am(0,I,t,S,0,c))<I)for(s.dlShiftTo(S,_),t.subTo(_,t);t[v]<--I;){t.subTo(_,t);}}e!=null&&(t.drShiftTo(c,e),n!=a&&Q.ZERO.subTo(e,e)),t.t=c,t.clamp(),l>0&&t.rShiftTo(l,t),n<0&&Q.ZERO.subTo(t,t);}}}function bie(r){var e=Je();return this.abs().divRemTo(r,null,e),this.s<0&&e.compareTo(Q.ZERO)>0&&r.subTo(e,e),e;}function Ec(r){this.m=r;}function _ie(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r;}function yie(r){return r;}function xie(r){r.divRemTo(this.m,null,r);}function vie(r,e,t){r.multiplyTo(e,t),this.reduce(t);}function Cie(r,e){r.squareTo(e),this.reduce(e);}function Sie(){if(this.t<1)return 0;var r=this[0];if((r&1)==0)return 0;var e=r&3;return e=e*(2-(r&15)*e)&15,e=e*(2-(r&255)*e)&255,e=e*(2-((r&65535)*e&65535))&65535,e=e*(2-r*e%this.DV)%this.DV,e>0?this.DV-e:-e;}function Ic(r){this.m=r,this.mp=r.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t;}function wie(r){var e=Je();return r.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),r.s<0&&e.compareTo(Q.ZERO)>0&&this.m.subTo(e,e),e;}function kie(r){var e=Je();return r.copyTo(e),this.reduce(e),e;}function Tie(r){for(;r.t<=this.mt2;){r[r.t++]=0;}for(var e=0;e<this.m.t;++e){var t=r[e]&32767,i=t*this.mpl+((t*this.mph+(r[e]>>15)*this.mpl&this.um)<<15)&r.DM;for(t=e+this.m.t,r[t]+=this.m.am(0,i,r,e,0,this.m.t);r[t]>=r.DV;){r[t]-=r.DV,r[++t]++;}}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r);}function Die(r,e){r.squareTo(e),this.reduce(e);}function Eie(r,e,t){r.multiplyTo(e,t),this.reduce(t);}function Iie(){return(this.t>0?this[0]&1:this.s)==0;}function Fie(r,e){if(r>4294967295||r<1)return Q.ONE;var t=Je(),i=Je(),o=e.convert(this),s=$_(r)-1;for(o.copyTo(t);--s>=0;){if(e.sqrTo(t,i),(r&1<<s)>0)e.mulTo(i,o,t);else{var n=t;t=i,i=n;}}return e.revert(t);}function Oie(r,e){var t;return r<256||e.isEven()?t=new Ec(e):t=new Ic(e),this.exp(r,t);}function Rie(){var r=Je();return this.copyTo(r),r;}function Aie(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1;}else{if(this.t==1)return this[0];if(this.t==0)return 0;}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0];}function Pie(){return this.t==0?this.s:this[0]<<24>>24;}function Bie(){return this.t==0?this.s:this[0]<<16>>16;}function Mie(r){return Math.floor(Math.LN2*this.DB/Math.log(r));}function Lie(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1;}function zie(r){if(r==null&&(r=10),this.signum()==0||r<2||r>36)return"0";var e=this.chunkSize(r),t=Math.pow(r,e),i=xl(t),o=Je(),s=Je(),n="";for(this.divRemTo(i,o,s);o.signum()>0;){n=(t+s.intValue()).toString(r).substr(1)+n,o.divRemTo(i,o,s);}return s.intValue().toString(r)+n;}function Uie(r,e){this.fromInt(0),e==null&&(e=10);for(var t=this.chunkSize(e),i=Math.pow(e,t),o=!1,s=0,n=0,a=0;a<r.length;++a){var l=h4(r,a);if(l<0){r.charAt(a)=="-"&&this.signum()==0&&(o=!0);continue;}n=e*n+l,++s>=t&&(this.dMultiply(i),this.dAddOffset(n,0),s=0,n=0);}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(n,0)),o&&Q.ZERO.subTo(this,this);}function Nie(r,e,t){if(typeof e=="number"){if(r<2)this.fromInt(1);else for(this.fromNumber(r,t),this.testBit(r-1)||this.bitwiseTo(Q.ONE.shiftLeft(r-1),M1,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);){this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(Q.ONE.shiftLeft(r-1),this);}}else{var i=new Array(),o=r&7;i.length=(r>>3)+1,e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256);}}function Hie(){var r=this.t,e=new Array();e[0]=this.s;var t=this.DB-r*this.DB%8,i,o=0;if(r-->0)for(t<this.DB&&(i=this[r]>>t)!=(this.s&this.DM)>>t&&(e[o++]=i|this.s<<this.DB-t);r>=0;){t<8?(i=(this[r]&(1<<t)-1)<<8-t,i|=this[--r]>>(t+=this.DB-8)):(i=this[r]>>(t-=8)&255,t<=0&&(t+=this.DB,--r)),(i&128)!=0&&(i|=-256),o==0&&(this.s&128)!=(i&128)&&++o,(o>0||i!=this.s)&&(e[o++]=i);}return e;}function Wie(r){return this.compareTo(r)==0;}function Gie(r){return this.compareTo(r)<0?this:r;}function Vie(r){return this.compareTo(r)>0?this:r;}function jie(r,e,t){var i,o,s=Math.min(r.t,this.t);for(i=0;i<s;++i){t[i]=e(this[i],r[i]);}if(r.t<this.t){for(o=r.s&this.DM,i=s;i<this.t;++i){t[i]=e(this[i],o);}t.t=this.t;}else{for(o=this.s&this.DM,i=s;i<r.t;++i){t[i]=e(o,r[i]);}t.t=r.t;}t.s=e(this.s,r.s),t.clamp();}function $ie(r,e){return r&e;}function qie(r){var e=Je();return this.bitwiseTo(r,$ie,e),e;}function M1(r,e){return r|e;}function Kie(r){var e=Je();return this.bitwiseTo(r,M1,e),e;}function f4(r,e){return r^e;}function Xie(r){var e=Je();return this.bitwiseTo(r,f4,e),e;}function g4(r,e){return r&~e;}function Yie(r){var e=Je();return this.bitwiseTo(r,g4,e),e;}function Jie(){for(var r=Je(),e=0;e<this.t;++e){r[e]=this.DM&~this[e];}return r.t=this.t,r.s=~this.s,r;}function Zie(r){var e=Je();return r<0?this.rShiftTo(-r,e):this.lShiftTo(r,e),e;}function Qie(r){var e=Je();return r<0?this.lShiftTo(-r,e):this.rShiftTo(r,e),e;}function ere(r){if(r==0)return-1;var e=0;return(r&65535)==0&&(r>>=16,e+=16),(r&255)==0&&(r>>=8,e+=8),(r&15)==0&&(r>>=4,e+=4),(r&3)==0&&(r>>=2,e+=2),(r&1)==0&&++e,e;}function tre(){for(var r=0;r<this.t;++r){if(this[r]!=0)return r*this.DB+ere(this[r]);}return this.s<0?this.t*this.DB:-1;}function ire(r){for(var e=0;r!=0;){r&=r-1,++e;}return e;}function rre(){for(var r=0,e=this.s&this.DM,t=0;t<this.t;++t){r+=ire(this[t]^e);}return r;}function ore(r){var e=Math.floor(r/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<r%this.DB)!=0;}function sre(r,e){var t=Q.ONE.shiftLeft(r);return this.bitwiseTo(t,e,t),t;}function nre(r){return this.changeBit(r,M1);}function are(r){return this.changeBit(r,g4);}function lre(r){return this.changeBit(r,f4);}function cre(r,e){for(var t=0,i=0,o=Math.min(r.t,this.t);t<o;){i+=this[t]+r[t],e[t++]=i&this.DM,i>>=this.DB;}if(r.t<this.t){for(i+=r.s;t<this.t;){i+=this[t],e[t++]=i&this.DM,i>>=this.DB;}i+=this.s;}else{for(i+=this.s;t<r.t;){i+=r[t],e[t++]=i&this.DM,i>>=this.DB;}i+=r.s;}e.s=i<0?-1:0,i>0?e[t++]=i:i<-1&&(e[t++]=this.DV+i),e.t=t,e.clamp();}function dre(r){var e=Je();return this.addTo(r,e),e;}function ure(r){var e=Je();return this.subTo(r,e),e;}function mre(r){var e=Je();return this.multiplyTo(r,e),e;}function pre(){var r=Je();return this.squareTo(r),r;}function hre(r){var e=Je();return this.divRemTo(r,e,null),e;}function fre(r){var e=Je();return this.divRemTo(r,null,e),e;}function gre(r){var e=Je(),t=Je();return this.divRemTo(r,e,t),new Array(e,t);}function bre(r){this[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp();}function _re(r,e){if(r!=0){for(;this.t<=e;){this[this.t++]=0;}for(this[e]+=r;this[e]>=this.DV;){this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e];}}}function Dh(){}function b4(r){return r;}function yre(r,e,t){r.multiplyTo(e,t);}function xre(r,e){r.squareTo(e);}function vre(r){return this.exp(r,new Dh());}function Cre(r,e,t){var i=Math.min(this.t+r.t,e);for(t.s=0,t.t=i;i>0;){t[--i]=0;}var o;for(o=t.t-this.t;i<o;++i){t[i+this.t]=this.am(0,r[i],t,i,0,this.t);}for(o=Math.min(r.t,e);i<o;++i){this.am(0,r[i],t,i,0,e-i);}t.clamp();}function Sre(r,e,t){--e;var i=t.t=this.t+r.t-e;for(t.s=0;--i>=0;){t[i]=0;}for(i=Math.max(e-this.t,0);i<r.t;++i){t[this.t+i-e]=this.am(e-i,r[i],t,0,0,this.t+i-e);}t.clamp(),t.drShiftTo(1,t);}function Xu(r){this.r2=Je(),this.q3=Je(),Q.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r;}function wre(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var e=Je();return r.copyTo(e),this.reduce(e),e;}function kre(r){return r;}function Tre(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;){r.dAddOffset(1,this.m.t+1);}for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;){r.subTo(this.m,r);}}function Dre(r,e){r.squareTo(e),this.reduce(e);}function Ere(r,e,t){r.multiplyTo(e,t),this.reduce(t);}function Ire(r,e){var t=r.bitLength(),i,o=xl(1),s;if(t<=0)return o;t<18?i=1:t<48?i=3:t<144?i=4:t<768?i=5:i=6,t<8?s=new Ec(e):e.isEven()?s=new Xu(e):s=new Ic(e);var n=new Array(),a=3,l=i-1,c=(1<<i)-1;if(n[1]=s.convert(this),i>1){var u=Je();for(s.sqrTo(n[1],u);a<=c;){n[a]=Je(),s.mulTo(u,n[a-2],n[a]),a+=2;}}var p=r.t-1,m,h=!0,g=Je(),v;for(t=$_(r[p])-1;p>=0;){for(t>=l?m=r[p]>>t-l&c:(m=(r[p]&(1<<t+1)-1)<<l-t,p>0&&(m|=r[p-1]>>this.DB+t-l)),a=i;(m&1)==0;){m>>=1,--a;}if((t-=a)<0&&(t+=this.DB,--p),h)n[m].copyTo(o),h=!1;else{for(;a>1;){s.sqrTo(o,g),s.sqrTo(g,o),a-=2;}a>0?s.sqrTo(o,g):(v=o,o=g,g=v),s.mulTo(g,n[m],o);}for(;p>=0&&(r[p]&1<<t)==0;){s.sqrTo(o,g),v=o,o=g,g=v,--t<0&&(t=this.DB-1,--p);}}return s.revert(o);}function Fre(r){var e=this.s<0?this.negate():this.clone(),t=r.s<0?r.negate():r.clone();if(e.compareTo(t)<0){var i=e;e=t,t=i;}var o=e.getLowestSetBit(),s=t.getLowestSetBit();if(s<0)return e;for(o<s&&(s=o),s>0&&(e.rShiftTo(s,e),t.rShiftTo(s,t));e.signum()>0;){(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),e.compareTo(t)>=0?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));}return s>0&&t.lShiftTo(s,t),t;}function Ore(r){if(r<=0)return 0;var e=this.DV%r,t=this.s<0?r-1:0;if(this.t>0)if(e==0)t=this[0]%r;else for(var i=this.t-1;i>=0;--i){t=(e*t+this[i])%r;}return t;}function Rre(r){var e=r.isEven();if(this.isEven()&&e||r.signum()==0)return Q.ZERO;for(var t=r.clone(),i=this.clone(),o=xl(1),s=xl(0),n=xl(0),a=xl(1);t.signum()!=0;){for(;t.isEven();){t.rShiftTo(1,t),e?((!o.isEven()||!s.isEven())&&(o.addTo(this,o),s.subTo(r,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(r,s),s.rShiftTo(1,s);}for(;i.isEven();){i.rShiftTo(1,i),e?((!n.isEven()||!a.isEven())&&(n.addTo(this,n),a.subTo(r,a)),n.rShiftTo(1,n)):a.isEven()||a.subTo(r,a),a.rShiftTo(1,a);}t.compareTo(i)>=0?(t.subTo(i,t),e&&o.subTo(n,o),s.subTo(a,s)):(i.subTo(t,i),e&&n.subTo(o,n),a.subTo(s,a));}if(i.compareTo(Q.ONE)!=0)return Q.ZERO;if(a.compareTo(r)>=0)return a.subtract(r);if(a.signum()<0)a.addTo(r,a);else return a;return a.signum()<0?a.add(r):a;}function Pre(r){var e,t=this.abs();if(t.t==1&&t[0]<=rr[rr.length-1]){for(e=0;e<rr.length;++e){if(t[0]==rr[e])return!0;}return!1;}if(t.isEven())return!1;for(e=1;e<rr.length;){for(var i=rr[e],o=e+1;o<rr.length&&i<Are;){i*=rr[o++];}for(i=t.modInt(i);e<o;){if(i%rr[e++]==0)return!1;}}return t.millerRabin(r);}function Bre(r){var e=this.subtract(Q.ONE),t=e.getLowestSetBit();if(t<=0)return!1;var i=e.shiftRight(t);r=r+1>>1,r>rr.length&&(r=rr.length);for(var o=Je(),s=0;s<r;++s){o.fromInt(rr[Math.floor(Math.random()*rr.length)]);var n=o.modPow(i,this);if(n.compareTo(Q.ONE)!=0&&n.compareTo(e)!=0){for(var a=1;a++<t&&n.compareTo(e)!=0;){if(n=n.modPowInt(2,this),n.compareTo(Q.ONE)==0)return!1;}if(n.compareTo(e)!=0)return!1;}}return!0;}var P1,yl,Xte,m4,B1,Qte,j_,Ku,Do,rr,Are,_4,y4=d(function(){P1={};P1=typeof window!="undefined"?window.navigator:{};Xte=244837814094590,m4=(Xte&16777215)==15715070;m4&&P1.appName=="Microsoft Internet Explorer"?(Q.prototype.am=Jte,yl=30):m4&&P1.appName!="Netscape"?(Q.prototype.am=Yte,yl=26):(Q.prototype.am=Zte,yl=28);Q.prototype.DB=yl;Q.prototype.DM=(1<<yl)-1;Q.prototype.DV=1<<yl;B1=52;Q.prototype.FV=Math.pow(2,B1);Q.prototype.F1=B1-yl;Q.prototype.F2=2*yl-B1;Qte="0123456789abcdefghijklmnopqrstuvwxyz",j_=new Array();Ku="0".charCodeAt(0);for(Do=0;Do<=9;++Do){j_[Ku++]=Do;}Ku="a".charCodeAt(0);for(Do=10;Do<36;++Do){j_[Ku++]=Do;}Ku="A".charCodeAt(0);for(Do=10;Do<36;++Do){j_[Ku++]=Do;}Ec.prototype.convert=_ie;Ec.prototype.revert=yie;Ec.prototype.reduce=xie;Ec.prototype.mulTo=vie;Ec.prototype.sqrTo=Cie;Ic.prototype.convert=wie;Ic.prototype.revert=kie;Ic.prototype.reduce=Tie;Ic.prototype.mulTo=Eie;Ic.prototype.sqrTo=Die;Q.prototype.copyTo=eie;Q.prototype.fromInt=tie;Q.prototype.fromString=iie;Q.prototype.clamp=rie;Q.prototype.dlShiftTo=cie;Q.prototype.drShiftTo=die;Q.prototype.lShiftTo=uie;Q.prototype.rShiftTo=mie;Q.prototype.subTo=pie;Q.prototype.multiplyTo=hie;Q.prototype.squareTo=fie;Q.prototype.divRemTo=gie;Q.prototype.invDigit=Sie;Q.prototype.isEven=Iie;Q.prototype.exp=Fie;Q.prototype.toString=oie;Q.prototype.negate=sie;Q.prototype.abs=nie;Q.prototype.compareTo=aie;Q.prototype.bitLength=lie;Q.prototype.mod=bie;Q.prototype.modPowInt=Oie;Q.ZERO=xl(0);Q.ONE=xl(1);Dh.prototype.convert=b4;Dh.prototype.revert=b4;Dh.prototype.mulTo=yre;Dh.prototype.sqrTo=xre;Xu.prototype.convert=wre;Xu.prototype.revert=kre;Xu.prototype.reduce=Tre;Xu.prototype.mulTo=Ere;Xu.prototype.sqrTo=Dre;rr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Are=(1<<26)/rr[rr.length-1];Q.prototype.chunkSize=Mie;Q.prototype.toRadix=zie;Q.prototype.fromRadix=Uie;Q.prototype.fromNumber=Nie;Q.prototype.bitwiseTo=jie;Q.prototype.changeBit=sre;Q.prototype.addTo=cre;Q.prototype.dMultiply=bre;Q.prototype.dAddOffset=_re;Q.prototype.multiplyLowerTo=Cre;Q.prototype.multiplyUpperTo=Sre;Q.prototype.modInt=Ore;Q.prototype.millerRabin=Bre;Q.prototype.clone=Rie;Q.prototype.intValue=Aie;Q.prototype.byteValue=Pie;Q.prototype.shortValue=Bie;Q.prototype.signum=Lie;Q.prototype.toByteArray=Hie;Q.prototype.equals=Wie;Q.prototype.min=Gie;Q.prototype.max=Vie;Q.prototype.and=qie;Q.prototype.or=Kie;Q.prototype.xor=Xie;Q.prototype.andNot=Yie;Q.prototype.not=Jie;Q.prototype.shiftLeft=Zie;Q.prototype.shiftRight=Qie;Q.prototype.getLowestSetBit=tre;Q.prototype.bitCount=rre;Q.prototype.testBit=ore;Q.prototype.setBit=nre;Q.prototype.clearBit=are;Q.prototype.flipBit=lre;Q.prototype.add=dre;Q.prototype.subtract=ure;Q.prototype.multiply=mre;Q.prototype.divide=hre;Q.prototype.remainder=fre;Q.prototype.divideAndRemainder=gre;Q.prototype.modPow=Ire;Q.prototype.modInverse=Rre;Q.prototype.pow=vre;Q.prototype.gcd=Fre;Q.prototype.isProbablePrime=Pre;Q.prototype.square=pre;_4=Q;});function x4(r){var e=8,t=0;function i(S,_){var I=(S&65535)+(_&65535),E=(S>>16)+(_>>16)+(I>>16);return E<<16|I&65535;}function o(S,_){return S>>>_|S<<32-_;}function s(S,_){return S>>>_;}function n(S,_,I){return S&_^~S&I;}function a(S,_,I){return S&_^S&I^_&I;}function l(S){return o(S,2)^o(S,13)^o(S,22);}function c(S){return o(S,6)^o(S,11)^o(S,25);}function u(S){return o(S,7)^o(S,18)^s(S,3);}function p(S){return o(S,17)^o(S,19)^s(S,10);}function m(S,_){var I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),E=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),O=new Array(64),V,F,P,ae,de,ye,Te,Ce,xe,ut,Ii,hi;S[_>>5]|=128<<24-_%32,S[(_+64>>9<<4)+15]=_;for(var xe=0;xe<S.length;xe+=16){V=E[0],F=E[1],P=E[2],ae=E[3],de=E[4],ye=E[5],Te=E[6],Ce=E[7];for(var ut=0;ut<64;ut++){ut<16?O[ut]=S[ut+xe]:O[ut]=i(i(i(p(O[ut-2]),O[ut-7]),u(O[ut-15])),O[ut-16]),Ii=i(i(i(i(Ce,c(de)),n(de,ye,Te)),I[ut]),O[ut]),hi=i(l(V),a(V,F,P)),Ce=Te,Te=ye,ye=de,de=i(ae,Ii),ae=P,P=F,F=V,V=i(Ii,hi);}E[0]=i(V,E[0]),E[1]=i(F,E[1]),E[2]=i(P,E[2]),E[3]=i(ae,E[3]),E[4]=i(de,E[4]),E[5]=i(ye,E[5]),E[6]=i(Te,E[6]),E[7]=i(Ce,E[7]);}return E;}function h(S){for(var _=Array(),I=(1<<e)-1,E=0;E<S.length*e;E+=e){_[E>>5]|=(S.charCodeAt(E/e)&I)<<24-E%32;}return _;}function g(S){S=S.replace(/\r\n/g,"\n");for(var _="",I=0;I<S.length;I++){var E=S.charCodeAt(I);E<128?_+=String.fromCharCode(E):E>127&&E<2048?(_+=String.fromCharCode(E>>6|192),_+=String.fromCharCode(E&63|128)):(_+=String.fromCharCode(E>>12|224),_+=String.fromCharCode(E>>6&63|128),_+=String.fromCharCode(E&63|128));}return _;}function v(S){for(var _=t?"0123456789ABCDEF":"0123456789abcdef",I="",E=0;E<S.length*4;E++){I+=_.charAt(S[E>>2]>>(3-E%4)*8+4&15)+_.charAt(S[E>>2]>>(3-E%4)*8&15);}return I;}return r=g(r),v(m(h(r),r.length*e));}var v4=d(function(){});var Mre,Lre,Fc,C4=d(function(){Mre=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g,Lre=/^(0|[1-9]\d*)\.(0|[1-9]\d*)(\.(0|[1-9]\d*))?(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g,Fc=/*#__PURE__*/function(){function Fc(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;_classCallCheck(this,Fc);var i=t?Lre:Mre,o=i.exec(e);i.lastIndex=0,this._major=o[1],this._minor=o[2],this._patch=o[3]||0;}_createClass(Fc,[{key:"major",get:function get(){return this._major;}},{key:"minor",get:function get(){return this._minor;}},{key:"patch",get:function get(){return this._patch;}},{key:"equals",value:function equals(e){return this._major===e._major&&this._minor===e._minor&&this._patch===e._patch;}},{key:"isMoreRecentThan",value:function isMoreRecentThan(e){if(this._major<e.major)return!1;if(this._major>e.major)return!0;if(this._minor<e.minor)return!1;if(this._minor>e.minor)return!0;if(this._patch<=e.patch)return!1;if(this._patch>e.patch)return!0;}}]);return Fc;}();});function zre(r){return r.map(function(e){return"0".concat((e&255).toString(16)).slice(-2);}).join("");}var Mi,Ure,Nre,S4,Hre,w4,L1,Wre,Gre,z1,Vre,k4,U1,q_,N1=d(function(){Lu();y4();v4();Au();C4();Hs();Mi=function Mi(r){return G.byteArrayToString(ts.decode(r));};Ure="TDNSeVlXTnJQMkZ3YVV0bGVUMD0=",Nre="ZW50ZXJwcmlzZV9saWNlbnNl",S4="YXBwX2lkZW50aWZpZXJz",Hre="cGxhdGZvcm0=",w4="ZmVhdHVyZXM=",L1="ZXhwaXJlc19hdA==",Wre="ZG9tYWlucw==",Gre="YXBpX3Rva2Vu",z1="c2lnbmF0dXJl",Vre="dmVyc2lvbg==",k4=/*#__PURE__*/function(){function k4(e){_classCallCheck(this,k4);this._version="2.4",this._l=typeof e=="string"?e.trim():e,this._e=this._parseBigInt("65537",10),this._n=this._parseBigInt("681984042382424091378806337544846672160292647422517223678775230983366046720611873368204040735766698395282492937192783016867164773742859209434481353888637963692711665138989982680829529436715362566735813634679619274059040232728883894511099669775400556584329435375723951309340934658571478665059403241851229195311069345899870108307225910988692123234379186643268583453907260879685992156955936561142314233983397819356937109343127504441076920088455337597736475086676246750168976219763398350254797168313954762459542746440628077261880980924552698138857743609502132632199713575442848784271304503226045319991689413234228439044522583790713890093165912455428688507463773064216328753265963237930998706891042679105987175588970202082466871461192706070321938250462103821558100761330890228135620208935801286878657384108721268761878694436895194628411397454202904351577771506916746612289964053490210990342857409030179406810634136188751670648983222653319056818302012063874664196648868156305696644664362171542503665321455971335955948698828939948786720193132672749776162913092000667953299803216404664087988046584107737900256954976744353601826341965438148646041640662195744770544094748295945844184507459808803114917301124088082458306086473490516969815873631",10),this._parseLicense();}_createClass(k4,[{key:"v",value:function v(){return this._sigValid()&&!this.isExp();}},{key:"_jsonValid",value:function _jsonValid(){try{this._decLic=JSON.parse(this._l);}catch(e){return this._decLic={},!1;}return!0;}},{key:"_hostnameValid",value:function _hostnameValid(){if(typeof window=="undefined"||!this._decLic[Mi(S4)].length)return!0;var e=window.location.hostname,t=!1;return this._decLic[Mi(S4)].forEach(function(i){G.wildCardMatch(e,i)&&(t=!0);}),t;}},{key:"_platformValid",value:function _platformValid(){var e=this._decLic[Mi(Hre)];return"HTML5"===e;}},{key:"c",value:function c(){var _this64=this;return new Promise(function(e,t){var i=_this64._validateError();i!==null&&t(i),e();});}},{key:"validate",value:function validate(){return this._validateError()===null;}},{key:"_validateError",value:function _validateError(){if(typeof this._l!=="string"||!this._jsonValid()){var t=new Error();return t.code="ELICINVFMT",t;}if(!this._sigValid()){var _t4=new Error();return _t4.code="ELICINV",_t4;}if(!this._hostnameValid()){var _t5=new Error();return _t5.code="ELICINVHOST",_t5;}if(!this._platformValid()){var _t6=new Error();return _t6.code="ELICINVPLAT",_t6;}if(this.isExp()){var _t7=new Error();return _t7.code="ELICEXP",_t7;}return null;}},{key:"isToolAllowed",value:function isToolAllowed(e){return this._includesFeature(e);}},{key:"isWhiteLabel",value:function isWhiteLabel(){return this._includesFeature("whitelabel",new Fc("2.4",!0));}},{key:"areCustomAssetsAllowed",value:function areCustomAssetsAllowed(){return this._includesFeature("customassets",new Fc("2.4",!0));}},{key:"t",value:function t(){if(this._decLic.enterprise_license||this._includesFeature("noexporttracking",new Fc("2.4",!0)))return Promise.resolve();var e=this._decLic[Mi(Wre)][0]+Mi(Mi(Ure))+this._decLic[Mi(Gre)];return new ko(e).load()["catch"](function(){});}},{key:"isENT",value:function isENT(){return this._decLic?this._decLic[Mi(Nre)]:!1;}},{key:"_sigValid",value:function _sigValid(){return this._verify(this._message,this._sig);}},{key:"exp",value:function exp(){return!!this._decLic[Mi(L1)];}},{key:"dl",value:function dl(){return Math.ceil((this._expAt()-Date.now())/(60*60*24*1e3));}},{key:"isExp",value:function isExp(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();return this._decLic[Mi(L1)]===null?!1:e>this._expAt();}},{key:"_expAt",value:function _expAt(){return this._decLic[Mi(L1)]*1e3;}},{key:"_verify",value:function _verify(e,t){var i,o;return o=this._encodeMessage(e),i=this._decodeSignature(t),i=i.substr(-64),o===i;}},{key:"_encodeMessage",value:function _encodeMessage(e){return x4(e);}},{key:"_decodeSignature",value:function _decodeSignature(e){var t;return e=ts.decode(e),e=zre(e),e=this._parseBigInt(e,16),t=e.modPowInt(this._e,this._n),t=t.toString(16),t;}},{key:"_parseBigInt",value:function _parseBigInt(e,t){return new _4(e,t);}},{key:"_parseLicense",value:function _parseLicense(){typeof this._l=="string"&&(!this._jsonValid()||(this._sig=this._decLic[Mi(z1)]||"",delete this._decLic[Mi(z1)],this._sig=this._sig.replace(/[^A-Za-z0-9+/=]/g,""),this._message=this._l.replace(new RegExp(",\"".concat(Mi(z1),"\":\"([^\"]*)\"")),"")));}},{key:"_includesFeature",value:function _includesFeature(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Fc("1.0",!0);var i=new Fc(this._decLic[Mi(Vre)],!0);return t.isMoreRecentThan(i)?!0:this._decLic[Mi(w4)]&&this._decLic[Mi(w4)].indexOf(e)!==-1;}}]);return k4;}(),U1=/*#__PURE__*/function(){function U1(){_classCallCheck(this,U1);}_createClass(U1,[{key:"v",value:function v(){return!0;}},{key:"c",value:function c(){return Promise.resolve();}},{key:"isToolAllowed",value:function isToolAllowed(e){return!0;}},{key:"isWhiteLabel",value:function isWhiteLabel(){return!1;}},{key:"areCustomAssetsAllowed",value:function areCustomAssetsAllowed(){return!0;}},{key:"t",value:function t(){return Promise.resolve();}},{key:"isENT",value:function isENT(){return!1;}},{key:"exp",value:function exp(){return!1;}},{key:"dl",value:function dl(){return 0;}},{key:"isExp",value:function isExp(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();return!1;}}]);return U1;}(),q_=k4;});var Oc,ia,vl,T4,K_,D4=d(function(){Oc=typeof window=="undefined"?global:window,ia=Oc.requestAnimationFrame,vl=Oc.cancelAnimationFrame,T4=0,K_=["ms","moz","webkit","o"];for(var r=0;r<K_.length&&!ia;++r){ia=Oc["".concat(K_[r],"RequestAnimationFrame")],vl=Oc["".concat(K_[r],"CancelAnimationFrame")]||Oc["".concat(K_[r],"CancelRequestAnimationFrame")];}ia&&(ia=ia.bind(Oc));vl&&(vl=vl.bind(Oc));ia||(ia=function ia(r,e){var t=new Date().getTime(),i=Math.max(0,16-(t-T4)),o=setTimeout(function(){r(t+i);},i);return T4=t+i,o;});vl||(vl=function vl(r){clearTimeout(r);});});var E4,H1,I4=d(function(){is();Jn();E4=/*#__PURE__*/function(){function E4(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _ue(0,0);var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _ue(1,1);var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new _ue(2,-1);var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new _ue(2,0);_classCallCheck(this,E4);this._p0=e.clone(),this._p1=t.clone(),this._p2=i.clone(),this._p3=o.clone(),this._segments=[],this._length=-1,this._sample=[];}_createClass(E4,[{key:"set",value:function set(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _ue(0,0);var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _ue(1,1);var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new _ue(2,1);var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new _ue(2,0);this._p0=e.clone(),this._p1=t.clone(),this._p2=i.clone(),this._p3=o.clone();}},{key:"getLength",value:function getLength(){return this._length;}},{key:"calculateSegments",value:function calculateSegments(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var t=0,i=0,o=[],s=1/e,n=this._p0.clone();for(var a=1;a<=e;a++){var l=[];l.push({t:t,s:i,point:n}),t+=s,t=Math.min(t,1);var c=this.evalAt(t);i+=c.clone().subtract(n).len(),l.push({t:t,s:i,point:c}),o.push(l),n=c;}return this._segments=o,this._length=i,i;}},{key:"evalAt",value:function evalAt(e){e=this.normalizeParameter(e);var t=this._p0.clone().multiply(Math.pow(1-e,3)),i=this._p1.clone().multiply(3*(1-e)*(1-e)*e),o=this._p2.clone().multiply(3*(1-e)*e*e),s=this._p3.clone().multiply(e*e*e);return t.add(i).add(o).add(s);}},{key:"isInSegment",value:function isInSegment(e,t){return e=this.normalizeArcLength(e),e>=t[0].s&&e<=t[1].s;}},{key:"getArcLengthSegment",value:function getArcLengthSegment(e){e=this.normalizeArcLength(e);for(var t=0;t<this._segments.length;t++){var i=this._segments[t];if(this.isInSegment(e,i))return i;}return null;}},{key:"normalizeArcLength",value:function normalizeArcLength(e){return Math.max(Math.min(this._length,e),0);}},{key:"normalizeParameter",value:function normalizeParameter(e){return Math.max(Math.min(1,e),0);}},{key:"getParameterForArcLength",value:function getParameterForArcLength(e){var t=this.normalizeArcLength(e),i=this.getArcLengthSegment(t);if(!i)return oe.warn("CubicBezierCurve#getParameterForArcLength","Segment not found."),-1;var o=(t-i[1].s)/(i[0].s-i[1].s);return o*i[0].t+(1-o)*i[1].t;}},{key:"evalAtArcLength",value:function evalAtArcLength(e){return this.evalAt(this.getParameterForArcLength(e));}},{key:"approximateAtArcLength",value:function approximateAtArcLength(e){var t=this.normalizeArcLength(e),i=this.getArcLengthSegment(t);if(!i)return-1;var o=(t-i[1].s)/(i[0].s-i[1].s);return i[0].point.clone().multiply(o).add(i[1].point.clone().multiply(1-o));}},{key:"parameterSample",value:function parameterSample(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var t=1/e,i=[],o=0;for(var s=0;s<=e+1;s++){i.push(this.evalAt(o)),o+=t;}return this._sample=i,[].concat(i);}},{key:"arcLengthApproxSample",value:function arcLengthApproxSample(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var o=this._length/e,s=[],n=0;for(var a=t?1:0;a<e+1;a++){s.push(this.approximateAtArcLength(n)),n+=o;}return i&&s.pop(),this._sample=s,[].concat(s);}}]);return E4;}(),H1=E4;});var F4,W1,O4=d(function(){F4=/*#__PURE__*/function(){function F4(e,t){_classCallCheck(this,F4);this.min=e,this.max=t;}_createClass(F4,[{key:"getMin",value:function getMin(){return this.min;}},{key:"getMax",value:function getMax(){return this.max;}},{key:"getLength",value:function getLength(){return this.max-this.min;}},{key:"contains",value:function contains(e){return this.min<=e&&e<=this.max;}}]);return F4;}(),W1=F4;});var _or,G1,R4=d(function(){_or=/*#__PURE__*/function(){function or(e,t,i){_classCallCheck(this,or);this.x=e,this.y=t,this.z=i,typeof this.x=="undefined"&&(this.x=0),typeof this.y=="undefined"&&(this.y=0),typeof this.z=="undefined"&&(this.z=0);}_createClass(or,[{key:"set",value:function set(e,t,i){return this.x=e,this.y=t,this.z=i,this;}},{key:"clone",value:function clone(){return new _or(this.x,this.y,this.z);}},{key:"copy",value:function copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this;}},{key:"clamp",value:function clamp(e,t){var i=e!==null&&typeof e!="undefined",o=t!==null&&typeof t!="undefined";return!(e instanceof _or)&&i&&(e=new _or(e,e,e)),!(t instanceof _or)&&o&&(t=new _or(t,t,t)),i&&(this.x=Math.max(e.x,this.x),this.y=Math.max(e.y,this.y),this.z=Math.max(e.z,this.z)),o&&(this.x=Math.min(t.x,this.x),this.y=Math.min(t.y,this.y),this.z=Math.min(t.z,this.z)),this;}},{key:"divide",value:function divide(e){return e instanceof _or?(this.x/=e.x,this.y/=e.y,this.z/=e.z):(this.x/=e,this.y/=e,this.z/=e),this;}},{key:"subtract",value:function subtract(e){return e instanceof _or?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=e,this.z-=e),this;}},{key:"multiply",value:function multiply(e){return e instanceof _or?(this.x*=e.x,this.y*=e.y,this.z*=e.z):(this.x*=e,this.y*=e,this.z*=e),this;}},{key:"add",value:function add(e){return e instanceof _or?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=e,this.z+=e),this;}},{key:"equals",value:function equals(e){return e instanceof _or?e.x===this.x&&e.y===this.y&&e.z===this.z:e===this.x&&e===this.y&&e===this.z;}},{key:"round",value:function round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this;}},{key:"ceil",value:function ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this;}},{key:"floor",value:function floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this;}},{key:"fract",value:function fract(){return this.x%=1,this.y%=1,this.z%=1,this;}},{key:"toInt",value:function toInt(){return this.x|=0,this.y|=0,this.z|=0,this;}},{key:"abs",value:function abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this;}},{key:"len",value:function len(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);}},{key:"min",value:function min(){return Math.min(Math.min(this.x,this.y),this.z);}},{key:"max",value:function max(){return Math.max(Math.max(this.x,this.y),this.z);}},{key:"toObject",value:function toObject(){return{x:this.x,y:this.y,z:this.z};}},{key:"toString",value:function toString(){return"Vector3({ x: ".concat(this.x,", y: ").concat(this.y,", z: ").concat(this.z," })");}},{key:"roundDecimal",value:function roundDecimal(e){return this.x=parseFloat(this.x.toFixed(e)),this.y=parseFloat(this.y.toFixed(e)),this.z=parseFloat(this.z.toFixed(e)),this;}}],[{key:"fromObject",value:function fromObject(e){return new _or(e.x,e.y,e.z);}},{key:"NULL",get:function get(){return new _or(0,0,0);}}]);return or;}(),G1=_or;});var se={};It(se,{ColorMatrix:function ColorMatrix(){return hh;},CubicBezierCurve:function CubicBezierCurve(){return H1;},Matrix:function Matrix(){return _Cr;},Range:function Range(){return W1;},Rectangle:function Rectangle(){return _vt;},Vector2:function Vector2(){return _ue;},Vector3:function Vector3(){return G1;}});var V1=d(function(){h1();I4();m1();O4();p1();Jn();R4();});var Eh={};It(Eh,{Base64:function Base64(){return ts;},Color:function Color(){return K;},ColorMatrix:function ColorMatrix(){return hh;},Configurable:function Configurable(){return Fe;},Constants:function Constants(){return xr;},CubicBezierCurve:function CubicBezierCurve(){return H1;},Engine:function Engine(){return W;},EventEmitter:function EventEmitter(){return tr;},Events:function Events(){return qu;},FreeLicenseChecker:function FreeLicenseChecker(){return U1;},GLUtils:function GLUtils(){return wc;},LicenseChecker:function LicenseChecker(){return q_;},Log:function Log(){return oe;},Matrix:function Matrix(){return _Cr;},Range:function Range(){return W1;},Rectangle:function Rectangle(){return _vt;},Utils:function Utils(){return G;},Vector2:function Vector2(){return _ue;},Vector3:function Vector3(){return G1;},cancelAnimationFrame:function cancelAnimationFrame(){return vl;},requestAnimationFrame:function requestAnimationFrame(){return ia;}});var Rc=d(function(){is();Th();qr();Ih();Au();zu();Wu();Uu();u1();N1();Hs();D4();V1();});var j1,A4=d(function(){z_();$1();A1();Rc();j1=/*#__PURE__*/function(){function j1(){_classCallCheck(this,j1);this._container=new _Ws();this._sprite=new Fh();this._container.addChild(this._sprite);}_createClass(j1,[{key:"render",value:function render(e,t,i){var o=i.getDimensions(),s=this._getNextHighestPOT(o);this._renderTexture?this._renderTexture.resizeTo(s):this._renderTexture=new kh(e,s.x,s.y);var n=this._renderTexture.getDimensions();this._sprite.setTexture(i),this._sprite.updateTransform(),this._renderTexture.clear(),this._renderTexture.render(this._container),this._updateSprite(e,t,o,n);}},{key:"_updateSprite",value:function _updateSprite(e,t,i,o){t.setTexture(this._renderTexture),this._renderTexture.setFrame(new _vt(0,0,i.x,i.y));}},{key:"_getNextHighestPOT",value:function _getNextHighestPOT(e){return new _ue(G.nextHighestPOT(e.x),G.nextHighestPOT(e.y));}},{key:"getRenderTexture",value:function getRenderTexture(){return this._renderTexture;}},{key:"dispose",value:function dispose(){!this._renderTexture||(this._renderTexture.dispose(),delete this._renderTexture);}}]);return j1;}();});var Fh,$1=d(function(){A4();z_();Jt();Fh=/*#__PURE__*/function(_Ws2){_inherits(Fh,_Ws2);var _super35=_createSuper(Fh);function Fh(e){var _this65;_classCallCheck(this,Fh);_this65=_super35.call(this);_this65._shader=null;_this65._width=0;_this65._height=0;_this65._anchor=new _ue(0,0);_this65._canvasSmoothingEnabled=!0;_this65._smoothDownscaling=!1;_this65._onTextureUpdate=_this65._onTextureUpdate.bind(_assertThisInitialized(_this65)),_this65.setTexture(e);return _this65;}_createClass(Fh,[{key:"_onTextureUpdate",value:function _onTextureUpdate(){this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0;}},{key:"_renderWebGL",value:function _renderWebGL(e){var t=e.save();this._smoothDownscaling&&(this._potRenderer||(this._potRenderer=new j1()),this._texture&&this._potRenderer.render(e,this,this._texture)),e.restore(t),e.setObjectRenderer(e.renderers.sprite),e.renderers.sprite.render(this);}},{key:"_renderCanvas",value:function _renderCanvas(e){if(!this._texture)return;var t=this._worldTransform,i=this._texture.getFrame(),o=i.width,s=i.height,n=e.getCurrentRenderTarget().getPixelRatio(),a=this._anchor.x*-o|0,l=this._anchor.y*-s|0,c=e.getContext();if(c.setTransform(t.a,t.b,t.c,t.d,t.tx*n,t.ty*n),c.globalAlpha=this.getWorldAlpha(),!this._texture)return;var u=this._texture.getBaseTexture(),p=u.getPixelRatio(),m=u.getSource();c.imageSmoothingEnabled=this._canvasSmoothingEnabled,"beforeDraw"in e&&e.beforeDraw(c),c.drawImage(m,0,0,(m.naturalWidth||o)*p,(m.naturalHeight||s)*p,a*n,l*n,o*n,s*n);}},{key:"isAtPosition",value:function isAtPosition(e){if(!this._texture)return;var t=this._worldTransform.applyInverseToVector(e),i=this._texture.getFrame(),o=i.width,s=i.height,n=new _ue(-o,-s);n.multiply(this._anchor);var a=n.clone().add(o,s);return!(t.x<n.x||t.x>a.x||t.y<n.y||t.y>a.y);}},{key:"getLocalBounds",value:function getLocalBounds(){if(this._localBoundsNeedUpdate&&this._texture){var e=this._localBounds,t=this._texture.getFrame();e.x=-t.width*this._anchor.x,e.y=-t.height*this._anchor.y,e.width=t.width,e.height=t.height,this._localBoundsNeedUpdate=!1;}return this._localBounds.clone();}},{key:"getBounds",value:function getBounds(){if(this._boundsNeedUpdate&&this._texture){var e=this._bounds,t=this._texture.getFrame(),i=this._worldTransform,o=this._anchor,s=i.rectangleToCoordinates(t,o),n=s[0].x,a=s[0].y,l=n,c=a;s.forEach(function(_ref94){var u=_ref94.x,p=_ref94.y;n=Math.min(n,u),a=Math.min(a,p),l=Math.max(l,u),c=Math.max(c,p);}),e.x=n,e.width=Math.abs(l-n),e.y=a,e.height=Math.abs(c-a),this._boundsNeedUpdate=!1;}return this._bounds.clone();}},{key:"getTexture",value:function getTexture(){return this._texture;}},{key:"clearTexture",value:function clearTexture(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;!this._texture||(this._texture.off("update",this._onTextureUpdate),e&&this._texture.dispose(),this._texture=null,this._potRenderer&&(e&&this._potRenderer.dispose(),delete this._potRenderer));}},{key:"setTexture",value:function setTexture(e){!e||(this._texture&&this._texture.off("update",this._onTextureUpdate),this._potRenderer&&this._potRenderer.getRenderTexture().getBaseTexture().setDirty(!0),this._texture=e,e.getBaseTexture().isLoaded()&&this._onTextureUpdate(),e.on("update",this._onTextureUpdate));}},{key:"getShader",value:function getShader(){return this._shader;}},{key:"setShader",value:function setShader(e){this._shader=e;}},{key:"getWidth",value:function getWidth(){return this._width;}},{key:"setWidth",value:function setWidth(e){!this._texture||(this._scale.x=e/this._texture.getFrame().width,this._width=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0);}},{key:"getHeight",value:function getHeight(){return this._height;}},{key:"setHeight",value:function setHeight(e){!this._texture||(this._scale.y=e/this._texture.getFrame().height,this._height=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0);}},{key:"getDimensions",value:function getDimensions(){return new _ue(this._width,this._height);}},{key:"getAnchor",value:function getAnchor(){return this._anchor;}},{key:"setAnchor",value:function setAnchor(e,t){this._anchor.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0;}},{key:"isSmoothDownscaling",value:function isSmoothDownscaling(){return this._smoothDownscaling;}},{key:"setSmoothDownscaling",value:function setSmoothDownscaling(e){this._smoothDownscaling=e;}},{key:"dispose",value:function dispose(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;this._texture&&this._texture.off("update",this._onTextureUpdate),(e||t)&&this._texture&&this._texture.dispose(t),this._potRenderer&&this._potRenderer.dispose();}}]);return Fh;}(_Ws);});var jre,W,Ih=d(function(){z_();JL();Gu();H_();r4();d4();$1();ju();A1();R1();gh();t1();Ns();xh();jre={CanvasFilterManager:Dc,Container:_Ws,BaseTexture:$t,Texture:_l2,RenderTexture:kh,WebGLRenderTarget:ea,CanvasRenderTarget:Qn,Sprite:Fh,Filter:rs,Filters:v1,PixelArrayImage:Ou,autoDetectRenderer:function autoDetectRenderer(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return Ti.isSupported()?new V_(r,e,t):new $u(r,e,t);},canvasRenderer:function canvasRenderer(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new $u(r,e,t);}},W=jre;});var P4,B4,M4=d(function(){P4=/*#__PURE__*/function(){function P4(){_classCallCheck(this,P4);}_createClass(P4,null,[{key:"current",value:function current(){return process.env.ENV;}},{key:"isTest",value:function isTest(){return process.env.ENV==="test";}},{key:"isDevelopment",value:function isDevelopment(){return process.env.ENV==="development";}},{key:"isProduction",value:function isProduction(){return process.env.ENV==="production"||!this.isTest()&&!this.isDevelopment();}}]);return P4;}(),B4=P4;});var L4,Ac,X_=d(function(){L4=/*#__PURE__*/function(){function L4(e){_classCallCheck(this,L4);this._head=0,this._buf=e;}_createClass(L4,[{key:"peekInt8",value:function peekInt8(){return this._buf[this._head];}},{key:"peekInt16",value:function peekInt16(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this._buf[this._head],i=this._buf[this._head+1];return e?(i<<8)+t:(t<<8)+i;}},{key:"peekInt24",value:function peekInt24(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this._buf[this._head],i=this._buf[this._head+1],o=this._buf[this._head+2];return e?(o<<16)+(i<<8)+t:(t<<16)+(i<<8)+o;}},{key:"peekInt32",value:function peekInt32(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this._buf[this._head],i=this._buf[this._head+1],o=this._buf[this._head+2],s=this._buf[this._head+3];return e?(s<<32)+(o<<16)+(i<<8)+t:(t<<32)+(i<<16)+(o<<8)+s;}},{key:"writeInt8",value:function writeInt8(e){this._buf[this._head]=e&255;}},{key:"writeInt16",value:function writeInt16(e){this._buf[this._head]=e>>8,this._buf[this._head+1]=e&255;}},{key:"readInt8",value:function readInt8(){var e=this.peekInt8();return this._head+=1,e;}},{key:"readInt16",value:function readInt16(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this.peekInt16(e);return this._head+=2,t;}},{key:"readInt24",value:function readInt24(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this.peekInt24(e);return this._head+=3,t;}},{key:"readInt32",value:function readInt32(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this.peekInt32(e);return this._head+=4,t;}},{key:"readString",value:function readString(e){var t="";for(var i=0;i<e;i++){var o=this.readInt8();t+=String.fromCharCode(o);}return t;}},{key:"getHead",value:function getHead(){return this._head;}},{key:"setHead",value:function setHead(e){this._head=e;}}]);return L4;}(),Ac=L4;});var $re,qre,Yu,Y_=d(function(){$re={SOI:65496,SOS:65498,APP0:65504,APP1:65505,JFIF:65504,EXIF:65505},qre={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},Yu={MARKERS:$re,EXIF_TAGS:qre};});var q1,Kre,z4,U4,N4,H4=d(function(){var _G2,_Yu;X_();Hs();Y_();(_G2=G,q1=_G2.invariant,_G2),(_Yu=Yu,Kre=_Yu.MARKERS,z4=_Yu.EXIF_TAGS,_Yu),U4=/*#__PURE__*/function(){function U4(e){_classCallCheck(this,U4);this._buf=e,this._stream=new Ac(this._buf),this._stream.setHead(0),this._parse(),this._bigEndian=!1;}_createClass(U4,[{key:"isValid",value:function isValid(){return this._stream.setHead(0),!(this._stream.readInt16()!==Kre.EXIF||!(this._stream.readInt16()>0)||this._stream.readString(4)!=="Exif");}},{key:"_parse",value:function _parse(){if(!this.isValid())return;this._stream.setHead(10);var e=this._stream.getHead();this._bigEndian=!1;var t=this._stream.readInt16();t===18761?this._bigEndian=!1:t===19789?this._bigEndian=!0:q1(!1,"Invalid TIFF data: No endian type found"),q1(this._stream.readInt16(!this._bigEndian)===42,"Invalid TIFF data: No 0x002A");var i=this._stream.readInt32(!this._bigEndian);q1(i>=8,"Invalid TIFF data: First IFD offset < 8");var o=e+i,s=this._readTags(this._stream,e,o,this._bigEndian);this._tags=s.tags,this._tagData=s.tagData;}},{key:"getTags",value:function getTags(){return this._tags;}},{key:"getTagData",value:function getTagData(){return this._tagData;}},{key:"setOrientation",value:function setOrientation(e){if(this._tagData.Orientation){var t=this._tagData.Orientation.entryOffset;this._stream.setHead(t+8),this._stream.writeInt16(this._bigEndian?e:(e&255)<<8|e>>8&255);}}},{key:"_readTags",value:function _readTags(e,t,i,o){e.setHead(i);var s=e.readInt16(!o),n={},a=[];for(var l=0;l<s;l++){var c=i+l*12+2;e.setHead(c);var u=e.readInt16(!o),p=void 0,m=void 0,h=void 0;if(z4[u]){u=z4[u],p=e.readInt16(!o),m=e.readInt32(!o),h=e.readInt32(!o)+t;var g=null;switch(p){case 1:case 7:if(m===1)g=e.readInt8(!o);else{g=[];for(var v=0;v<m;v++){g.push(e.readInt8(!o));}}break;case 2:e.setHead(m>4?h:c+8),g=e.readString(m);break;case 3:if(e.setHead(m>2?h:c+8),m===1)g=e.readInt16(!o);else{g=[];for(var _v2=0;_v2<m;_v2++){g.push(e.readInt16(!o));}}break;case 4:case 9:if(e.setHead(m>1?h:c+8),m===1)g=e.readInt32(!o);else{g=[];for(var _v3=0;_v3<m;_v3++){g.push(e.readInt32(!o));}}break;case 5:case 10:if(e.setHead(h),m===1){var _v4=e.readInt32(!o),S=e.readInt32(!o);g=_v4/S;}else{g=[];for(var _v5=0;_v5<m;_v5++){var _S3=e.readInt32(!o),_=e.readInt32(!o),I=_S3/_;g.push(I);}}break;}n[u]=g,a[u]={value:g,numValues:m,entryOffset:c,valueOffset:h,type:p};}}return{tags:n,tagData:a};}},{key:"getBuffer",value:function getBuffer(){return this._buf;}}]);return U4;}(),N4=U4;});var Xre,W4,K1,G4=d(function(){var _Yu2;X_();Y_();(_Yu2=Yu,Xre=_Yu2.MARKERS,_Yu2),W4=/*#__PURE__*/function(){function W4(e){_classCallCheck(this,W4);this._buf=e,this._stream=new Ac(this._buf),this._stream.setHead(0);}_createClass(W4,[{key:"isValid",value:function isValid(){if(this._stream.setHead(0),this._stream.readInt16()!==Xre.APP0||!(this._stream.readInt16()>=16))return!1;var i=this._stream.readString(4),o=this._stream.readInt8();return!(i!=="JFIF"||o!==0);}},{key:"setUnitDensity",value:function setUnitDensity(e){this._stream.setHead(11),this._stream.writeInt8(e);}},{key:"setDensityX",value:function setDensityX(e){this._stream.setHead(12),this._stream.writeInt16(e);}},{key:"setDensityY",value:function setDensityY(e){this._stream.setHead(14),this._stream.writeInt16(e);}},{key:"getUnitDensity",value:function getUnitDensity(){return this._stream.setHead(11),this._stream.readInt8();}},{key:"getDensityX",value:function getDensityX(){return this._stream.setHead(12),this._stream.readInt16();}},{key:"getDensityY",value:function getDensityY(){return this._stream.setHead(14),this._stream.readInt16();}},{key:"getBuffer",value:function getBuffer(){return this._buf;}}]);return W4;}(),K1=W4;});var Oh,J_,Yre,_Vs,Rh,Z_=d(function(){var _Yu3;X_();Au();Y_();H4();G4();Hs();(_Yu3=Yu,Oh=_Yu3.MARKERS,_Yu3),J_="data:image/jpeg;base64,",Yre=new RegExp("^".concat(J_),"i"),_Vs=/*#__PURE__*/function(){function Vs(e){_classCallCheck(this,Vs);this._buf=e,this._stream=new Ac(this._buf),this._stream.setHead(0),this._segments=this._sliceIntoSegments(this._buf),this._exifData=new N4(this._getMarkerBuffer(Oh.EXIF)),this._jfifData=new K1(this._getMarkerBuffer(Oh.JFIF));}_createClass(Vs,[{key:"restoreSegmentsInArray",value:function restoreSegmentsInArray(e){return e=this.restoreExifTagsToImageData(e),this.restoreJfifSegmentToImageData(e);}},{key:"restoreSegments",value:function restoreSegments(e){var t=_Vs.fromDataURL(e);return t=this.restoreSegmentsInArray(t),_Vs.toDataURL(t);}},{key:"restoreExifTagsToImageData",value:function restoreExifTagsToImageData(e){if(!this._exifData.isValid())return e;var i=this._sliceIntoSegments(e)[1][0],o=e.slice(0,i),s=e.slice(i),n=o.concat(this._exifData.getBuffer());return n=n.concat(s),n;}},{key:"restoreJfifSegmentToImageData",value:function restoreJfifSegmentToImageData(e){if(!this._jfifData.isValid())return e;var t=this._sliceIntoSegments(e),i=this._findSegment(Oh.JFIF,t),o=[];if(i){var s=i[0],n=i[1],a=e.slice(0,s),l=e.slice(s,n),c=e.slice(n),u=new K1(l);u.setDensityX(this._jfifData.getDensityX()),u.setDensityY(this._jfifData.getDensityY()),u.setUnitDensity(this._jfifData.getUnitDensity()),o=a.concat(l).concat(c);}else return e;return o;}},{key:"restoreExifTags",value:function restoreExifTags(e){var t=_Vs.fromDataURL(e),i=this.restoreExifTagsToImageData(t);return _Vs.toDataURL(i);}},{key:"restoreJfifSegment",value:function restoreJfifSegment(e){if(!this._jfifData.isValid())return e;var t=_Vs.fromDataURL(e),i=this.restoreJfifSegmentToImageData(t);return _Vs.toDataURL(i);}},{key:"setOrientation",value:function setOrientation(e){return this._exifData.setOrientation(e);}},{key:"_findSegment",value:function _findSegment(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._segments;for(var i=0;i<t.length;i++){var o=t[i][0],s=t[i][1];if(this._stream.setHead(o),this._stream.peekInt16()===e)return[o,s];}return!1;}},{key:"_getLastSegment",value:function _getLastSegment(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._segments;return e[e.length-1];}},{key:"_getMarkerBuffer",value:function _getMarkerBuffer(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._segments;var i=this._findSegment(e,t);if(i){var o=i[0],s=i[1];return this._buf.slice(o,s);}return!1;}},{key:"_sliceIntoSegments",value:function _sliceIntoSegments(e){var t=new Ac(e),i=[];for(;t.getHead()<e.length;){var o=t.readInt16();if(o!==Oh.SOI){if(o===Oh.SOS)break;if(o>=65280&&o<=65535){var s=t.readInt16(),n=t.getHead()+s-2;i.push([t.getHead()-4,n]),t.setHead(n);}else throw new Error("Invalid marker: 0x".concat(o.toString(16)));}}return this._stream.setHead(0),i;}},{key:"getTags",value:function getTags(){return this._exifData.getTags();}},{key:"getTagData",value:function getTagData(){return this._exifData.getTagData();}},{key:"dispose",value:function dispose(){this._buf=[],this._segments=[];}}],[{key:"toDataURL",value:function toDataURL(e){return J_+ts.encode(e);}},{key:"fromDataURL",value:function fromDataURL(e){var t=e.replace(J_,"");return ts.decode(t);}},{key:"isJPEG",value:function isJPEG(e){return Yre.test(e);}},{key:"bufferIsJPEG",value:function bufferIsJPEG(e){return e[0]===255&&e[1]===216&&e[2]===255;}},{key:"fromBase64String",value:function fromBase64String(e){var t=e.replace(J_,""),i=ts.decode(t);return new _Vs(i);}}]);return Vs;}(),Rh=_Vs;});var V4,Sr,Q_=d(function(){V4=typeof window!="undefined"&&window.Image;Sr=V4;});var _ey,ty,X1=d(function(){Rc();Uu();_ey=/*#__PURE__*/function(_tr5){_inherits(ey,_tr5);var _super36=_createSuper(ey);function ey(){var _this66;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,ey);_this66=_super36.call(this);_this66._onOperationUpdate=_this66._onOperationUpdate.bind(_assertThisInitialized(_this66)),_this66._cacheEnabled=!0,_this66._stack=e,_this66._stack.forEach(function(t){t.on("update",_this66._onOperationUpdate);});return _this66;}_createClass(ey,[{key:"clear",value:function clear(){var _this67=this;this.forEach(function(e){return _this67.remove(e);}),this._stack=[];}},{key:"hasChanges",value:function hasChanges(){return this._stack.filter(function(e){return!!e;}).some(function(e){return e.hasChanges();});}},{key:"_onOperationUpdate",value:function _onOperationUpdate(e,t){this.emit(qu.OPERATION_UPDATED,e,t);}},{key:"enableCache",value:function enableCache(){this._cacheEnabled=!0;}},{key:"disableCache",value:function disableCache(){this._cacheEnabled=!1;}},{key:"forEach",value:function forEach(e){return this._stack.filter(function(t){return!!t;}).forEach(e);}},{key:"render",value:function render(e,t){var _this68=this;var i=t,o=this._stack.filter(function(c){return!!c;}).filter(function(c){return c.getEnabled();});o.reverse();var s=o.filter(function(c){return!c.isDirtyForRenderer(e.getRenderer());})[0],n=o.indexOf(s);o.reverse();var a=0;n!==-1&&(a=o.length-n-1);for(var c=0;c<a;c++){oe.info(this.constructor.name,"Skipping ".concat(o[c].constructor.name));}var l=Promise.resolve(i);var _loop4=function _loop4(_c3){var u=o[_c3],p=void 0,m=void 0;l=l.then(function(h){return u.render(h).then(function(g){return p&&g!==p&&!_this68._cacheEnabled&&m.disposeRenderTextures(),p=g,m=u,g;});});};for(var _c3=a;_c3<o.length;_c3++){_loop4(_c3);}return l.then(function(c){var u=!o.some(function(p){return p.isDirtyForRenderer(e.getRenderer());});return{outputTexture:c,renderDone:u};});}},{key:"validateSettings",value:function validateSettings(){return Promise.all(this._stack.filter(function(e){return!!e;}).map(function(e){return e.validateSettings();}));}},{key:"setAllToDirty",value:function setAllToDirty(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;this.forEach(function(t){return t.setDirty(!0,e);});}},{key:"updateDirtinessForRenderer",value:function updateDirtinessForRenderer(e){var t=!1;for(var i=0;i<this._stack.length;i++){var o=this._stack[i];!o||(o.isDirtyForRenderer(e)&&(t=!0),t&&o.setDirtyForRenderer(!0,e));}}},{key:"push",value:function push(e){this._stack.push(e),e.on("update",this._onOperationUpdate);}},{key:"pop",value:function pop(){var e=this._stack.pop();e&&(e.off("update",this._onOperationUpdate),e.dispose());}},{key:"unshift",value:function unshift(e){this._stack.unshift(e),e.on("update",this._onOperationUpdate);}},{key:"clone",value:function clone(){return new _ey(this._stack.slice(0));}},{key:"get",value:function get(e){return this._stack[e];}},{key:"getByIdentifier",value:function getByIdentifier(e){return G.Array.find(this._stack,function(t){return t&&t.constructor.identifier===e;});}},{key:"getIndexByIdentifier",value:function getIndexByIdentifier(e){return G.Array.findIndex(this._stack,function(t){return t&&t.constructor.identifier===e;});}},{key:"moveToTop",value:function moveToTop(e){var t=G.Array.findIndex(this._stack,function(o){return o&&o.constructor.identifier===e;});if(t<0||t===this._stack.length-1)return;var i=this.getByIdentifier(e);this._stack.splice(t,1),this._stack[this._stack.length]=i;}},{key:"set",value:function set(e,t){this._stack[e]&&(this._stack[e].off("update",this._onOperationUpdate),this._stack[e].dispose()),this._stack[e]=t,t.on("update",this._onOperationUpdate);}},{key:"remove",value:function remove(e){var t=this._stack.indexOf(e);t!==-1&&(this._stack[t]&&(this._stack[t].off("update",this._onOperationUpdate),this._stack[t].dispose()),this._stack.splice(t,1));}},{key:"removeAt",value:function removeAt(e){this._stack[e]&&(this._stack[e].off("update",this._onOperationUpdate),this._stack[e].dispose()),delete this._stack[e];}},{key:"getStack",value:function getStack(){return this._stack;}},{key:"dispose",value:function dispose(){this.forEach(function(e){e.dispose();});}}]);return ey;}(tr),ty=_ey;});var j4,$4,iy,Y1=d(function(){Rc();j4=typeof window!="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):_h(),$4=/*#__PURE__*/function(){function $4(e,t){_classCallCheck(this,$4);this._tag=e,this._name=t,this._start=j4();}_createClass($4,[{key:"stop",value:function stop(){var t=j4()-this._start,i=Math.round(1e3/t);oe.info(this._tag,"".concat(this._name," took ").concat(t.toFixed(2),"ms (").concat(i," FPS)"));}}]);return $4;}(),iy=$4;});var J1,Ye,Z1=d(function(){is();qr();Ih();Wu();Y1();J1=/*#__PURE__*/function(_Fe2){_inherits(J1,_Fe2);var _super37=_createSuper(J1);function J1(e){var _this69;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,J1);_this69=_super37.call(this,t,{enabled:{type:b.BOOLEAN,"default":!0,serializable:!1}});_this69._sdk=e,_this69._cacheEnabled=!1,_this69._dirtiness={},_this69._sprite=new W.Sprite(),_this69._container=new W.Container(),_this69._container.addChild(_this69._sprite);return _this69;}_createClass(J1,[{key:"_onOptionsChange",value:function _onOptionsChange(){this.setDirty(!0);}},{key:"render",value:function render(e){var _this70=this;if(!this.getEnabled())return oe.info(this.constructor.name,"Disabled - skipping"),Promise.resolve(e);if(!this._renderTexture){var s=e.getDimensions().floor();this._renderTexture=new W.RenderTexture(this._sdk.getRenderer(),s.x,s.y);}var t=this._sdk.getRenderer(),i,o;if(oe.canLog("info")&&(o=new iy(this.constructor.name,"Rendering")),this.isDirtyForRenderer(t)){this._sprite.setTexture(e);var _s2=this.getNewDimensions(e.getDimensions()).floor();this._renderTexture.resizeTo(_s2),this._renderTexture.clear(),i=this._render(e).then(function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return _this70.setDirtyForRenderer(n,t),_this70._renderTexture;});}else oe.info(this.constructor.name,"Rendering from cache"),i=Promise.resolve(this._renderTexture);return i.then(function(s){return o&&o.stop(),s;});}},{key:"_render",value:function _render(e){var t;return this._sdk.getRenderer().isOfType(Se.WEBGL)?t=this._renderWebGL.bind(this):t=this._renderCanvas.bind(this),t(e);}},{key:"_renderWebGL",value:function _renderWebGL(e){throw new Error("Operation#_renderWebGL is abstract and not implemented in inherited class.");}},{key:"_renderCanvas",value:function _renderCanvas(e){throw new Error("Operation#_renderCanvas is abstract and not implemented in inherited class.");}},{key:"getNewDimensions",value:function getNewDimensions(e){return e.clone();}},{key:"onBeforeExport",value:function onBeforeExport(){this.transform&&this._tempTransformChange&&this.transform(this._tempTransformChange),this._onBeforeExport();}},{key:"onAfterExport",value:function onAfterExport(){this.transform&&this._tempInverseTransformChange&&this.transform(this._tempInverseTransformChange),this._onAfterExport();}},{key:"_onBeforeExport",value:function _onBeforeExport(){}},{key:"_onAfterExport",value:function _onAfterExport(){}},{key:"setTemporaryTransformChange",value:function setTemporaryTransformChange(e,t){this._tempTransformChange=e,this._tempInverseTransformChange=t;}},{key:"reset",value:function reset(){this._dirty=!0,this._glslPrograms={};}},{key:"isDirtyForRenderer",value:function isDirtyForRenderer(e){var t=this._dirtiness[e.id];return typeof t=="undefined"?!0:t;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;this._dirtiness[t.id]=e;}},{key:"setDirty",value:function setDirty(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;for(var i in this._dirtiness){this.setDirtyForRenderer(e,{id:i},t);}}},{key:"getSDK",value:function getSDK(){return this._sdk;}},{key:"getInputDimensions",value:function getInputDimensions(){var _this71=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var t=this._sdk.getInputDimensions();e&&t.multiply(this._sdk.getZoom()).floor();var i;return this._sdk.getOperationsStack().forEach(function(o){if(!i){if(o===_this71){i=!0;return;}t=o.getNewDimensions(t);}}),t.floor();}},{key:"clone",value:function clone(){var e=this.constructor;return new e(this._sdk,this.serializeOptions());}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){this._renderTexture&&this._renderTexture.dispose(),this._renderTexture=null;}},{key:"dispose",value:function dispose(){this.disposeRenderTextures(),this._sprite.dispose();}}]);return J1;}(Fe);J1.identifier=null;Ye=J1;});var Jre,ry,q4,K4=d(function(){var _xr5;Rc();Jn();Z1();(_xr5=xr,Jre=_xr5.OptionType,_xr5),ry=/*#__PURE__*/function(_Ye){_inherits(ry,_Ye);var _super38=_createSuper(ry);function ry(){_classCallCheck(this,ry);return _super38.apply(this,arguments);}_createClass(ry,[{key:"getRotation",value:function getRotation(){var e=0;switch(this.getTags().Orientation){case 7:case 8:e=-90;break;case 3:case 4:e=-180;break;case 5:case 6:e=90;break;}return e;}},{key:"_getFlipVertically",value:function _getFlipVertically(){var _this$getTags=this.getTags(),e=_this$getTags.Orientation;return[5,7].indexOf(e)!==-1;}},{key:"_getFlipHorizontally",value:function _getFlipHorizontally(){var _this$getTags2=this.getTags(),e=_this$getTags2.Orientation;return[2,4].indexOf(e)!==-1;}},{key:"_getFinalOptions",value:function _getFinalOptions(){return{rotation:this.getRotation(),flipVertically:this._getFlipVertically(),flipHorizontally:this._getFlipHorizontally()};}},{key:"_render",value:function _render(e){var t=this._getFinalOptions(),o=t.rotation%360*(Math.PI/180);this._sprite.setScale(t.flipHorizontally?-1:1,t.flipVertically?-1:1),this._sprite.setRotation(o),this._sprite.setAnchor(.5,.5),this._sprite.updateTransform();var s=this._sprite.getBounds();return this._renderTexture.resizeTo(new _ue(s.width,s.height)),this._sprite.setPosition(this._renderTexture.getDimensions().divide(2)),this._renderTexture.render(this._container),Promise.resolve();}},{key:"getNewDimensions",value:function getNewDimensions(e){var t=this._getFinalOptions();return e=e.clone(),t.rotation%180&&e.flip(),e;}},{key:"applyTo",value:function applyTo(e){var t=this._getFinalOptions(),i=G.createCanvas();Math.abs(t.rotation%180)===90?(i.width=e.height,i.height=e.width):(i.width=e.width,i.height=e.height);var o=i.getContext("2d"),s=t.rotation*Math.PI/180,n=.5*(i.width-e.width),a=.5*(i.height-e.height);return o.translate(n,a),o.translate(.5*e.width,.5*e.height),o.rotate(s),o.translate(-.5*e.width,-.5*e.height),t.flipVertically&&(o.translate(0,e.height),o.scale(1,-1)),t.flipHorizontally&&(o.translate(e.width,0),o.scale(-1,1)),o.drawImage(e,0,0),i;}}]);return ry;}(Ye);ry.identifier="exif-orientation";ry.prototype.availableOptions={tags:{type:Jre.OBJECT,"default":{}}};q4=ry;});var Ju={};It(Ju,{ExifOrientationOperation:function ExifOrientationOperation(){return q4;}});var Q1=d(function(){K4();});var ew,X4,Y4=d(function(){qr();Ih();Wu();Z_();Q_();Hs();ew=/*#__PURE__*/function(_Fe3){_inherits(ew,_Fe3);var _super39=_createSuper(ew);function ew(e){var _this72;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,ew);_this72=_super39.call(this,t);_this72._sdk=e;return _this72;}_createClass(ew,[{key:"export",value:function _export(){var _this73=this;var e=this._options.imageFormat,t=function t(i){return i.renderDone?i:_this73._sdk.render().then(function(o){return t(o);});};return this.validateSettings().then(function(){return _this73._prepareSDK().then(function(i){return t(i);});}).then(function(i){var o=i.outputTexture,s=i.renderDone,n=_this73._sdk.getRenderer(),a=n.getCanvas();return n.isOfType(Se.WEBGL)&&(a=_this73._createCanvasFromTexture(o)),_this73._encodeImageFormat(a);}).then(function(i){return _this73._restoreExifMetadata(i,e);}).then(function(i){return _this73._restoreSDK().then(function(){return i;});});}},{key:"_restoreExifMetadata",value:function _restoreExifMetadata(e,t,i){if(t===Cc.JPEG){var o=this._sdk.getExif();o&&typeof e=="string"&&(e=o.restoreSegments(e));}return Promise.resolve(e);}},{key:"_encodeAsDataURL",value:function _encodeAsDataURL(e,t,i){return G.isBrowser?Promise.resolve(e.toDataURL(t,i)):new Promise(function(o,s){e.toDataURL(t,i,function(n,a){n?s(n):o(a);});});}},{key:"_encodeAsHTMLImage",value:function _encodeAsHTMLImage(e,t,i){return this._encodeAsDataURL(e,t,i).then(function(o){var s=new Sr();return s.src=o,Promise.resolve(s);});}},{key:"_encodeAsBuffer",value:function _encodeAsBuffer(e,t,i){return Promise.reject(new Error("Unsupported platform for RenderType"));}},{key:"_encodeAsMSBlob",value:function _encodeAsMSBlob(e,t,i){return Promise.resolve(e.msToBlob());}},{key:"_encodeAsBLOB",value:function _encodeAsBLOB(e,t,i){return new Promise(function(o,s){e.toBlob(function(n){o(n);},t,i);});}},{key:"_encodeImageFormat",value:function _encodeImageFormat(e){var _this$_options3=this._options,t=_this$_options3.imageFormat,i=_this$_options3.quality,o=this._options.renderType;switch(o===$r.BLOB&&e.msToBlob&&!e.toBlob&&(o=$r.MSBLOB),o){case $r.IMAGE:return this._encodeAsHTMLImage(e,t,i);case $r.DATAURL:return this._encodeAsDataURL(e,t,i);case $r.BUFFER:return this._encodeAsBuffer(e,t,i);case $r.MSBLOB:return this._encodeAsMSBlob(e,t,i);case $r.BLOB:return this._encodeAsBLOB(e,t,i);}return Promise.reject(new Error("Unsupported RenderType: ".concat(o,"!")));}},{key:"_prepareSDK",value:function _prepareSDK(){var e=this._sdk.getRenderer();this._sdkSettings={dimensions:e.getDimensions().clone(),textureQuality:this._sdk.getTextureQuality(),rendererPixelRatio:e.getPixelRatio(),renderMode:this._sdk.getRenderMode()},this._sdk.setRenderMode("export"),this._sdk.setTextureQuality(1);var t=e.isOfType(Se.CANVAS);e.setPixelRatio(1),e.resizeTo(this._sdk.getFinalDimensions(),t),this._sdk.setAllOperationsToDirty(!0);var i=this._sdk.getOperationsStack();return i.forEach(function(o){o.disposeRenderTextures();}),i.disableCache(),this._sdk.render();}},{key:"_restoreSDK",value:function _restoreSDK(){this._sdk.getOperationsStack().enableCache(),this._sdk.setRenderMode(this._sdkSettings.renderMode);var t=this._sdk.getRenderer(),i=t.isOfType(Se.CANVAS);return t.setPixelRatio(this._sdkSettings.rendererPixelRatio),t.resizeTo(this._sdkSettings.dimensions,i),this._sdk.setTextureQuality(this._sdkSettings.textureQuality),this._sdk.setAllOperationsToDirty(!0),this._sdk.render();}},{key:"_createCanvasFromTexture",value:function _createCanvasFromTexture(e){var t=this._sdk.getRenderer(),i=this._sdk.getFinalDimensions(),o=this._sdk.getRenderer().getContext(),s=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,s);var n=e.getBaseTexture().getGLTextureForRenderer(t);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,n,0);var a=new Uint8Array(i.x*i.y*4);o.readPixels(0,0,i.x,i.y,o.RGBA,o.UNSIGNED_BYTE,a);var l=this._checkPixelsForTransparency(a),c;if(l){var h=new W.Sprite(e);h.setFilters([new W.Filters.UnpremultiplyFilter()]);var g=new W.Container();g.addChild(h),c=new W.RenderTexture(t,i.x,i.y),c.render(g);var v=c.getBaseTexture().getGLTextureForRenderer(t);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,v,0),o.readPixels(0,0,i.x,i.y,o.RGBA,o.UNSIGNED_BYTE,a),t.setRenderTarget(),c.dispose();}var u=G.createCanvas();u.width=i.x,u.height=i.y;var p=u.getContext("2d"),m=p.createImageData(i.x,i.y);return m.data.set(a),p.putImageData(m,0,0),o.deleteFramebuffer(s),u;}},{key:"_checkPixelsForTransparency",value:function _checkPixelsForTransparency(e){var t=this._sdk.getFinalDimensions(),i=t.x*t.y*4,o;for(var s=3;s<i;s+=4){if(o=e[s],o!==255)return!0;}return!1;}}]);return ew;}(Fe);ew.prototype.availableOptions={renderType:{type:b.STRING,available:G.values($r),"default":$r.IMAGE},imageFormat:{type:b.STRING,available:G.values(Cc),"default":Cc.PNG},quality:{type:b.NUMBER,"default":.8}};X4=ew;});var Zre,Qre,Eo,J4,eoe,tw,iw,ra,toe,ioe,Rt,roe,ooe,Z4,Q4,zt,e3=d(function(){var _Eh,_Qre;Rc();Z_();Q_();Y4();X1();Y1();Q1();(_Eh=Eh,Zre=_Eh.Rectangle,Qre=_Eh.Constants,Eo=_Eh.Engine,J4=_Eh.Utils,eoe=_Eh.EventEmitter,tw=_Eh.Events,iw=_Eh.Vector2,ra=_Eh.Log,toe=_Eh.Base64,ioe=_Eh.Color,_Eh),Rt=function Rt(r){return J4.byteArrayToString(toe.decode(r));},(_Qre=Qre,roe=_Qre.RenderType,ooe=_Qre.ImageFormat,Z4=_Qre.RendererType,_Qre),Q4=/*#__PURE__*/function(_eoe){_inherits(Q4,_eoe);var _super40=_createSuper(Q4);function Q4(e){var _this74;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Q4);_this74=_super40.call(this);te(_assertThisInitialized(_this74),"_onContextLost",function(){_this74.emit("context-lost");});te(_assertThisInitialized(_this74),"_initWatermark",function(){_this74._options.watermark&&_this74._options.watermark.watermarkURI&&(_this74._watermarkOperation=_this74.createOperation("watermark",{watermarkURI:_this74._options.watermark.watermarkURI,alignment:_this74._options.watermark.alignment,inset:_this74._options.watermark.inset,size:_this74._options.watermark.size,crossOrigin:_this74._options.crossOrigin}));});if(_this74._onOperationUpdate=_this74._onOperationUpdate.bind(_assertThisInitialized(_this74)),_this74._onContextRestored=_this74._onContextRestored.bind(_assertThisInitialized(_this74)),_this74.version="3.9.0",_this74[Rt("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=!0,_this74._preferredRenderer=e,_this74._options=L(w({},t),{extensions:{},renderMode:"dynamic",versionCheck:!0,displayWelcomeMessage:!0,image:null,canvas:null,transparent:!1,clearColor:ioe.TRANSPARENT,textureQuality:1,zoom:1,spriteScale:1,rotation:0,smoothDownscaling:!1,smoothUpscaling:!1,crossOrigin:"anonymous",logLevel:"warn",pixelRatio:Math.max(typeof window!="undefined"&&window.devicePixelRatio||1,1)}),_this74._options.smoothUpscaling&&(Eo.BaseTexture.DefaultMagFilter=Eo.BaseTexture.LinearFilter),_this74._options.extensions=Object.assign(_this74._options.extensions,{operations:[],controls:[],languages:[]}),ra.setLevel(_this74._options.logLevel),_this74[Rt("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=!1,!_this74[Rt("X29wdGlvbnM=")][Rt("bGljZW5zZQ==")])_this74[Rt("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=!0,_this74._l=new Eh[Rt("RnJlZUxpY2Vuc2VDaGVja2Vy")]();else{var o=Eh[Rt("TGljZW5zZUNoZWNrZXI=")];_this74._l=new o(_this74[Rt("X29wdGlvbnM=")][Rt("bGljZW5zZQ==")]),_this74._cv(!0).then(function(){_this74._ct();})["catch"](function(s){ra.error(Rt("TGljZW5zaW5n"),s.message);});}_this74._defaultRenderMode=_this74._options.renderMode,_this74._renderMode=_this74._options.renderMode,_this74._textureQuality=_this74._options.textureQuality,_this74._offset=new iw(),_this74._zoom=_this74._options.zoom,_this74._spriteScale=_this74._options.spriteScale,_this74._rotation=_this74._options.rotation,_this74._operations={},_this74._operationsStack=null,_this74.setOperationsStack(new ty()),_this74._container=new Eo.Container(),_this74._sprite=new Eo.Sprite(),_this74._container.addChild(_this74._sprite),_this74._inputTexture=_this74._options.inputTexture,_this74._currentInputTexture=null,_this74._currentTexture=null,_this74._resizedTexture=null,_this74._resizedContainer=new Eo.Container(),_this74._resizedSprite=new Eo.Sprite(),_this74._resizedContainer.addChild(_this74._resizedSprite),_this74._texturesToDispose=[],_this74.setSmoothDownscaling(_this74._options.smoothDownscaling),_this74._registerOperations(),_this74._initRenderer();var i=_this74._renderer.constructor.type;_this74._options.displayWelcomeMessage,_this74[Rt("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]&&ra.log(Rt("VGhlIFBob3RvRWRpdG9yIFNESyBpcyBhIGNvbW1lcmNpYWwgcHJvZHVjdC4gQmVmb3JlIGJlaW5nIGFibGUgdG8gdXNlIGl0IHdpdGhvdXQgbGltaXRhdGlvbnMsIHlvdSBuZWVkIHRvIHVubG9jayB0aGUgU0RLIHdpdGggYSBsaWNlbnNlIGZpbGUuIFlvdSBjYW4gb2J0YWluIGEgdGltZS1saW1pdGVkIGV2YWx1YXRpb24gbGljZW5zZSBieSBzdGFydGluZyBhIHRyaWFsIGF0IGh0dHBzOi8vd3d3LmltZy5seS9zaWdudXAgb3IgeW91IGNhbiBwdXJjaGFzZSBhIGxpY2Vuc2UgYnkgcmVxdWVzdGluZyBhIHF1b3RlIGF0IGh0dHBzOi8vd3d3LmltZy5seS9wcmljaW5nLgoKQmVjYXVzZSB5b3UgZGlkIG5vdCBzcGVjaWZ5IGEgbGljZW5zZSBmaWxlIHlldCwgdGhlIFNESyB3aWxsIG5vdyBkaXNwbGF5IGEgd2F0ZXJtYXJrIGltYWdlIG9uIHRvcCBvZiBhbnkgcGhvdG9zIHlvdSBkaXNwbGF5IG9yIGV4cG9ydCB3aXRoIGl0LiBGb3IgaW5zdHJ1Y3Rpb25zIGZvciBob3cgdG8gdW5sb2NrIHRoZSBTREssIHBsZWFzZSB2aXNpdCBodHRwczovL2ltZy5seS9kb2NzL3Blc2RrL3dlYi9pbnRyb2R1Y3Rpb24vZ2V0dGluZ19zdGFydGVkLg==")),_this74._options.image&&_this74.setImage(_this74._options.image,_this74._options.exif);return _this74;}_createClass(Q4,[{key:"_ct",value:function _ct(){this._l.exp()&&(this._l.isExp()?ra.error(Rt("TGljZW5zaW5n"),Rt("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg==")):ra.warn(Rt("TGljZW5zaW5n"),Rt("WW91ciB0cmlhbCBsaWNlbnNlIHdpbGwgZXhwaXJlIGluICVkIGRheXMu").replace("%d",this._l.dl())));}},{key:"_cv",value:function _cv(){var _this75=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return this._l.c()["catch"](function(t){_this75[Rt("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=!1;var i=Rt("SW52YWxpZCBsaWNlbnNlLg==");throw e&&(t.code==="ELICEXP"?i=Rt("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg=="):t.code==="ELICINVHOST"?i=Rt("VGhlIGJ1bmRsZSBpZGVudGlmaWVycyB0aGF0IHlvdSBzcGVjaWZpZWQgaW4geW91ciBsaWNlbnNlIGZpbGUgZG8gbm90IG1hdGNoIHRoZSBhcHAncyBidW5kbGUgaWRlbnRpZmllci4gUGxlYXNlIHVwZGF0ZSBhbmQgcmVkb3dubG9hZCB5b3VyIGxpY2Vuc2UgZnJvbSB5b3VyIGN1c3RvbWVyIGRhc2hib2FyZCBhdCBodHRwczovL3d3dy5pbWcubHkvbG9naW4u"):t.code==="ELICINVPLAT"?i=Rt("VGhlIGxpY2Vuc2UgdGhhdCB5b3Ugc3BlY2lmaWVkIGlzIGZvciBhbm90aGVyIHBsYXRmb3JtLiBQbGVhc2UgZG93bmxvYWQgeW91ciBsaWNlbnNlIGZvciB0aGUgd2ViIHBsYXRmb3JtIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg=="):t.code==="ELICINVFMT"?i=Rt("SW52YWxpZCBsaWNlbnNlIGZvcm1hdC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UncmUgcGFzc2luZyB5b3VyIGxpY2Vuc2UgYXMgYSBzdHJpbmcsIG5vdCBhcyBgJGZvcm1hdGAu").replace("$format",_typeof(_this75._options.license)):t.code==="ELICINV"?i=Rt("VGhlIHNpZ25hdHVyZSBvZiB5b3VyIGxpY2Vuc2UgaXMgbm90IHZhbGlkLiBQbGVhc2UgdHJ5IHRvIHJlZG93bmxvYWQgeW91ciBsaWNlbnNlIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg=="):i=Rt("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIGxpY2Vuc2UgeWV0LCBwbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5IHRvIG9idGFpbiBhIGxpY2Vuc2Ugb3IgbG9nIGluIHRvIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkLg==")),t.message=i,new Error(t);});}},{key:"_t",value:function _t(){this._l.t();}},{key:"_fl",value:function _fl(){return this[Rt("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")];}},{key:"_onOperationUpdate",value:function _onOperationUpdate(){for(var _len16=arguments.length,e=new Array(_len16),_key16=0;_key16<_len16;_key16++){e[_key16]=arguments[_key16];}this.emit.apply(this,[tw.OPERATION_UPDATED].concat(e));}},{key:"_onContextRestored",value:function _onContextRestored(){ra.warn(this.constructor.name,"Trying to re-render after WebGL context has been restored."),this.setAllOperationsToDirty(),this._operationsStack.forEach(function(e){e.disposeRenderTextures();}),this.render();}},{key:"export",value:function _export(){var _this76=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:roe.DATAURL;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ooe.PNG;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;return this._cv(!0).then(function(){return _this76.hasChanges()&&_this76._t(),_this76._operationsStack.forEach(function(s){s.onBeforeExport();}),new X4(_this76,{renderType:e,imageFormat:t,quality:i})["export"]().then(function(s){return _this76._operationsStack.forEach(function(n){n.onAfterExport();}),Promise.resolve(s);});});}},{key:"render",value:function render(){var _this77=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(!this._inputTexture)throw new Error("You need to set an image before calling PhotoEditorSDK#render.");var t=this._renderer.getContext();t.startFrame&&t.startFrame();var i;ra.canLog("info")&&(i=new iy("\u26A1\u26A1\u26A1","Frame rendering")),ra.info("\u26A1\u26A1\u26A1","Rendering starts");var o=this._operationsStack;return o.updateDirtinessForRenderer(this._renderer),this._prepareTexture().then(function(s){_this77._renderMode==="export"&&(s=_this77._inputTexture),_this77._currentTexture=s,_this77._sprite.setTexture(s),_this77._container.updateTransform();}).then(function(){return o.validateSettings();}).then(function(){return(_this77._fl()||!_this77[Rt("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")])&&(o.getByIdentifier("license-watermark")?o.moveToTop("license-watermark"):_this77.createOperation("license-watermark")),o.getByIdentifier("watermark")?o.moveToTop("watermark"):_this77._initWatermark(),o.render(_this77,_this77._currentTexture);}).then(function(s){var n=s.outputTexture;switch(_this77._currentTexture=n,_this77._sprite.setTexture(_this77._currentTexture),_this77._renderMode){case"dynamic":{var a=_this77._renderer.getDimensions().clone().divide(2).add(_this77._offset);_this77._container.setScale(_this77._zoom/_this77.getTextureScale(),_this77._zoom/_this77.getTextureScale()),_this77._container.setPosition(a),_this77._sprite.setAnchor(.5,.5),_this77._sprite.setScale(_this77._spriteScale,_this77._spriteScale),_this77._sprite.setRotation(_this77._rotation);break;}case"export":_this77._container.setScale(1,1),_this77._container.setPosition(0,0),_this77._sprite.setAnchor(0,0),_this77._sprite.setPosition(0,0),_this77._sprite.setScale(_this77._spriteScale,_this77._spriteScale),_this77._sprite.setRotation(0);break;case"adapter":_this77._container.setScale(1,1),_this77._container.setPosition(0,0),_this77._sprite.setAnchor(0,0),_this77._sprite.setPosition(0,0),_this77._sprite.setScale(1,1),_this77._sprite.setRotation(0);break;}return e&&_this77._renderer.render(_this77._container),s;}).then(function(s){return i&&i.stop(),t.endFrame&&t.endFrame(),_this77._disposeTextures(),s;});}},{key:"getTextureScale",value:function getTextureScale(){return Math.min(1,this._textureQuality*this._options.pixelRatio);}},{key:"_prepareTexture",value:function _prepareTexture(){var _this78=this;return new Promise(function(e,t){var i=_this78.getTextureScale();if(_this78._textureQuality===1)return e(_this78._inputTexture);var o=_this78.getInputDimensions().multiply(i).floor(),s;_this78._resizedTexture?_this78._resizedTexture.getDimensions().equals(o)||(_this78._resizedTexture.resizeTo(o),s=!0):(_this78._resizedTexture=new Eo.RenderTexture(_this78._renderer,o.x,o.y),s=!0),s&&(_this78._resizedSprite.setScale(i,i),_this78._resizedSprite.setTexture(_this78._inputTexture),_this78._resizedTexture.render(_this78._resizedContainer)),e(_this78._resizedTexture);});}},{key:"_registerOperations",value:function _registerOperations(){this._operations={};for(var e in Ju){var t=Ju[e];this._operations[t.identifier]=t;}this._operations=w(w({},this._operations),this._options.extensions.operations);}},{key:"registerOperations",value:function registerOperations(e){var _this79=this;e.forEach(function(t){_this79._operations[t.identifier]=t;});}},{key:"setAllOperationsToDirty",value:function setAllOperationsToDirty(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;this._operationsStack.setAllToDirty(e);}},{key:"createOperation",value:function createOperation(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var o=this._operations[e];if(!o)throw new Error("No operation with identifier `".concat(e,"` found."));var s=new o(this,t);return i&&this.addOperation(s),s;}},{key:"addOperation",value:function addOperation(e){this._operationsStack.push(e);}},{key:"removeOperation",value:function removeOperation(e){this._operationsStack.remove(e);}},{key:"getInputDimensions",value:function getInputDimensions(){var e=this._inputTexture.getFrame();return new iw(e.width,e.height);}},{key:"getFinalDimensions",value:function getFinalDimensions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this.getInputDimensions();return this._operationsStack.forEach(function(o){!o.getEnabled()||(t=o.getNewDimensions(t));}),e&&t.multiply(this._spriteScale),t.floor();}},{key:"getOutputDimensions",value:function getOutputDimensions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return this.getFinalDimensions(e).clone().multiply(this._zoom).floor();}},{key:"getOutputTextureDimensions",value:function getOutputTextureDimensions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this.getTextureScale(),i=this.getInputDimensions().multiply(t).floor();return this._operationsStack.forEach(function(o){i=o.getNewDimensions(i);}),i;}},{key:"getCrossOrigin",value:function getCrossOrigin(){return J4.getCrossOrigin(this._options.crossOrigin||"Anonymous");}},{key:"_initRenderer",value:function _initRenderer(){var e={canvas:this._options.canvas,pixelRatio:this._options.pixelRatio,debug:this._options.debug,transparent:this._options.transparent,clearColor:this._options.clearColor},t,i;if(this._renderMode!=="export"&&this._options.canvas){var o=this._options.canvas;t=o.width,i=o.height;}else if(this._inputTexture){var _o4=this.getFinalDimensions();t=_o4.x,i=_o4.y;}else t=1,i=1;switch(this._preferredRenderer){case Z4.WEBGL:this._renderer=Eo.autoDetectRenderer(t,i,e),this._renderer.on("context-restored",this._onContextRestored),this._renderer.on("context-lost",this._onContextLost);break;case Z4.CANVAS:this._renderer=Eo.canvasRenderer(t,i,e),this._renderer.on("context-restored",this._onContextRestored);break;default:ra.warn("PhotoEditorSDK","PhotoEditorSDK Error: Renderer `".concat(this._preferredRenderer,"` not supported. Falling back to automatically detected renderer.")),this._renderer=Eo.autoDetectRenderer(t,i,e);}}},{key:"resizeTo",value:function resizeTo(e){this._renderer.resizeTo(e,!0);}},{key:"reset",value:function reset(){this._operationsStack.clear();}},{key:"parseExif",value:function parseExif(e){if(!e)return;var t=e.src,i=!1,o=null;if(i=Rh.isJPEG(t),o=t,i){var s=null;try{s=Rh.fromBase64String(o);}catch(n){}return s||void 0;}}},{key:"_handleExifOrientation",value:function _handleExifOrientation(){var e=this._exif.getTags();if(e&&e.Orientation){var t=e.Orientation!==1&&e.Orientation!==2,i=[2,4,5,7].indexOf(e.Orientation)!==-1;if(t||i){if(typeof navigator=="undefined")this._exifOperation||(this._exifOperation=this.createOperation("exif-orientation")),this._exifOperation.setTags(e);else{var o=window&&window.navigator&&window.navigator.userAgent||"";(!!o.match(/msie|trident/i)||o.indexOf("Edge")!==-1||!CSS.supports("image-orientation","from-image"))&&(this._exifOperation||(this._exifOperation=this.createOperation("exif-orientation")),this._exifOperation.setTags(e));}this._exif.setOrientation(1);}}}},{key:"correctExifOrientation",value:function correctExifOrientation(e){var t=this.parseExif(e);if(!t)return e;var i=t.getTags();if(i&&i.Orientation){var o=i.Orientation!==1&&i.Orientation!==2,s=[2,4,5,7].indexOf(i.Orientation)!==-1;if(o||s){if(typeof navigator=="undefined"){var n=this.createOperation("exif-orientation",{},!1);n.setTags(i),e=n.applyTo(e);}else{var _n3=window&&window.navigator&&window.navigator.userAgent||"";if(!!_n3.match(/msie|trident/i)||_n3.indexOf("Edge")!==-1||!CSS.supports("image-orientation","from-image")){var a=this.createOperation("exif-orientation",{},!1);a.setTags(i),e=a.applyTo(e);}}return t.setOrientation(1),i.Orientation=1,e;}}return e;}},{key:"hasImage",value:function hasImage(){return this._image!==null&&typeof this._image!="undefined";}},{key:"getImage",value:function getImage(){return this._image;}},{key:"disposeTexture",value:function disposeTexture(e){this._texturesToDispose.push(e);}},{key:"_disposeTextures",value:function _disposeTextures(){for(var e=0;e<this._texturesToDispose.length;e++){this._texturesToDispose[e].dispose();}this._texturesToDispose=[];}},{key:"setImage",value:function setImage(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._disposeTextures(),this._exifOperation&&(this.removeOperation(this._exifOperation),this._exifOperation=null),this._options.image=e,this._image=e,this._exif=t||this.parseExif(e),this._exif&&this._handleExifOrientation();var o=new Eo.BaseTexture(this._image),s=new Zre(0,0,this._image.naturalWidth||this._image.width,this._image.naturalHeight||this._image.height);i&&(s.width=i.x,s.height=i.y),this._resizedTexture&&this._resizedTexture.dispose(),this._resizedTexture=null,this._inputTexture&&this.disposeTexture(this._inputTexture.getBaseTexture()),this._inputTexture=new Eo.Texture(o,s),this._currentTexture=this._inputTexture,this._sprite.clearTexture(!1),this._sprite.setTexture(this._inputTexture),this.emit("new-image"),this.setAllOperationsToDirty(!0);}},{key:"setInputTexture",value:function setInputTexture(e){this._inputTexture=e;}},{key:"getCanvas",value:function getCanvas(){return this._renderer.getCanvas();}},{key:"setCanvas",value:function setCanvas(e){this._renderer.setCanvas(e);}},{key:"getSprite",value:function getSprite(){return this._sprite;}},{key:"getContainer",value:function getContainer(){return this._container;}},{key:"getOperationsStack",value:function getOperationsStack(){return this._operationsStack;}},{key:"setOperationsStack",value:function setOperationsStack(e){this._operationsStack&&this._operationsStack.off(tw.OPERATION_UPDATED,this._onOperationUpdate),this._operationsStack=e,this._operationsStack.on(tw.OPERATION_UPDATED,this._onOperationUpdate);}},{key:"getOperations",value:function getOperations(){return this._operations;}},{key:"getRenderer",value:function getRenderer(){return this._renderer;}},{key:"getOffset",value:function getOffset(){return this._offset;}},{key:"setOffset",value:function setOffset(e,t){e instanceof iw?this._offset.copy(e):this._offset.set(e,t);}},{key:"getRenderMode",value:function getRenderMode(){return this._renderMode;}},{key:"setRenderMode",value:function setRenderMode(e){this._renderMode=e;}},{key:"getZoom",value:function getZoom(){return this._zoom;}},{key:"setZoom",value:function setZoom(e){this._zoom=e,this._container.setScale(this._zoom,this._zoom),this._container.updateTransform();}},{key:"getTextureQuality",value:function getTextureQuality(){return this._renderMode==="export"?1:this._textureQuality;}},{key:"setTextureQuality",value:function setTextureQuality(e){e!==this._textureQuality&&this.setAllOperationsToDirty(!0),this._textureQuality=Math.min(1,e),this._textureQuality===1&&this._resizedTexture&&(this._resizedTexture.dispose(),this._resizedTexture=null);}},{key:"getSpriteScale",value:function getSpriteScale(){return this._spriteScale;}},{key:"setSpriteScale",value:function setSpriteScale(e){this._spriteScale=e,this._sprite.setScale(e,e),this._sprite.updateTransform();}},{key:"getPixelRatio",value:function getPixelRatio(){return this._options.pixelRatio;}},{key:"getExif",value:function getExif(){return this._exif;}},{key:"getOptions",value:function getOptions(){return this._options;}},{key:"getInputTexture",value:function getInputTexture(){return this._inputTexture;}},{key:"setSmoothDownscaling",value:function setSmoothDownscaling(e){this._options.smoothDownscaling=e,this._sprite.setSmoothDownscaling(e),this._resizedSprite.setSmoothDownscaling(e);}},{key:"setRotation",value:function setRotation(e){this._rotation=e;}},{key:"getRotation",value:function getRotation(){return this._rotation;}},{key:"hasChanges",value:function hasChanges(){return this.getOperationsStack().hasChanges();}},{key:"dispose",value:function dispose(){this._operationsStack.dispose(),this._renderer.dispose(),this._exif&&this._exif.dispose(),this._resizedTexture&&this._resizedTexture.dispose();}}]);return Q4;}(eoe),zt=Q4;});var soe,we,Ah=d(function(){is();SL();qr();Ih();Au();zu();Wu();M4();Uu();Z_();Q_();N1();V1();X1();Hs();Q1();Z1();e3();zt.version="3.9.0";zt.Math=se;zt.Operations=Ju;zt.Engine=W;zt.Color=K;zt.LicenseChecker=q_;zt.Operation=Ye;zt.EventEmitter=tr;zt.Utils=G;zt.Env=B4;zt.OperationsStack=ty;zt.EXIF=Rh;zt.Image=Sr;zt.Configurable=Fe;zt.Log=oe;zt.Loaders=d1;zt.RenderType=$r;zt.ImageFormat=Cc;zt.OptionType=b;zt.RendererType=Se;zt.UniformType=Z;zt.Base64=ts;soe={};zt.UI=soe;we=zt;});var Y=d(function(){Ah();Ah();});var i3,t3=d(function(){i3="precision highp float;\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform float u_gamma;\nuniform float u_shadows;\nuniform float u_highlights;\nuniform float u_whites;\nuniform float u_blacks;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.0000001;\n\nfloat calculateLuminance(vec3 rgb) {\n    // This is the luminance calculation part of the RGB to HSL formular.\n    vec4 p = mix(\n        vec4(rgb.gb, 0.0, -1.0 / 3.0),\n        vec4(rgb.bg, -1.0, 2.0 / 3.0),\n        vec4(rgb.g < rgb.b)\n    );\n\n    vec4 q = mix(\n        vec4(rgb.r, p.yzx),\n        vec4(p.xyw, rgb.r),\n        vec4(rgb.r < p.x)\n    );\n\n    float croma = q.x - min(q.w, q.y);\n    float luminance = q.x - croma * 0.5;\n    return luminance;\n}\n\nvec3 map(vec3 x, float in_min, float in_max, float out_min, float out_max){\n  return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nvoid main() {\n\n  vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha\n\n  // Apply gamma\n  if (u_gamma != 1.0) {\n    color.rgb = pow(color.rgb, vec3(1.0 / max(u_gamma, EPSILON)));\n  }\n\n  // Apply shadows and highlights\n  float luminance = calculateLuminance(color.rgb);\n\n  float shadow = u_shadows >= 0.0\n    ? clamp(\n          pow(luminance, 1.0 / (u_shadows + 1.0))\n          + pow(luminance, 2.0 / (u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(u_shadows, 1.0))\n    : -clamp(\n          pow(luminance, 1.0 / (-u_shadows + 1.0))\n          + pow(luminance, 2.0 / (-u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(-u_shadows, 1.0));\n\n  float highlight = u_highlights < 0.0\n    ? clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 - u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 - u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0)\n    : -clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 + u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 + u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0);\n\n  // Bright color need more contrast and dark color need more brightness.\n  // This is to keep saturatation because the color information of a dark colors is lost.\n  float shadowContrast   = shadow * luminance * luminance;\n  float shadowBrightness = shadow - shadowContrast;\n\n  float offset = luminance + shadowContrast + highlight;\n  color.rgb = clamp(offset * ((color.rgb + shadowBrightness) / max(luminance, EPSILON)), 0.0, 1.0);\n  \n  // Apply Color Matrix\n  color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n  color.rgb = map(color.rgb, 0.0, 1.0, u_blacks / 2.0, 1.0 + u_whites / 2.0);\n  color = clamp(color, 0.0, 1.0);\n  color.rgb *= color.a; // Reset premultiplied alpha\n\n  gl_FragColor = color;\n}\n";});function rw(r,e,t,i,o){return(r-e)*(o-i)/(t-e)+i;}var aoe,Zu,loe,ow,oy,sw=d(function(){var _se2;Y();t3();(_se2=se,aoe=_se2.ColorMatrix,_se2),Zu=1e-7;loe=function loe(r){var e=Math.max(r.r,r.g,r.b),t=Math.min(r.r,r.g,r.b);return(e+t)/2;},ow=/*#__PURE__*/function(_W$Filter){_inherits(ow,_W$Filter);var _super41=_createSuper(ow);function ow(){var _this80;_classCallCheck(this,ow);_this80=_super41.call(this);_this80._fragmentSource=i3;return _this80;}_createClass(ow,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),_this$_options4=this._options,c=_this$_options4.colorMatrix,u=_this$_options4.gamma,p=_this$_options4.shadows,m=_this$_options4.highlights,h=_this$_options4.whites,g=_this$_options4.blacks,v=u!==1,S=p!==0||m!==0,_=new K(0,0,0,0);for(var I=0;I<s.width*s.height;I++){var E=I*4;if(_.r=l.data[E]/255,_.g=l.data[E+1]/255,_.b=l.data[E+2]/255,v&&(_.r=Math.pow(_.r,1/Math.max(u,Zu)),_.g=Math.pow(_.g,1/Math.max(u,Zu)),_.b=Math.pow(_.b,1/Math.max(u,Zu))),S){var O=loe(_),V=p>=0?G.clamp(Math.pow(O,1/(p+1))+Math.pow(O,2/(p+1))*-.76-O,0,Math.max(p,1)):-G.clamp(Math.pow(O,1/(-p+1))+Math.pow(O,2/(-p+1))*-.76-O,0,Math.max(-p,1)),F=m<0?G.clamp(1-Math.pow(1-O,1/(1-m))-Math.pow(1-O,2/(1-m))*-.8-O,-1,0):-G.clamp(1-Math.pow(1-O,1/(1+m))-Math.pow(1-O,2/(1+m))*-.8-O,-1,0),P=V*O*O,ae=V-P,de=O+P+F;_.r=G.clamp(de*((_.r+ae)/Math.max(O,Zu)),0,1),_.g=G.clamp(de*((_.g+ae)/Math.max(O,Zu)),0,1),_.b=G.clamp(de*((_.b+ae)/Math.max(O,Zu)),0,1);}_=c.apply(_).clamp(0,1),_.r=rw(_.r,0,1,g/2,1+h/2),_.g=rw(_.g,0,1,g/2,1+h/2),_.b=rw(_.b,0,1,g/2,1+h/2),l.data[E]=_.r*255,l.data[E+1]=_.g*255,l.data[E+2]=_.b*255;}a.putImageData(l,0,0);}}]);return ow;}(W.Filter);ow.prototype.availableOptions={gamma:{type:b.NUMBER,"default":1,uniformType:Z.FLOAT},shadows:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT},highlights:{type:b.NUMBER,"default":1,uniformType:Z.FLOAT},whites:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT},blacks:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT},colorMatrix:{type:b.COLOR_MATRIX,"default":new aoe(),uniformType:Z.MAT4},colorOffset:{type:b.ARRAY,"default":[],uniformType:Z.FLOAT4}};oy=ow;});var o3,r3=d(function(){o3="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Size of one pixel == vec2(1.0 / u_image.width, 1.0 / u_image.height)\nuniform vec2 u_pixelDimension;\n\n// Range (-1.0 - 1.0)\nuniform float u_clarity;\n\nvarying vec2 v_texCoord;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.000001;\n\nvec4 unpremultiply(vec4 col) {\n    col.rgb /= max(col.a, EPSILON);\n    return col;\n}\n\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord);\n    color = unpremultiply(color);\n\n    // L = Left, R = Right, C = Center, T = Top, B = Bottom\n    vec4 colLB = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colLC = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,                 0.0));\n    vec4 colLT = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 colCL = texture2D(u_image, v_texCoord + vec2(                0.0, -u_pixelDimension.y));\n    vec4 colCR = texture2D(u_image, v_texCoord + vec2(                0.0,  u_pixelDimension.y));\n    \n    vec4 colRB = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colRC = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,                 0.0));\n    vec4 colRT = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 mergedColor = color;\n    mergedColor.rgb += unpremultiply(colLB).rgb + unpremultiply(colLC).rgb + unpremultiply(colLT).rgb;\n    mergedColor.rgb += unpremultiply(colCL).rgb + unpremultiply(colCR).rgb;\n    mergedColor.rgb += unpremultiply(colRB).rgb + unpremultiply(colRC).rgb + unpremultiply(colRT).rgb;\n\n    mergedColor /= 9.0;\n\n    float grayValue = clamp(color.r * 0.3 + color.g * 0.59 + color.b * 0.1, 0.111111, 0.999999);\n    // 1.0 and 0.0 result in white not black, therefore we clamp\n\n    // Here we create a function that will map values below 0.1 to 0. Values above 0.2 will be mapped to 1,\n    // and for values between 0.1 and 0.2 it will produce a gradient.\n    // The funtion is mirror at 0.5, meaning values between 0.8 and 0.9 will result in a decending gradient.\n    // And values above 0.9 will be mapped to 0.\n    float frequenceFactor = min(smoothstep(1.0 - grayValue, 0.0, 0.11), smoothstep(grayValue, 0.0, 0.11));\n\n    // here we apply the high pass filter. Its strength is determined by the uniform ,\n    // and the frequence factor. That means the only the mid tones are affected by this filter.\n    // Clarity input is ranging from -1 to 1. But we want to strengthen the effect.\n    // Therefore we see this little magic number '3.7'.\n    color.rgb = clamp(color + clamp((color - mergedColor) * u_clarity * 3.7 * frequenceFactor, 0.0, 10.0), 0.0, 1.0).rgb;\n\n    // apply exposure but only to the mid tones.\n    color.rgb = color.rgb * pow(2.0, u_clarity * 0.27 * frequenceFactor);\n\n    // apply contrast and desaturation matrix\n    color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n\n    color.rgb *= color.a; // Premultiply alpha\n\n    gl_FragColor = clamp(color, 0.0, 1.0);\n}\n";});var doe,uoe,nw,s3,n3=d(function(){var _se3;Y();r3();(_se3=se,doe=_se3.Vector2,uoe=_se3.ColorMatrix,_se3),nw=/*#__PURE__*/function(_W$Filter2){_inherits(nw,_W$Filter2);var _super42=_createSuper(nw);function nw(){var _this81;_classCallCheck(this,nw);_this81=_super42.call(this);_this81._fragmentSource=o3;return _this81;}_createClass(nw,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=i.getContext(),n=t.getCanvas(),a=t.getContext(),l=this._options.clarity,c=this._options.colorMatrix,u=new K(this._options.colorOffset[0],this._options.colorOffset[1],this._options.colorOffset[2],this._options.colorOffset[3]),p=n.width,m=n.height,h=a.getImageData(0,0,p,m),g=s.createImageData(p,m);this.canvasShader(h,g,l,c,u),s.putImageData(g,0,0);}},{key:"canvasShader",value:function canvasShader(e,t,i,o,s){var n=function n(_,I,E){return Math.min(Math.max(_,I),E);},a=function a(_,I,E){var O=n((E-_)/(I-_),0,1);return O*O*(3-2*O);},l=e.width*4,c=e.data.length,u=c-1,p=0,m=e.data,h=t.data,g=new K(),v=255*9,S=function S(_){return _=_<p?p:_,_=_>u?u:_,m[_];};for(var _=0;_<c;_+=4){var I=S(_+0),E=S(_+1),O=S(_+2),V=S(_+3),F=(I+S(_-4-l+0)+S(_-4+0)+S(_-4+l+0)+S(_-l+0)+S(_+l+0)+S(_+4-l+0)+S(_+4+0)+S(_+4+l))/v,P=(E+S(_-4-l+1)+S(_-4+1)+S(_-4+l+1)+S(_-l+1)+S(_+l+1)+S(_+4-l+1)+S(_+4+1)+S(_+4+l+1))/v,ae=(O+S(_-4-l+2)+S(_-4+2)+S(_-4+l+2)+S(_-l+2)+S(_+l+2)+S(_+4-l+2)+S(_+4+2)+S(_+4+l+2))/v,de=(V+S(_-4-l+3)+S(_-4+3)+S(_-4+l+3)+S(_-l+3)+S(_+l+3)+S(_+4-l+3)+S(_+4+3)+S(_+4+l+3))/v;I/=255,E/=255,O/=255,V/=255;var ye=n(I*.3+E*.59+O*.1,.111111,.999999),Te=Math.min(a(1-ye,0,.11),a(ye,0,.11)),Ce=i*3.7*Te,xe=Math.pow(2,i*.27*Te),ut=n(I+n((I-F)*Ce,0,10),0,1)*xe,Ii=n(E+n((E-P)*Ce,0,10),0,1)*xe,hi=n(O+n((O-ae)*Ce,0,10),0,1)*xe,fo=n(V+n((V-de)*Ce,0,10),0,1);g.set(ut,Ii,hi,fo);var Pe=o.apply(g).clamp(0,1);h[_+0]=Pe.r*255,h[_+1]=Pe.g*255,h[_+2]=Pe.b*255,h[_+3]=Pe.a*255;}}}]);return nw;}(W.Filter);nw.prototype.availableOptions={clarity:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT},pixelDimension:{type:b.VECTOR2,"default":new doe(100,100),uniformType:Z.FLOAT2},colorMatrix:{type:b.COLOR_MATRIX,"default":new uoe(),uniformType:Z.MAT4},colorOffset:{type:b.ARRAY,"default":[],uniformType:Z.FLOAT4}};s3=nw;});var l3,a3=d(function(){l3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec2 u_pixelDimension;\nuniform float u_sharpness;\n \nconst float EPSILON = 0.000001;\n \nvoid main() {\n    vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n\n    float factor        = mix(0.2, -1.0, float(u_sharpness > 0.0));\n    vec4 sharpenedColor = mix(0.2,  5.0, float(u_sharpness > 0.0)) * color;\n \n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2(-1.0,  0.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0, -1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0,  1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 1.0,  0.0)), 0.0, 1.0);\n \n    color.rgb /= max(color.a, EPSILON); // unpremultiply\n    sharpenedColor.rgb /= max(sharpenedColor.a, EPSILON); // unpremultiply\n \n    sharpenedColor = clamp(sharpenedColor, 0.0, 1.0);\n \n    color = clamp(mix(color, sharpenedColor, abs(u_sharpness)), 0.0, 1.0);\n      \n    gl_FragColor = vec4(color.rgb * color.a, color.a); // premultiply\n}";});var poe,aw,c3,d3=d(function(){var _se4;Y();a3();(_se4=se,poe=_se4.Vector2,_se4),aw=/*#__PURE__*/function(_W$Filter3){_inherits(aw,_W$Filter3);var _super43=_createSuper(aw);function aw(){var _this82;_classCallCheck(this,aw);_this82=_super43.call(this);_this82._fragmentSource=l3;return _this82;}_createClass(aw,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=i.getContext(),n=t.getCanvas(),a=t.getContext(),l=this._options.sharpness,c=n.width,u=n.height,p=a.getImageData(0,0,c,u),m=s.createImageData(c,u);this.canvasShader(p,m,l),s.putImageData(m,0,0);}},{key:"canvasShader",value:function canvasShader(e,t,i){var o=function o(O,V,F){return Math.min(Math.max(O,V),F);},s=1e-6,n=e.width,a=e.height,l=e.data,c=t.data,u=function u(O,V,F){return O*(1-F)+V*F;},p=function p(O){return o(l[O]/255,0,1);},m=function m(O,V){var F=o(O,0,n-1),P=o(V,0,a-1);return 4*(F+n*P);},h=[],g=[],v=[-1,0,0,1],S=[0,-1,1,0],_=i>0?-1:.2,I=i>0?5:.2,E=Math.abs(i);for(var O=0;O<n;O++){for(var V=0;V<a;V++){var F=m(O,V);h[0]=p(F+0),h[1]=p(F+1),h[2]=p(F+2),h[3]=p(F+3),g[0]=I*h[0]*h[3],g[1]=I*h[1]*h[3],g[2]=I*h[2]*h[3],g[3]=I*h[3];for(var P=0;P<4;P++){var ae=v[P],de=S[P],ye=m(O+ae,V+de),Te=p(ye+3);g[3]+=_*Te;for(var Ce=0;Ce<3;Ce++){g[Ce]+=_*p(ye+Ce)*Te;}}for(var _P2=0;_P2<3;_P2++){g[_P2]/=Math.max(g[3],s),g[_P2]=o(g[_P2],0,1);}g[3]=o(g[3],0,1);for(var _P3=0;_P3<4;_P3++){h[_P3]=o(u(h[_P3],g[_P3],E),0,1),c[F+_P3]=h[_P3]*255;}}}}}]);return aw;}(W.Filter);aw.prototype.availableOptions={sharpness:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT},pixelDimension:{type:b.VECTOR2,"default":new poe(100,100),uniformType:Z.FLOAT2}};c3=aw;});var m3,u3=d(function(){m3="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Range (-1.0 - 1.0)\nuniform float u_temperature;\n\nconst lowp vec3 warmFilter = vec3(0.93, 0.54, 0.0);\n\nconst mediump mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.596, -0.274, -0.322, 0.212, -0.523, 0.311);\nconst mediump mat3 YIQtoRGB = mat3(1.0, 0.956, 0.621, 1.0, -0.272, -0.647, 1.0, -1.105, 1.702);\n\nconst float EPSILON = 0.0000001;\n\nvarying vec2 v_texCoord;\nvoid main() {\n  float temperature = u_temperature;\n  const float tint = 0.0;\n  vec4 source = texture2D(u_image, v_texCoord);\n\n  source.rgb /= max(source.a, EPSILON);   // Revert premultiplied alpha\n\n  vec3 yiq = RGBtoYIQ * source.rgb;\n  yiq.b = clamp(yiq.b + tint*0.5226*0.1, -0.5226, 0.5226);\n  vec3 rgb = YIQtoRGB * yiq;\n\n  vec3 processed = mix(\n    (1.0 - 2.0 * (1.0 - rgb) * (1.0 - warmFilter)),\n    (2.0 * rgb * warmFilter),\n    vec3(rgb.r < 0.5, rgb.g < 0.5, rgb.b < 0.5)\n  );\n\n  vec4 color = vec4(mix(rgb, processed, temperature), source.a);\n\n  color.rgb *= color.a;   // Premultiply alpha again\n\n  gl_FragColor = color;\n}\n";});var lw,p3,h3=d(function(){Y();u3();lw=/*#__PURE__*/function(_W$Filter4){_inherits(lw,_W$Filter4);var _super44=_createSuper(lw);function lw(){var _this83;_classCallCheck(this,lw);_this83=_super44.call(this);_this83._fragmentSource=m3;return _this83;}_createClass(lw,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=i.getContext(),n=t.getCanvas(),a=t.getContext(),l=this._options.temperature,c=n.width,u=n.height,p=a.getImageData(0,0,c,u),m=s.createImageData(c,u);this.canvasShader(p,m,l),s.putImageData(m,0,0);}},{key:"canvasShader",value:function canvasShader(e,t,i){var o=function o(_,I,E){return Math.min(Math.max(_,I),E);},s=function s(_,I,E){return _*(1-E)+I*E;},n=function n(_,I){var E=_[0]*I[0]+_[3]*I[1]+_[6]*I[2],O=_[1]*I[0]+_[4]*I[1]+_[7]*I[2],V=_[2]*I[0]+_[5]*I[1]+_[8]*I[2];return[E,O,V];},a=e.data.length,l=a-1,c=0,u=e.data,p=t.data,m=function m(_){return _=_<c?c:_,_=_>l?l:_,u[_];},h=[.93,.54,0],g=[.299,.587,.114,.596,-.274,-.322,.212,-.523,.311],v=[1,.956,.621,1,-.272,-.647,1,-1.105,1.702],S=0;for(var _=0;_<a;_+=4){var I=m(_+0)/255,E=m(_+1)/255,O=m(_+2)/255,V=m(_+3)/255,P=n(g,[I,E,O]);P.z=o(P.z+S*.5226*.1,-.5226,.5226);var ae=n(v,P),de=[ae[0]<.5?2*ae[0]*h[0]:1-2*(1-ae[0])*(1-h[0]),ae[1]<.5?2*ae[1]*h[1]:1-2*(1-ae[1])*(1-h[1]),ae[2]<.5?2*ae[2]*h[2]:1-2*(1-ae[2])*(1-h[2])];p[_+0]=s(ae[0],de[0],i)*255,p[_+1]=s(ae[1],de[1],i)*255,p[_+2]=s(ae[2],de[2],i)*255,p[_+3]=V*255;}}}]);return lw;}(W.Filter);lw.prototype.availableOptions={temperature:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT}};p3=lw;});var Cl,Ph,f3,g3=d(function(){var _se5;Y();sw();n3();d3();h3();(_se5=se,Cl=_se5.ColorMatrix,_se5),Ph=/*#__PURE__*/function(_Ye2){_inherits(Ph,_Ye2);var _super45=_createSuper(Ph);function Ph(){var _this84;_classCallCheck(this,Ph);for(var _len17=arguments.length,e=new Array(_len17),_key17=0;_key17<_len17;_key17++){e[_key17]=arguments[_key17];}_this84=_super45.call.apply(_super45,[this].concat(e));_this84._clarityFilter=new s3(),_this84._temperatureFilter=new p3(),_this84._sharpnessFilter=new c3(),_this84._filter=new oy(),_this84._sprite.setFilters([_this84._clarityFilter,_this84._temperatureFilter,_this84._filter]);return _this84;}_createClass(Ph,[{key:"_render",value:function _render(e){var t=e.getDimensions();t.x=1/t.x,t.y=1/t.y;var i=new Cl();i.multiply(Cl.createSaturationMatrix(-.3*this._options.clarity+1)),i.multiply(Cl.createContrastMatrix(.1*this._options.clarity+1)),this._clarityFilter.set({clarity:this._options.clarity,pixelDimension:t,colorMatrix:i,colorOffset:i.getOffsets()}),this._temperatureFilter.set({temperature:this._options.temperature}),this._sharpnessFilter.set({sharpness:this._options.sharpness,pixelDimension:t});var o=new Cl();o.multiply(Cl.createExposureMatrix(this._options.exposure)),o.multiply(Cl.createSaturationMatrix(this._options.saturation+1)),o.multiply(Cl.createContrastMatrix((this._options.contrast>0?this._options.contrast*2:this._options.contrast)+1)),o.multiply(Cl.createBrightnessMatrix(this._options.brightness)),this._filter.set({gamma:this._options.gamma,shadows:this._options.shadows,highlights:this._options.highlights,whites:this._options.whites,blacks:this._options.blacks,colorMatrix:o,colorOffset:o.getOffsets()});var s=[];return this._options.clarity!==0&&s.push(this._clarityFilter),this._options.sharpness!==0&&s.push(this._sharpnessFilter),this._options.temperature!==0&&s.push(this._temperatureFilter),s.push(this._filter),this._sprite.setFilters(s),this._renderTexture.render(this._container),Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Ph.prototype),"dispose",this).call(this),this._filter.dispose(),this._clarityFilter.dispose(),this._temperatureFilter.dispose(),this._sharpnessFilter.dispose();}}]);return Ph;}(Ye);Ph.identifier="adjustments";Ph.prototype.availableOptions={brightness:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},saturation:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},contrast:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},gamma:{type:b.NUMBER,"default":1,minValue:.5,midValue:1,maxValue:2},exposure:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},shadows:{type:b.NUMBER,"default":0,minValue:-2,midValue:0,maxValue:2},highlights:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},clarity:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},whites:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},blacks:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},temperature:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1},sharpness:{type:b.NUMBER,"default":0,minValue:-1,midValue:0,maxValue:1}};we.Operations.AdjustmentsOperation=Ph;f3=Ph;});var _3,b3=d(function(){_3="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n    float radius = u_blurRadius;\n\n    const float steps = 30.0;\n\n    for (float t = -steps; t <= steps; t++) {\n        float percent = (t + offset - 0.5) / steps;\n        float weight = 1.0 - abs(percent);\n\n        // Somehow `sample` is a keyword in headless-gl\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n";});var sy,cw,wr,Qu=d(function(){var _se6;Y();b3();(_se6=se,sy=_se6.Vector2,_se6),cw=/*#__PURE__*/function(_W$Filter5){_inherits(cw,_W$Filter5);var _super46=_createSuper(cw);function cw(){var _this85;_classCallCheck(this,cw);for(var _len18=arguments.length,e=new Array(_len18),_key18=0;_key18<_len18;_key18++){e[_key18]=arguments[_key18];}_this85=_super46.call.apply(_super46,[this].concat(e));_this85._fragmentSource=_3,_this85._lastBlurRadius=null,_this85._lastDimensions=new sy(0,0),_this85._blurredRenderTarget=new W.CanvasRenderTarget(100,100,1);return _this85;}_createClass(cw,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(this._options.blurQuality==="low"){this._renderLQBlur(e,t,i,o);return;}var n=t.getCanvas(),a=t.getContext(),l=i.getContext();this._lastBlurRadius===this._options.blurRadius&&l.drawImage(n,0,0);var c=a.getImageData(0,0,n.width,n.height),u=l.getImageData(0,0,n.width,n.height),p=this._options.blurRadius,m=this._options.delta,h=30;for(var g=0;g<n.width;g++){for(var v=0;v<n.height;v++){var _=(g+v*n.width)*4,I=0,E=0,O=0,V=0,F=0;s&&(p=s(g/n.width,v/n.height));var P=this._random(g,1-v/n.height);for(var ae=-h;ae<=h;ae++){var de=(ae+P-.5)/h,ye=1-Math.abs(de),Te=m.x*de*p,Ce=m.y*de*p,xe=Math.max(Math.min(g+Te,n.width-1),0),ut=Math.max(Math.min(v+Ce,n.height-1),0),Ii=(Math.round(ut)*n.width+Math.round(xe))*4,hi=c.data[Ii+3],fo=hi*c.data[Ii],Pe=hi*c.data[Ii+1],Et=hi*c.data[Ii+2];I+=fo*ye,E+=Pe*ye,O+=Et*ye,V+=hi*ye,F+=ye;}I/=F,E/=F,O/=F,V/=F,u.data[_]=I/V,u.data[_+1]=E/V,u.data[_+2]=O/V,u.data[_+3]=V;}}l.putImageData(u,0,0),this._lastDimensions.copy(new sy(n.width,n.height));}},{key:"_renderLQBlur",value:function _renderLQBlur(e,t,i,o){var s=t.getDimensions(),n=!this._lastDimensions.equals(s);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),i.setPixelRatio(t.getPixelRatio()),i.resizeTo(t.getDimensions()),(this._lastBlurRadius!==this._options.blurRadius||n)&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),i.getContext().drawImage(this._blurredRenderTarget.getCanvas(),0,0),this._lastDimensions.copy(s);}},{key:"_random",value:function _random(e,t){var i=12.9898,o=78.233,s=43758.5453,n=e*i+t*o,a=n-3.14*Math.floor(n/3.14),l=Math.sin(a)*s;return l-Math.floor(l);}}]);return cw;}(W.Filter);cw.prototype.availableOptions={blurRadius:{type:b.NUMBER,"default":30,uniformType:Z.FLOAT},delta:{type:b.VECTOR2,"default":new sy(1,1),uniformType:Z.FLOAT2},texSize:{type:b.VECTOR2,"default":new sy(100,100),uniformType:Z.FLOAT2},blurQuality:{type:b.STRING,"default":"low"}};wr=cw;});var y3,Bh,x3,v3=d(function(){var _se7;Y();Qu();(_se7=se,y3=_se7.Vector2,_se7),Bh=/*#__PURE__*/function(_Ye3){_inherits(Bh,_Ye3);var _super47=_createSuper(Bh);function Bh(){var _this86;_classCallCheck(this,Bh);for(var _len19=arguments.length,e=new Array(_len19),_key19=0;_key19<_len19;_key19++){e[_key19]=arguments[_key19];}_this86=_super47.call.apply(_super47,[this].concat(e));_this86._lastBlurRadius=_this86._options.blurRadius;var t={blurQuality:{type:b.STRING}};_this86._horizontalFilter=new wr({},t),_this86._verticalFilter=new wr({},t),_this86._sprite.setFilters([_this86._horizontalFilter,_this86._verticalFilter]),_this86._horizontalFilter.setDelta(new y3(.5,.5)),_this86._verticalFilter.setDelta(new y3(-.5,.5)),_this86._filter=new wr({},t);return _this86;}_createClass(Bh,[{key:"_renderWebGL",value:function _renderWebGL(e){return this._renderBlur(e);}},{key:"_renderCanvas",value:function _renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e);}},{key:"_renderBlur",value:function _renderBlur(e){var t=e.getDimensions(),i=t.min(),o=this._options.blurRadius,s={blurRadius:o*i,texSize:t,blurQuality:"high"};return this._horizontalFilter.set(s),this._verticalFilter.set(s),this._renderTexture.render(this._container),Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(e){var t=this._options.blurRadius,i=e.getDimensions();return this._filter.set({blurRadius:t,texSize:i,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve();}},{key:"transform",value:function transform(e){var t=this.getBlurRadius(),i=e.applyToRelativeSize(t);this.set({blurRadius:i},!1);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Bh.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return!0;}}]);return Bh;}(Ye);Bh.identifier="blur";Bh.prototype.availableOptions={blurRadius:{type:b.NUMBER,"default":.025},highQualityCanvasBlur:{type:b.BOOLEAN,"default":!1}};we.Operations.BlurOperation=Bh;x3=Bh;});var S3,C3=d(function(){S3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filteredImage;\nuniform float u_intensity;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filteredImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, u_intensity);\n}\n";});var dw,w3,uw,k3=d(function(){Y();C3();dw=/*#__PURE__*/function(_W$Filter6){_inherits(dw,_W$Filter6);var _super48=_createSuper(dw);function dw(){var _this87;_classCallCheck(this,dw);_this87=_super48.call(this);_this87._fragmentSource=S3;return _this87;}_createClass(dw,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=i.getContext(),a=this._options.filteredCanvas;n.save(),n.drawImage(s,0,0),n.globalAlpha=this._options.intensity,n.drawImage(a,0,0),n.restore();}}]);return dw;}(W.Filter);dw.prototype.availableOptions={filteredImage:{type:b.NUMBER,"default":1,uniformType:Z.INT},filteredCanvas:{type:b.OBJECT,"default":null},intensity:{type:b.NUMBER,"default":1,uniformType:Z.FLOAT}};w3=/*#__PURE__*/function(){function w3(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;_classCallCheck(this,w3);this._intensity=e,this._stack=[],this._dirtiness={},this._renderTextures={},this._container=new W.Container(),this._sprite=new W.Sprite(),this._container.addChild(this._sprite),this._blendFilter=new dw();}_createClass(w3,[{key:"push",value:function push(e){this._stack.push(e);}},{key:"clear",value:function clear(){this._stack=[];}},{key:"render",value:function render(e,t,i){if(this.isEmpty())return Promise.resolve();var o=e.getRenderer();this._sprite.setTexture(t);var s=this._renderTextures[o.id];if(!s){var l=e.getSprite().getTexture().getFrame();s=new W.RenderTexture(e.getRenderer(),l.width,l.height),this._renderTextures[o.id]=s;}var n=i.getDimensions();s.resizeTo(n);var a=this.isDirtyForRenderer(o);if(a){this._stack.forEach(function(c){c.update(e);});var _l4=this._stack.map(function(c){return c.getFilter();});this._sprite.setFilters(_l4),s.render(this._container),this.setDirtyForRenderer(!1,o);}if(this._blendFilter.setIntensity(this._intensity),o.isOfType(Se.CANVAS))this._blendFilter.setFilteredCanvas(s.getRenderTarget().getCanvas());else if(o.isOfType(Se.WEBGL)){var _l5=s.getBaseTexture();_l5.setGLUnit(this._blendFilter.getFilteredImage()),o.updateTexture(_l5,!1);}return this._sprite.setFilters([this._blendFilter]),i.clear(K.TRANSPARENT),i.render(this._container),a&&this.disposeRenderTextures(),Promise.resolve();}},{key:"setIntensity",value:function setIntensity(e){this._intensity=e;}},{key:"isEmpty",value:function isEmpty(){return this._stack.length===0;}},{key:"isDirtyForRenderer",value:function isDirtyForRenderer(e){return e.id in this._dirtiness||(this._dirtiness[e.id]=!0),this._dirtiness[e.id];}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t){this._dirtiness[t.id]=e;}},{key:"setDirty",value:function setDirty(e){for(var t in this._dirtiness){this._dirtiness[t]=e;}}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){for(var e in this._renderTextures){this._renderTextures[e].dispose(),delete this._renderTextures[e];}}},{key:"dispose",value:function dispose(){this.disposeRenderTextures(),this._stack.forEach(function(e){return e.dispose();}),this._stack=[],this._blendFilter.dispose(),this._sprite.dispose();}}]);return w3;}(),uw=w3;});var em,be,Ze=d(function(){Y();k3();em=/*#__PURE__*/function(_Fe4){_inherits(em,_Fe4);var _super49=_createSuper(em);function em(){var _this88;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,em);_this88=_super49.call(this,e,w({intensity:{type:b.NUMBER,"default":1,setter:function setter(i){return this._stack&&this._stack.setIntensity(i),i;}},dirty:{type:b.BOOLEAN,"default":!0}},t));_this88._stack=new uw(_this88._options.intensity);return _this88;}_createClass(em,[{key:"render",value:function render(e,t,i){var _this89=this;return this._stack.render(e,t,i).then(function(o){return _this89.setDirty(!1),o;});}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t){this._stack.setDirtyForRenderer(e,t);}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){this._stack.disposeRenderTextures();}},{key:"dispose",value:function dispose(){this._stack.dispose();}}]);return em;}(Fe);em.identifier=null;em.isIdentity=!1;em.displayName=null;em.PrimitivesStack=uw;be=em;});var D3,T3=d(function(){D3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_brightness;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4((texColor.rgb + vec3(u_brightness) * texColor.a), texColor.a);;\n}\n";});var E3,bt,Hi=d(function(){Y();E3=/*#__PURE__*/function(_Fe5){_inherits(E3,_Fe5);var _super50=_createSuper(E3);function E3(){_classCallCheck(this,E3);return _super50.apply(this,arguments);}_createClass(E3,[{key:"update",value:function update(){}},{key:"getFilter",value:function getFilter(){return this._filter;}},{key:"dispose",value:function dispose(){this._filter&&(this._filter.dispose(),this._filter=null);}}]);return E3;}(Fe),bt=E3;});var ny,mw,Pc,I3=d(function(){Y();T3();Hi();ny=/*#__PURE__*/function(_W$Filter7){_inherits(ny,_W$Filter7);var _super51=_createSuper(ny);function ny(){var _this90;_classCallCheck(this,ny);_this90=_super51.call(this);_this90._fragmentSource=D3;return _this90;}_createClass(ny,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=this._options.brightness;if(c===0){a.putImageData(l,0,0);return;}c*=255;for(var u=0;u<s.width*s.height;u++){var p=u*4;l.data[p]+=c,l.data[p+1]+=c,l.data[p+2]+=c;}a.putImageData(l,0,0);}}]);return ny;}(W.Filter);ny.prototype.availableOptions={brightness:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT}};mw=/*#__PURE__*/function(_bt){_inherits(mw,_bt);var _super52=_createSuper(mw);function mw(){var _this91;_classCallCheck(this,mw);for(var _len20=arguments.length,e=new Array(_len20),_key20=0;_key20<_len20;_key20++){e[_key20]=arguments[_key20];}_this91=_super52.call.apply(_super52,[this].concat(e));_this91._filter=new ny();return _this91;}_createClass(mw,[{key:"update",value:function update(){this._filter.setBrightness(this._options.brightness);}}]);return mw;}(bt);mw.prototype.availableOptions=ny.prototype.availableOptions;Pc=mw;});var O3,F3=d(function(){O3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_contrast;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(((texColor.rgb - vec3(0.5)) * u_contrast + vec3(0.5) * texColor.a), texColor.a);\n}\n";});var ay,pw,kr,R3=d(function(){Y();F3();Hi();ay=/*#__PURE__*/function(_W$Filter8){_inherits(ay,_W$Filter8);var _super53=_createSuper(ay);function ay(){var _this92;_classCallCheck(this,ay);_this92=_super53.call(this);_this92._fragmentSource=O3;return _this92;}_createClass(ay,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=this._options.contrast;if(c!==1){for(var u=0;u<s.width*s.height;u++){var p=u*4;l.data[p]=(l.data[p]-127)*c+127,l.data[p+1]=(l.data[p+1]-127)*c+127,l.data[p+2]=(l.data[p+2]-127)*c+127;}a.putImageData(l,0,0);}}}]);return ay;}(W.Filter);ay.prototype.availableOptions={contrast:{type:b.NUMBER,"default":1,uniformType:Z.FLOAT}};pw=/*#__PURE__*/function(_bt2){_inherits(pw,_bt2);var _super54=_createSuper(pw);function pw(){var _this93;_classCallCheck(this,pw);for(var _len21=arguments.length,e=new Array(_len21),_key21=0;_key21<_len21;_key21++){e[_key21]=arguments[_key21];}_this93=_super54.call.apply(_super54,[this].concat(e));_this93._filter=new ay();return _this93;}_createClass(pw,[{key:"update",value:function update(){this._filter.setContrast(this._options.contrast);}}]);return pw;}(bt);pw.prototype.availableOptions=ay.prototype.availableOptions;kr=pw;});var P3,A3=d(function(){P3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorMatrixOffset;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = texColor * u_colorMatrix + u_colorMatrixOffset;\n}\n";});var xoe,ly,hw,cy,B3=d(function(){var _se8;Y();A3();Hi();(_se8=se,xoe=_se8.ColorMatrix,_se8),ly=/*#__PURE__*/function(_W$Filter9){_inherits(ly,_W$Filter9);var _super55=_createSuper(ly);function ly(){var _this94;_classCallCheck(this,ly);_this94=_super55.call(this);_this94._fragmentSource=P3;return _this94;}_createClass(ly,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=this._options.colorMatrix,u=new K(0,0,0,0);for(var p=0;p<s.width*s.height;p++){var m=p*4;u.r=l.data[m]/255,u.g=l.data[m+1]/255,u.b=l.data[m+2]/255,u=c.apply(u),l.data[m]=u.r*255,l.data[m+1]=u.g*255,l.data[m+2]=u.b*255;}a.putImageData(l,0,0);}}]);return ly;}(W.Filter);ly.prototype.availableOptions={colorMatrix:{type:b.COLOR_MATRIX,"default":new xoe(),uniformType:Z.MAT4},colorMatrixOffset:{type:b.ARRAY,"default":[],uniformType:Z.FLOAT4}};hw=/*#__PURE__*/function(_bt3){_inherits(hw,_bt3);var _super56=_createSuper(hw);function hw(){var _this95;_classCallCheck(this,hw);for(var _len22=arguments.length,e=new Array(_len22),_key22=0;_key22<_len22;_key22++){e[_key22]=arguments[_key22];}_this95=_super56.call.apply(_super56,[this].concat(e));_this95._filter=new ly();return _this95;}_createClass(hw,[{key:"update",value:function update(){this._filter.setColorMatrix(this._options.colorMatrix);}}]);return hw;}(bt);hw.prototype.availableOptions=ly.prototype.availableOptions;cy=hw;});var L3,M3=d(function(){L3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_desaturation;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 grayXfer = vec3(0.3, 0.59, 0.11);\n  vec3 gray = vec3(dot(grayXfer, texColor.xyz));\n  gl_FragColor = vec4(mix(texColor.xyz, gray, u_desaturation) * texColor.a, texColor.a);\n}\n";});var dy,fw,js,z3=d(function(){Y();M3();Hi();dy=/*#__PURE__*/function(_W$Filter10){_inherits(dy,_W$Filter10);var _super57=_createSuper(dy);function dy(){var _this96;_classCallCheck(this,dy);_this96=_super57.call(this);_this96._fragmentSource=L3;return _this96;}_createClass(dy,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=[.3,.59,.11],u=this._options.desaturation;for(var p=0;p<s.width*s.height;p++){var m=p*4,h=c[0]*l.data[m]/255+c[1]*l.data[m+1]/255+c[2]*l.data[m+2]/255;l.data[m]+=(h*255-l.data[m])*u,l.data[m+1]+=(h*255-l.data[m+1])*u,l.data[m+2]+=(h*255-l.data[m+2])*u;}a.putImageData(l,0,0);}}]);return dy;}(W.Filter);dy.prototype.availableOptions={desaturation:{type:b.NUMBER,"default":1,uniformType:Z.FLOAT}};fw=/*#__PURE__*/function(_bt4){_inherits(fw,_bt4);var _super58=_createSuper(fw);function fw(){var _this97;_classCallCheck(this,fw);for(var _len23=arguments.length,e=new Array(_len23),_key23=0;_key23<_len23;_key23++){e[_key23]=arguments[_key23];}_this97=_super58.call.apply(_super58,[this].concat(e));_this97._filter=new dy();return _this97;}_createClass(fw,[{key:"update",value:function update(){this._filter.setDesaturation(this._options.desaturation);}}]);return fw;}(bt);fw.prototype.availableOptions=dy.prototype.availableOptions;js=fw;});var N3,U3=d(function(){N3="precision highp float;\n\nuniform sampler2D u_image;\nuniform vec4 u_lightColor;\nuniform vec4 u_darkColor;\nuniform float u_intensity;\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.0000001;\nconst vec3 GRAYSCALE_WEIGHTS = vec3(0.2126, 0.7152, 0.0722);\n\nvec4 duotoneKernel(vec4 sampledCol, vec4 light, vec4 dark, float intensity) {\n  vec4 color = clamp(sampledCol, 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON);\n  color = clamp(color, 0.0, 1.0); // necessary to get rid of all extended sRGB issues with OpenGL ES\n \n  // Apply intensity as \"symmetric gamma\"\n  if (intensity > 0.0) {\n    color.rgb = 1.0 - pow(1.0 - color.rgb, vec3(max(intensity + 1.0, EPSILON)));\n  } else {\n    color.rgb = pow(color.rgb, vec3(max(-intensity + 1.0, EPSILON)));\n  }\n \n  // Colorimetric (perceptual luminance-preserving) RGB to grayscale conversion\n  // https://en.wikipedia.org/wiki/Grayscale#Colorimetric_(perceptual_luminance-preserving)_conversion_to_grayscale\n  float luminance = dot(GRAYSCALE_WEIGHTS, color.rgb);\n \n  // Apply DuoTone\n  vec4 duotone = mix(dark, light, clamp(luminance, 0.0, 1.0));\n  duotone.a *= color.a;\n  \n  duotone.rgb *= duotone.a;\n\n  return duotone;\n}\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = duotoneKernel(texColor, u_lightColor, u_darkColor, u_intensity);\n}";});var uy,gw,my,H3=d(function(){Y();U3();Hi();uy=/*#__PURE__*/function(_W$Filter11){_inherits(uy,_W$Filter11);var _super59=_createSuper(uy);function uy(){var _this98;_classCallCheck(this,uy);_this98=_super59.call(this);_this98._fragmentSource=N3;return _this98;}_createClass(uy,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),_this$_options5=this._options,c=_this$_options5.lightColor,u=_this$_options5.darkColor,p=_this$_options5.intensity;for(var m=0;m<s.width*s.height;m++){var h=m*4,g=l.data[h]/255,v=l.data[h+1]/255,S=l.data[h+2]/255,_=l.data[h+3]/255,I=new K(g,v,S,_),E=this._duoToneKernel(I,c,u,p);l.data[h]=E.r*255,l.data[h+1]=E.g*255,l.data[h+2]=E.b*255,l.data[h+3]=E.a*255;}a.putImageData(l,0,0);}},{key:"_duoToneKernel",value:function _duoToneKernel(e,t,i,o){var s=1e-7;if(e.clone().clamp(0,1),o>0){var c=Math.max(o+1,s);e.r=1-Math.pow(1-e.r,c),e.g=1-Math.pow(1-e.g,c),e.b=1-Math.pow(1-e.b,c);}else{var _c4=Math.max(-o+1,s);e.r=Math.pow(e.r,_c4),e.g=Math.pow(e.g,_c4),e.b=Math.pow(e.b,_c4);}var n=.2126*e.r+.7152*e.g+.0722*e.b,a=Math.min(Math.max(n,0),1),l=i.clone().mix(t,a);return l.a*=e.a,l;}}]);return uy;}(W.Filter);uy.prototype.availableOptions={lightColor:{type:b.COLOR,"default":K.RED,uniformType:Z.FLOAT4},darkColor:{type:b.COLOR,"default":K.BLACK,uniformType:Z.FLOAT4},intensity:{type:b.NUMBER,"default":.5,uniformType:Z.FLOAT}};gw=/*#__PURE__*/function(_bt5){_inherits(gw,_bt5);var _super60=_createSuper(gw);function gw(){var _this99;_classCallCheck(this,gw);for(var _len24=arguments.length,e=new Array(_len24),_key24=0;_key24<_len24;_key24++){e[_key24]=arguments[_key24];}_this99=_super60.call.apply(_super60,[this].concat(e));_this99._filter=new uy();return _this99;}_createClass(gw,[{key:"update",value:function update(){this._filter.setLightColor(this._options.lightColor),this._filter.setDarkColor(this._options.darkColor);var e=2*this._options.intensity-1;this._filter.setIntensity(e);}}]);return gw;}(bt);gw.prototype.availableOptions=uy.prototype.availableOptions;my=gw;});var G3,W3=d(function(){G3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_gamma;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 rgb = vec3(texColor.r, texColor.g, texColor.b);\n  rgb = pow(rgb, u_gamma);\n  gl_FragColor = vec4(rgb * texColor.a, texColor.a);;\n}\n";});var py,bw,hy,V3=d(function(){Y();W3();Hi();py=/*#__PURE__*/function(_W$Filter12){_inherits(py,_W$Filter12);var _super61=_createSuper(py);function py(){var _this100;_classCallCheck(this,py);_this100=_super61.call(this);_this100._fragmentSource=G3;return _this100;}_createClass(py,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=this._options.gamma,u=new Float32Array(256);for(var h=0;h<256;h++){u[h]=255*Math.pow(h/255,c.r);}var p=new Float32Array(256);for(var _h3=0;_h3<256;_h3++){p[_h3]=255*Math.pow(_h3/255,c.g);}var m=new Float32Array(256);for(var _h4=0;_h4<256;_h4++){m[_h4]=255*Math.pow(_h4/255,c.b);}for(var _h5=0;_h5<s.width*s.height;_h5++){var g=_h5*4;l.data[g]=u[l.data[g]],l.data[g+1]=p[l.data[g+1]],l.data[g+2]=m[l.data[g+2]];}a.putImageData(l,0,0);}}]);return py;}(W.Filter);py.prototype.availableOptions={gamma:{type:b.COLOR,"default":K.WHITE,uniformType:Z.FLOAT3}};bw=/*#__PURE__*/function(_bt6){_inherits(bw,_bt6);var _super62=_createSuper(bw);function bw(){var _this101;_classCallCheck(this,bw);for(var _len25=arguments.length,e=new Array(_len25),_key25=0;_key25<_len25;_key25++){e[_key25]=arguments[_key25];}_this101=_super62.call.apply(_super62,[this].concat(e));_this101._filter=new py();return _this101;}_createClass(bw,[{key:"update",value:function update(){this._filter.setGamma(this._options.gamma);}}]);return bw;}(bt);bw.prototype.availableOptions=py.prototype.availableOptions;hy=bw;});var $3,j3=d(function(){$3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n\n  vec2 textureCoord = v_texCoord - vec2(0.5, 0.5);\n  textureCoord /= 0.75;\n\n  float d = 1.0 - dot(textureCoord, textureCoord);\n  d = clamp(d, 0.2, 1.0);\n  vec3 newColor = texColor.rgb * d * u_color.rgb;\n  gl_FragColor = vec4(vec3(newColor) * texColor.a, texColor.a);\n}\n";});var fy,_w,tm,q3=d(function(){Y();j3();Hi();fy=/*#__PURE__*/function(_W$Filter13){_inherits(fy,_W$Filter13);var _super63=_createSuper(fy);function fy(){var _this102;_classCallCheck(this,fy);_this102=_super63.call(this);_this102._fragmentSource=$3;return _this102;}_createClass(fy,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=this._options.color,u;for(var p=0;p<s.width;p++){for(var m=0;m<s.height;m++){var h=(s.width*m+p)*4,g=p/s.width,v=m/s.height,S=(g-.5)/.75,_=(v-.5)/.75,I=S*S,E=_*_;u=1-(I+E),u=Math.min(Math.max(u,.1),1),l.data[h]*=u*c.r,l.data[h+1]=l.data[h+1]*(u*c.g),l.data[h+2]=l.data[h+2]*(u*c.b),l.data[h+3]=255;}}a.putImageData(l,0,0);}}]);return fy;}(W.Filter);fy.prototype.availableOptions={color:{type:b.COLOR,"default":K.WHITE,uniformType:Z.FLOAT3}};_w=/*#__PURE__*/function(_bt7){_inherits(_w,_bt7);var _super64=_createSuper(_w);function _w(){var _this103;_classCallCheck(this,_w);for(var _len26=arguments.length,e=new Array(_len26),_key26=0;_key26<_len26;_key26++){e[_key26]=arguments[_key26];}_this103=_super64.call.apply(_super64,[this].concat(e));_this103._filter=new fy();return _this103;}_createClass(_w,[{key:"update",value:function update(){this._filter.setColor(this._options.color);}}]);return _w;}(bt);_w.prototype.availableOptions=fy.prototype.availableOptions;tm=_w;});var X3,K3=d(function(){X3="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  texColor.b = texColor.g * 0.33;\n  texColor.r = texColor.r * 0.6;\n  texColor.b += texColor.r * 0.33;\n  texColor.g = texColor.g * 0.7;\n  gl_FragColor = texColor;\n}\n";});var Y3,J3,gy,Z3=d(function(){Y();K3();Hi();Y3=/*#__PURE__*/function(_W$Filter14){_inherits(Y3,_W$Filter14);var _super65=_createSuper(Y3);function Y3(){var _this104;_classCallCheck(this,Y3);_this104=_super65.call(this);_this104._fragmentSource=X3;return _this104;}_createClass(Y3,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height);for(var c=0;c<s.width;c++){for(var u=0;u<s.height;u++){var p=(s.width*u+c)*4;l.data[p+2]=l.data[p+1]*.33,l.data[p]*=.6,l.data[p+2]+=l.data[p]*.33,l.data[p+1]=l.data[p+1]*.7,l.data[p+3]=255;}}a.putImageData(l,0,0);}}]);return Y3;}(W.Filter),J3=/*#__PURE__*/function(_bt8){_inherits(J3,_bt8);var _super66=_createSuper(J3);function J3(){var _this105;_classCallCheck(this,J3);for(var _len27=arguments.length,e=new Array(_len27),_key27=0;_key27<_len27;_key27++){e[_key27]=arguments[_key27];}_this105=_super66.call.apply(_super66,[this].concat(e));_this105._filter=new Y3();return _this105;}return J3;}(bt),gy=J3;});var ez,Q3=d(function(){ez="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, W);\n  gl_FragColor = vec4(vec3(luminance) * texColor.a, texColor.a);\n}\n";});var tz,iz,im,rz=d(function(){Y();Q3();Hi();tz=/*#__PURE__*/function(_W$Filter15){_inherits(tz,_W$Filter15);var _super67=_createSuper(tz);function tz(){var _this106;_classCallCheck(this,tz);_this106=_super67.call(this);_this106._fragmentSource=ez;return _this106;}_createClass(tz,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height);for(var c=0;c<s.width;c++){for(var u=0;u<s.height;u++){var p=(s.width*u+c)*4,m=l.data[p]*.2125+l.data[p+1]*.7154+l.data[p+2]*.0721;l.data[p]=m,l.data[p+1]=m,l.data[p+2]=m;}}a.putImageData(l,0,0);}}]);return tz;}(W.Filter),iz=/*#__PURE__*/function(_bt9){_inherits(iz,_bt9);var _super68=_createSuper(iz);function iz(){var _this107;_classCallCheck(this,iz);for(var _len28=arguments.length,e=new Array(_len28),_key28=0;_key28<_len28;_key28++){e[_key28]=arguments[_key28];}_this107=_super68.call.apply(_super68,[this].concat(e));_this107._filter=new tz();return _this107;}return iz;}(bt),im=iz;});var sz,oz=d(function(){sz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float r = texture2D(u_lookupTable, vec2(texColor.r, 0.0)).r;\n  float g = texture2D(u_lookupTable, vec2(texColor.g, 0.0)).g;\n  float b = texture2D(u_lookupTable, vec2(texColor.b, 0.0)).b;\n\n  gl_FragColor = vec4(vec3(r, g, b) * texColor.a, texColor.a);\n}\n";});var yw,nz,by,xw=d(function(){Y();oz();Hi();yw=/*#__PURE__*/function(_W$Filter16){_inherits(yw,_W$Filter16);var _super69=_createSuper(yw);function yw(){var _this108;_classCallCheck(this,yw);for(var _len29=arguments.length,e=new Array(_len29),_key29=0;_key29<_len29;_key29++){e[_key29]=arguments[_key29];}_this108=_super69.call.apply(_super69,[this].concat(e));_this108._fragmentSource=sz;return _this108;}_createClass(yw,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=this._options.lookupTableData;for(var u=0;u<s.width*s.height;u++){var p=u*4,m=l.data[p];l.data[p]=c[m*4];var h=l.data[p+1];l.data[p+1]=c[1+h*4];var g=l.data[p+2];l.data[p+2]=c[2+g*4];}a.putImageData(l,0,0);}}]);return yw;}(W.Filter);yw.prototype.availableOptions={lookupTable:{type:b.NUMBER,"default":1,uniformType:Z.INT},lookupTableData:{type:b.ARRAY,"default":[]}};nz=/*#__PURE__*/function(_bt10){_inherits(nz,_bt10);var _super70=_createSuper(nz);function nz(){var _this109;_classCallCheck(this,nz);for(var _len30=arguments.length,e=new Array(_len30),_key30=0;_key30<_len30;_key30++){e[_key30]=arguments[_key30];}_this109=_super70.call.apply(_super70,[this].concat(e));_this109._filter=new yw({lookupTable:_this109._options.textureGLUnit}),_this109._textures={},_this109._renderers={};return _this109;}_createClass(nz,[{key:"update",value:function update(e){var t=e.getRenderer();t.isOfType(Se.WEBGL)?this._updateWebGLTexture(e):t.isOfType(Se.CANVAS)&&this._filter.setLookupTableData(this._options.data);}},{key:"_updateWebGLTexture",value:function _updateWebGLTexture(e){if(typeof this._options.data=="undefined")throw new Error("LookupTable: No data specified.");var t=new Uint8Array(this._options.data),i=e.getRenderer(),o=i.id;this._renderers[o]=i,this._textures[o]||(this._textures[o]=new W.BaseTexture());var s=this._textures[o],n=new W.PixelArrayImage(256,1,t);s.setSource(n),s.setGLUnit(this._options.textureGLUnit),i.isOfType(Se.WEBGL)&&i.updateTexture(s);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(nz.prototype),"dispose",this).call(this);for(var e in this._textures){this._textures[e].dispose(),delete this._textures[e];}delete this._options.data;}}]);return nz;}(bt),by=nz;});var lz,az=d(function(){lz="/**\n * Based off of GPUImage's LookupFilter:\n * https://github.com/BradLarson/GPUImage/blob/master/framework/Source/GPUImageLookupFilter.m\n */\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float blueColor = texColor.b * 63.0;\n\n  vec2 quad1;\n  quad1.y = floor(floor(blueColor) / 8.0);\n  quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n  vec2 quad2;\n  quad2.y = floor(ceil(blueColor) / 8.0);\n  quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n  vec2 texCoord1;\n  texCoord1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec2 texCoord2;\n  texCoord2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec4 newColor1 = texture2D(u_lookupTable, texCoord1);\n  vec4 newColor2 = texture2D(u_lookupTable, texCoord2);\n\n  vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n  gl_FragColor = mix(texColor, vec4(newColor.rgb, texColor.w), texColor.a);\n}\n";});var cz,dz,vw,Cw,_y,uz=d(function(){var _se9;Y();az();Hi();(_se9=se,cz=_se9.Vector2,_se9),dz=3,vw=/*#__PURE__*/function(_W$Filter17){_inherits(vw,_W$Filter17);var _super71=_createSuper(vw);function vw(){var _this110;_classCallCheck(this,vw);_this110=_super71.call(this);_this110._precomputeQuads(),_this110._fragmentSource=lz;return _this110;}_createClass(vw,[{key:"_precomputeQuads",value:function _precomputeQuads(){this._quads=[];for(var e=0;e<256;e++){var t=e/255*63,i=new cz();i.y=(t|0)*.125|0,i.x=(t|0)-i.y*8,this._quads.push(i);}}},{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=this._options.lookupTableImage,u=this._createImageCanvas(l).getContext("2d"),p=n.getImageData(0,0,s.width,s.height),m=u.getImageData(0,0,l.width,l.height),h=new cz();for(var g=0;g<s.width*s.height*4;g+=4){var v=p.data[g],S=p.data[g+1],_=p.data[g+2],I=p.data[g+3]/255,E=this._quads[_],O=64;h.x=E.x*O,h.y=E.y*O,h.x+=Math.floor(v/4),h.y+=Math.floor(S/4);var V=(l.width*h.y+h.x)*4|0,F=m.data[V];F=v*(1-I)+F*I;var P=m.data[V+1];P=S*(1-I)+P*I;var ae=m.data[V+2];ae=_*(1-I)+ae*I,p.data[g]=F,p.data[g+1]=P,p.data[g+2]=ae;}a.putImageData(p,0,0);}},{key:"_createImageCanvas",value:function _createImageCanvas(e){var t=G.createCanvas();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t;}}]);return vw;}(W.Filter);vw.prototype.availableOptions={lookupTable:{type:b.NUMBER,"default":dz,uniformType:Z.INT},lookupTableImage:{type:b.IMAGE,uniformType:null}};Cw=/*#__PURE__*/function(_bt11){_inherits(Cw,_bt11);var _super72=_createSuper(Cw);function Cw(){var _this111;_classCallCheck(this,Cw);for(var _len31=arguments.length,e=new Array(_len31),_key31=0;_key31<_len31;_key31++){e[_key31]=arguments[_key31];}_this111=_super72.call.apply(_super72,[this].concat(e));_this111._filter=new vw(),_this111._textures={};return _this111;}_createClass(Cw,[{key:"update",value:function update(e){var t=e.getRenderer();t.isOfType(Se.WEBGL)?this._updateWebGLTexture(e):t.isOfType(Se.CANVAS)&&this._filter.setLookupTableImage(this._options.image);}},{key:"_updateWebGLTexture",value:function _updateWebGLTexture(e){var t=e.getRenderer(),i=t.id;this._textures[i]||(this._textures[i]=new W.BaseTexture());var o=this._textures[i];o.setSource(this._options.image),o.setGLUnit(dz),t.updateTexture(o);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Cw.prototype),"dispose",this).call(this);for(var e in this._textures){delete this._textures[e];}}}]);return Cw;}(bt);Cw.prototype.availableOptions={image:{type:b.IMAGE}};_y=Cw;});var pz,mz=d(function(){pz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_saturation;\n\nconst vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, luminanceWeighting);\n\n  vec3 greyScaleColor = vec3(luminance);\n\n  gl_FragColor = vec4(mix(greyScaleColor, texColor.rgb, u_saturation) * texColor.a, texColor.a);\n}\n";});var yy,Sw,Tr,hz=d(function(){Y();mz();Hi();yy=/*#__PURE__*/function(_W$Filter18){_inherits(yy,_W$Filter18);var _super73=_createSuper(yy);function yy(){var _this112;_classCallCheck(this,yy);_this112=_super73.call(this);_this112._fragmentSource=pz;return _this112;}_createClass(yy,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height),c=this._options.saturation;for(var u=0;u<s.width;u++){for(var p=0;p<s.height;p++){var m=(s.width*p+u)*4,h=l.data[m]*.2125+l.data[m+1]*.7154+l.data[m+2]*.0721;l.data[m]=h*(1-c)+l.data[m]*c,l.data[m+1]=h*(1-c)+l.data[m+1]*c,l.data[m+2]=h*(1-c)+l.data[m+2]*c;}}a.putImageData(l,0,0);}}]);return yy;}(W.Filter);yy.prototype.availableOptions={saturation:{type:b.NUMBER,"default":0,uniformType:Z.FLOAT}};Sw=/*#__PURE__*/function(_bt12){_inherits(Sw,_bt12);var _super74=_createSuper(Sw);function Sw(){var _this113;_classCallCheck(this,Sw);for(var _len32=arguments.length,e=new Array(_len32),_key32=0;_key32<_len32;_key32++){e[_key32]=arguments[_key32];}_this113=_super74.call.apply(_super74,[this].concat(e));_this113._filter=new yy();return _this113;}_createClass(Sw,[{key:"update",value:function update(){this._filter.setSaturation(this._options.saturation);}}]);return Sw;}(bt);Sw.prototype.availableOptions=yy.prototype.availableOptions;Tr=Sw;});var gz,fz=d(function(){gz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec4 overlayVec4 = vec4(u_color, texColor.a);\n  gl_FragColor = max(overlayVec4 * texColor.a, texColor);\n}\n";});var xy,ww,vy,bz=d(function(){Y();fz();Hi();xy=/*#__PURE__*/function(_W$Filter19){_inherits(xy,_W$Filter19);var _super75=_createSuper(xy);function xy(){var _this114;_classCallCheck(this,xy);_this114=_super75.call(this);_this114._fragmentSource=gz;return _this114;}_createClass(xy,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height);for(var c=0;c<s.width;c++){for(var u=0;u<s.height;u++){var p=(s.width*u+c)*4;l.data[p]=Math.max(this._options.color.r*255,l.data[p]),l.data[p+1]=Math.max(this._options.color.g*255,l.data[p+1]),l.data[p+2]=Math.max(this._options.color.b*255,l.data[p+2]);}}a.putImageData(l,0,0);}}]);return xy;}(W.Filter);xy.prototype.availableOptions={color:{type:b.COLOR,"default":K.WHITE,uniformType:Z.FLOAT3}};ww=/*#__PURE__*/function(_bt13){_inherits(ww,_bt13);var _super76=_createSuper(ww);function ww(){var _this115;_classCallCheck(this,ww);for(var _len33=arguments.length,e=new Array(_len33),_key33=0;_key33<_len33;_key33++){e[_key33]=arguments[_key33];}_this115=_super76.call.apply(_super76,[this].concat(e));_this115._filter=new xy();return _this115;}_createClass(ww,[{key:"update",value:function update(){this._filter.setColor(this._options.color);}}]);return ww;}(bt);ww.prototype.availableOptions=xy.prototype.availableOptions;vy=ww;});var kw,Ae,_z=d(function(){Y();xw();kw=/*#__PURE__*/function(_by){_inherits(kw,_by);var _super77=_createSuper(kw);function kw(){var _this116;_classCallCheck(this,kw);for(var _len34=arguments.length,e=new Array(_len34),_key34=0;_key34<_len34;_key34++){e[_key34]=arguments[_key34];}_this116=_super77.call.apply(_super77,[this].concat(e));_this116._options.rgbControlPoints||(_this116._options.rgbControlPoints={red:_this116._options.controlPoints,green:_this116._options.controlPoints,blue:_this116._options.controlPoints}),_this116._updateLookupTable();return _this116;}_createClass(kw,[{key:"_updateLookupTable",value:function _updateLookupTable(){var e=this._calculateSplineCurve(this._options.rgbControlPoints.red),t=this._calculateSplineCurve(this._options.rgbControlPoints.green),i=this._calculateSplineCurve(this._options.rgbControlPoints.blue);this._options.data=this._buildLookupTable(e,t,i);}},{key:"_buildLookupTable",value:function _buildLookupTable(e,t,i){var o=[];for(var s=0;s<256;s++){o.push(Math.min(Math.max(s+e[s],0),255)),o.push(Math.min(Math.max(s+t[s],0),255)),o.push(Math.min(Math.max(s+i[s],0),255)),o.push(255);}return o;}},{key:"_calculateSplineCurve",value:function _calculateSplineCurve(e){e=e.sort(function(n,a){return n[0]>a[0];});var t=this._getSplineCurve(e),i=t[0],o;if(i[0]>0)for(o=0;o<i[0];o++){t.unshift([0,0]);}var s=[];for(o=0;o<t.length;o++){var n=t[o],a=[n[0],n[0]],l=Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2));a[1]>n[1]&&(l=-l),s.push(l);}return s;}},{key:"_getSplineCurve",value:function _getSplineCurve(e){var t=this._secondDerivative(e),i=t.length,o=[],s;for(s=0;s<i;s++){o[s]=t[s];}var n=[];for(s=0;s<i-1;s++){var a=e[s],l=e[s+1];for(var c=a[0];c<l[0];c++){var u=(c-a[0])/(l[0]-a[0]),p=1-u,m=u,h=l[0]-a[0],g=p*a[1]+m*l[1]+h*h/6*((p*p*p-p)*o[s]+(m*m*m-m)*o[s+1]);g>255?g=255:g<0&&(g=0),n.push([c,g]);}}return n.length===255&&n.push(e[e.length-1]),n;}},{key:"_secondDerivative",value:function _secondDerivative(e){var t=e.length;if(t<=0||t===1)return null;var i=[],o=[],s,n;for(i[0]=[0,1,0],s=1;s<t-1;s++){var l=e[s-1],c=e[s],u=e[s+1];i[s]=i[s]||[],i[s][0]=(c[0]-l[0])/6,i[s][1]=(u[0]-l[0])/3,i[s][2]=(u[0]-c[0])/6,o[s]=(u[1]-c[1])/(u[0]-c[0])-(c[1]-l[1])/(c[0]-l[0]);}for(o[0]=0,o[t-1]=0,i[t-1]=[0,1,0],s=1;s<t;s++){n=i[1][0]/i[s-1][1],i[s][1]-=n*i[s-1][2],i[s][0]=0,o[s]-=n*o[s-1];}for(s=t-2;s>0;s--){n=i[s][2]/i[s+1][1],i[s][1]-=n*i[s+1][0],i[s][2]=0,o[s]-=n*o[s+1];}var a=[];for(s=0;s<t;s++){a[s]=o[s]/i[s][1];}return a;}}]);return kw;}(by);kw.prototype.availableOptions={rgbControlPoints:{type:b.OBJECT},controlPoints:{type:b.ARRAY,"default":[]},textureGLUnit:{type:b.NUMBER,"default":1}};Ae=kw;});var xz,yz=d(function(){xz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float gray = texColor.r * 0.3 + texColor.g * 0.3 + texColor.b * 0.3;\n  gray -= 0.2;\n  gray = clamp(gray, 0.0, 1.0);\n  gray += 0.15;\n  gray *= 1.4;\n  gl_FragColor = vec4(vec3(gray) * texColor.a, texColor.a);\n}\n";});var vz,Cz,Cy,Sz=d(function(){Y();yz();Hi();vz=/*#__PURE__*/function(_W$Filter20){_inherits(vz,_W$Filter20);var _super78=_createSuper(vz);function vz(){var _this117;_classCallCheck(this,vz);_this117=_super78.call(this);_this117._fragmentSource=xz;return _this117;}_createClass(vz,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=n.getImageData(0,0,s.width,s.height);for(var c=0;c<s.width;c++){for(var u=0;u<s.height;u++){var p=(s.width*u+c)*4,m=l.data[p]/255*.3+l.data[p+1]/255*.3+l.data[p+2]/255*.3;m-=.2,m=Math.max(0,Math.min(1,m)),m+=.15,m*=1.4,m*=255,l.data[p]=m,l.data[p+1]=m,l.data[p+2]=m;}}a.putImageData(l,0,0);}}]);return vz;}(W.Filter),Cz=/*#__PURE__*/function(_bt14){_inherits(Cz,_bt14);var _super79=_createSuper(Cz);function Cz(){var _this118;_classCallCheck(this,Cz);for(var _len35=arguments.length,e=new Array(_len35),_key35=0;_key35<_len35;_key35++){e[_key35]=arguments[_key35];}_this118=_super79.call.apply(_super79,[this].concat(e));_this118._filter=new vz();return _this118;}return Cz;}(bt),Cy=Cz;});var kz,wz=d(function(){kz="precision highp float;\n\nuniform sampler2D u_image;\n\nuniform sampler2D u_lookupTable;\n\nuniform float u_resolution;     // Texture-Resolution, must be power of 2: 64, 128, 256, 512, 1024, 2048, 4096\nuniform float u_horizontalTileCount; // Horizontal Blue Tiles\nuniform float u_verticalTileCount; // Vertical Blue Tiles\n\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.000001;\n\n// Try to get the exact pixel of the lut map image\nvec3 lutColor(int texPosX, int texPosY) {\n    return texture2D(u_lookupTable, (0.5 / u_resolution) + vec2(float(texPosX), float(texPosY)) / u_resolution).rgb;\n}\n\nvec3 bilinearInterpolate(vec3 cRfGf, vec3 cRfGc, vec3 cRcGf, vec3 cRcGc, float redFract, float greenFract) {\n    return mix(mix(cRfGf, cRcGf, redFract), mix(cRfGc, cRcGc, redFract), greenFract);\n}\n\nvoid main() {\n    vec4 inputColor = clamp(texture2D(u_image, v_texCoord.xy), 0.0, 1.0);\n\n    vec3 sourceColor = vec3(inputColor.rgb / max(inputColor.a, EPSILON)); \n\n    vec3 ranges = vec3(\n        floor(u_resolution / u_horizontalTileCount - 1.0),\n        floor(u_resolution / u_verticalTileCount - 1.0),\n        floor(u_horizontalTileCount * u_horizontalTileCount - 1.0)\n    );\n    \n    vec3 tmp = sourceColor * ranges;\n    ivec3 floors = ivec3(tmp);\n    ivec3 ceils = ivec3(ceil(tmp));\n    vec3 fracts = fract(tmp);\n\n    // Map tile index to tile pixel pos.\n    ivec2 pixelsPerTile = ivec2(\n        u_resolution / u_horizontalTileCount, \n        u_resolution / u_verticalTileCount\n      );\n\n    ivec2 tileFloor; // Blue tile index\n    tileFloor.y = floors.z / int(u_horizontalTileCount);\n    tileFloor.x = (floors.z - (tileFloor.y * int(u_horizontalTileCount)));\n\n    ivec2 tileCeil; // Blue tile index\n    tileCeil.y = ceils.z / int(u_horizontalTileCount);\n    tileCeil.x = (ceils.z - (tileCeil.y * int(u_horizontalTileCount)));\n    \n    tileFloor *= pixelsPerTile;\n    tileCeil *= pixelsPerTile; \n    \n    \n    // Interpolate between red and green\n    vec3 lutColorFB = bilinearInterpolate(\n        lutColor(tileFloor.x + floors.x, tileFloor.y + floors.y),\n        lutColor(tileFloor.x + floors.x, tileFloor.y + ceils.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + floors.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + ceils.y),\n        fracts.x, fracts.y\n    );\n    vec3 lutColorCB = bilinearInterpolate(\n        lutColor(tileCeil.x + floors.x, tileCeil.y + floors.y),\n        lutColor(tileCeil.x + floors.x, tileCeil.y + ceils.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + floors.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + ceils.y),\n        fracts.x, fracts.y\n    );\n\n    // Interpolate between the blue values\n    vec3 interpolation = mix(lutColorFB, lutColorCB, fracts.z);\n\n    // Round Color Values to prevent that for ex. 254.999999 is cutting to 254 instead of 255;\n    interpolation = clamp(floor(interpolation * 255. + .5) / 255., 0.0, 1.0);\n\n    gl_FragColor = vec4(interpolation.rgb * inputColor.a, inputColor.a);\n}\n";});var Sy,Tz,Dz,Tw,Dw,wy,Ez=d(function(){var _se10;Y();wz();Hi();(_se10=se,Sy=_se10.Vector2,Tz=_se10.Vector3,_se10),Dz=3,Tw=/*#__PURE__*/function(_W$Filter21){_inherits(Tw,_W$Filter21);var _super80=_createSuper(Tw);function Tw(){var _this119;_classCallCheck(this,Tw);_this119=_super80.call(this);_this119._precomputeQuads(),_this119._fragmentSource=kz;return _this119;}_createClass(Tw,[{key:"_precomputeQuads",value:function _precomputeQuads(){this._quads=[];for(var e=0;e<256;e++){var t=e/255*63,i=new Sy();i.y=(t|0)*.125|0,i.x=(t|0)-i.y*8,this._quads.push(i);}}},{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var _this$_options6=this._options,s=_this$_options6.resolution,n=_this$_options6.horizontalTileCount,a=_this$_options6.verticalTileCount,l=t.getCanvas(),c=t.getContext(),u=i.getContext(),p=this._options.lookupTableImage,h=this._createImageCanvas(p).getContext("2d"),g={width:128,height:128};s?g={width:s,height:s}:p.width&&p.height&&(g={width:p.width,height:p.height});var v=c.getImageData(0,0,l.width,l.height),S=h.getImageData(0,0,g.width,g.height),_=new Tz(g.width/n-1|0,g.height/a-1|0,n*a-1|0),I=new K(),E=new K(),O=new K(),V=new K(),F=new K(),P=new K(),ae=new K(),de=new K(),ye=new Sy(),Te=new Sy(),Ce=function Ce(Pe,Et,yt,pt){Pe.r=Et.r*(1-pt)+yt.r*pt,Pe.g=Et.g*(1-pt)+yt.g*pt,Pe.b=Et.b*(1-pt)+yt.b*pt;},xe=function xe(Pe,Et,yt){Et=.5+Et|0,yt=.5+yt|0;var pt=(yt*g.width+Et)*4;Pe.r=S.data[pt]/255,Pe.g=S.data[pt+1]/255,Pe.b=S.data[pt+2]/255,Pe.a=S.data[pt+3]/255;},ut=new K(),Ii=new K(),hi=function hi(Pe,Et,yt,pt,Ge,xt,Si){Ce(ut,Et,pt,xt),Ce(Ii,yt,Ge,xt),Ce(Pe,ut,Ii,Si);},fo=new Sy(g.width,g.height).divide(n,a).floor();for(var Pe=0;Pe<l.width*l.height*4;Pe+=4){I.set(v.data[Pe]/255,v.data[Pe+1]/255,v.data[Pe+2]/255,v.data[Pe+3]/255);var Et=new Tz(I.r*_.x,I.g*_.y,I.b*_.z),yt=Et.clone().floor().toInt(),pt=Et.clone().ceil().toInt(),Ge=Et.clone().fract();ye.y=yt.z/n|0,ye.x=yt.z-ye.y*n|0,Te.y=pt.z/n|0,Te.x=pt.z-Te.y*n|0,ye.multiply(fo),Te.multiply(fo),xe(F,ye.x+yt.x,ye.y+yt.y),xe(P,ye.x+yt.x,ye.y+pt.y),xe(ae,ye.x+pt.x,ye.y+yt.y),xe(de,ye.x+pt.x,ye.y+pt.y),hi(O,F,P,ae,de,Ge.x,Ge.y),xe(F,Te.x+yt.x,Te.y+yt.y),xe(P,Te.x+yt.x,Te.y+pt.y),xe(ae,Te.x+pt.x,Te.y+yt.y),xe(de,Te.x+pt.x,Te.y+pt.y),hi(V,F,P,ae,de,Ge.x,Ge.y),Ce(E,O,V,Ge.z),v.data[Pe]=Math.ceil(E.r*255),v.data[Pe+1]=Math.ceil(E.g*255),v.data[Pe+2]=Math.ceil(E.b*255);}u.putImageData(v,0,0);}},{key:"_createImageCanvas",value:function _createImageCanvas(e){var t=G.createCanvas();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t;}}]);return Tw;}(W.Filter);Tw.prototype.availableOptions={lookupTable:{type:b.NUMBER,"default":Dz,uniformType:Z.INT},lookupTableImage:{type:b.IMAGE,uniformType:null},resolution:{type:b.NUMBER,uniformType:Z.FLOAT},horizontalTileCount:{type:b.NUMBER,"default":5,uniformType:Z.FLOAT},verticalTileCount:{type:b.NUMBER,"default":5,uniformType:Z.FLOAT}};Dw=/*#__PURE__*/function(_bt15){_inherits(Dw,_bt15);var _super81=_createSuper(Dw);function Dw(){var _this120;_classCallCheck(this,Dw);for(var _len36=arguments.length,e=new Array(_len36),_key36=0;_key36<_len36;_key36++){e[_key36]=arguments[_key36];}_this120=_super81.call.apply(_super81,[this].concat(e));_this120._filter=new Tw(),_this120._textures={};return _this120;}_createClass(Dw,[{key:"update",value:function update(e){var t=e.getRenderer();t.isOfType(Se.WEBGL)?this._updateWebGLTexture(e):t.isOfType(Se.CANVAS)&&this._filter.setLookupTableImage(this._options.image);var _this$_options7=this._options,i=_this$_options7.resolution,o=_this$_options7.verticalTileCount,s=_this$_options7.horizontalTileCount,n=_this$_options7.image;this._filter.set({resolution:i||n.width,verticalTileCount:o,horizontalTileCount:s});}},{key:"_updateWebGLTexture",value:function _updateWebGLTexture(e){var t=e.getRenderer(),i=t.id;this._textures[i]||(this._textures[i]=new W.BaseTexture());var o=this._textures[i];o.setSource(this._options.image),o.setGLUnit(Dz),o.setMinFilter(W.BaseTexture.NearestFilter),t.updateTexture(o);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Dw.prototype),"dispose",this).call(this);for(var e in this._textures){delete this._textures[e];}}}]);return Dw;}(bt);Dw.prototype.availableOptions={image:{type:b.IMAGE},resolution:{type:b.NUMBER},horizontalTileCount:{type:b.NUMBER,"default":5},verticalTileCount:{type:b.NUMBER,"default":5}};wy=Dw;});var Ew={};It(Ew,{Brightness:function Brightness(){return Pc;},ColorMatrixPrimitive:function ColorMatrixPrimitive(){return cy;},Contrast:function Contrast(){return kr;},Desaturation:function Desaturation(){return js;},DuoTone:function DuoTone(){return my;},Gamma:function Gamma(){return hy;},Glow:function Glow(){return tm;},Gobblin:function Gobblin(){return gy;},Grayscale:function Grayscale(){return im;},LookupTable:function LookupTable(){return by;},LookupTableImage:function LookupTableImage(){return _y;},Saturation:function Saturation(){return Tr;},SoftColorOverlay:function SoftColorOverlay(){return vy;},ThreeDLookupTableImage:function ThreeDLookupTableImage(){return wy;},ToneCurve:function ToneCurve(){return Ae;},X400:function X400(){return Cy;}});var Qe=d(function(){I3();R3();B3();z3();H3();V3();q3();Z3();rz();xw();uz();hz();bz();_z();Sz();Ez();});var ky,Ty,Iw=d(function(){Ze();Qe();ky=/*#__PURE__*/function(_be2){_inherits(ky,_be2);var _super82=_createSuper(ky);function ky(){var _this121;_classCallCheck(this,ky);for(var _len37=arguments.length,e=new Array(_len37),_key37=0;_key37<_len37;_key37++){e[_key37]=arguments[_key37];}_this121=_super82.call.apply(_super82,[this].concat(e));_this121._stack.push(new Pc({brightness:0}));return _this121;}_createClass(ky,[{key:"render",value:function render(e,t,i){return this._stack.isEmpty()&&this._stack.push(new Pc({brightness:0})),_get(_getPrototypeOf(ky.prototype),"render",this).call(this,e,t,i);}}]);return ky;}(be);ky.isIdentity=!0;ky.identifier="identity";Ty=ky;});var Fw,Iz,Fz=d(function(){Ze();Qe();Fw=/*#__PURE__*/function(_be3){_inherits(Fw,_be3);var _super83=_createSuper(Fw);function Fw(){var _this122;_classCallCheck(this,Fw);for(var _len38=arguments.length,e=new Array(_len38),_key38=0;_key38<_len38;_key38++){e[_key38]=arguments[_key38];}_this122=_super83.call.apply(_super83,[this].concat(e));_this122._stack.push(new kr({contrast:.63})),_this122._stack.push(new Pc({brightness:.12})),_this122._stack.push(new Ae({rgbControlPoints:{red:[[0,38],[94,94],[148,142],[175,187],[255,255]],green:[[0,0],[77,53],[171,190],[255,255]],blue:[[0,10],[48,85],[174,228],[255,255]]}}));return _this122;}return Fw;}(be);Fw.identifier="a15";Iz=Fw;});var Ow,Oz,Rz=d(function(){Ze();Qe();Ow=/*#__PURE__*/function(_be4){_inherits(Ow,_be4);var _super84=_createSuper(Ow);function Ow(){var _this123;_classCallCheck(this,Ow);for(var _len39=arguments.length,e=new Array(_len39),_key39=0;_key39<_len39;_key39++){e[_key39]=arguments[_key39];}_this123=_super84.call.apply(_super84,[this].concat(e));_this123._stack.push(new js({desaturation:.5})),_this123._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[170,170],[212,219],[234,242],[255,255]],green:[[0,0],[170,168],[234,231],[255,255]],blue:[[0,0],[170,170],[212,208],[255,255]]}}));return _this123;}return Ow;}(be);Ow.identifier="breeze";Oz=Ow;});var Rw,Az,Pz=d(function(){Ze();Qe();Rw=/*#__PURE__*/function(_be5){_inherits(Rw,_be5);var _super85=_createSuper(Rw);function Rw(){var _this124;_classCallCheck(this,Rw);for(var _len40=arguments.length,e=new Array(_len40),_key40=0;_key40<_len40;_key40++){e[_key40]=arguments[_key40];}_this124=_super85.call.apply(_super85,[this].concat(e));_this124._stack.push(new im());return _this124;}return Rw;}(be);Rw.identifier="bw";Az=Rw;});var Aw,Bz,Mz=d(function(){Ze();Qe();Aw=/*#__PURE__*/function(_be6){_inherits(Aw,_be6);var _super86=_createSuper(Aw);function Aw(){var _this125;_classCallCheck(this,Aw);for(var _len41=arguments.length,e=new Array(_len41),_key41=0;_key41<_len41;_key41++){e[_key41]=arguments[_key41];}_this125=_super86.call.apply(_super86,[this].concat(e));_this125._stack.push(new im()),_this125._stack.push(new kr({contrast:1.5}));return _this125;}return Aw;}(be);Aw.identifier="bwhard";Bz=Aw;});var Pw,Lz,zz=d(function(){Ze();Qe();Pw=/*#__PURE__*/function(_be7){_inherits(Pw,_be7);var _super87=_createSuper(Pw);function Pw(){var _this126;_classCallCheck(this,Pw);for(var _len42=arguments.length,e=new Array(_len42),_key42=0;_key42<_len42;_key42++){e[_key42]=arguments[_key42];}_this126=_super87.call.apply(_super87,[this].concat(e));_this126._stack.push(new Ae({rgbControlPoints:{red:[[0,69],[55,110],[202,230],[255,255]],green:[[0,44],[89,93],[185,141],[255,189]],blue:[[0,76],[39,82],[218,138],[255,171]]}}));return _this126;}return Pw;}(be);Pw.identifier="celsius";Lz=Pw;});var Bw,Uz,Nz=d(function(){Ze();Qe();Bw=/*#__PURE__*/function(_be8){_inherits(Bw,_be8);var _super88=_createSuper(Bw);function Bw(){var _this127;_classCallCheck(this,Bw);for(var _len43=arguments.length,e=new Array(_len43),_key43=0;_key43<_len43;_key43++){e[_key43]=arguments[_key43];}_this127=_super88.call.apply(_super88,[this].concat(e));_this127._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[44,44],[124,143],[221,204],[255,255]],green:[[0,0],[130,127],[213,199],[255,255]],blue:[[0,0],[51,52],[219,204],[255,255]]}}));return _this127;}return Bw;}(be);Bw.identifier="chest";Uz=Bw;});var Dy,Hz,Wz=d(function(){Y();Ze();Qe();Dy=/*#__PURE__*/function(_be9){_inherits(Dy,_be9);var _super89=_createSuper(Dy);function Dy(){var _this128;_classCallCheck(this,Dy);for(var _len44=arguments.length,e=new Array(_len44),_key44=0;_key44<_len44;_key44++){e[_key44]=arguments[_key44];}_this128=_super89.call.apply(_super89,[this].concat(e,[{intensity:{type:b.NUMBER,"default":.5,required:!0,setter:function setter(t){return this._filterPrimitive&&(this._filterPrimitive.setIntensity(t),this._stack.setIntensity(1)),this._dirty=!0,t;}}}]));_this128._filterPrimitive=new my({lightColor:_this128._options.lightColor||K.WHITE,darkColor:_this128._options.darkColor||K.BLACK,intensity:_this128._options.intensity||.5}),_this128._stack.push(_this128._filterPrimitive);return _this128;}return Dy;}(be);Dy.prototype.availableOptions={lightColor:{type:b.COLOR,"default":K.WHITE,required:!0,setter:function setter(r){return this._filterPrimitive&&this._filterPrimitive.setLightColor(r),this.setDirty&&this.setDirty(!0),r;}},darkColor:{type:b.COLOR,"default":K.BLACK,required:!0,setter:function setter(r){return this._filterPrimitive&&this._filterPrimitive.setDarkColor(r),this.setDirty&&this.setDirty(!0),r;}},intensity:{type:b.NUMBER,"default":.5,required:!0}};Dy.identifier="duotone";Hz=Dy;});var Mw,Gz,Vz=d(function(){Ze();Qe();Mw=/*#__PURE__*/function(_be10){_inherits(Mw,_be10);var _super90=_createSuper(Mw);function Mw(){var _this129;_classCallCheck(this,Mw);for(var _len45=arguments.length,e=new Array(_len45),_key45=0;_key45<_len45;_key45++){e[_key45]=arguments[_key45];}_this129=_super90.call.apply(_super90,[this].concat(e));_this129._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[44,28],[63,48],[128,132],[235,248],[255,255]],green:[[0,0],[20,10],[60,45],[190,209],[211,231],[255,255]],blue:[[0,31],[41,62],[150,142],[234,212],[255,224]]}}));return _this129;}return Mw;}(be);Mw.identifier="fixie";Gz=Mw;});var Lw,jz,$z=d(function(){Ze();Qe();Lw=/*#__PURE__*/function(_be11){_inherits(Lw,_be11);var _super91=_createSuper(Lw);function Lw(){var _this130;_classCallCheck(this,Lw);for(var _len46=arguments.length,e=new Array(_len46),_key46=0;_key46<_len46;_key46++){e[_key46]=arguments[_key46];}_this130=_super91.call.apply(_super91,[this].concat(e));_this130._stack.push(new Tr({saturation:1.35})),_this130._stack.push(new kr({contrast:1.1}));return _this130;}return Lw;}(be);Lw.identifier="food";jz=Lw;});var zw,qz,Kz=d(function(){Ze();Qe();zw=/*#__PURE__*/function(_be12){_inherits(zw,_be12);var _super92=_createSuper(zw);function zw(){var _this131;_classCallCheck(this,zw);for(var _len47=arguments.length,e=new Array(_len47),_key47=0;_key47<_len47;_key47++){e[_key47]=arguments[_key47];}_this131=_super92.call.apply(_super92,[this].concat(e));_this131._stack.push(new Ae({rgbControlPoints:{red:[[0,9],[21,11],[45,24],[255,220]],green:[[0,12],[21,21],[42,42],[150,150],[170,173],[255,210]],blue:[[0,28],[43,72],[128,185],[255,220]]}}));return _this131;}return zw;}(be);zw.identifier="fridge";qz=zw;});var Uw,Xz,Yz=d(function(){Ze();Qe();Uw=/*#__PURE__*/function(_be13){_inherits(Uw,_be13);var _super93=_createSuper(Uw);function Uw(){var _this132;_classCallCheck(this,Uw);for(var _len48=arguments.length,e=new Array(_len48),_key48=0;_key48<_len48;_key48++){e[_key48]=arguments[_key48];}_this132=_super93.call.apply(_super93,[this].concat(e));_this132._stack.push(new Ae({rgbControlPoints:{red:[[0,65],[28,67],[67,113],[125,183],[187,217],[255,229]],green:[[0,52],[42,59],[104,134],[169,209],[255,240]],blue:[[0,52],[65,68],[93,104],[150,153],[255,198]]}}));return _this132;}return Uw;}(be);Uw.identifier="front";Xz=Uw;});var Nw,Jz,Zz=d(function(){Ze();Qe();Nw=/*#__PURE__*/function(_be14){_inherits(Nw,_be14);var _super94=_createSuper(Nw);function Nw(){var _this133;_classCallCheck(this,Nw);for(var _len49=arguments.length,e=new Array(_len49),_key49=0;_key49<_len49;_key49++){e[_key49]=arguments[_key49];}_this133=_super94.call.apply(_super94,[this].concat(e));_this133._stack.push(new kr({contrast:1.1})),_this133._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[127,127],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}}));return _this133;}return Nw;}(be);Nw.identifier="glam";Jz=Nw;});var Hw,Qz,e8=d(function(){Ze();Qe();Hw=/*#__PURE__*/function(_be15){_inherits(Hw,_be15);var _super95=_createSuper(Hw);function Hw(){var _this134;_classCallCheck(this,Hw);for(var _len50=arguments.length,e=new Array(_len50),_key50=0;_key50<_len50;_key50++){e[_key50]=arguments[_key50];}_this134=_super95.call.apply(_super95,[this].concat(e));_this134._stack.push(new gy());return _this134;}return Hw;}(be);Hw.identifier="gobblin";Qz=Hw;});var Ww,t8,i8=d(function(){Ze();Qe();Ww=/*#__PURE__*/function(_be16){_inherits(Ww,_be16);var _super96=_createSuper(Ww);function Ww(){var _this135;_classCallCheck(this,Ww);for(var _len51=arguments.length,e=new Array(_len51),_key51=0;_key51<_len51;_key51++){e[_key51]=arguments[_key51];}_this135=_super96.call.apply(_super96,[this].concat(e));_this135._stack.push(new Ae({controlPoints:[[0,0],[53,32],[91,80],[176,205],[255,255]]})),_this135._stack.push(new Tr({saturation:.9}));return _this135;}return Ww;}(be);Ww.identifier="k1";t8=Ww;});var Gw,r8,o8=d(function(){Y();Ze();Qe();Gw=/*#__PURE__*/function(_be17){_inherits(Gw,_be17);var _super97=_createSuper(Gw);function Gw(){var _this136;_classCallCheck(this,Gw);for(var _len52=arguments.length,e=new Array(_len52),_key52=0;_key52<_len52;_key52++){e[_key52]=arguments[_key52];}_this136=_super97.call.apply(_super97,[this].concat(e));_this136._stack.push(new Ae({controlPoints:[[0,0],[54,33],[77,82],[94,103],[122,126],[177,193],[229,232],[255,255]]})),_this136._stack.push(new vy({color:new K(40/255,40/255,40/255)}));return _this136;}return Gw;}(be);Gw.identifier="k2";r8=Gw;});var Vw,s8,n8=d(function(){Ze();Qe();Vw=/*#__PURE__*/function(_be18){_inherits(Vw,_be18);var _super98=_createSuper(Vw);function Vw(){var _this137;_classCallCheck(this,Vw);for(var _len53=arguments.length,e=new Array(_len53),_key53=0;_key53<_len53;_key53++){e[_key53]=arguments[_key53];}_this137=_super98.call.apply(_super98,[this].concat(e));_this137._stack.push(new Tr({saturation:.5}));return _this137;}return Vw;}(be);Vw.identifier="k6";s8=Vw;});var jw,a8,l8=d(function(){Ze();Qe();jw=/*#__PURE__*/function(_be19){_inherits(jw,_be19);var _super99=_createSuper(jw);function jw(){var _this138;_classCallCheck(this,jw);for(var _len54=arguments.length,e=new Array(_len54),_key54=0;_key54<_len54;_key54++){e[_key54]=arguments[_key54];}_this138=_super99.call.apply(_super99,[this].concat(e));_this138._stack.push(new Ae({controlPoints:[[0,0],[17,27],[46,69],[90,112],[156,200],[203,243],[255,255]]})),_this138._stack.push(new Tr({saturation:.7}));return _this138;}return jw;}(be);jw.identifier="kdynamic";a8=jw;});var $w,c8,d8=d(function(){Ze();Qe();$w=/*#__PURE__*/function(_be20){_inherits($w,_be20);var _super100=_createSuper($w);function $w(){var _this139;_classCallCheck(this,$w);for(var _len55=arguments.length,e=new Array(_len55),_key55=0;_key55<_len55;_key55++){e[_key55]=arguments[_key55];}_this139=_super100.call.apply(_super100,[this].concat(e));_this139._stack.push(new js({desaturation:.4})),_this139._stack.push(new Ae({rgbControlPoints:{red:[[0,20],[40,20],[106,111],[129,153],[190,223],[255,255]],green:[[0,20],[40,20],[62,41],[106,108],[132,159],[203,237],[255,255]],blue:[[0,40],[40,40],[73,60],[133,160],[191,297],[203,237],[237,239],[255,255]]}}));return _this139;}return $w;}(be);$w.identifier="lenin";c8=$w;});var qw,u8,m8=d(function(){Ze();Qe();qw=/*#__PURE__*/function(_be21){_inherits(qw,_be21);var _super101=_createSuper(qw);function qw(){var _this140;_classCallCheck(this,qw);for(var _len56=arguments.length,e=new Array(_len56),_key56=0;_key56<_len56;_key56++){e[_key56]=arguments[_key56];}_this140=_super101.call.apply(_super101,[this].concat(e));_this140._stack.push(new Ae({controlPoints:[[0,0],[87,20],[131,156],[183,205],[255,200]]}));return _this140;}return qw;}(be);qw.identifier="lomo";u8=qw;});var Kw,p8,h8=d(function(){Ze();Qe();Kw=/*#__PURE__*/function(_be22){_inherits(Kw,_be22);var _super102=_createSuper(Kw);function Kw(){var _this141;_classCallCheck(this,Kw);for(var _len57=arguments.length,e=new Array(_len57),_key57=0;_key57<_len57;_key57++){e[_key57]=arguments[_key57];}_this141=_super102.call.apply(_super102,[this].concat(e));_this141._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[41,84],[87,134],[255,255]],green:[[0,0],[255,216]],blue:[[0,0],[255,131]]}}));return _this141;}return Kw;}(be);Kw.identifier="mellow";p8=Kw;});var Aoe,Xw,f8,g8=d(function(){var _se11;Y();Ze();Qe();(_se11=se,Aoe=_se11.ColorMatrix,_se11),Xw=/*#__PURE__*/function(_be23){_inherits(Xw,_be23);var _super103=_createSuper(Xw);function Xw(){var _this142;_classCallCheck(this,Xw);for(var _len58=arguments.length,e=new Array(_len58),_key58=0;_key58<_len58;_key58++){e[_key58]=arguments[_key58];}_this142=_super103.call.apply(_super103,[this].concat(e));var t=new Aoe(.8158218291630716,0,0,0,-.01779810181190647,0,.8098360655737704,0,0,.0916393442622953,0,0,.4596336773932402,0,.12760574782432707,0,0,0,1,0);_this142._stack.push(new cy({colorMatrix:t}));var i=new K(.8,.6,.9);_this142._stack.push(new hy({gamma:i}));return _this142;}return Xw;}(be);Xw.identifier="metal";f8=Xw;});var Yw,b8,_8=d(function(){Ze();Qe();Yw=/*#__PURE__*/function(_be24){_inherits(Yw,_be24);var _super104=_createSuper(Yw);function Yw(){var _this143;_classCallCheck(this,Yw);for(var _len59=arguments.length,e=new Array(_len59),_key59=0;_key59<_len59;_key59++){e[_key59]=arguments[_key59];}_this143=_super104.call.apply(_super104,[this].concat(e));_this143._stack.push(new Ae({rgbControlPoints:{red:[[0,40],[255,230]],green:[[0,10],[255,225]],blue:[[0,20],[255,181]]}})),_this143._stack.push(new tm());return _this143;}return Yw;}(be);Yw.identifier="morning";b8=Yw;});var Jw,y8,x8=d(function(){Ze();Qe();Jw=/*#__PURE__*/function(_be25){_inherits(Jw,_be25);var _super105=_createSuper(Jw);function Jw(){var _this144;_classCallCheck(this,Jw);for(var _len60=arguments.length,e=new Array(_len60),_key60=0;_key60<_len60;_key60++){e[_key60]=arguments[_key60];}_this144=_super105.call.apply(_super105,[this].concat(e));_this144._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[115,130],[195,215],[255,255]],green:[[0,0],[148,153],[172,215],[255,255]],blue:[[0,46],[58,75],[178,205],[255,255]]},textureGLUnit:2})),_this144._stack.push(new Ae({controlPoints:[[0,0],[117,151],[189,217],[255,255]],textureGLUnit:3})),_this144._stack.push(new js({desaturation:.65}));return _this144;}return Jw;}(be);Jw.identifier="orchid";y8=Jw;});var Zw,v8,C8=d(function(){Ze();Qe();Zw=/*#__PURE__*/function(_be26){_inherits(Zw,_be26);var _super106=_createSuper(Zw);function Zw(){var _this145;_classCallCheck(this,Zw);for(var _len61=arguments.length,e=new Array(_len61),_key61=0;_key61<_len61;_key61++){e[_key61]=arguments[_key61];}_this145=_super106.call.apply(_super106,[this].concat(e));_this145._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[34,34],[99,76],[176,190],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}})),_this145._stack.push(new Tr({saturation:.8})),_this145._stack.push(new kr({contrast:1.5}));return _this145;}return Zw;}(be);Zw.identifier="pola";v8=Zw;});var Qw,S8,w8=d(function(){Ze();Qe();Qw=/*#__PURE__*/function(_be27){_inherits(Qw,_be27);var _super107=_createSuper(Qw);function Qw(){var _this146;_classCallCheck(this,Qw);for(var _len62=arguments.length,e=new Array(_len62),_key62=0;_key62<_len62;_key62++){e[_key62]=arguments[_key62];}_this146=_super107.call.apply(_super107,[this].concat(e));_this146._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[56,18],[196,209],[255,255]],green:[[0,38],[71,84],[255,255]],blue:[[0,0],[131,133],[204,211],[255,255]]}})),_this146._stack.push(new Tr({saturation:.8})),_this146._stack.push(new kr({contrast:1.5}));return _this146;}return Qw;}(be);Qw.identifier="pola669";S8=Qw;});var ek,k8,T8=d(function(){Ze();Qe();ek=/*#__PURE__*/function(_be28){_inherits(ek,_be28);var _super108=_createSuper(ek);function ek(){var _this147;_classCallCheck(this,ek);for(var _len63=arguments.length,e=new Array(_len63),_key63=0;_key63<_len63;_key63++){e[_key63]=arguments[_key63];}_this147=_super108.call.apply(_super108,[this].concat(e));_this147._stack.push(new js({desaturation:.65})),_this147._stack.push(new Ae({rgbControlPoints:{red:[[0,50],[40,78],[118,170],[181,211],[255,255]],green:[[0,27],[28,45],[109,157],[157,195],[179,208],[206,212],[255,240]],blue:[[0,50],[12,55],[46,103],[103,162],[194,182],[241,201],[255,219]]}}));return _this147;}return ek;}(be);ek.identifier="quozi";k8=ek;});var tk,D8,E8=d(function(){Ze();Qe();tk=/*#__PURE__*/function(_be29){_inherits(tk,_be29);var _super109=_createSuper(tk);function tk(){var _this148;_classCallCheck(this,tk);for(var _len64=arguments.length,e=new Array(_len64),_key64=0;_key64<_len64;_key64++){e[_key64]=arguments[_key64];}_this148=_super109.call.apply(_super109,[this].concat(e));_this148._stack.push(new Ae({rgbControlPoints:{red:[[0,129],[75,153],[181,227],[255,255]],green:[[0,8],[111,85],[212,158],[255,226]],blue:[[0,5],[75,22],[193,90],[255,229]]}})),_this148._stack.push(new tm());return _this148;}return tk;}(be);tk.identifier="semired";D8=tk;});var ik,I8,F8=d(function(){Ze();Qe();ik=/*#__PURE__*/function(_be30){_inherits(ik,_be30);var _super110=_createSuper(ik);function ik(){var _this149;_classCallCheck(this,ik);for(var _len65=arguments.length,e=new Array(_len65),_key65=0;_key65<_len65;_key65++){e[_key65]=arguments[_key65];}_this149=_super110.call.apply(_super110,[this].concat(e));_this149._stack.push(new Ae({rgbControlPoints:{red:[[0,0],[62,82],[141,154],[255,255]],green:[[0,39],[56,96],[192,176],[255,255]],blue:[[0,0],[174,99],[255,235]]},textureGLUnit:2})),_this149._stack.push(new Ae({controlPoints:[[0,0],[55,20],[158,191],[255,255]],textureGLUnit:3}));return _this149;}return ik;}(be);ik.identifier="sunny";I8=ik;});var rk,O8,R8=d(function(){Ze();Qe();rk=/*#__PURE__*/function(_be31){_inherits(rk,_be31);var _super111=_createSuper(rk);function rk(){var _this150;_classCallCheck(this,rk);for(var _len66=arguments.length,e=new Array(_len66),_key66=0;_key66<_len66;_key66++){e[_key66]=arguments[_key66];}_this150=_super111.call.apply(_super111,[this].concat(e));_this150._stack.push(new Ae({rgbControlPoints:{red:[[0,72],[89,99],[176,212],[255,237]],green:[[0,49],[255,192]],blue:[[0,72],[255,151]]}}));return _this150;}return rk;}(be);rk.identifier="texas";O8=rk;});var ok,A8,P8=d(function(){Ze();Qe();ok=/*#__PURE__*/function(_be32){_inherits(ok,_be32);var _super112=_createSuper(ok);function ok(){var _this151;_classCallCheck(this,ok);for(var _len67=arguments.length,e=new Array(_len67),_key67=0;_key67<_len67;_key67++){e[_key67]=arguments[_key67];}_this151=_super112.call.apply(_super112,[this].concat(e));_this151._stack.push(new Cy());return _this151;}return ok;}(be);ok.identifier="x400";A8=ok;});var Ey,B8,M8=d(function(){Y();Ze();Qe();Ey=/*#__PURE__*/function(_be33){_inherits(Ey,_be33);var _super113=_createSuper(Ey);function Ey(){var _this152;_classCallCheck(this,Ey);for(var _len68=arguments.length,e=new Array(_len68),_key68=0;_key68<_len68;_key68++){e[_key68]=arguments[_key68];}_this152=_super113.call.apply(_super113,[this].concat(e));_this152._lutPrimitive=new _y({image:_this152._options.image}),_this152._stack.push(_this152._lutPrimitive);return _this152;}return Ey;}(be);Ey.prototype.availableOptions={image:{type:b.IMAGE,required:!0,setter:function setter(r){return this._lutPrimitive&&this._lutPrimitive.setImage(r),this.setDirty(!0),r;}}};Ey.identifier="lut";B8=Ey;});var Iy,L8,z8=d(function(){Y();Ze();Qe();Iy=/*#__PURE__*/function(_be34){_inherits(Iy,_be34);var _super114=_createSuper(Iy);function Iy(){var _this153;_classCallCheck(this,Iy);for(var _len69=arguments.length,e=new Array(_len69),_key69=0;_key69<_len69;_key69++){e[_key69]=arguments[_key69];}_this153=_super114.call.apply(_super114,[this].concat(e));var _this153$_options=_this153._options,t=_this153$_options.image,i=_this153$_options.resolution,o=_this153$_options.verticalTileCount,s=_this153$_options.horizontalTileCount;_this153._lutPrimitive=new wy({image:t,resolution:i,verticalTileCount:o,horizontalTileCount:s}),_this153._stack.push(_this153._lutPrimitive);return _this153;}return Iy;}(be);Iy.prototype.availableOptions={image:{type:b.IMAGE,required:!0,setter:function setter(r){return this._lutPrimitive&&this._lutPrimitive.setImage(r),this.setDirty(!0),r;}},resolution:{type:b.NUMBER},horizontalTileCount:{type:b.NUMBER,"default":5},verticalTileCount:{type:b.NUMBER,"default":5}};Iy.identifier="3d-lut";L8=Iy;});var sk={};It(sk,{A15Filter:function A15Filter(){return Iz;},BWFilter:function BWFilter(){return Az;},BWHardFilter:function BWHardFilter(){return Bz;},BreezeFilter:function BreezeFilter(){return Oz;},CelsiusFilter:function CelsiusFilter(){return Lz;},ChestFilter:function ChestFilter(){return Uz;},DuoToneFilter:function DuoToneFilter(){return Hz;},FixieFilter:function FixieFilter(){return Gz;},FoodFilter:function FoodFilter(){return jz;},FridgeFilter:function FridgeFilter(){return qz;},FrontFilter:function FrontFilter(){return Xz;},GlamFilter:function GlamFilter(){return Jz;},GobblinFilter:function GobblinFilter(){return Qz;},IdentityFilter:function IdentityFilter(){return Ty;},K1Filter:function K1Filter(){return t8;},K2Filter:function K2Filter(){return r8;},K6Filter:function K6Filter(){return s8;},KDynamicFilter:function KDynamicFilter(){return a8;},LUTFilter:function LUTFilter(){return B8;},LeninFilter:function LeninFilter(){return c8;},LomoFilter:function LomoFilter(){return u8;},MellowFilter:function MellowFilter(){return p8;},MetalFilter:function MetalFilter(){return f8;},MorningFilter:function MorningFilter(){return b8;},OrchidFilter:function OrchidFilter(){return y8;},Pola669Filter:function Pola669Filter(){return S8;},PolaFilter:function PolaFilter(){return v8;},QuoziFilter:function QuoziFilter(){return k8;},SemiredFilter:function SemiredFilter(){return D8;},SunnyFilter:function SunnyFilter(){return I8;},TexasFilter:function TexasFilter(){return O8;},ThreeDLUTFilter:function ThreeDLUTFilter(){return L8;},X400Filter:function X400Filter(){return A8;}});var U8=d(function(){Iw();Fz();Rz();Pz();Mz();zz();Nz();Wz();Vz();$z();Kz();Yz();Zz();e8();i8();o8();n8();l8();d8();m8();h8();g8();_8();x8();C8();w8();T8();E8();F8();R8();P8();M8();z8();});var Sl,N8,H8=d(function(){Y();U8();Ze();Iw();Qe();Sl=/*#__PURE__*/function(_Ye4){_inherits(Sl,_Ye4);var _super115=_createSuper(Sl);function Sl(){_classCallCheck(this,Sl);return _super115.apply(this,arguments);}_createClass(Sl,[{key:"_render",value:function _render(e){return this._selectedFilter.render(this._sdk,e,this._renderTexture);}},{key:"render",value:function render(e){return this._selectedFilter.getDirty()&&this.setDirty(!0),this.getEnabled()?_get(_getPrototypeOf(Sl.prototype),"render",this).call(this,e):(this.setDirtyForRenderer(!1,this._sdk.getRenderer()),Promise.resolve(e));}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t){_get(_getPrototypeOf(Sl.prototype),"setDirtyForRenderer",this).call(this,e,t),this._selectedFilter.setDirtyForRenderer(e,t);}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){_get(_getPrototypeOf(Sl.prototype),"disposeRenderTextures",this).call(this),this._selectedFilter&&this._selectedFilter.disposeRenderTextures();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Sl.prototype),"dispose",this).call(this),this._selectedFilter&&this._selectedFilter.dispose();}},{key:"restoreSnapshot",value:function restoreSnapshot(e){var t=w({},e);if(delete t.filter,e.filter){var i=e.filter.constructor;i.identifier==="3d-lut"?this.setFilter(new i({image:e.filter.getImage(),resolution:e.filter.getResolution(),horizontalTileCount:e.filter.getHorizontalTileCount(),verticalTileCount:e.filter.getVerticalTileCount()})):i.identifier==="duotone"?this.setFilter(new i({lightColor:e.filter.getLightColor(),darkColor:e.filter.getDarkColor(),intensity:e.filter.getIntensity()})):this.setFilter(new i());}this.set(t);}},{key:"resetToDefaultFilterIntensity",value:function resetToDefaultFilterIntensity(){var e=this._selectedFilter&&this._selectedFilter.availableOptions,t=e&&e.intensity["default"];this.setIntensity(t||1);}}]);return Sl;}(Ye);Sl.identifier="filter";Sl.prototype.availableOptions={identifier:{type:b.STRING,"default":"identity"},intensity:{type:b.NUMBER,"default":1,setter:function setter(r){return this._selectedFilter&&this._selectedFilter.setIntensity(r),r;}},filter:{type:b.OBJECT,"default":new Ty(),setter:function setter(r){return this._selectedFilter&&(this._selectedFilter.dispose(),this._selectedFilter=null),this._selectedFilter=r,typeof this._options.intensity!="undefined"&&this._selectedFilter.set({intensity:this._options.intensity}),r;}}};Sl.FilterPrimitives=Ew;Sl.Filters=sk;Sl.Filter=be;we.Operations.FilterOperation=Sl;N8=Sl;});var Mh,W8,G8=d(function(){Y();Mh=/*#__PURE__*/function(_Ye5){_inherits(Mh,_Ye5);var _super116=_createSuper(Mh);function Mh(){var _this154;_classCallCheck(this,Mh);for(var _len70=arguments.length,e=new Array(_len70),_key70=0;_key70<_len70;_key70++){e[_key70]=arguments[_key70];}_this154=_super116.call.apply(_super116,[this].concat(e));_this154._flipContainer=new W.Container();return _this154;}_createClass(Mh,[{key:"_render",value:function _render(e){var _this$_options8=this._options,t=_this$_options8.outputResolution,i=_this$_options8.flipHorizontally,o=_this$_options8.flipVertically;if(i||o){var s=e.getDimensions();this._flipRenderTexture?this._flipRenderTexture.resizeTo(s):(this._flipRenderTexture=new W.RenderTexture(this._sdk.getRenderer(),s.x,s.y),this._flipSprite=new W.Sprite(this._flipRenderTexture),this._flipContainer.addChild(this._flipSprite));var n=i?-1:1,a=o?-1:1;this._flipSprite.setScale(n,a),this._flipSprite.setPivot(0,0),this._flipSprite.setPosition(s.x*(1-n)*.5,s.y*(1-a)*.5),this._flipRenderTexture.clear(),this._flipRenderTexture.render(this._container),this._renderTexture.render(this._flipContainer);}else this._renderTexture.render(this._container);return Promise.resolve();}}]);return Mh;}(Ye);Mh.identifier="flip";Mh.prototype.availableOptions={flipHorizontally:{type:b.BOOLEAN,"default":!1},flipVertically:{type:b.BOOLEAN,"default":!1}};we.Operations.FlipOperation=Mh;W8=Mh;});var rm,om,V8,j8=d(function(){var _se12;Y();(_se12=se,rm=_se12.Vector2,_se12),om=/*#__PURE__*/function(_Ye6){_inherits(om,_Ye6);var _super117=_createSuper(om);function om(){var _this155;_classCallCheck(this,om);for(var _len71=arguments.length,e=new Array(_len71),_key71=0;_key71<_len71;_key71++){e[_key71]=arguments[_key71];}_this155=_super117.call.apply(_super117,[this].concat(e));_this155._colorOverlayFilter=new W.Filters.ColorOverlayFilter({color:_this155.getTintColor()}),_this155._frameContainer=new W.Container(),_this155._resetSprites(),_this155._options.frame&&_this155._createSpritesForFrame(_this155._options.frame);return _this155;}_createClass(om,[{key:"_resetSprites",value:function _resetSprites(){this._spriteGroups={top:{},left:{},right:{},bottom:{}},this._sprites=[],this._repeatSprites={top:[],left:[],right:[],bottom:[]};}},{key:"_createSpritesForFrame",value:function _createSpritesForFrame(e){var _this156=this;if(!e)return this._disposeSprites();var t=e.imageGroups,i=e.layoutMode;this._layoutMode=i||"horizontal-inside",this._disposeSprites(),["top","left","right","bottom"].forEach(function(o){typeof t[o]!="undefined"&&["start","mid","end"].forEach(function(s){if(typeof t[o][s]=="undefined")return;var n=t[o][s];"image"in n&&(n=n.image);var a=W.Texture.fromImage(n),l=new W.Sprite(a);_this156._spriteGroups[o][s]=l,_this156._sprites.push(l),_this156._frameContainer.addChild(l);});});}},{key:"_render",value:function _render(e){var t=this._renderTexture.getDimensions();return this._options.frame&&(this._colorOverlayFilter.setColor(this.getTintColor()),this._updateSprites(e)),this._frameRenderTexture?this._frameRenderTexture.resizeTo(t):(this._frameRenderTexture=new W.RenderTexture(this._sdk.getRenderer(),t.x,t.y),this._frameSprite=new W.Sprite(this._frameRenderTexture),this._container.addChild(this._frameSprite)),this._frameSprite.setAlpha(this._options.alpha),this._options.frame&&this._options.frame.tintable?this._frameSprite.setFilters([this._colorOverlayFilter]):this._frameSprite.setFilters([]),this._frameRenderTexture.clear(),this._frameRenderTexture.render(this._frameContainer),this._renderTexture.render(this._container),Promise.resolve();}},{key:"_updateSprites",value:function _updateSprites(e){var t=e.getDimensions();this._frameWidth=Math.ceil(e.getDimensions().min()*this._options.scale),this._updateHorizontalSpriteGroup(e,"top",0),this._updateHorizontalSpriteGroup(e,"bottom",t.y-this._frameWidth),this._updateVerticalSpriteGroup(e,"left",0),this._updateVerticalSpriteGroup(e,"right",t.x-this._frameWidth);}},{key:"_updateHorizontalSpriteGroup",value:function _updateHorizontalSpriteGroup(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=e.getDimensions(),s=this._layoutMode==="vertical-inside",n=this._spriteGroups[t].start,a=this._spriteGroups[t].mid,l=this._spriteGroups[t].end,c=0,u=0,p,m;if(n){p=n.getTexture().getDimensions(),m=p.y/p.x,c=Math.floor(this._frameWidth/m);var h=new rm(0,i);h.x=s?this._frameWidth:0,n.setPosition(h),n.setHeight(this._frameWidth),n.setWidth(c);}if(l){p=l.getTexture().getDimensions(),m=p.y/p.x,u=Math.floor(this._frameWidth*m);var _h6=new rm(o.x-u,i);_h6.x-=s?this._frameWidth:0,l.setPosition(_h6),l.setHeight(this._frameWidth),l.setWidth(u);}if(a){p=a.getTexture().getDimensions(),m=p.y/p.x;var _h7=new rm(c,i),g=o.x-c-u;if(s&&(_h7.x+=this._frameWidth,g-=this._frameWidth*2),a.setPosition(_h7),a.setWidth(g),a.setHeight(this._frameWidth),this._options.frame.imageGroups[t].mid.mode==="repeat"){var v=this._frameWidth/m,S=Math.ceil(g/v),_=0;if(S!==-1){var I=Math.round(g/S);a.setWidth(I),_+=I,this._ensureRepeatSpritesExist(S-1,t,a);for(var E=0;E<S-1;E++){I=Math.round((g-_)/(S-E-1));var O=this._repeatSprites[t][E],V=_h7.clone().add(_,0).floor();O.setPosition(V),O.setWidth(I),O.setHeight(this._frameWidth),_+=I;}}}}}},{key:"_ensureRepeatSpritesExist",value:function _ensureRepeatSpritesExist(e,t,i){var _this157=this;i.getTexture().setMaxListeners(e+1);var o=this._repeatSprites[t].length;if(e>o){var s=e-o;for(var n=0;n<s;n++){var a=new W.Sprite(i.getTexture());this._repeatSprites[t].push(a),this._frameContainer.addChild(a),this._sprites.push(a);}}else e<o&&this._repeatSprites[t].splice(e).forEach(function(n){var a=_this157._sprites.indexOf(n);a!==-1&&(_this157._sprites.splice(a,1),_this157._frameContainer.removeChild(n),n.dispose());});}},{key:"_updateVerticalSpriteGroup",value:function _updateVerticalSpriteGroup(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=e.getDimensions(),s=this._layoutMode==="horizontal-inside",n=this._spriteGroups[t].start,a=this._spriteGroups[t].mid,l=this._spriteGroups[t].end,c=0,u=0,p,m;if(n){p=n.getTexture().getDimensions(),m=p.y/p.x,c=Math.floor(this._frameWidth*m);var h=new rm(i,0);h.y=s?this._frameWidth:0,n.setPosition(h),n.setWidth(this._frameWidth),n.setHeight(c);}if(l){p=l.getTexture().getDimensions(),m=p.y/p.x,u=Math.floor(this._frameWidth*m);var _h8=new rm(i,o.y-u);_h8.y-=s?this._frameWidth:0,l.setPosition(_h8),l.setWidth(this._frameWidth),l.setHeight(u);}if(a){p=a.getTexture().getDimensions(),m=p.y/p.x;var _h9=new rm(i,c),g=o.y-c-u;if(s&&(_h9.y+=this._frameWidth,g-=this._frameWidth*2),a.setPosition(_h9),a.setHeight(g),a.setWidth(this._frameWidth),this._options.frame.imageGroups[t].mid.mode==="repeat"){var v=this._frameWidth*m,S=Math.ceil(g/v),_=0;if(S!==-1){var I=Math.round(g/S);a.setHeight(I),_+=I,this._ensureRepeatSpritesExist(S-1,t,a);for(var E=0;E<S-1;E++){I=Math.round((g-_)/(S-E-1));var O=this._repeatSprites[t][E],V=_h9.clone().add(0,_).floor();O.setPosition(V),O.setHeight(I),O.setWidth(this._frameWidth),_+=I;}}}}}},{key:"_disposeSprites",value:function _disposeSprites(){var _this158=this;this._sprites.forEach(function(e){_this158._frameContainer.removeChild(e),e.getTexture().dispose(),e.dispose();}),this._resetSprites();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(om.prototype),"dispose",this).call(this),this._disposeSprites(),this._colorOverlayFilter&&this._colorOverlayFilter.dispose(),this._frameRenderTexture&&this._frameRenderTexture.dispose();}}],[{key:"validateFrame",value:function validateFrame(e){if(!e)return;var t=e.imageGroups,i=e.layoutMode;if(typeof e.identifier!="string")throw new Error("Frame needs a property `identifier` of type String.");if(_typeof(e.imageGroups)!="object")throw new Error("Frame needs a property `imageGroups` of type Object.");var o=function o(s){var _t$s=t[s],n=_t$s.start,a=_t$s.end,l=_t$s.mid;if(typeof t[s]!="undefined"){if(_typeof(t[s])!="object")throw new Error("Frame: `imageGroups.".concat(s,"` needs to be of type Object."));if(typeof n!="undefined"&&!(n instanceof Sr||typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement))throw new Error("Frame: `imageGroups.".concat(s,".start` needs to be of type Image."));if(typeof l!="undefined"&&!(n instanceof Sr||typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement)&&_typeof(l)!="object")throw new Error("Frame: `imageGroups.".concat(s,".mid` needs to be of type Image or Object."));if(typeof a!="undefined"&&!(a instanceof Sr||typeof HTMLImageElement!="undefined"&&a instanceof HTMLImageElement))throw new Error("Frame: `imageGroups.".concat(s,".end` needs to be of type Image."));}};if(typeof i!="undefined"&&["vertical-inside","horizontal-inside"].indexOf(i)===-1)throw new Error("Frame: `layoutMode` must be one of vertical-inside, horizontal-inside");if(typeof tintable!="undefined"&&typeof tintable!="boolean")throw new Error("Frame: `tintable` needs to be of type Boolean.");o("top"),o("left"),o("right"),o("bottom");}}]);return om;}(Ye);om.identifier="frame";om.prototype.availableOptions={frame:{type:b.OBJECT,validation:om.validateFrame,setter:function setter(r,e){return e||this._createSpritesForFrame(r),r;},"default":null},alpha:{type:b.NUMBER,"default":1},tintColor:{type:b.COLOR,"default":new K(1,1,1,0)},scale:{type:b.NUMBER,"default":.1}};we.Operations.FrameOperation=om;V8=om;});var $8,q8=d(function(){$8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAAAAADRE4smAAAsTElEQVR4Ae1d4bHjOM5ECAgBISgEZLDOwMrAysDMwMpAzkCTAUNQCAyBIfCr2ifI1DNh+c1tfTMg3b9udtZXC7tJdgMgCP8foJAUBIJx92eoEy5puAKkHH1jX0AchqoJcLwGlv1fDVAnyKtfQMoB1WLQKBBCyuCgVvQhvQGoF3RPb2Bs/AsgEDS6BqbGvwACaHsT+AV1AK/4W18AQy3gCxTAR2vAQxW4xHSD3/kC/qlI9NK7hqg6H8SLspiPv4C+kv0v6ouZQuUEEMfndUtcOQH6qJ9nR2sg1kD+FSdQ4GLS4MA82B+uZvJJRQXkFwT8uRp2VQl99xuGiOyTX4//+AuYqtj/BBGPiVITATjtEel4pdRFAJ/2uP08K9KBYXwPaT5OC9Vlg/kneQ0cUwHcQvz6F7BAXVuA/3GNsG8ofqBQmw3uUg7dCglcZQSgJHizvO1qy4OM3wPCH64BV1fnR8QfdkqAcWD86Q86KP9+o/EjGMfwrhVSpPPUWvy9YoMbsEIqAVrSgXBSCFC3FdK/sV+txc/Kv93OEpgrawiYfybsSWkIaMcK3SurB1P8Ufyk2OB2rNCoEKCV+BW2tGOFXG2N0RiUkkgZUfmumrFCfW0EgNOPKlxB6YtvQAcqRrix+BfFBjdjhVgnQL3xk+cyWwYQVG6FLjOs6PTjotaSCF5T8iUXJLSo3gqxT4kLPig6BKheB1/+/dvzEwGi/KParSDN+arAtMFTA/Gz3+8KTiF/tVZoaxx034zwwlAPvsc/7cifx+8U8tdqhfqwXxVihOMAgnp1sJA/lzu9Tv4KrRD7fFVki2VE+IuB3anvT0z/Y/x9KBRKexPkJ+77njv835YA3kvuaPm79z+6zDGtiP5Mv1sSObMv7gr8l5MfkMclCZaJf9sK0TUWd4U58N8b/NWnb5jo9+KPShM4EvzN4DGmPcL5p1ZIgVghhr8VNBZjuP4P8Rsr/fReGW72UyukIKDJeRYz/rQkoiAYHWkSTz+2QgrOVq657bG8xYAlHWBEQzcdf+OH43SAcPp7o3/N3un34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQV8iu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6P3wT5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvJT0y5+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1Wp5DfxAqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD5ZIL8gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mhfyaTOQKZl7e9RWg1ggnVO4D/TJ+q5UV8mstLX0Fjz/E1wW/Uo/EoGb9gu1O5vhWgTzqBGAwAER9C3RKj4SqlIO5sacEpPNfJ38OBstHAIdJlwD/vDXk3wNYPQLwFmHO/6wE9rKwPWilv2DkcRNWy9esng45olr9PhuYbQ+JtQ3Qq4VdTSo6S+FvZ5pXNSC/1+NL2ZdkpuNXDjTI42f9BNPj90ohMRh42UyYqhRuemUJ6GJ3MLMC5ECDlAaFAPG9MnEoN9IFMvCymaxUhQCjniXL0ZeXiTPR8Qqi449nNnL5ik8oCqURDb1l7RQCeM0kRX2jGIKBxP8lJgHk8XdpB1eO32F8ofV49H6+oKWXfVIkpRkCi0sgcP/qpOhn7ye2sfmlBLmKobK8FbB0RATbo037qCazx9dL4L4WtXtrCS/dzcLuN4yvbcy4bmzRMgHQv0hmDOoSEB044pMaYMvsh10I/nUqE4fCRjFazfaWWNwdXF7tu8JGgXbHdwkBgvK3DgowvQFq15WGstWLeFw0DaYn14DEf/zwn1ozNoZRKWm8//Bfb3i0JZYJIPHHN24BX5NxDfjqzdrhjQkGFCxvgaFIgHRTVsd01DR5tj7OX0D7M0CXeLiYrvneiwSQ0h0fzoK4Ku0AhhBfpbTno1kQtNh+7HZQCOA1hRToVUnU2Z/jK2BtpsFVSaLZ1ECsEECPP02kNgQGsj/NXxBUkxDOek+UA2NAjQABdZPkXX/qR68PSrG8BjYM+t+G+XLq+zEqrDGFRSFAcppE0jGBRWAqI6JmE3WQ9Unu8BS/SwewpADZB3p/eNdNqXtbHXOHt3Q9ssHwvJ6X9CYCWah7BDq+AK1YoUO4v7/j5Xpgg+FZB1Os4/cXyRo6RQWqVnCs4fdnr031jBoBJH6u4vfvo+bks5KPL2d9vPXfP/frE2rFkCWmBCVR36djeAQ7Qx4HbXKRi0VVg0s6RBysdLwspKjA6FKCoqrrjZ9+eE97XBUn5IdyXMcMCJ2dmn8gpSDIIUH5dz2F4zlxpobcXpU1AF6p/45mh9yyks0tqMChT6DUfynYnHCqXuCasOiEmLXUxhBNDrnFosWJXdEG/wIPapf/EEwOeew0AbdQcQ08VQb4cFh6OMNfC3XC97lUDInAcNfiB3IFCsSRrOV5BYEKTsg/uV5/MC7cn420O+mH4JAnPlCLv/BcQvQXNFbvVhiQrQFwL9YK3UPKEUa2NOFBYQDv7JF7md1EdrMPIYRlujDaerNSV+5Z0AwYXia4u370SwghzGNPxjL9Snsb7u4vY1B0sFW4N6a8nnK+99YrvDr/leaeZdf3zjXEj1d+a9bt9fsa8HJwmn6+mafCAa8L4fu++uHtlzgvMS1lHagwIORrgBUrZAXkc/EejvP3w/7A72zHL2p9KEhh9SS857ZHt0I2Nr+9cuHjCk73Le0xWo4faM7Fi8SnY8anNaBbIRObn3bFWU8JbfFGoEL8wRT/47a2VSnsn05CzoTwgRUyUvSKqPW9h+fhlz4JYJAzwaYO7PPgOk0KB/d9H8QkiGDXCtFccHmFzMY+umu+QmASX2AvfmVqcYnRw/CNAVnEnS0rpBe9WOV/950BfRJALAoHYZOxtJcqhSP2307CMd/ubVohWf7H/Hffyts3SgJYI/UmdeC91KWqMLqLiiz4VSSTN8j/k6YDI+KeLXNGgKHUCBjPNtNeuhRm9SnIWBSOHu2lfXX+T2qNBNJUEA4zGU376lLY6z0O3TOZ4mCc/4Uit1MIEOX/TG93MPTEmS6FWWOAeL7BzstmgkGb51AocisMgE3uDAr5jZX/dSmMGgN+fSuReDJ3zUsw61ZQYUA2KNIL+U3Bvy+FtUeR445Mgc3zX81suCIBpJDEOvkrkcLajLDu8YE41ML/U0kf9CUCxE04LDr565DCYh2VxC/FEcEWKCqxKEVujs8E2HIeevD1SOHiPvgL7H4Dig9Si9xdeCZADzoqk8JlBkQQVMN/vchL4YkAE+ioTAorDOgq4n8ijRsLFBgAevW3Vil8XP21rwOVMAsMAL32V6UUVh74a4v/uRkG/U3LOqWwMCPqN32sTz0LKjduz6MOQc/7ViqFV3RRz/tWy//0/DAC6KhZCstJeFz3qq0kJhiVza8RKSwMsL//6SUxhf8Cp2x+DUhhAS0D1IGT4mtf9vs6ZfNrRQofo9KSmIrWpDA0wf/3+30blMI6Ki6JKfxvUwq/j6q6IxW0I4W7tvgfj940b0wK+w5qRFAHeTtlvGGbUjgw6KjUB0VlvF2DUjg6bJD/vbL5tSeFp5r5T/pkOK9sfo1JYc/N8l/Z/JqSwvHcMP/vyubXkBRmhHpx3B3JoKANHdgAlO5IDQ1JYQUf/rcmhQUf/rcqhVsAxWb5r0hhT9AU3NGzNm1J4cAN8l/J+zYohaOD9tD/DZvfnyUe/3n+I8Ifg//jmx/58Oel8B/N+/Z/cu/hP7z54e2Pdx5STOEEfwzs/2zn3f3PHv7zX9B5ODj80zJs+pPzY/nPZ2Ju0CrEifEn/laBsc0cHLYXv/IN9E3m4Pp43WViTtAY8Ba3aWON5aBlbvuMz/ETNIJrfFxG4awdA7GJ6LNHqfL4Ox8RWgCG3ZNU960d4xKnlkpwgTIrSHhrxw/E7DaK6KD5a2PklhLQoXsUJZfYkB9Y8iepxAr5NmryMq81PMSvU14eqBf37QsI9O2emkeoFnilx0Ocp7AdgxhaqUjy7WF9fP9gADexAK4xzY8dcKAHA06///KAwSc7ZQ/E/nEO+tpvIsmUJd52QL/NXcKv+MOp+txHSml57IH/iBgaVkZ4qt/6+G0HjCgMWAi4bvLnfn/Y9sARoM+e5lu4kfhlB2S4xM0O9tRKE27ETQUC3pMwAIdm4pcdcPZJMEETkNKnJMBvMQn+qTrvG1OcSF7rcPtGvFC/9cOrT2m5kGTAut3LJUvlhz/N35+gpWz06Ii01H74c5CDLit94sP29YFrJn9MgnMW/yC2r3p0Pr90MmzZzlCr7dMf645Z/Czjh6ov+n67f71I6fMuJ38D5J8uX0d+v/I+rDtggMohNic697Xgs9LnIJaoWuD2sJ4YgCmLP3z54KpB4FehIwWvTqzQ15dT+eE/SLCS650yK3iv/hoe+Yji+0T2sjBhAqxXAIjyjbj6PiHAmFnhE9du/f4N8+H7vPwP6YJ1VP3hL/HTVgeQ+CO1cfh3m+85i+hZrdDYgvL14vtWLzjRGn/1RV8vJn/1PYPPHtzoK099bQl+3l++li9gEPdfd+pLCL8kwfbizFz34S+hFudwTQSC6lNfJymBtTSD4ZYEAfP4fWil4yskgcvvX8dx/Yula2XulNuXAF1sYgOA8fvYPfF9dK99A5D4w2nO4xcrTN5zI1f9PIv4391+7MOI9ccfHK6kn9+4/VkhJYaFt6CPbz8i16J888O9EP8vRS8PUAl4waf+t+Xw9ieHiJUo3/Acv89aoEnRyxGrSX255/dIhk0HRYdKwuxWS9F3F3+/i39hvVTsqkl9RVL6/4DTiHrCrKsj7RUH0OLHF59yWE3qy3dPfkiWd/fiU1xH3nfCkh90x58yD17KGR6pg+gJsypsYU5jhAx3PX4RhvHfT3FXw0VXh/IFvDf6xT0WAF7R8JAT9+hz9f4p/tAdTQbqvOXZGLj7nS9xeIpx1oLbbMIlJmdV+fot/q9N/Vv8+gEvNgFvpnXgJQ6yBZwK8/5C8nx0TYa9yEeTh/9Z6n1TfJr3h8W0FxLhI/5oeEjc+ovLiJv5WfTwAOVvQGSyIJ6sKt8t/jcFbf81lvUs8RuWwXSXXzyvf+BhxiSk9HVNhvRP2VK+nBf7jz8ldyS6/FNosugr7L2r87aVT8k1GfmUtS+A/I6582O0Q3c7/pQwYFTkowWcQj5imzJPc+GDTwmmVT4tIiYMYc74fpL4py9ZwMfk37eLiZiwBIyZ9esyT8OKpxHJkGOQazIiJuyAokg39om3+C9Rv+zRxfV37/u7XBTL5WNAm/Nt8RrD5mlo1j2NNMdF11+CXJRaFPloJf5/A172I45id5j56cQ5B7ONUlLs4vBlfk+Zp5mV/f9pKNgAbPCRenfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK88OKdURvy4Bb+uxIuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs2QjE60giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOloBkfkwhT10PUv8BD8BBL9/KtoEwbicF4GIsfKV5fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYC3zozWvbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgvhhge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSsxu/fo/7JfjRJDz0KSWULJB5DBLIYfzrybeElDxYjl8J7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxtwtxfk3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaCBw98KPvjggw8++OCDDz744IMPPvjggw8++OCDDz744IMP8NZD22APDeMaU9sEIN9w+4k81dAu8CpjdxqAPoqpVcgYcmyY/A01oOlz+Klh8rdLAJqTgNokv+AXtAH9AT5ul/zN3kAKSdDiDaQh5QjQHkLK0TfH/+YJsKQcAzSGLuWIrd6/EbRnhCntAO1hVAZWt4KYchBA2yqoPSMcWifAqXECzClHB82hS40ZYTzrGqiNPAjvosSUY2kh7xsIHnAt2WCpe11VFRQaKPru3W7fFAGk7hVIUUGxhaJvyq/dc8rhWql7hbOigmonvyB0xUSAa6bulW5YVEFYPfkFcg4244Kk7iUIVFJBVD/5BQs9H4FTE0VfwbWggromyJ+fg0vK4Nso+u6kUFe/ERbyP+EmR2DlBOh8KiMwANXvgygkBYFgbMEGu6ThCqAQoI0vIA6DToAm1sBCoYWGAPLqF9CIDR40CoTQhhHuQ3oDUC/ont7A2PgXQCBodA1MjX8BBND2JvCrmrwHvvsFVGqD+aJUw17DV5P3vcHvfAH/VCR66V1DVJ0P4kVZzMdfQF9R3tfrjlBHqMfxedUS106APurn2dEaiBUVPU6gwMWkwdVU9wov14iCCsgvCPhzNTxWJfTdbxgiqqjo637uCKeqir4RD4hSGQE47RHpYKVURwBfKHf+cA10NdzyEMwHaaHqbDD/JK+BYyqAW4hf/wIWqGsL8D+uEfYtxK9/AaGqez5ihXS4yghA6RuGHzYKhLou++pWSF0Drq7Oj4g/7JQA48D40x900P/9FuNHMI7hXSukSOeptfh73QY3YIV0ArSiA+GkEKBuK6R/Y79ai5/1f7uRJTBX1hAw/0zYk94Q0IgVuldWD6b4o/hJt8GNWKFRJ0AT8etsacQKudoaozHoJZECov5dtWGF+toIAKcfVbiC3hDQhg7UjXAb8S+6DW7DCrFCgKrjJ89ltgwgqNwKXWZlXK4QoNaSiEyL8SUXJLSo3gqxT4kLPig6BKhcB8u0mPMTAaL8o9qtIM35qsC0wVMD8bPf7wpOIX+1VmhrHHTfjPDCFc4AFkw5+XfxO4X8tVqhPuxXhRjhOICgXh0s5M/lTq+Qv04rxD5fFdliGRH+YmB36vsT0/8Yfx8KhdLeBPmJ+77nDv+3JYD3kjta/u79jy5zTCuiP9PvlkTO7Iu7Av/l5AfkcUmCZeLftkJ0jcVdYQ789wZ/9YXZZr8Vf1SawJHgbwaPsTje7n0rpEKsEMPfChqLMVz/h/iNlX56rww3+6kVUhDQ5DyLGX9aElEQjI40iacfWyEFZ1OzTTcs+LMX0RSMaGm87c9/OE4HCKe/fbK/hun34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQJ8uu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6I3xL5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvsXoSR+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1WZ4L8ygqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD4J+S0gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mjfyKTOQKZl7e9RWg1ggnVO4D/TJ+q5U18istLX0Fjz9EreCnP4E5qFm/YLuTOb5VII86ARgMAFHfAp3aI6Eo5WBu7CkB6fzXyZ+DwfIRwGHSJcA/bw359wBWjwC8RZjzP2uBvSpsD1rpLxh53ITV8jWrp0OOqFa/zwZm20NibQP0emFXkYrOUvjbmeZVDcjv9fhS9iWZ6fiVAw3y+Fk/wfT4vVJIDAZeNhOmKoWbXlsCqtgdzKwAOdAgpUEhQHyvTBzKjXSBDLxsJitVIcCoZ8ly9OVl4kx0vILo+OOZjVy+4hOKQmlEQ29ZO4UAXjNJUd8ohmAg8X+JSQB5/F3awZXjdxhfaD0evZ8vaOllnxRJaYbA4hII3L86KfrZ+4ltbH4pQa5iqCxvBSwdEcH2aNM+qsns8fUSuK9F7d5gwktxs7D7DeNrGzOuG1u0TAD0L5IZg7oERAeO+KQG2DL7YReCf53KxKGwUYxWs70lFncHl1f7rrBRoN3xXUKAoPytgwIMb4D6daWhbPUiHhdNg+nJNSDxHz/8p9aMjWFUShrvP/zXGx5tiWUCSPzxjVvA12RcA756tHh4Y4IBBctbYCgSIN2U1TEdNU2erY/zF9D+DNAlHi6ma773IgGkdMeHsyCuSjuAIcRXKe35aBYELbYfux0UAnhNIQV6VRJ19uf4ClibaXBVkmg2NRArBNDjTxOpDYGB7E/zFwTVJISz3hPlwBhQI0BA3SR515/60WuDUmyvgQ2D/rdhvpz6fowKa0xhUQiQnC6RNExgEZjKiKjbRA1kfZI7PMXv0gEsKUD2gd4f3nXT694mx9zhLV2PbDA8r+clvYlAFuoegY4vQCtW6BDu7+94uR7YYHjWwRTr+P1FsoZOVYGKFRxr+P3Za1M9o0YAiZ+r+P37qDj5vOTjy1kfb/33z/36hFoxZIkpQUnU9+kYHsHOkMdBm1zkYlHV4JIOEQcrHS8LKSowupSgqOp646cf3tMeV8UJ+aEc1zEDQmen5h9IKQhySFD+XU/heE6cqSG3V2UNgFfqv6PZIbesZHMLKnDoEyj1XwomJ5zqF7gmLDohZi21MUSTQ26xaHFiV7TBv8CD2uU/BJNDHjtNwC1UXANPlQE+HJYezvDXQp3wfS4VQyIw3LX4gVyBAnEka3leQaCCE/JPrtcfjAv3ZyPtTvohOOSJDyzErz2XEP0FbdW7FQbkawDci7VC95ByhJEtTXhQGMA7e+ReZjeR3exDCGGZLozW3qxUlHseNAOGlwnurh/9EkII89iTsUy/0t6Gu/vLGBQdbBXujSmvp5zvvfUKr85/pbln2fW9cw3x45XfmnV7/b4GvBycpp9v5qlwwOtC+L6vfnj7Jc5LTEtZByoMCPkaYMUKWQH5XLyH4/z9sD/wO9vxi1ofClJYPQnvue1RrJCZzW+vXPi4gtN9S3uMluMHmnPxIvHpmPFpDShWyMjmp15x1lNCW7wRqBB/MMX/uK1tVQr7p5OQMyF8YIWMFL0ian3v4Xn4pU8CGORMsKkD+zy4TpPCwX3fBzEJIti1QjQXXF4hs7GP7pqvEJjEFxiLX59aXGL0MHxjQBZxZ84KKUUvVvnffWdAnwQQi8JB2GQs7aVK4Yj9t5NwzLZ7o1ZIlv8x/9238vaNkgDWSL1JHXgvdakqjO6iIgt+FcnkDfL/pOnAiLhny5wRYCg1AsazzbSXLoVZfQoyFoWjR3tpX53/k1ojgTQVhMNMRtO+uhT2eo9D90ymOBjnf6HI7RQCRPk/09odTD1xpkth1hggnm+w87KZYNDmORSK3AoDYJM7g0J+Y+V/XQqjxoBf30oknsxd8xLMuhVUGJANivRCflPw70th7VHkuCNTYPP8VzMbrkgAKSSxQv56pLA2I6x7fCAOtfD/VNIHfYkAcRMOi0L+aqSwWEcl8UtxRLAFikosSpGb4zMBtpyHEnxVUri4D/4C5Ruw7IOUIncXngnQg4L6pHCZAREENfFfKfJSeCLABDoqk8IKA7qK+J9I48YCBQaAXv2tVQofV3/t60AlzAIDQK/9VSuF9Qf+GuF/boZBf9OyTikszIjaTR/7U8+Cyo3b86hD0PO+lUrhFV1U8r418z89P4wAOqqVwnISHte9KiyJCUZl82tECgsD7O9/eklM4b/AKZtfA1JYQMsAdeCk+NqX/b5O2fxakcIHqLckpqI1KQxN8P/9ft/mpLCOqktiCv/blMLvo6ruSAXtSOGuLf7HozfNG5PCvoMaEdRB3k4Zb9imFA4MCur1QVEZb9egFI4OG+R/r2x+7UnhqWb+kz4ZziubX2NS2HOz/Fc2v6akcDw3zP+7svk1JIUZoWocdEcyKGhABzYAvTtSQ0NSWMGH/61J4Q//Bc1J4YZAsU3+61LYEzQFd/SsTVtSOHCD/Ffyvg1K4eigPfTK5tcQuG3++9Y2P+Ur8Nwy/6ODhkExhRM0i7tsfu1icNgy/2eGD+zDMhAaByI0DPIB2kbfsgbDmxSiWwV7aURoErNy/aSxXNwErYKU6yetpeP5E3/bW4BvL+724le+gb7JQmwfr7ty3Kk99Ru7PBcdsDXlm2Z8jp+gBci77UNejnINpQSu2cukefydb8QPYNi9S3rfenIvcWqpDytQZgUJb+34gZhdSRYdNH9tjNxSF0LoHp1pS2zIDyz5u6RihXwbjZkytD88xK/Tn5+qFPftCwj0bViBR6gWeKXHa+ynsB2DGFppS+Pbw/r4/sEAbmIBXGOaHzvgQA8GnH7/+SmD77bLHoj94xz0tV9Hl1GbvO2Afhu+iV/xh1P1uY+U0vLYA/8RMTSsjPBUv/Xx2w4YURiwEHDd5M/9/rDtgSNAn73PvHAj8csOyHCJmx3sqZX204ibCgS8J2EADs3ELzvg7JNgaqv0KQnwW0yCf6rO+8YUJ5In29z+Nkao3/rh1ae0XEgyYN3u+bql8sOfZtnlJH7K5s+PSEvthz8HOeiy0ic+bF8fuGbyxyQ4Z/EP1ds+Qefzm8fDlu0MVds+QR/SAzGLn2UGZQstjxscwCKlz7uc/A2Qf7p8Hfn9yvuw7oABKofYnOjc14LPSp+DWKJqgdvrymIApiz+8OWDqwaBX4WOFLw6sUJfX07lh/8gwUqud8qs4L3668jkI4rvE9nLwoQJsF4BIMo3ovi+lQBjZoVPXLv1+zfMh+/z8j+kC9ZR9Ye/xE9bHUDij9TG4d9tvucsome1QmMLyteL71u94ERr/NUXfb2Y/NX3DD57da2vPPW1Jfh5P4FHvoChbvcvqS8h/JI2yLODc92Hv4RaHMY6EQiqT32dpATW0iCuWxIEzOP3oZWOr5AELh/CE8f1L5auleGjbl8CdLGJDQDG77OXxffRvfYNQOIPpzmPX6wwec+NXPXzLOJ/d/uxDyPWH39wuJJ+fuP2Z4WUGBbegj6+/Yhci/LND/dC/L8UvTxAJeAFn/rflsPbnxwiVqJ8w3P8PmuBJkUvR6wm9eWeH6UbNh0UHSoJs1stRd9d/P0u/oX1UrGrJvUVSen/A04j6gmzro60VxxAix9ffMphNakv3z35IVne3YtPcR153wlLftAdf8o8eClneKQOoifMqrCFOY0RMtz1+EUYxn8/xV0NF10dyhfw3ugX91gAeEXDQ07co8/V+6f4Q3c0Gajzlmdj4O53vsThKcZZC26zCZeYnFXl67f4vzb1b/HrB7zYBLyZ1oGXOMgWcCrM+wvJ89E1GfYiH00e/mep903xad4fFtNeSISP+KMoJbsTHmXEzfwseniA8jcgMlkQT1aV7xb/m4K2/5rNf5b4Dctgussvntc/8DBjElL6uiZD+qdsKV/Oi/3Hn5I7El3+KTRZ9BX23oXK9Oan5JqMfMraF0B+x9z5Mdqhux1/ShgwavLRAE4hf2eFMk9z4YNPCaZVPi0iJgxhzvh+kvinL1nAx+Tft4uJmLAEjJn16zJPw+JpFMmQY5BrMvbGRVMU6cY+8Rb/JeqXPbq4/u59f5eLYrl8DGhzvi1eY9g8Dc26p5HmuOj6S5CLUosmH43E/2/Ay37EUewOMz+dOOdgtlFKil0cvszvKfM0s7L/Pw0FG3L56DuwAXfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK29PKtURvy4Bb+vFSuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs+QjE40giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOl4BkfiwhT10PUv8BD8BBL9/KtoEwbicF4GIpfL15fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYCvzozevbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgrhlge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSMx2/co/7JfjRJDz0KSWULJB5DIeBSPzrybeElDyYjV8P7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxNwtxfm3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaC5w/+DDz744IMPPvjggw8++OCDDz744IMPDABvPbQN9tAwrjG1TQDyDdceZU53u8CrzFxoAPocjlYhM2ixXfK31H2gD2GmhsnfLgFoTgJqk/yCX9AMlNeXuF3yN9t+HpKgxfbzIeUI0B5CytE3x//mCbCkHAM0hi7liK02XwvaM8KUdoD2MCrTSltBTDkIoG0V1J4RDq0T4NQ4AeaUo4Pm0KXGjDCeFQ3UTB6Ed1FiyrG0kPcNBA+4lmyw1L2uqgoKLRR9d263b4oAUvcKpKig2ELRN+V3LjnlcK3UvcJZUUG1k18QumIiwDVT90o3LKogrJ78AjkHm3FBUvcSBCqpIKqf/IKFno/AqYmir+BaUEFdE+TPz8ElZfBtFH13Uqir3wgL+Z9wkyOwcgJ0PpURGID+qA/6P9HpZtdg1QgHAAAAAElFTkSuQmCC";});var X8,K8=d(function(){X8="uniform sampler2D u_image;\nuniform sampler2D u_watermarkTex;\n\nvarying vec2 v_texCoord;\n\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 watermarkColor = texture2D(u_watermarkTex, v_texCoord);\n\n  if (watermarkColor.r > 0.8) {\n    gl_FragColor = mix(color, watermarkColor, 0.3);\n  } else {\n    gl_FragColor = color;\n  }\n}\n";});var Fy,Y8=d(function(){Y();K8();Fy=/*#__PURE__*/function(_W$Filter22){_inherits(Fy,_W$Filter22);var _super118=_createSuper(Fy);function Fy(){var _this159;_classCallCheck(this,Fy);for(var _len72=arguments.length,e=new Array(_len72),_key72=0;_key72<_len72;_key72++){e[_key72]=arguments[_key72];}_this159=_super118.call.apply(_super118,[this].concat(e));_this159._fragmentSource=X8;return _this159;}_createClass(Fy,[{key:"_applyWebGL",value:function _applyWebGL(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=e.getContext(),n=s.canvas,a=this.getShaderForRenderer(e),l=t.getFrame(),c=this._watermarkCanvas;(!c||l.width!==c.width||l.height!==c.height)&&this._createWatermarkCanvas(l.width,l.height);var u=W.Texture.fromCanvas(this._watermarkCanvas),p=u.getBaseTexture();e.updateTexture(p),p.setGLUnit(1),e.setRenderTarget(i),o&&i.clear(),e.setShader(a);var m=e.getCurrentRenderTarget().getProjectionMatrix().toArray();a.setUniform("u_projMatrix",m),a.syncUniforms(),s.uniform1i(s.getUniformLocation(a.getProgram(),"u_watermarkTex"),1),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t.getTexture()),s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,p.getGLTextureForRenderer(e)),s.drawElements(s.TRIANGLES,6,s.UNSIGNED_SHORT,0),u.dispose();}},{key:"_createWatermarkCanvas",value:function _createWatermarkCanvas(e,t){var i=this._options.watermarkImage,o=G.createCanvas();o.width=e,o.height=t;var s=o.getContext("2d"),n=s.createPattern(i,"repeat");s.fillStyle=n,s.fillRect(0,0,o.width,o.height),this._watermarkCanvas=o,this._watermarkContext=s;}},{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),l=this._options.watermarkImage;this._createWatermarkCanvas(s.width,s.height);var c=n.getImageData(0,0,s.width,s.height),u=this._watermarkContext.getImageData(0,0,s.width,s.height),p=new K(),m=new K(),h=new K();for(var g=0;g<s.width*s.height*4;g+=4){p.set(c.data[g]/255,c.data[g+1]/255,c.data[g+2]/255,c.data[g+3]/255),m.set(u.data[g]/255,u.data[g+1]/255,u.data[g+2]/255,u.data[g+3]/255),m.r>.8?h.copy(p.clone().mix(m,.3)):h.copy(p),c.data[g]=h.r*255,c.data[g+1]=h.g*255,c.data[g+2]=h.b*255,c.data[g+3]=h.a*255;}a.putImageData(c,0,0);}}]);return Fy;}(W.Filter);Fy.prototype.availableOptions={watermarkImage:{type:b.OBJECT,required:!0}};});var Lh,J8,Z8=d(function(){Y();q8();Y8();Lh=/*#__PURE__*/function(_Ye7){_inherits(Lh,_Ye7);var _super119=_createSuper(Lh);function Lh(){var _this160;_classCallCheck(this,Lh);for(var _len73=arguments.length,e=new Array(_len73),_key73=0;_key73<_len73;_key73++){e[_key73]=arguments[_key73];}_this160=_super119.call.apply(_super119,[this].concat(e));te(_assertThisInitialized(_this160),"_applyWatermarkFilter",function(){return _this160._watermarkFilter||(_this160._watermarkFilter=new Fy({watermarkImage:_this160._watermarkImage})),_this160._sprite.setFilters([_this160._watermarkFilter]),_this160._renderTexture.render(_this160._container),Promise.resolve();});te(_assertThisInitialized(_this160),"_loadWatermarkImage",function(){return _this160._watermarkImage?Promise.resolve():new Promise(function(e,t){_this160._watermarkImage=new Sr(),_this160._watermarkImage.onload=e,_this160._watermarkImage.src=$8;});});_this160._watermarkFilter=null,_this160._watermarkImage=null;return _this160;}_createClass(Lh,[{key:"_render",value:function _render(e){return this._loadWatermarkImage().then(this._applyWatermarkFilter);}},{key:"dispose",value:function dispose(){this._watermarkFilter&&this._watermarkFilter.dispose(),_get(_getPrototypeOf(Lh.prototype),"dispose",this).call(this);}}]);return Lh;}(Ye);Lh.identifier="license-watermark";Lh.prototype.availableOptions={};we.Operations.LicenseWatermarkOperation=Lh;J8=Lh;});var e6,Q8=d(function(){e6="/*!\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_controlPoint1;\nuniform vec2 u_controlPoint2;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 vector = u_controlPoint2 - u_controlPoint1;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    float radius = smoothstep(0.0, 1.0,\n      abs(\n        clamp(dot(v_texCoord - u_controlPoint1, vector) / dot(vector, vector), 0.0, 1.0)\n      )\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n      float percent = (t + offset - 0.5) / 30.0;\n      float weight = 1.0 - abs(percent);\n      vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n      color += _sample * weight;\n      total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n";});var oa,nk,Oy,t6=d(function(){var _se13;Y();Qu();Q8();(_se13=se,oa=_se13.Vector2,_se13),nk=/*#__PURE__*/function(_W$Filter23){_inherits(nk,_W$Filter23);var _super120=_createSuper(nk);function nk(){var _this161;_classCallCheck(this,nk);for(var _len74=arguments.length,e=new Array(_len74),_key74=0;_key74<_len74;_key74++){e[_key74]=arguments[_key74];}_this161=_super120.call.apply(_super120,[this].concat(e));_this161._fragmentSource=e6,_this161._lastBlurRadius=null,_this161._lastControlPoint1=new oa(),_this161._lastControlPoint2=new oa(),_this161._blurFilter=new wr(),_this161._blurredRenderTarget=new W.CanvasRenderTarget(100,100,1),_this161._maskRenderTarget=new W.CanvasRenderTarget(100,100,1);return _this161;}_createClass(nk,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var _this162=this;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;if(this._options.blurQuality==="low"){this._renderLQBlur(e,t,i,o);return;}var s=t.getDimensions(),n=!i.getDimensions().equals(s);if(t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n){var l=new oa(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(l);var c={blurRadius:this._options.blurRadius,texSize:s},u=function u(v,S,_){return Math.min(Math.max(v,S),_);},p=function p(v,S,_){var I=u((_-v)/(S-v),0,1);return I*I*(3-2*I);},m=this._options.controlPoint2.clone().subtract(this._options.controlPoint1.clone()),h=this._options.blurRadius,g=function g(v,S){return p(0,1,Math.abs(u(new oa(v,S).subtract(_this162._options.controlPoint1).dot(m)/m.dot(m),0,1)))*h;};this._blurFilter.set(c),this._blurFilter._applyCanvas(e,t,i,o,g),this._lastBlurRadius=this._options.blurRadius;}}},{key:"_renderLQBlur",value:function _renderLQBlur(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getDimensions(),n=!this._blurredRenderTarget.getDimensions().equals(s);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());var a=!this._lastControlPoint1.equals(this._options.controlPoint1)||!this._lastControlPoint2.equals(this._options.controlPoint2)||n,l=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n;a&&(this._renderMask(),this._lastControlPoint1=this._options.controlPoint1.clone(),this._lastControlPoint2=this._options.controlPoint2.clone()),l&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,i);}},{key:"_renderMask",value:function _renderMask(){var e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),i=new oa(e.width,e.height),o=this._options.controlPoint1.clone().multiply(i),s=this._options.controlPoint2.clone().multiply(i),n=t.createLinearGradient(o.x,o.y,s.x,s.y);n.addColorStop(0,"#FFFFFF"),n.addColorStop(1,"#000000"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height);}},{key:"_applyMask",value:function _applyMask(e,t){var i=t.getContext(),o=e.getCanvas(),s=e.getContext(),n=this._blurredRenderTarget.getContext(),a=this._maskRenderTarget.getContext(),l=s.getImageData(0,0,o.width,o.height),c=l.data,u=n.getImageData(0,0,o.width,o.height).data,p=a.getImageData(0,0,o.width,o.height).data,m;for(var h=0;h<o.width*o.height*4;h+=4){m=p[h]/255,c[h]=m*c[h]+(1-m)*u[h],c[h+1]=m*c[h+1]+(1-m)*u[h+1],c[h+2]=m*c[h+2]+(1-m)*u[h+2];}i.putImageData(l,0,0);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(nk.prototype),"dispose",this).call(this),this._blurFilter.dispose(),this._blurredRenderTarget.dispose(),this._maskRenderTarget.dispose();}}]);return nk;}(W.Filter);nk.prototype.availableOptions={blurRadius:{type:b.NUMBER,"default":30,uniformType:Z.FLOAT},controlPoint1:{type:b.VECTOR2,"default":new oa(0,.5),uniformType:Z.FLOAT2},controlPoint2:{type:b.VECTOR2,"default":new oa(1,.5),uniformType:Z.FLOAT2},delta:{type:b.VECTOR2,"default":new oa(1,1),uniformType:Z.FLOAT2},texSize:{type:b.VECTOR2,"default":new oa(100,100),uniformType:Z.FLOAT2}};Oy=nk;});var Ry,zh,i6,r6=d(function(){var _se14;Y();t6();(_se14=se,Ry=_se14.Vector2,_se14),zh=/*#__PURE__*/function(_Ye8){_inherits(zh,_Ye8);var _super121=_createSuper(zh);function zh(){var _this163;_classCallCheck(this,zh);for(var _len75=arguments.length,e=new Array(_len75),_key75=0;_key75<_len75;_key75++){e[_key75]=arguments[_key75];}_this163=_super121.call.apply(_super121,[this].concat(e));_this163._lastBlurRadius=_this163._options.blurRadius,_this163._lastControlPoint1=_this163._options.controlPoint1.clone(),_this163._lastControlPoint2=_this163._options.controlPoint2.clone();var t={blurQuality:{type:b.STRING}};_this163._horizontalFilter=new Oy({},t),_this163._verticalFilter=new Oy({},t),_this163._sprite.setFilters([_this163._horizontalFilter,_this163._verticalFilter]),_this163._horizontalFilter.setDelta(new Ry(.5,.5)),_this163._verticalFilter.setDelta(new Ry(-.5,.5)),_this163._filter=new Oy({},t);return _this163;}_createClass(zh,[{key:"rotate",value:function rotate(e){var t=this._options.controlPoint1,i=this._options.controlPoint2;e===90?(t.flip(),t.x=1-t.x,i.flip(),i.x=1-i.x):e===-90&&(t.flip(),t.y=1-t.y,i.flip(),i.y=1-i.y),this.set({controlPoint1:t,controlPoint2:i});}},{key:"flip",value:function flip(e){var t=this._options.controlPoint1,i=this._options.controlPoint2;switch(e){case"horizontal":t.x=1-t.x,i.x=1-i.x;break;case"vertical":t.y=1-t.y,i.y=1-i.y;break;}this.set({controlPoint1:t,controlPoint2:i});}},{key:"transform",value:function transform(e){var _this164=this;var t={};["controlPoint1","controlPoint2"].forEach(function(i){var o=_this164.getOption(i);t[i]=e.applyToRelativePoint(o);}),["blurRadius"].forEach(function(i){var o=_this164.getOption(i);t[i]=e.applyToRelativeSize(o);}),this.set(t,!1);}},{key:"_renderWebGL",value:function _renderWebGL(e){return this._renderBlur(e);}},{key:"_renderCanvas",value:function _renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e);}},{key:"_renderBlur",value:function _renderBlur(e){var t=e.getDimensions(),i=t.min(),_this$_options9=this._options,o=_this$_options9.blurRadius,s=_this$_options9.controlPoint1,n=_this$_options9.controlPoint2,a={blurRadius:o*i,controlPoint1:s.clone(),controlPoint2:n.clone(),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(a),this._verticalFilter.set(a),this._renderTexture.render(this._container),Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(e){var t=e.getDimensions(),_this$_options10=this._options,i=_this$_options10.blurRadius,o=_this$_options10.controlPoint1,s=_this$_options10.controlPoint2;return this._filter.set({blurRadius:i,controlPoint1:o.clone(),controlPoint2:s.clone(),texSize:t,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(zh.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return!0;}}]);return zh;}(Ye);zh.identifier="linear-focus";zh.prototype.availableOptions={controlPoint1:{type:b.VECTOR2,"default":new Ry(0,.5)},controlPoint2:{type:b.VECTOR2,"default":new Ry(1,.5)},blurRadius:{type:b.NUMBER,"default":.025},highQualityCanvasBlur:{type:b.BOOLEAN,"default":!1}};we.Operations.LinearFocusOperation=zh;i6=zh;});var s6,o6=d(function(){s6="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform float u_gradientSize;\nuniform float u_size;\nuniform vec2 u_start;\nuniform vec2 u_end;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    vec2 normal = normalize(vec2(u_start.y - u_end.y, u_end.x - u_start.x));\n    float radius = smoothstep(0.0, 1.0,\n      (abs(\n        dot(v_texCoord * u_texSize - u_start, normal)\n      ) - u_size) / u_gradientSize\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n";});var sa,ak,Ay,n6=d(function(){var _se15;Y();Qu();o6();(_se15=se,sa=_se15.Vector2,_se15),ak=/*#__PURE__*/function(_W$Filter24){_inherits(ak,_W$Filter24);var _super122=_createSuper(ak);function ak(){var _this165;_classCallCheck(this,ak);for(var _len76=arguments.length,e=new Array(_len76),_key76=0;_key76<_len76;_key76++){e[_key76]=arguments[_key76];}_this165=_super122.call.apply(_super122,[this].concat(e));_this165._fragmentSource=s6,_this165._lastBlurRadius=null,_this165._lastGradientRadius=null,_this165._lastStart=new sa(),_this165._lastEnd=new sa(),_this165._blurFilter=new wr(),_this165._blurredRenderTarget=new W.CanvasRenderTarget(100,100,1),_this165._maskRenderTarget=new W.CanvasRenderTarget(100,100,1);return _this165;}_createClass(ak,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;if(this._options.blurQuality==="low"){this._renderLQBlur(e,t,i,o);return;}var s=t.getDimensions(),n=!i.getDimensions().equals(s);if(t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n){var l=new sa(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(l);var c={blurRadius:this._options.blurRadius,texSize:s},u=function u(O,V,F){return Math.min(Math.max(O,V),F);},p=function p(O,V,F){var P=u((F-O)/(V-O),0,1);return P*P*(3-2*P);},_this$_options11=this._options,m=_this$_options11.blurRadius,h=_this$_options11.gradientSize,g=_this$_options11.size,v=_this$_options11.start,S=_this$_options11.end,_=_this$_options11.texSize,I=new sa(v.y-S.y,S.x-v.x);I.divide(I.len());var E=function E(O,V){return p(0,1,(Math.abs(_.clone().multiply(O,V).subtract(v).dot(I))-g)/h)*m;};this._blurFilter.set(c),this._blurFilter._applyCanvas(e,t,i,o,E),this._lastBlurRadius=this._options.blurRadius;}}},{key:"_renderLQBlur",value:function _renderLQBlur(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getDimensions(),n=!this._blurredRenderTarget.getDimensions().equals(s);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());var a=!this._lastStart.equals(this._options.start)||!this._lastEnd.equals(this._options.end)||this._lastGradientRadius!==this._options.size||n,l=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n;a&&(this._renderMask(),this._lastStart=this._options.start.clone(),this._lastEnd=this._options.end.clone(),this._lastGradientRadius=this._options.size),l&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,i);}},{key:"_renderMask",value:function _renderMask(){var e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),i=this._maskRenderTarget.getPixelRatio(),o=new sa(e.width,e.height),s=this._options.size*o.min()*i,n=this._options.gradientSize*o.min()*i,a=this._options.start.clone().multiply(o),c=this._options.end.clone().multiply(o).clone().subtract(a),u=a.clone().add(c.clone().divide(2)),p=c.len(),m=c.clone().divide(p),h=u.clone().add((s+n)*m.y,-(s+n)*m.x),g=u.clone().add(-(s+n)*m.y,(s+n)*m.x),v=t.createLinearGradient(h.x,h.y,g.x,g.y),S=g.clone().subtract(h).len();v.addColorStop(0,"#000000"),v.addColorStop(n/2/S,"#FFFFFF"),v.addColorStop(1-n/2/S,"#FFFFFF"),v.addColorStop(1,"#000000"),t.fillStyle=v,t.fillRect(0,0,e.width,e.height);}},{key:"_applyMask",value:function _applyMask(e,t){var i=t.getContext(),o=e.getCanvas(),s=e.getContext(),n=this._blurredRenderTarget.getContext(),a=this._maskRenderTarget.getContext(),l=s.getImageData(0,0,o.width,o.height),c=l.data,u=n.getImageData(0,0,o.width,o.height).data,p=a.getImageData(0,0,o.width,o.height).data,m;for(var h=0;h<o.width*o.height*4;h+=4){m=p[h]/255,c[h]=m*c[h]+(1-m)*u[h],c[h+1]=m*c[h+1]+(1-m)*u[h+1],c[h+2]=m*c[h+2]+(1-m)*u[h+2];}i.putImageData(l,0,0);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(ak.prototype),"dispose",this).call(this),this._blurFilter.dispose();}}]);return ak;}(W.Filter);ak.prototype.availableOptions={blurRadius:{type:b.NUMBER,"default":30,uniformType:Z.FLOAT},size:{type:b.NUMBER,"default":50,uniformType:Z.FLOAT},gradientSize:{type:b.NUMBER,"default":50,uniformType:Z.FLOAT},start:{type:b.VECTOR2,"default":new sa(0,.5),uniformType:Z.FLOAT2},end:{type:b.VECTOR2,"default":new sa(1,.5),uniformType:Z.FLOAT2},delta:{type:b.VECTOR2,"default":new sa(1,1),uniformType:Z.FLOAT2},texSize:{type:b.VECTOR2,"default":new sa(100,100),uniformType:Z.FLOAT2}};Ay=ak;});var Py,Uh,a6,l6=d(function(){var _se16;Y();n6();(_se16=se,Py=_se16.Vector2,_se16),Uh=/*#__PURE__*/function(_Ye9){_inherits(Uh,_Ye9);var _super123=_createSuper(Uh);function Uh(){var _this166;_classCallCheck(this,Uh);for(var _len77=arguments.length,e=new Array(_len77),_key77=0;_key77<_len77;_key77++){e[_key77]=arguments[_key77];}_this166=_super123.call.apply(_super123,[this].concat(e));_this166._lastBlurRadius=_this166._options.blurRadius,_this166._lastSize=_this166._options.size,_this166._lastGradientSize=_this166._options.gradientSize;var t={blurQuality:{type:b.STRING}};_this166._horizontalFilter=new Ay({},t),_this166._verticalFilter=new Ay({},t),_this166._sprite.setFilters([_this166._horizontalFilter,_this166._verticalFilter]),_this166._horizontalFilter.setDelta(new Py(.5,.5)),_this166._verticalFilter.setDelta(new Py(-.5,.5)),_this166._filter=new Ay({},t),_this166._renderBlur.bind(_assertThisInitialized(_this166));return _this166;}_createClass(Uh,[{key:"rotate",value:function rotate(e){var t=this._options.start,i=this._options.end;e===90?(t.flip(),t.x=1-t.x,i.flip(),i.x=1-i.x):e===-90&&(t.flip(),t.y=1-t.y,i.flip(),i.y=1-i.y),this.set({start:t,end:i});}},{key:"flip",value:function flip(e){var t=this._options.start,i=this._options.end;switch(e){case"horizontal":t.x=1-t.x,i.x=1-i.x;break;case"vertical":t.y=1-t.y,i.y=1-i.y;break;}this.set({start:t,end:i});}},{key:"transform",value:function transform(e){var _this167=this;var t={};["start","end"].forEach(function(i){var o=_this167.getOption(i);t[i]=e.applyToRelativePoint(o);}),["blurRadius","size","gradientSize"].forEach(function(i){var o=_this167.getOption(i);t[i]=e.applyToRelativeSize(o);}),this.set(t,!1);}},{key:"_renderWebGL",value:function _renderWebGL(e){return this._renderBlur(e);}},{key:"_renderCanvas",value:function _renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e);}},{key:"_renderBlur",value:function _renderBlur(e){var t=e.getDimensions(),i=t.min(),o=this._options.start.clone(),s=this._options.end.clone(),_this$_options12=this._options,n=_this$_options12.blurRadius,a=_this$_options12.size,l=_this$_options12.gradientSize,c={blurRadius:n*i,size:a*i,gradientSize:l*i,start:o.clone().multiply(t),end:s.clone().multiply(t),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(c),this._verticalFilter.set(c),this._renderTexture.render(this._container),Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(e){var t=e.getDimensions(),_this$_options13=this._options,i=_this$_options13.blurRadius,o=_this$_options13.size,s=_this$_options13.gradientSize,n=_this$_options13.start,a=_this$_options13.end;return this._filter.set({blurRadius:i,gradientSize:s,size:o,start:n.clone(),end:a.clone(),texSize:t,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Uh.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return!0;}}]);return Uh;}(Ye);Uh.identifier="mirrored-focus";Uh.prototype.availableOptions={start:{type:b.VECTOR2,"default":new Py(0,.5)},end:{type:b.VECTOR2,"default":new Py(1,.5)},blurRadius:{type:b.NUMBER,"default":.025},size:{type:b.NUMBER,"default":.1},gradientSize:{type:b.NUMBER,"default":.1},highQualityCanvasBlur:{type:b.BOOLEAN,"default":!1}};we.Operations.MirroredFocusOperation=Uh;a6=Uh;});var Loe,Nh,c6,d6=d(function(){var _se17;Y();(_se17=se,Loe=_se17.Vector2,_se17),Nh=/*#__PURE__*/function(_Ye10){_inherits(Nh,_Ye10);var _super124=_createSuper(Nh);function Nh(){_classCallCheck(this,Nh);return _super124.apply(this,arguments);}_createClass(Nh,[{key:"_render",value:function _render(e){var t=this._options.rotation%360,i=t*(Math.PI/180),o=t===90||t===270,s=this._options.flipHorizontally!==this._options.flipVertically,n=o&&s?!this._options.flipVertically:this._options.flipVertically,a=o&&s?!this._options.flipHorizontally:this._options.flipHorizontally;this._sprite.setScale(a?-1:1,n?-1:1),this._sprite.setRotation(i),this._sprite.setAnchor(.5,.5),this._sprite.updateTransform();var l=this._sprite.getBounds();return this._renderTexture.resizeTo(new Loe(l.width,l.height)),this._sprite.setPosition(this._renderTexture.getDimensions().divide(2).round()),this._renderTexture.render(this._container),Promise.resolve();}},{key:"getNewDimensions",value:function getNewDimensions(e){return e=e.clone(),this._options.rotation%180&&e.flip(),e;}},{key:"flip",value:function flip(e){var t=this._options.rotation;switch((t===90||t===270)&&(e==="vertical"?e="horizontal":e="vertical"),e){case"vertical":this.setFlipVertically(!this.getFlipVertically());break;case"horizontal":this.setFlipHorizontally(!this.getFlipHorizontally());break;}}}]);return Nh;}(Ye);Nh.identifier="orientation";Nh.prototype.availableOptions={rotation:{type:b.NUMBER,"default":0,validation:function validation(r){if(r%90!=0)throw new Error("OrientationOperation: `rotation` has to be a multiple of 90.");},setter:function setter(r){return(r+360)%360;}},flipVertically:{type:b.BOOLEAN,"default":!1},flipHorizontally:{type:b.BOOLEAN,"default":!1}};we.Operations.OrientationOperation=Nh;c6=Nh;});var By,Hh,u6,m6=d(function(){var _se18;Y();(_se18=se,By=_se18.Vector2,_se18),Hh=/*#__PURE__*/function(_Ye11){_inherits(Hh,_Ye11);var _super125=_createSuper(Hh);function Hh(){var _this168;_classCallCheck(this,Hh);for(var _len78=arguments.length,e=new Array(_len78),_key78=0;_key78<_len78;_key78++){e[_key78]=arguments[_key78];}_this168=_super125.call.apply(_super125,[this].concat(e));_this168._flipContainer=new W.Container();return _this168;}_createClass(Hh,[{key:"_render",value:function _render(e){var _this$_options14=this._options,t=_this$_options14.position,i=_this$_options14.rotation,o=_this$_options14.scale,s=_this$_options14.pivot,n=_this$_options14.outputResolution,a=this._sdk.getTextureScale(),l=n.clone().multiply(a).ceil();return this._renderTexture.resizeTo(l),this._sprite.setRotation(i),this._sprite.setPosition(t),this._sprite.setPivot(s),this._sprite.setScale(o),this._renderTexture.render(this._container),Promise.resolve();}},{key:"getNewDimensions",value:function getNewDimensions(e){var t=this._sdk.getTextureScale();return this._options.outputResolution.clone().multiply(t).ceil();}}]);return Hh;}(Ye);Hh.identifier="output";Hh.prototype.availableOptions={position:{type:b.VECTOR2,"default":new By(0,0)},rotation:{type:b.NUMBER,"default":0},scale:{type:b.VECTOR2,"default":new By(1,1)},pivot:{type:b.VECTOR2,"default":new By(0,0)},outputResolution:{type:b.VECTOR2,"default":new By(100,100)}};we.Operations.OutputOperation=Hh;u6=Hh;});var My,p6,zoe,sm,h6,f6=d(function(){var _W$Filters,_se19;Y();(_W$Filters=W.Filters,My=_W$Filters.OverlayFilter,_W$Filters),(_se19=se,p6=_se19.Vector2,_se19),zoe=4,sm=/*#__PURE__*/function(_Ye12){_inherits(sm,_Ye12);var _super126=_createSuper(sm);function sm(){var _this169;_classCallCheck(this,sm);for(var _len79=arguments.length,e=new Array(_len79),_key79=0;_key79<_len79;_key79++){e[_key79]=arguments[_key79];}_this169=_super126.call.apply(_super126,[this].concat(e));_this169._overlayTexture=W.Texture.fromImage(_this169._options.image),_this169._overlayContainer=new W.Container(),_this169._overlaySprite=new W.Sprite(),_this169._overlaySprite.setTexture(_this169._overlayTexture),_this169._overlaySprite.setAnchor(0,0),_this169._overlayContainer.addChild(_this169._overlaySprite),_this169._overlayFilter=new W.Filters.OverlayFilter({overlayImage:_this169._overlayTexture.getBaseTexture().getGLUnit(),overlayTexture:_this169._overlayTexture}),_this169._sprite.setFilters([_this169._overlayFilter]),_this169._renderedOverlaySprite=new W.Sprite(),_this169._renderedOverlayContainer=new W.Container(),_this169._renderedOverlayContainer.addChild(_this169._renderedOverlaySprite),_this169._overlayRendered=!1,_this169._lastInputDimensions=new p6(0,0);return _this169;}_createClass(sm,[{key:"setOption",value:function setOption(e,t){if(_get(_getPrototypeOf(sm.prototype),"setOption",this).call(this,e,t),e==="image"&&t&&this._sdk){var i=this._sdk.getRenderer(),o=this._overlayTexture.getBaseTexture();o.setSource(t),i.isOfType(Se.WEBGL)&&i.updateTexture(o),this._overlayRendered=!1;}}},{key:"_render",value:function _render(e){var t=e.getDimensions(),_this$_options15=this._options,i=_this$_options15.image,o=_this$_options15.alpha,s=_this$_options15.blendMode;return i?((!this._overlayRendered||!this._lastInputDimensions.equals(t))&&(this._renderOverlayToRenderTexture(e),this._overlayRendered=!0,this._lastInputDimensions.copy(t)),this._overlayFilter.set({blendMode:s,overlayImage:this._overlayRenderTexture.getBaseTexture().getGLUnit(),overlayTexture:this._overlayRenderTexture,alpha:o}),this._sprite.setFilters([this._overlayFilter]),this._renderTexture.render(this._container),Promise.resolve()):(this._sprite.setFilters([]),this._renderTexture.render(this._container),Promise.resolve());}},{key:"_renderOverlayToRenderTexture",value:function _renderOverlayToRenderTexture(e){var t=this._sdk.getRenderer(),i=e.getDimensions();this._overlayRenderTexture||(this._overlayRenderTexture=new W.RenderTexture(t,i.x,i.y),this._renderedOverlaySprite.setTexture(this._overlayRenderTexture));var _this$_options$image=this._options.image,o=_this$_options$image.width,s=_this$_options$image.height,n=G.resizeVectorToFill(new p6(o,s),i),_this$_options16=this._options,a=_this$_options16.flipHorizontally,l=_this$_options16.flipVertically,c=a?-1:1,u=l?-1:1;this._overlaySprite.setWidth(n.x*c),this._overlaySprite.setHeight(n.y*u),this._overlaySprite.setPosition(i.x*(1-c)*.5,i.y*(1-u)*.5);var p=this._overlayRenderTexture.getBaseTexture();this._overlayRenderTexture.resizeTo(i),t.isOfType(Se.WEBGL)&&(p.setGLUnit(zoe),t.updateTexture(p,!1)),this._overlayRenderTexture.render(this._overlayContainer);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(sm.prototype),"dispose",this).call(this),this._overlaySprite&&this._overlaySprite.dispose(),this._overlayRenderTexture&&this._renderedOverlaySprite.dispose(),this._overlayFilter&&this._overlayFilter.dispose(),this._overlayTexture&&this._overlayTexture.dispose(),this._overlayRenderTexture&&this._overlayRenderTexture.dispose(),this._renderedOverlaySprite&&this._renderedOverlaySprite.dispose();}}]);return sm;}(Ye);sm.identifier="overlay";sm.BLEND_MODES=My.BLEND_MODES;sm.prototype.availableOptions={identifier:{type:b.STRING},image:{type:b.IMAGE},blendMode:{type:b.NUMBER,"default":My.BLEND_MODES.MULTIPLY,available:Object.keys(My.BLEND_MODES).map(function(r){return My.BLEND_MODES[r];})},alpha:{type:b.NUMBER,"default":1},flipHorizontally:{type:b.BOOLEAN,"default":!1},flipVertically:{type:b.BOOLEAN,"default":!1}};we.Operations.OverlayOperation=sm;h6=sm;});var b6,g6=d(function(){b6="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_radius;\nuniform float u_blurRadius;\nuniform float u_gradientRadius;\nuniform vec2 u_position;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nconst float blurSteps = 30.0;\nconst float EPSILON = 0.000000001;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 coord = v_texCoord * u_texSize;\n    vec2 diff = coord - u_position;\n    float dist = sqrt(diff.x * diff.x + diff.y * diff.y);\n\n    float blurPercentage = smoothstep( \n      0.0, 1.0,\n      (abs(dist) - u_radius) / u_gradientRadius\n    );\n\n    float radius = blurPercentage * u_blurRadius;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    for (float t = -blurSteps; t <= blurSteps; t++) {\n        float percent = (t + offset - 0.5) / blurSteps;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / max(total, EPSILON);\n}\n";});var nm,lk,Ly,_6=d(function(){var _se20;Y();Qu();g6();(_se20=se,nm=_se20.Vector2,_se20),lk=/*#__PURE__*/function(_W$Filter25){_inherits(lk,_W$Filter25);var _super127=_createSuper(lk);function lk(){var _this170;_classCallCheck(this,lk);for(var _len80=arguments.length,e=new Array(_len80),_key80=0;_key80<_len80;_key80++){e[_key80]=arguments[_key80];}_this170=_super127.call.apply(_super127,[this].concat(e));_this170._fragmentSource=b6,_this170._lastBlurRadius=null,_this170._lastGradientRadius=null,_this170._lastPosition=new nm(),_this170._blurFilter=new wr(),_this170._blurredRenderTarget=new W.CanvasRenderTarget(100,100,1),_this170._maskRenderTarget=new W.CanvasRenderTarget(100,100,1);return _this170;}_createClass(lk,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var _this171=this;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;if(this._options.blurQuality==="low"){this._renderLQBlur(e,t,i,o);return;}var s=t.getDimensions(),n=!i.getDimensions().equals(s),_this$_options17=this._options,a=_this$_options17.blurRadius,l=_this$_options17.position,c=_this$_options17.texSize,u=_this$_options17.gradientRadius;if(t.getBaseTexture().isDirty()||this._lastBlurRadius!==a||n){var m=new nm(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(m);var h={blurRadius:a,texSize:s},g=function g(_,I,E){return Math.min(Math.max(_,I),E);},v=function v(_,I,E){var O=g((E-_)/(I-_),0,1);return O*O*(3-2*O);},S=function S(_,I){return v(0,1,(Math.abs(c.clone().multiply(_,I).subtract(l).len())-_this171._options.radius)/(u*2))*a;};this._blurFilter.set(h),this._blurFilter._applyCanvas(e,t,i,o,S),this._lastBlurRadius=a;}}},{key:"_renderLQBlur",value:function _renderLQBlur(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getDimensions(),n=!this._blurredRenderTarget.getDimensions().equals(s);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());var a=!this._lastPosition.equals(this._options.position)||this._lastGradientRadius!==this._options.gradientRadius||n,l=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n;a&&(this._renderMask(),this._lastPosition=this._options.position.clone(),this._lastGradientRadius=this._options.gradientRadius),l&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,i);}},{key:"_renderMask",value:function _renderMask(){var e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),i=new nm(e.width,e.height),o=this._maskRenderTarget.getPixelRatio(),s=this._options.position.clone().multiply(i),_this$_options18=this._options,n=_this$_options18.radius,a=_this$_options18.gradientRadius;n*=e.height,a*=e.height;var l=t.createRadialGradient(s.x,s.y,0,s.x,s.y,(n+a)*o);l.addColorStop(0,"#FFFFFF"),l.addColorStop(n/(n+a),"#FFFFFF"),l.addColorStop(1,"#000000"),t.fillStyle=l,t.fillRect(0,0,i.x,i.y);}},{key:"_applyMask",value:function _applyMask(e,t){var i=t.getContext(),o=e.getCanvas(),s=e.getContext(),n=this._blurredRenderTarget.getContext(),a=this._maskRenderTarget.getContext(),l=s.getImageData(0,0,o.width,o.height),c=l.data,u=n.getImageData(0,0,o.width,o.height).data,p=a.getImageData(0,0,o.width,o.height).data,m;for(var h=0;h<o.width*o.height*4;h+=4){m=p[h]/255,c[h]=m*c[h]+(1-m)*u[h],c[h+1]=m*c[h+1]+(1-m)*u[h+1],c[h+2]=m*c[h+2]+(1-m)*u[h+2];}i.putImageData(l,0,0);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(lk.prototype),"dispose",this).call(this),this._blurFilter.dispose(),this._blurredRenderTarget.dispose(),this._maskRenderTarget.dispose();}}]);return lk;}(W.Filter);lk.prototype.availableOptions={blurRadius:{type:b.NUMBER,"default":30,uniformType:Z.FLOAT},radius:{type:b.NUMBER,"default":50,uniformType:Z.FLOAT},gradientRadius:{type:b.NUMBER,"default":25,uniformType:Z.FLOAT},position:{type:b.VECTOR2,"default":new nm(.5,.5),uniformType:Z.FLOAT2},delta:{type:b.VECTOR2,"default":new nm(1,1),uniformType:Z.FLOAT2},texSize:{type:b.VECTOR2,"default":new nm(100,100),uniformType:Z.FLOAT2}};Ly=lk;});var ck,Wh,y6,x6=d(function(){var _se21;Y();_6();(_se21=se,ck=_se21.Vector2,_se21),Wh=/*#__PURE__*/function(_Ye13){_inherits(Wh,_Ye13);var _super128=_createSuper(Wh);function Wh(){var _this172;_classCallCheck(this,Wh);for(var _len81=arguments.length,e=new Array(_len81),_key81=0;_key81<_len81;_key81++){e[_key81]=arguments[_key81];}_this172=_super128.call.apply(_super128,[this].concat(e));_this172._lastBlurRadius=_this172._options.blurRadius,_this172._lastGradientRadius=_this172._options.gradientRadius;var t={blurQuality:{type:b.STRING}};_this172._horizontalFilter=new Ly({},t),_this172._verticalFilter=new Ly({},t),_this172._sprite.setFilters([_this172._horizontalFilter,_this172._verticalFilter]),_this172._horizontalFilter.setDelta(new ck(.5,.5)),_this172._verticalFilter.setDelta(new ck(-.5,.5)),_this172._filter=new Ly({},t);return _this172;}_createClass(Wh,[{key:"rotate",value:function rotate(e){var t=this._options.position;e===90?(t.flip(),t.x=1-t.x):e===-90&&(t.flip(),t.y=1-t.y),this.set({position:t});}},{key:"flip",value:function flip(e){var t=this._options.position;switch(e){case"horizontal":t.x=1-t.x;break;case"vertical":t.y=1-t.y;break;}this.set({position:t});}},{key:"transform",value:function transform(e){var _this173=this;var t={},i=this.getPosition();t.position=e.applyToRelativePoint(i),["radius","blurRadius","gradientRadius"].forEach(function(o){var s=_this173.getOption(o);t[o]=e.applyToRelativeSize(s);}),this.set(t,!1);}},{key:"_renderWebGL",value:function _renderWebGL(e){return this._renderBlur(e);}},{key:"_renderCanvas",value:function _renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e);}},{key:"_renderBlur",value:function _renderBlur(e){var t=e.getDimensions(),i=t.min(),_this$_options19=this._options,o=_this$_options19.position,s=_this$_options19.blurRadius,n=_this$_options19.radius,a=_this$_options19.gradientRadius,l={blurRadius:s*i,radius:n*i,gradientRadius:a*i,position:o.clone().multiply(t),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(l),this._verticalFilter.set(l),this._renderTexture.render(this._container),Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(e){var _this$_options20=this._options,t=_this$_options20.blurRadius,i=_this$_options20.radius,o=_this$_options20.gradientRadius,s=_this$_options20.position,n=e.getDimensions();return this._filter.set({blurRadius:t,radius:i,gradientRadius:o,position:s,texSize:n,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Wh.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return!0;}}]);return Wh;}(Ye);Wh.identifier="radial-focus";Wh.prototype.availableOptions={position:{type:b.VECTOR2,"default":new ck(.5,.5)},radius:{type:b.NUMBER,"default":.25},gradientRadius:{type:b.NUMBER,"default":.125},blurRadius:{type:b.NUMBER,"default":.025},highQualityCanvasBlur:{type:b.BOOLEAN,"default":!1}};we.Operations.RadialFocusOperation=Wh;y6=Wh;});var C6,v6=d(function(){C6="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filterImage;\nuniform sampler2D u_maskImage;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filterImage, v_texCoord);\n  vec4 mask = texture2D(u_maskImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, mask);\n}\n";});var dk,S6,w6=d(function(){Y();v6();dk=/*#__PURE__*/function(_W$Filter26){_inherits(dk,_W$Filter26);var _super129=_createSuper(dk);function dk(){var _this174;_classCallCheck(this,dk);_this174=_super129.call(this);_this174._fragmentSource=C6;return _this174;}_createClass(dk,[{key:"_applyCanvas",value:function _applyCanvas(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var s=t.getCanvas(),n=t.getContext(),a=i.getContext(),_this$_options21=this._options,l=_this$_options21.maskCanvas,c=_this$_options21.filterCanvas,u=l.getContext("2d"),p=c.getContext("2d"),m=u.getImageData(0,0,s.width,s.height).data,h=n.getImageData(0,0,s.width,s.height),g=h.data,v=p.getImageData(0,0,s.width,s.height).data,S;for(var _=0;_<s.width*s.height*4;_+=4){S=m[_]/255,g[_]=S*v[_]+(1-S)*g[_],g[_+1]=S*v[_+1]+(1-S)*g[_+1],g[_+2]=S*v[_+2]+(1-S)*g[_+2];}a.putImageData(h,0,0);}}]);return dk;}(W.Filter);dk.prototype.availableOptions={maskImage:{type:b.NUMBER,"default":1,uniformType:Z.INT},maskCanvas:{type:b.OBJECT,"default":null},filterImage:{type:b.NUMBER,"default":2,uniformType:Z.INT},filterCanvas:{type:b.OBJECT,"default":null}};S6=dk;});var zy,k6,$s,am=d(function(){var _se22;Y();(_se22=se,zy=_se22.Vector2,_se22),k6=/*#__PURE__*/function(_Fe6){_inherits(k6,_Fe6);var _super130=_createSuper(k6);function k6(e,t){var _this175;_classCallCheck(this,k6);_this175=_super130.call(this,t);_this175._isDisposed=!1,_this175._operation=e,_this175._dirtiness={},_this175.id=G.getUUID(),_this175._renderTextures={},_this175._identitySprite=new W.Sprite(),_this175._sprite=new W.Sprite(),_this175._hitTestSprite=new W.Sprite(),_this175._renderers=[];return _this175;}_createClass(k6,[{key:"applyScale",value:function applyScale(e){}},{key:"applyRotation",value:function applyRotation(e){var t=this._operation.getInputDimensions(),i=this.getRotation()*180/Math.PI;i+=e,this.setRotation(i*Math.PI/180);var s=(e+360)%360*Math.PI/180,n=Math.cos(s),a=Math.sin(s),l=this._options.position.clone().subtract(.5).multiply(t),c=new zy(l.x*n-l.y*a,l.x*a+l.y*n).divide(t.clone().flip());this.setPosition(new zy(.5,.5).add(c));}},{key:"applyFlip",value:function applyFlip(e){var t=this.getPosition().clone();switch(e){case"horizontal":t.x=1-this._options.position.x;break;case"vertical":t.y=1-this._options.position.y;break;}this.setPosition(t);}},{key:"applyTransform",value:function applyTransform(e){var t={};t.rotation=e.applyToRotation(this.getRotation()),t.position=e.applyToRelativePoint(this.getPosition()),this._options.dimensions&&(t.dimensions=e.applyToDimensions(this.getDimensions())),this.set(t,!1);}},{key:"getDisplayObject",value:function getDisplayObject(){return this._sprite;}},{key:"getHitTestDisplayObject",value:function getHitTestDisplayObject(){return this._sprite;}},{key:"_getTexture",value:function _getTexture(){throw new Error("Sprite#_getTexture is abstract and not implemented in child class.");}},{key:"_prepareRenderTexture",value:function _prepareRenderTexture(e){if(this._renderTexture)this._renderTexture.clear();else{var t=this._getTexture();this._renderTextureContainer=new W.Container(),this._renderTextureSprite=new W.Sprite(t),this._renderTextureContainer.addChild(this._renderTextureSprite),this._renderTexture=this._getRenderTexture(e.getRenderer(),t.getDimensions());}}},{key:"_rendersToRenderTexture",value:function _rendersToRenderTexture(e){return e.getOptions().smoothDownscaling&&e.getRenderer().isOfType(Se.WEBGL);}},{key:"_optionEquals",value:function _optionEquals(e,t){return e==="type"?!0:_get(_getPrototypeOf(k6.prototype),"_optionEquals",this).call(this,e,t);}},{key:"update",value:function update(e,t){this._isDisposed||(this._rendersToRenderTexture(e)&&(this._prepareRenderTexture(e),this._renderToRenderTexture(e)),this._updateSprite(t));}},{key:"_updateSprite",value:function _updateSprite(e){var _this176=this;[this._sprite,this._hitTestSprite].forEach(function(i){if(!i.getTexture())return;i.setAnchor(_this176._options.anchor),i.setPosition(_this176._options.position.clone().multiply(e)),typeof _this176._options.alpha!="undefined"&&i.setAlpha(_this176._options.alpha);var o=_this176._options.dimensions;o&&(o=o.clone().multiply(_this176._operation.getSDK().getTextureScale()),i.setWidth(o.x),i.setHeight(o.y)),i.updateTransform();var s=i.getTexture().getFrame(),n=new zy(s.width,s.height);i.setPivot(_this176._options.pivot.clone().multiply(n)),i.setRotation(_this176._options.rotation),i.updateTransform();});}},{key:"_renderToRenderTexture",value:function _renderToRenderTexture(e){var t=this._getTexture().getDimensions(),i=this._getRenderTexture(e.getRenderer(),t),o=t.clone();if(this._options.smoothDownscaling&&(o.x=G.nextHighestPOT(o.x),o.y=G.nextHighestPOT(o.y)),this._renderTexture.resizeTo(o),this._renderTexture.render(this._renderTextureContainer),this._options.smoothDownscaling){var s=o.clone().subtract(t.x,t.y).divide(o),n=i.getUVs().getUVs();n[0].x=n[3].x=0,n[1].x=n[2].x=1-s.x,n[0].y=n[1].y=0,n[2].y=n[3].y=1-s.y;}this._sprite.setTexture(i);}},{key:"isDirtyForRenderer",value:function isDirtyForRenderer(e){return e.id in this._dirtiness||(this._dirtiness[e.id]=!0),this._dirtiness[e.id];}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t){this._renderers[t.id]=t,this._dirtiness[t.id]=e;}},{key:"setDirty",value:function setDirty(e){for(var t in this._dirtiness){this.setDirtyForRenderer(e,this._renderers[t]);}}},{key:"_getRenderTexture",value:function _getRenderTexture(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new zy(100,100);return this._renderTextures[e.id]||(this._renderTextures[e.id]=new W.RenderTexture(e,t.x,t.y,1)),this._renderTextures[e.id];}},{key:"dispose",value:function dispose(){this._isDisposed=!0;for(var e in this._renderTextures){this._renderTextures[e].dispose();}}},{key:"canBeDuplicated",value:function canBeDuplicated(){return!0;}},{key:"canBeDeleted",value:function canBeDeleted(){return!0;}},{key:"canMaskCanvas",value:function canMaskCanvas(){return!1;}},{key:"canAdjustPadding",value:function canAdjustPadding(){return!1;}},{key:"canBeTakenToFront",value:function canBeTakenToFront(){return!0;}},{key:"canBeFlippedHorizontally",value:function canBeFlippedHorizontally(){return!0;}}]);return k6;}(Fe),$s=k6;});var Hoe,wl,uk=d(function(){var _se23;Y();(_se23=se,Hoe=_se23.Vector2,_se23),wl=/*#__PURE__*/function(_Fe7){_inherits(wl,_Fe7);var _super131=_createSuper(wl);function wl(){var _this177;_classCallCheck(this,wl);for(var _len82=arguments.length,e=new Array(_len82),_key82=0;_key82<_len82;_key82++){e[_key82]=arguments[_key82];}_this177=_super131.call.apply(_super131,[this].concat(e));_this177._lastOptions={},_this177._lastInputDimensions=new Hoe(0,0),_this177._brush=null;return _this177;}_createClass(wl,[{key:"getBrushImage",value:function getBrushImage(e){if(this._brush&&this.optionsEqual(this._lastOptions)&&e.equals(this._lastInputDimensions))return this._brush;var _this$_options22=this._options,t=_this$_options22.image,i=_this$_options22.size;t.width=t.height=Math.ceil(i*e.min());var o=G.createCanvas();o.width=t.width,o.height=t.height;var s=o.getContext("2d");s.drawImage(t,0,0,o.width,o.height);var n=this._tintImageData(s.getImageData(0,0,o.width,o.height),o.width,o.height);return s.putImageData(n,0,0),this._lastOptions=this.serializeOptions(["size","color"]),this._brush=o,this._lastInputDimensions=e.clone(),o;}},{key:"_tintImageData",value:function _tintImageData(e){var t=this._options.color;for(var i=0;i<e.data.length;i+=4){e.data[i]+=(t.r*255-e.data[i])*t.a,e.data[i+1]+=(t.g*255-e.data[i+1])*t.a,e.data[i+2]+=(t.b*255-e.data[i+2])*t.a;}return e;}},{key:"clone",value:function clone(){var e=this.constructor;return new e(this._options);}}]);return wl;}(Fe);wl.prototype.availableOptions={identifier:{type:b.STRING},image:{type:b.IMAGE},size:{type:b.NUMBER,"default":.05},color:{type:b.COLOR,"default":K.RED}};});var Bc,T6=d(function(){Y();uk();Bc=/*#__PURE__*/function(_wl){_inherits(Bc,_wl);var _super132=_createSuper(Bc);function Bc(){_classCallCheck(this,Bc);return _super132.apply(this,arguments);}_createClass(Bc,[{key:"getBrushImage",value:function getBrushImage(e){if(this._brush&&this.optionsEqual(this._lastOptions)&&e.equals(this._lastInputDimensions))return this._brush;var _this$_options23=this._options,t=_this$_options23.size,i=_this$_options23.hardness,o=_this$_options23.color,s=G.createCanvas();s.width=s.height=Math.ceil(t*e.min());var n=s.getContext("2d");if(o=o.clone(),o.a=1,s.width===1)n.fillStyle=o.toRGBA(),n.fillRect(0,0,1,1);else{var a=n.createRadialGradient(s.width/2,s.height/2,Math.min(s.width/2-1,s.width/2*i),s.width/2,s.height/2,s.width/2);a.addColorStop(0,o.toRGBA());var l=o.clone();l.a=0,a.addColorStop(1,l.toRGBA()),n.fillStyle=a,n.fillRect(0,0,s.width,s.height);}return this._lastOptions=this.serializeOptions(["size","color","hardness"]),this._brush=s,this._lastInputDimensions=e.clone(),s;}}]);return Bc;}(wl);Bc.identifier="imgly_brush_radial";Bc.prototype.availableOptions=L(w({},wl.prototype.availableOptions),{hardness:{type:b.NUMBER,"default":1}});});var Woe,Goe,D6,E6,I6=d(function(){var _se24;Y();(_se24=se,Woe=_se24.Vector2,Goe=_se24.CubicBezierCurve,_se24),D6=/*#__PURE__*/function(){function D6(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;_classCallCheck(this,D6);this._path=e,this._drawnCanvases=[],this._position=t,this._smooth=i;}_createClass(D6,[{key:"getBezierCurve",value:function getBezierCurve(e,t,i,o){if(!t)return null;var s,n;o?(s=(o.x-t.x)/this._smooth,n=(o.y-t.y)/this._smooth):(s=(i.x-t.x)/this._smooth,n=(i.y-t.y)/this._smooth);var a,l;e?(a=(i.x-e.x)/this._smooth,l=(i.y-e.y)/this._smooth):(a=(i.x-t.x)/this._smooth,l=(i.y-t.y)/this._smooth);var c=t.clone().add(a,l),u=i.clone().subtract(s,n);return new Goe(t,c,u,i);}},{key:"renderToCanvas",value:function renderToCanvas(e,t,i,o,s){var n=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;if(this._drawnCanvases.indexOf(t)!==-1)return;var a=new Woe(t.width,t.height),l=t.getContext("2d"),c=this._position.clone().multiply(a),u=o?o.getPosition().clone().multiply(a):null,p=i?i.getPosition().clone().multiply(a):null,m=s?s.getPosition().clone().multiply(a):null,h=c.clone().subtract(u).len(),g=e.width/10,v=this.getBezierCurve(p,u,c,m),S;if(!v)S=[c];else{v.calculateSegments(20);var _=v.getLength();S=v.arcLengthApproxSample(Math.ceil(_/g));}for(var _11=0;_11<S.length;_11++){var I=S[_11],E=e.width*.5/(g*2);E*=1-n,E=1/(1+E),l.globalAlpha=E,l.drawImage(e,I.x-e.width/2,I.y-e.height/2,e.width,e.height);}l.globalAlpha=1,this._drawnCanvases.push(t);}},{key:"setPosition",value:function setPosition(e){this._position=e;}},{key:"getPosition",value:function getPosition(){return this._position.clone();}},{key:"setDirty",value:function setDirty(){this._drawnCanvases=[];}}]);return D6;}(),E6=D6;});var mk,Gh,F6=d(function(){Y();I6();mk=/*#__PURE__*/function(_Fe8){_inherits(mk,_Fe8);var _super133=_createSuper(mk);function mk(e,t,i){var _this178;_classCallCheck(this,mk);_this178=_super133.call(this,t);_this178._operation=e,_this178._canvas=i||G.createCanvas(),_this178._context=_this178._canvas.getContext("2d");return _this178;}_createClass(mk,[{key:"serializeOption",value:function serializeOption(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e==="controlPoints"?this._options.controlPoints.map(function(i){var o=i.getPosition();return t?o.toObject():o.clone();}):_get(_getPrototypeOf(mk.prototype),"serializeOption",this).call(this,e,t);}},{key:"_optionEquals",value:function _optionEquals(e,t){if(e==="controlPoints"){var i=this._options.controlPoints;for(var o=0,s=i.length;o<s;o++){if(!i[o].getPosition().equals(t[o]))return!1;}return!0;}return _get(_getPrototypeOf(mk.prototype),"_optionEquals",this).call(this,e,t);}},{key:"render",value:function render(e){var _this$_options24=this._options,t=_this$_options24.controlPoints,i=_this$_options24.size;if(t.length<2)return;var o=this.getBrush(),s=o&&o.getHardness?o.getHardness():1;G.ensureCanvasDimensions(this._canvas,e),(!this._brush||this._lastBrushSize!==i||!e.equals(this._brushInputDimensions))&&(this._brushInputDimensions=e.clone(),this._lastBrushSize=i);var n,a,l,c;for(var u=0;u<t.length;u++){n=t[u-2],a=t[u-1],l=t[u],c=t[u+1],l.renderToCanvas(this._options.brush.getBrushImage(e),this._canvas,n,a,c,s);}}},{key:"_createBrush",value:function _createBrush(e){var _this$_options25=this._options,t=_this$_options25.size,i=_this$_options25.hardness,o=_this$_options25.color,s=G.createCanvas();s.width=s.height=Math.ceil(t*e.min());var n=s.getContext("2d");if(o=o.clone(),o.a=1,s.width===1)n.fillStyle=o.toRGBA(),n.fillRect(0,0,1,1);else{var a=n.createRadialGradient(s.width/2,s.height/2,Math.min(s.width/2-1,s.width/2*i),s.width/2,s.height/2,s.width/2);a.addColorStop(0,o.toRGBA());var l=o.clone();l.a=0,a.addColorStop(1,l.toRGBA()),n.fillStyle=a,n.fillRect(0,0,s.width,s.height);}return s;}},{key:"addControlPoint",value:function addControlPoint(e){var t=new E6(this,e);this._options.controlPoints.push(t),this.emit("update",this);}},{key:"getCanvas",value:function getCanvas(){return this._canvas;}},{key:"setCanvas",value:function setCanvas(e){this._canvas=e,this._context=e.getContext("2d");}},{key:"setDirty",value:function setDirty(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._options.controlPoints.forEach(function(e){e.setDirty();});}},{key:"forEachControlPoint",value:function forEachControlPoint(e){this._options.controlPoints.forEach(e);}},{key:"renderToCanvas",value:function renderToCanvas(e){var t=e.getContext("2d");t.save(),t.globalAlpha=this._options.brush.getColor().a,t.drawImage(this._canvas,0,0),t.restore();}},{key:"getCanvasDimensions",value:function getCanvasDimensions(){return this._canvasDimensions;}}]);return mk;}(Fe);mk.prototype.availableOptions={id:{type:b.STRING,"default":function _default(){return G.getUUID();}},brush:{type:b.OBJECT,required:!0},controlPoints:{type:b.ARRAY,"default":[]},closed:{type:b.BOOLEAN,"default":!1}};Gh=mk;});var Uy,Mc,Lc,pk=d(function(){var _se25;Y();am();uk();T6();F6();(_se25=se,Uy=_se25.Vector2,_se25),Mc=/*#__PURE__*/function(_$s){_inherits(Mc,_$s);var _super134=_createSuper(Mc);function Mc(){var _this179;_classCallCheck(this,Mc);for(var _len83=arguments.length,e=new Array(_len83),_key83=0;_key83<_len83;_key83++){e[_key83]=arguments[_key83];}_this179=_super134.call.apply(_super134,[this].concat(e));_this179._persistedPaths=[],_this179._outputCanvasDirty=!0,_this179._outputCanvas=G.createCanvas(),_this179._outputContext=_this179._outputCanvas.getContext("2d"),_this179._persistCanvas=G.createCanvas(),_this179._persistContext=_this179._persistCanvas.getContext("2d"),_this179._nextCanvas=G.createCanvas(),_this179._texture=W.Texture.fromCanvas(_this179._outputCanvas),_this179._sprite.setTexture(_this179._texture),_this179._onPathUpdate=_this179._onPathUpdate.bind(_assertThisInitialized(_this179));return _this179;}_createClass(Mc,[{key:"applyFlip",value:function applyFlip(e){this._options.paths.forEach(function(t){t.forEachControlPoint(function(i){var o=i.getPosition().clone();switch(e){case"horizontal":o.x=1-o.x;break;case"vertical":o.y=1-o.y;break;}i.setPosition(o);}),t.setDirty(!0);}),this._reset();}},{key:"applyRotation",value:function applyRotation(e){this._options.paths.forEach(function(t){t.forEachControlPoint(function(i){var o=i.getPosition().clone();e===90?(o.flip(),o.x=1-o.x):e===-90&&(o.flip(),o.y=1-o.y),i.setPosition(o);}),t.setDirty(!0);}),this._reset();}},{key:"applyTransform",value:function applyTransform(e){var t=null;this._options.paths.forEach(function(i){i.forEachControlPoint(function(s){s.setPosition(e.applyToRelativePoint(s.getPosition()));});var o=i.getBrush();o!==t&&(o.setSize(e.applyToRelativeSize(o.getSize())),t=o),i.setDirty(!0);}),this._reset();}},{key:"clearCanvas",value:function clearCanvas(){if(!this._outputCanvas)return;this._outputCanvasDirty=!0;var _this$_outputCanvas=this._outputCanvas,e=_this$_outputCanvas.width,t=_this$_outputCanvas.height;this._outputContext.clearRect(0,0,e,t);}},{key:"clearPersistCanvas",value:function clearPersistCanvas(){if(!this._persistCanvas)return;var _this$_persistCanvas=this._persistCanvas,e=_this$_persistCanvas.width,t=_this$_persistCanvas.height;this._persistContext.clearRect(0,0,e,t);}},{key:"serializeOptions",value:function serializeOptions(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(Mc.prototype),"serializeOptions",this).call(this,e,t);return e||(i.type="brush"),i;}},{key:"serializeOption",value:function serializeOption(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e==="paths"?this._options.paths.map(function(i){return i.serializeOptions(void 0,t);}):_get(_getPrototypeOf(Mc.prototype),"serializeOption",this).call(this,e,t);}},{key:"createPath",value:function createPath(e){var t=new Gh(this._operation,{brush:e},this._nextCanvas);return t.on("update",this._onPathUpdate),this._options.paths.push(t),this.setDirty(!0),t;}},{key:"_onPathUpdate",value:function _onPathUpdate(){this._operation.setDirty(!0),this.setDirty(!0);}},{key:"_onPathPersist",value:function _onPathPersist(e){e.renderToCanvas(this._persistCanvas),this._nextCanvas=e.getCanvas(),this._nextCanvas.getContext("2d").clearRect(0,0,this._nextCanvas.width,this._nextCanvas.height),this._persistedPaths.push(e);}},{key:"_getTexture",value:function _getTexture(){return this._texture;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;_get(_getPrototypeOf(Mc.prototype),"setDirtyForRenderer",this).call(this,e,t,i),e&&i&&(this._persistedPaths=[],this.clearPersistCanvas(),this._options.paths.forEach(function(o){o.setDirty(!0);}));}},{key:"setDirty",value:function setDirty(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;for(var i in this._dirtiness){this.setDirtyForRenderer(e,this._renderers[i],t);}}},{key:"render",value:function render(e){var _this180=this;var t=this._operation.getSDK().getRenderer();!this.isDirtyForRenderer(t)||(G.ensureCanvasDimensions(this._outputCanvas,e),G.ensureCanvasDimensions(this._persistCanvas,e),this._options.paths.forEach(function(i){i.render(e),i.getClosed()&&_this180._persistedPaths.indexOf(i)===-1&&_this180._onPathPersist(i);}),this.clearCanvas(),this._outputContext.drawImage(this._persistCanvas,0,0),this._options.paths.forEach(function(i){i.getClosed()||i.renderToCanvas(_this180._outputCanvas);}),this.setDirtyForRenderer(!1,t));}},{key:"update",value:function update(e,t){t&&(G.ensureCanvasDimensions(this._outputCanvas,t),G.ensureCanvasDimensions(this._persistCanvas,t),this._texture.getBaseTexture().update()),this.render(t);var i=e.getRenderer();i.isOfType(Se.WEBGL)&&i.updateTexture(this._texture.getBaseTexture()),_get(_getPrototypeOf(Mc.prototype),"update",this).call(this,e,t);}},{key:"_reset",value:function _reset(){this._persistedPaths=[],this._operation&&this._operation.setDirty(!0),this.setDirty(!0),this.clearCanvas(),this.clearPersistCanvas();}},{key:"getCanvas",value:function getCanvas(){return this._outputCanvas;}},{key:"_createRadialBrush",value:function _createRadialBrush(){return new Bc();}},{key:"_getTempCanvas",value:function _getTempCanvas(){return this._nextCanvas;}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Mc.prototype),"dispose",this).call(this),this._texture&&this._texture.getBaseTexture().dispose();}}]);return Mc;}($s);Mc.prototype.availableOptions={id:{type:b.STRING,"default":function _default(){return G.getUUID();}},position:{type:b.VECTOR2,"default":new Uy(0,0)},scale:{type:b.VECTOR2,"default":new Uy(1,1)},anchor:{type:b.VECTOR2,"default":new Uy(0,0)},pivot:{type:b.VECTOR2,"default":new Uy(0,0)},rotation:{type:b.NUMBER,"default":0},paths:{type:b.ARRAY,"default":[],setter:function setter(r){var _this181=this;return r=r.map(function(e){if(e instanceof Gh)return e;var t=e.brush,i=e.closed,o=new Gh(_this181._operation,{brush:t,closed:i},_this181._nextCanvas);return e.controlPoints.forEach(function(s){o.addControlPoint(s);}),o;}),this._reset(),r;}}};Mc.type="brush";Mc.Brush=wl;Mc.Path=Gh;Mc.Brushes={RadialBrush:Bc};Lc=Mc;});var O6,Vh,R6,A6=d(function(){var _se26;Y();Qu();w6();pk();(_se26=se,O6=_se26.Vector2,_se26),Vh=/*#__PURE__*/function(_Ye14){_inherits(Vh,_Ye14);var _super135=_createSuper(Vh);function Vh(){var _this182;_classCallCheck(this,Vh);for(var _len84=arguments.length,e=new Array(_len84),_key84=0;_key84<_len84;_key84++){e[_key84]=arguments[_key84];}_this182=_super135.call.apply(_super135,[this].concat(e));var t=_this182._sdk.getRenderer();_this182._lastBlurRadius=null,_this182._blurredRenderTexture=new W.RenderTexture(t,100,100,1),_this182._maskRenderTexture=new W.RenderTexture(t,100,100,1),_this182._brushSprite=new Lc(_assertThisInitialized(_this182)),_this182._brushSpriteContainer=new W.Container();var i=_this182._brushSprite.getDisplayObject();if(_this182._brushSpriteContainer.addChild(i),_this182._outputSprite=new W.Sprite(),_this182._outputContainer=new W.Container(),_this182._outputContainer.addChild(_this182._outputSprite),_this182._maskFilter=new S6(),t.isOfType(Se.WEBGL)){_this182._horizontalFilter=new wr(),_this182._verticalFilter=new wr(),_this182._sprite.setFilters([_this182._horizontalFilter,_this182._verticalFilter]),_this182._horizontalFilter.setDelta(new O6(1,1)),_this182._verticalFilter.setDelta(new O6(-1,1));var o=_this182._maskRenderTexture.getBaseTexture();o.setGLUnit(_this182._maskFilter.getMaskImage()),t.updateTexture(o,!1),o=_this182._blurredRenderTexture.getBaseTexture(),o.setGLUnit(_this182._maskFilter.getFilterImage()),t.updateTexture(o,!1);}else t.isOfType(Se.CANVAS)&&(_this182._blurFilter=new wr(),_this182._sprite.setFilters([_this182._blurFilter]),_this182._maskFilter.setMaskCanvas(_this182._maskRenderTexture.getRenderTarget().getCanvas()),_this182._maskFilter.setFilterCanvas(_this182._blurredRenderTexture.getRenderTarget().getCanvas()));_this182._outputSprite.setFilters([_this182._maskFilter]);return _this182;}_createClass(Vh,[{key:"flip",value:function flip(e){this._brushSprite.applyFlip(e),this.setDirty(!0,!0),this._lastBlurRadius=null;}},{key:"rotate",value:function rotate(e){this._brushSprite.applyRotation(e),this.setDirty(!0,!0),this._lastBlurRadius=null;}},{key:"transform",value:function transform(e,t){this._brushSprite.applyTransform(e,t),this.setDirty(!0,!0),this._lastBlurRadius=null;}},{key:"_render",value:function _render(e){return this._renderBlur(e),this._renderMask(e),this._outputSprite.setTexture(e),this._renderTexture.render(this._outputContainer),Promise.resolve();}},{key:"_renderMask",value:function _renderMask(e){var t=e.getDimensions();this._maskRenderTexture.getDimensions().equals(t)||this._maskRenderTexture.resizeTo(t),this._brushSprite.update(this._sdk,t),this._maskRenderTexture.clear(K.BLACK),this._maskRenderTexture.render(this._brushSpriteContainer);var o=this._sdk.getRenderer();o.isOfType(Se.WEBGL)&&o.updateTexture(this._maskRenderTexture.getBaseTexture(),!1);}},{key:"_renderBlur",value:function _renderBlur(e){var t=e.getDimensions(),i=this._blurredRenderTexture.getDimensions();i.equals(t)||this._blurredRenderTexture.resizeTo(t);var o=this._options.blurRadius;if(this._lastBlurRadius!==o||!i.equals(t)){var n=this._sdk.getRenderer(),a;if(n.isOfType(Se.WEBGL)){var l=t.min();a={blurRadius:o*l,texSize:t},this._horizontalFilter.set(a),this._verticalFilter.set(a);}else n.isOfType(Se.CANVAS)&&(a={blurRadius:o},this._blurFilter.set(a));this._blurredRenderTexture.render(this._container),this._lastBlurRadius=o;}var s=this._sdk.getRenderer();s.isOfType(Se.WEBGL)&&s.updateTexture(this._blurredRenderTexture.getBaseTexture(),!1);}},{key:"getBrush",value:function getBrush(){return this._brushSprite;}},{key:"createPath",value:function createPath(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=new Lc.Brushes.RadialBrush({size:e,hardness:t,color:K.WHITE}),o=this._brushSprite.createPath(i);return this._options.paths.push(o),this.setDirty(!0),o;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t,i){_get(_getPrototypeOf(Vh.prototype),"setDirtyForRenderer",this).call(this,e,t,i),this._brushSprite.setDirtyForRenderer(e,t,i);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Vh.prototype),"dispose",this).call(this),this._sdk.getRenderer().isOfType(Se.WEBGL)?(this._verticalFilter.dispose(),this._horizontalFilter.dispose()):this._blurFilter.dispose(),this._brushSprite.dispose(),this._maskFilter.dispose(),this._blurredRenderTexture.dispose(),this._maskRenderTexture.dispose();}},{key:"hasChanges",value:function hasChanges(){return!0;}}]);return Vh;}(Ye);Vh.identifier="selective-blur";Vh.prototype.availableOptions={blurRadius:{type:b.NUMBER,"default":.05},paths:{type:b.ARRAY,"default":[],setter:function setter(r){return this._brushSprite&&this._brushSprite.setPaths(r),r;}}};we.Operations.SelectiveBlurOperation=Vh;R6=Vh;});var zc,Ny,Hy,Wy,P6=d(function(){var _se27;Y();sw();am();(_se27=se,zc=_se27.Vector2,Ny=_se27.ColorMatrix,_se27),Hy=/*#__PURE__*/function(_$s2){_inherits(Hy,_$s2);var _super136=_createSuper(Hy);function Hy(){var _this183;_classCallCheck(this,Hy);for(var _len85=arguments.length,e=new Array(_len85),_key85=0;_key85<_len85;_key85++){e[_key85]=arguments[_key85];}_this183=_super136.call.apply(_super136,[this].concat(e));var t=_this183._options.image,i=t.src||t.filePath||t.toDataUrl&&t.toDataURL();_this183._isSVG=i&&(!!i.match(/\w+\.svg(?=\?|$)/i)||i.match(/data:image\/svg/i)),_this183._isSVG&&(_this183._canvas=G.createCanvas(),_this183._context=_this183._canvas.getContext("2d"),_this183._options.smoothDownscaling=!1),t&&_this183._onImageUpdate(),_this183._tintFilter=new W.Filters.TintFilter(),_this183._adjustmentsFilter=new oy(),_this183._lastRenderedDimensions=zc.NULL,_this183._lastRenderedInputDimensions=zc.NULL,_this183._onOptionsChange=_this183._onOptionsChange.bind(_assertThisInitialized(_this183)),_this183._options.adjustments.on("update",_this183._onOptionsChange);return _this183;}_createClass(Hy,[{key:"applyScale",value:function applyScale(e){this.setDimensions(this.getDimensions().multiply(e));}},{key:"serializeOptions",value:function serializeOptions(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(Hy.prototype),"serializeOptions",this).call(this,e,t);return e||(i.type="sticker"),i;}},{key:"_rendersToRenderTexture",value:function _rendersToRenderTexture(e){return this._options.smoothDownscaling&&!this._isSVG&&e.getRenderer().isOfType(Se.WEBGL)||this._hasAdjustments()||this._options.tintMode!=="none";}},{key:"_getTexture",value:function _getTexture(){return this._inputTexture;}},{key:"update",value:function update(e,t){var _this$_options26=this._options,i=_this$_options26.dimensions,o=_this$_options26.image;if(i.equals(zc.NULL)&&i.set(o.width,o.height),this._sprite.setSmoothDownscaling(this._isSVG?!1:this.getSmoothDownscaling()),(!this._lastRenderedInputDimensions.equals(t)||!this._lastRenderedDimensions.equals(i)||this._lastRenderedImage!==o)&&this._isSVG&&e.getRenderer().isOfType(Se.WEBGL)){o.width=Math.round(i.x),o.height=Math.round(i.y);var a=4096,l=o.width/o.height;o.width>a&&(o.width=a,o.height=Math.round(o.width/l)),o.height>a&&(o.height=a,o.width=Math.round(o.height*l)),this._canvas.width=o.width,this._canvas.height=o.height,this._context.clearRect(0,0,o.width,o.height),this._context.drawImage(o,0,0,o.width,o.height),this._inputTexture.getBaseTexture().update();}this._rendersToRenderTexture(e)&&this._prepareRenderTexture(e);var n=[];if(this._rendersToRenderTexture(e)){if(this._hasAdjustments()){n.push(this._adjustmentsFilter);var _a3=this._options.adjustments,_l6=new Ny();_l6.multiply(Ny.createBrightnessMatrix(_a3.getBrightness())),_l6.multiply(Ny.createSaturationMatrix(_a3.getSaturation())),_l6.multiply(Ny.createContrastMatrix(_a3.getContrast())),this._adjustmentsFilter.set({colorMatrix:_l6});}this._options.tintMode&&this._options.tintMode!=="none"&&(n.push(this._tintFilter),this._tintFilter.set({mode:W.Filters.TintFilter.MODES[this._options.tintMode.toUpperCase()],color:this._options.tintColor}),this._sprite.getTexture()&&this._sprite.getTexture()._baseTexture&&this._sprite.getTexture()._baseTexture.setDirty(!0)),this._renderTextureSprite.setFilters(n);}this._rendersToRenderTexture(e)?this._renderToRenderTexture(e):this._sprite.setTexture(this._inputTexture),this._updateSprite(t),this._applyFlip(),this._lastRenderedDimensions.copy(i),this._lastRenderedInputDimensions.copy(t),this._lastRenderedImage=o;}},{key:"_applyFlip",value:function _applyFlip(){var e=this._sprite.getScale(),_this$_options27=this._options,t=_this$_options27.flipHorizontally,i=_this$_options27.flipVertically;(t&&e.x>0||!t&&e.x<0)&&(e.x*=-1),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1),this._sprite.setScale(e);}},{key:"applyFlip",value:function applyFlip(e){_get(_getPrototypeOf(Hy.prototype),"applyFlip",this).call(this,e);var t={rotation:this._options.rotation},o=t.rotation/Math.PI*180*-1;switch(t.rotation=o*Math.PI/180,e){case"horizontal":t.flipHorizontally=!this._options.flipHorizontally,this.set(t);break;case"vertical":t.flipVertically=!this._options.flipVertically,this.set(t);break;}}},{key:"_hasAdjustments",value:function _hasAdjustments(){var e=this._options.adjustments;return e.getBrightness()!==0||e.getSaturation()!==1||e.getContrast()!==1;}},{key:"_onImageUpdate",value:function _onImageUpdate(){var e=this._options.image,t=this._operation.getSDK().getRenderer();this._isSVG&&t.isOfType(Se.WEBGL)&&(e=this._canvas),this._inputTexture&&(this._inputTexture.dispose(),this._inputTexture=null),this._inputTexture=W.Texture.fromImage(e),this._identitySprite.setTexture(this._inputTexture),this._sprite.setTexture(this._inputTexture),this._renderTexture&&(this._renderTextureSprite.setTexture(this._inputTexture),this._renderTexture.resizeTo(this._inputTexture.getDimensions())),this.setDirty(!0);}},{key:"scalesUniformly",value:function scalesUniformly(){return this._options.resizeMode==="keepAspect";}},{key:"setOption",value:function setOption(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;_get(_getPrototypeOf(Hy.prototype),"setOption",this).call(this,e,t,i),e==="image"&&this._identitySprite&&this._onImageUpdate();}},{key:"_onOptionsChange",value:function _onOptionsChange(){var e=this._dirtiness;for(var t in e){e[t]=!0;}}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Hy.prototype),"dispose",this).call(this),this._inputTexture&&(this._inputTexture.dispose(),this._inputTexture=null),this._tintFilter.dispose(),this._adjustmentsFilter.dispose(),this._options.adjustments.off("updated",this._onOptionsChange);}}]);return Hy;}($s);Hy.prototype.availableOptions={id:{type:b.STRING,"default":function _default(){return G.getUUID();}},identifier:{type:b.STRING,"default":""},image:{type:b.IMAGE,required:!0},position:{type:b.VECTOR2,"default":zc.NULL},dimensions:{type:b.VECTOR2,"default":zc.NULL},anchor:{type:b.VECTOR2,"default":new zc(0,0)},pivot:{type:b.VECTOR2,"default":new zc(.5,.5)},rotation:{type:b.NUMBER,"default":0},flipHorizontally:{type:b.BOOLEAN,"default":!1},flipVertically:{type:b.BOOLEAN,"default":!1},smoothDownscaling:{type:b.BOOLEAN,"default":!1},tintColor:{type:b.COLOR,"default":K.WHITE},tintMode:{type:b.STRING,"default":"none",available:["none","solid","colorized"]},resizeMode:{type:b.STRING,"default":"keepAspect",available:["keepAspect","unrestricted"]},alpha:{type:b.NUMBER,"default":1},adjustments:{type:b.CONFIGURABLE,structure:{brightness:{type:b.NUMBER,"default":0},saturation:{type:b.NUMBER,"default":1},contrast:{type:b.NUMBER,"default":1}}}};Hy.type="sticker";Wy=Hy;});var _qs,He,Kr=d(function(){_qs=/*#__PURE__*/function(){function qs(e){_classCallCheck(this,qs);this._seed=e===void 0?_qs.TimeSeed():e;}_createClass(qs,[{key:"seed",value:function seed(e){this._seed=e===void 0?_qs.TimeSeed():e;}},{key:"next",value:function next(){var e=this._seed|0,t=e/_qs.SEED_DIVIDER|0,i=e%_qs.SEED_DIVIDER|0;return e=_qs.SEED_LOW_MULTIPLY*i-_qs.SEED_HIGH_MULTIPLY*t,e<=0&&(e+=_qs.MAX),e===-1&&(e=_qs.MAX-1),this._seed=e,e;}},{key:"nextInRange",value:function nextInRange(e,t){return t===void 0&&(t=e,e=0),e+this.next()%(t-e+1);}},{key:"nextBool",value:function nextBool(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return this.nextInRange(e+t-1)>=e;}},{key:"pickNext",value:function pickNext(e){return Array.isArray(e)?e[this.next()%e.length]:null;}}],[{key:"TimeSeed",value:function TimeSeed(){return Date.now();}}]);return qs;}(),He=_qs;te(He,"MAX",2147483647),te(He,"SEED_DIVIDER",127773),te(He,"SEED_LOW_MULTIPLY",16807),te(He,"SEED_HIGH_MULTIPLY",2836);});var Voe,_At,Ks=d(function(){var _se28;Y();(_se28=se,Voe=_se28.Rectangle,_se28),_At=/*#__PURE__*/function(){function At(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,At);this.width=e,this.height=t;}_createClass(At,[{key:"set",value:function set(e,t){this.width=e,this.height=t;}},{key:"aspect",value:function aspect(){return this.width/this.height;}},{key:"rectangle",value:function rectangle(e,t){return new Voe(e,t,this.width,this.height);}},{key:"clone",value:function clone(){return new _At(this.width,this.height);}},{key:"scale",value:function scale(e,t){return t===void 0&&(t=e),this.width*=e,this.height*=t,this;}},{key:"copy",value:function copy(e){return this.width=e.width,this.height=e.height,this;}},{key:"fitInWidthWithOther",value:function fitInWidthWithOther(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _At();return this.copy(_At.fitTwoInWidth(e,this,t)[0]),this;}}],[{key:"fitTwoInWidth",value:function fitTwoInWidth(e,t,i){var o=t.width*i.height+t.height*i.width,s=i.height*e/o,n=t.width*s,a=t.height*s;return[new _At(n,a),new _At(e-n,a)];}}]);return At;}();});var B6,hk,st,Io=d(function(){Y();B6=y(pu()),hk=/*#__PURE__*/function(_Fe9){_inherits(hk,_Fe9);var _super137=_createSuper(hk);function hk(){_classCallCheck(this,hk);return _super137.apply(this,arguments);}_createClass(hk,[{key:"loadImages",value:function loadImages(e){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee9(){var _this184=this;return regeneratorRuntime.wrap(function _callee9$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",(0,B6["default"])(e,function(t){return ie(_this184,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",this.addImage(t.path,t.fullPath,t.image));case 1:case"end":return _context9.stop();}}},_callee8,this);}));}));case 1:case"end":return _context10.stop();}}},_callee9);}));}},{key:"addImage",value:function addImage(e,t,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"anonymous";var s=this.getImages();return i?(s[e]={fullPath:t,image:i},Promise.resolve({fullPath:t,image:i})):new Promise(function(n,a){i=new Sr(),i.onload=function(){s[e]={fullPath:t,image:i},n({fullPath:t,image:i});},i.crossOrigin=G.getCrossOriginValue(o),i.onerror=a,i.src=t;});}},{key:"getImage",value:function getImage(e){var i=this.getImages()[e];return i?i.image:null;}},{key:"getVariation",value:function getVariation(e){return this.getFonts()[e];}},{key:"addFont",value:function addFont(e,t){var i=this.getFonts();return i[e]=t,t;}}]);return hk;}(Fe);hk.prototype.availableOptions={images:{type:b.OBJECT,"default":{}},fonts:{type:b.OBJECT,"default":{}}};st=new hk();});var joe,$oe,M6,qoe,Koe,Xoe,Yoe,Joe,sr,lm=d(function(){Y();Ks();Io();joe=function joe(r,e,t,i){var o=t*(i*4)+e*4;return{r:r[o],g:r[o+1],b:r[o+2],a:r[o+3]};},$oe=function $oe(r){return r.a<=254;},M6=function M6(r,e,t){var i=!0;for(var o=0;o<t;o++){var s=joe(r,o,e,t);if(!$oe(s)){i=!1;break;}}return i;},qoe=function qoe(r,e,t,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!1;var s=0;for(var n=i+1;n<t;n++){if(!M6(r,n,e))s=n-i+1;else if(o)break;}return s;},Koe=function Koe(r,e,t,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!1;var s=0;for(var n=i-1;n>=0;n--){if(!M6(r,n,e))s=i-n;else if(o)break;}return s;},Xoe=function Xoe(r,e,t,i,o){r.beginPath(),r.moveTo(e,t),r.lineTo(i,o),r.stroke();},Yoe=function Yoe(r,e,t,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"red";r.save(),r.strokeStyle=o,Xoe(r,t,e,i,e),r.restore();},Joe=function Joe(r,e,t,i,o){var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"blue";r.save(),r.strokeStyle=s,r.strokeRect(e,t,i,o),r.restore();},sr=/*#__PURE__*/function(_Fe10){_inherits(sr,_Fe10);var _super138=_createSuper(sr);function sr(e){var _this185;_classCallCheck(this,sr);_this185=_super138.call(this,e);var t=st.getVariation(_this185.getFontIdentifier());t||oe.warn("TextDesignFont: Unable to find font '".concat(_this185._fontIdentifier,"'")),_this185.set({fontVariation:t}),_this185._metrics=null,_this185._canvas=G.createCanvas(),_this185._context=_this185._canvas.getContext("2d"),_this185._isDirty=!0;return _this185;}_createClass(sr,[{key:"_onOptionsChange",value:function _onOptionsChange(){this._isDirty=!0;}},{key:"setOption",value:function setOption(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;_get(_getPrototypeOf(sr.prototype),"setOption",this).call(this,e,t,i,o),e==="fontIdentifier"&&!o&&this.updateFontVariation();}},{key:"updateFontVariation",value:function updateFontVariation(){var e=st.getVariation(this.getFontIdentifier());return e||oe.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'")),this.setFontVariation(e),e;}},{key:"setOptions",value:function setOptions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=w(w({},this._options),e),this._isDirty=!0;}},{key:"_applyTextOptions",value:function _applyTextOptions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._context;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _w3=w(w({},this._options),t),i=_w3.fontSize,o=_w3.fontVariation,s=_w3.lineHeight,n=_w3.textColor,a=_w3.alignment,_o$serializeOptions=o.serializeOptions(),l=_o$serializeOptions.fontStyle,c=_o$serializeOptions.fontWeight,u=_o$serializeOptions.fontFamily;e.font="".concat(l," ").concat(c," ").concat(i,"px / ").concat(s," ").concat(u),e.fillStyle=n,e.textBaseline="alphabetic",e.textAlign=a||"left";}},{key:"getTextMetrics",value:function getTextMetrics(){return(!this._metrics||this._isDirty)&&this._calculateTextMetrics(),w({},this._metrics);}},{key:"getSizeValue",value:function getSizeValue(){return(!this._metrics||this._isDirty)&&this._calculateTextMetrics(),new _At(this._metrics.width,this._metrics.height);}},{key:"fitWidth",value:function fitWidth(e){if(!this.getFontVariation()){oe.warn("TextDesignFont#fitText: missing font variation");return;}this._applyTextOptions(this._context,{fontSize:50});var i=this._context.measureText(this.getText()).width,o=e/i,s=Math.floor(o*50);return this.setFontSize(s),this._calculateTextMetrics(),this.getTextMetrics();}},{key:"fitHeight",value:function fitHeight(e){if(!this.getFontVariation()){oe.warn("TextDesignFont#fitText: missing font variation");return;}var i=this._calculateTextMetrics({fontSize:50}).height,o=e/i,s=Math.floor(o*50);return this.setFontSize(s),this._calculateTextMetrics(),this.getTextMetrics();}},{key:"_calculateTextMetrics",value:function _calculateTextMetrics(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=this._canvas,i=this._context,o=w(w({},this._options),e),s=this.getText();this._applyTextOptions(i,o);var n=Math.ceil(i.measureText(s).width),a=Math.floor(n+o.fontSize*2),l=Math.floor(o.fontSize*3);t.width=a,t.height=l;var c=Math.floor(o.fontSize),u=Math.floor(l*(3/5));this._applyTextOptions(i,o),i.fillText(s,c,u);var p=i.getImageData(0,0,t.width,t.height).data,m=Koe(p,a,l,u,this._options.excludeAccents),h=qoe(p,a,l,u,this._options.excludeAccents),g=n,v=m+h;return this._metrics={width:g,height:v,ascender:m,descender:h},this._isDirty=!1,w({},this._metrics);}},{key:"draw",value:function draw(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._context;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3?arguments[3]:undefined;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!1;e.save(),(!this._metrics||this._isDirty)&&this._calculateTextMetrics(),this._applyTextOptions(e,o),e.fillText(this.getText(),t,i+this._metrics.ascender),s&&(Joe(e,t,i,this._metrics.width,this._metrics.height),Yoe(e,i+this._metrics.ascender,t,t+this._metrics.width)),e.restore();}}]);return sr;}(Fe);sr.prototype.availableOptions={text:{type:b.STRING,"default":""},fontIdentifier:{type:b.STRING,"default":"imgly_font_open_sans_bold"},fontVariation:{type:b.OBJECT,"default":null},lineHeight:{type:b.NUMBER,"default":1},fontSize:{type:b.NUMBER,"default":22},textColor:{type:b.STRING,"default":"black"},strokeStyle:{type:b.STRING,"default":"black"},outlineWidth:{type:b.NUMBER,"default":0},textBaseline:{type:b.STRING,"default":"alphabetic"},excludeAccents:{type:b.BOOLEAN,"default":!1}};});var nr,Uc=d(function(){Y();nr=/*#__PURE__*/function(_Fe11){_inherits(nr,_Fe11);var _super139=_createSuper(nr);function nr(){_classCallCheck(this,nr);return _super139.apply(this,arguments);}return nr;}(Fe);nr.prototype.availableOptions={text:{type:b.STRING,"default":""},frame:{type:b.OBJECT,"default":null},font:{type:b.OBJECT,"default":null}};});var Fo,cm=d(function(){Y();Fo=/*#__PURE__*/function(_Fe12){_inherits(Fo,_Fe12);var _super140=_createSuper(Fo);function Fo(){_classCallCheck(this,Fo);return _super140.apply(this,arguments);}return Fo;}(Fe);Fo.prototype.availableOptions={tintColor:{type:b.COLOR,"default":K.BLACK},textColor:{type:b.COLOR,"default":K.BLACK},alignment:{type:b.STRING,"default":"left",available:["left","center","right"]},lineSpacing:{type:b.NUMBER,"default":1},fontIdentifier:{type:b.STRING,"default":"imgly_font_open_sans_bold"}};});var Zoe,Dr,jh=d(function(){var _se29;Y();Ks();cm();(_se29=se,Zoe=_se29.Rectangle,_se29),Dr=/*#__PURE__*/function(_Fe13){_inherits(Dr,_Fe13);var _super141=_createSuper(Dr);function Dr(e){var _this186;_classCallCheck(this,Dr);_this186=_super141.call(this,e);_this186.setSize(new _At(_this186.getWidth(),0)),_this186.serverImageSmoothingFix=!1;return _this186;}_createClass(Dr,[{key:"_getFrame",value:function _getFrame(){var e=this.getSize();return new Zoe(0,0,e.width,e.height);}},{key:"_getTextFrame",value:function _getTextFrame(){return this._getFrame();}},{key:"_getTextFrameForElement",value:function _getTextFrameForElement(e){return e.getFrame().clone();}},{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){oe.warn("TextDesignRow is an abstract class.");}},{key:"_getLayoutElements",value:function _getLayoutElements(){return this._options.elements.length<=0&&this.layout(),this.getElements();}},{key:"_fontSize",value:function _fontSize(e){return oe.warn("TextDesignRow#_fontSize not implemented. @TODO: Is it necessary?"),0;}},{key:"layout",value:function layout(){return this.setElements(this._calculateLayoutElements()),this;}},{key:"textFrame",value:function textFrame(e,t){return e.getFrame().clone();}},{key:"willRender",value:function willRender(e){}},{key:"didRender",value:function didRender(e){}},{key:"render",value:function render(e){var _this187=this;e.save(),this._getLayoutElements().forEach(function(t){var _t$serializeOptions=t.serializeOptions(),i=_t$serializeOptions.text,o=_t$serializeOptions.frame,s=_t$serializeOptions.font,n=_this187.getAttributes();s.draw(e,o.x,o.y,{textColor:n.getTextColor().toRGBA(),alignment:n.getAlignment()});}),e.restore();}}]);return Dr;}(Fe);Dr.prototype.availableOptions={words:{type:b.OBJECT,"default":null},width:{type:b.NUMBER,"default":100},attributes:{type:b.CONFIGURABLE,"default":new Fo()},shearingAngle:{type:b.NUMBER,"default":0},elements:{type:b.ARRAY,"default":[]},size:{type:b.OBJECT,"default":null}};});var Qoe,_$h,os,L6=d(function(){var _se30;Y();lm();Uc();jh();(_se30=se,Qoe=_se30.Rectangle,_se30),_$h=/*#__PURE__*/function(_Dr){_inherits($h,_Dr);var _super142=_createSuper($h);function $h(){_classCallCheck(this,$h);return _super142.apply(this,arguments);}_createClass($h,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){if(this.getWords().size()<=0)return[];var _this$serializeOption=this.serializeOptions(),e=_this$serializeOption.orientation,t=_this$serializeOption.width,i=_this$serializeOption.size,o=_this$serializeOption.relativeRowOffset,s=_this$serializeOption.attributes,n=s.fontIdentifier,a=this.getWords().joined(3),l=e===_$h.Orientations.Left?[a[0],a[1],a[2]]:[a[1],a[2],a[0]],c=G.Array.range(0,2).map(function(Ce){return new sr({text:l[Ce],fontIdentifier:n,fontSize:60});}),u=c.map(function(Ce){return Ce.getSizeValue();}),p=u[0].width>u[1].width?0:1,m=(p+1)%2;c[m].fitWidth(u[p].width),u[m]=c[m].getSizeValue();var h=(u[m].height+u[p].height)/(1-o),g=new sr({text:l[2],fontIdentifier:n});g.fitHeight(h);var v=g.getSizeValue().width,S=u[p].width,_=t/(v+S),I=_*v,E=_*S,O=_*h,V=o*O;i.set(t,O);var F=G.Array.range(0,3).map(function(Ce){return new sr({text:l[Ce],fontIdentifier:n});});F[0].fitWidth(E),F[1].fitWidth(E),F[2].fitWidth(I);var P=e===_$h.Orientations.Left?0:I,ae=e===_$h.Orientations.Left?E:0,de=[P,P,ae],ye=[0,F[0].getSizeValue().height+V,0],Te=F.map(function(Ce,xe){return new Qoe(de[xe],ye[xe],Ce.getSizeValue().width,Ce.getSizeValue().height);});return F.map(function(Ce,xe){return new nr({text:l[xe],font:F[xe],frame:Te[xe]});});}}]);return $h;}(Dr),os=_$h;te(os,"Orientations",{Right:"RIGHT",Left:"LEFT"});os.prototype.availableOptions=L(w({},Dr.prototype.availableOptions),{orientation:{type:b.STRING,"default":os.Orientations.Left,available:[os.Orientations.Right,os.Orientations.Left]},relativeRowOffset:{type:b.NUMBER,"default":.05}});});var ese,_Re,Xr=d(function(){var _se31;Y();(_se31=se,ese=_se31.Rectangle,_se31),_Re=/*#__PURE__*/function(){function Re(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Re);this.top=e,this.left=t,this.bottom=i,this.right=o;}_createClass(Re,[{key:"multiply",value:function multiply(e){this.top*=e,this.left*=e,this.bottom*=e,this.right*=e;}},{key:"toObject",value:function toObject(){return w({},this);}},{key:"equals",value:function equals(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return Math.abs(e.top-this.top)<=t&&Math.abs(e.left-this.left)<=t&&Math.abs(e.bottom-this.bottom)<=t&&Math.abs(e.right-this.right)<=t;}},{key:"scale",value:function scale(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=arguments.length>1?arguments[1]:undefined;return t===void 0&&(t=e),this.top*=t,this.bottom*=t,this.left*=e,this.right*=e,this;}},{key:"clone",value:function clone(){return new _Re(this.top,this.left,this.bottom,this.right);}},{key:"applyToRectangle",value:function applyToRectangle(e){return new ese(e.x+this.left,e.y+this.top,e.width-this.left-this.right,e.height-this.top-this.bottom);}}],[{key:"ZERO",get:function get(){return new _Re(0,0,0,0);}}]);return Re;}();});var Ut,Oo=d(function(){Y();lm();Xr();Uc();jh();Ut=/*#__PURE__*/function(_Dr2){_inherits(Ut,_Dr2);var _super143=_createSuper(Ut);function Ut(){_classCallCheck(this,Ut);return _super143.apply(this,arguments);}_createClass(Ut,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){var _this$serializeOption2=this.serializeOptions(),e=_this$serializeOption2.attributes,t=_this$serializeOption2.imageInsets,i=_this$serializeOption2.size,o=_this$serializeOption2.width,s=this.getWords().joined(1)[0]||"",n=e.fontIdentifier,a=new sr({text:s,fontIdentifier:n});a.fitWidth(this._getTextFrame().width);var l=a.getTextMetrics().height+t.top+t.bottom;i.height=l;var c=this._getTextFrame();return[new nr({text:s,frame:c,font:a})];}}]);return Ut;}(Dr);Ut.prototype.availableOptions=L(w({},Dr.prototype.availableOptions),{imageInsets:{type:b.OBJECT,"default":new _Re()}});});var na,Wi,fk,Ro,Gy,dm,gk,z6,U6,aa,kl=d(function(){var _se32;Y();(_se32=se,na=_se32.Rectangle,Wi=_se32.Vector2,_se32),fk=function fk(r,e,t,i){r.drawImage(e,t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height);},Ro=function Ro(r,e,t){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"source-over";var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!1;r.save(),r.fillStyle=t.toRGBA(),r.globalCompositeOperation=i,r.fillRect(e.x,e.y,e.width,e.height),o&&(r.strokeStyle=t.toRGBA(),r.strokeWith=1,r.strokeRect(e.x,e.y,e.width,e.height)),r.restore();},Gy=function Gy(r,e,t,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"source-over";var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:!1;r.save(),r.fillStyle=i.toRGBA(),r.globalCompositeOperation=o,t=Math.min(Math.max(t,0),Math.min(e.height,e.width)*.5);var n=e.x,a=e.x+e.width,l=e.y,c=e.y+e.height;r.beginPath(),r.moveTo(n+t,l),r.arcTo(a,l,a,c,t),r.arcTo(a,c,n,c,t),r.arcTo(n,c,n,l,t),r.arcTo(n,l,a,l,t),r.closePath(),r.fill(),s&&r.stroke(),r.restore();},dm=function dm(r,e,t){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:4;r.save(),r.strokeStyle=t.toRGBA(),r.lineWidth=i,r.strokeRect(e.x,e.y,e.width,e.height),r.restore();},gk=function gk(r,e,t){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"source-over";r.save();var o=e.height/2,s=e.y+o,n=e.x+o,a=e.x+e.width;for(r.fillStyle=t.toRGBA(),r.globalCompositeOperation=i;n<a;){r.beginPath(),r.arc(n,s,o,0,2*Math.PI),r.fill(),n+=o*4;}r.restore();},z6=function z6(r,e){var t=e.applyToRectangle(r),i=r.x,o=r.y,s=r.width,n=r.height,a=[na.FromDiagonalPoints(new Wi(0,0),new Wi(t.x,t.y)),na.FromDiagonalPoints(new Wi(0,t.y+t.height),new Wi(t.x,n)),na.FromDiagonalPoints(new Wi(t.x+t.width,t.y+t.height),new Wi(s,n)),na.FromDiagonalPoints(new Wi(t.x+t.width,0),new Wi(s,t.y))].map(function(c){return c.translate(i,o);}),l=[na.FromDiagonalPoints(new Wi(t.x,0),new Wi(t.x+t.width,t.y)),na.FromDiagonalPoints(new Wi(0,t.y),new Wi(t.x,t.y+t.height)),na.FromDiagonalPoints(new Wi(t.x,t.y+t.height),new Wi(t.x+t.width,n)),na.FromDiagonalPoints(new Wi(t.x+t.width,t.y),new Wi(s,t.y+t.height))].map(function(c){return c.translate(i,o);});return{corners:a,bars:l,center:t};},U6=function U6(r,e,t,i){var o=e.naturalWidth||e.width,s=e.naturalHeight||e.height,n=z6(new na(0,0,o,s),i),a=z6(t,i);fk(r,e,n.center,a.center),G.Array.zip(n.corners,a.corners).forEach(function(_ref95){var _ref96=_slicedToArray(_ref95,2),l=_ref96[0],c=_ref96[1];return fk(r,e,l,c);}),G.Array.zip(n.bars,a.bars).forEach(function(_ref97){var _ref98=_slicedToArray(_ref97,2),l=_ref98[0],c=_ref98[1];return fk(r,e,l,c);});},aa=function aa(r,e,t,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"source-atop";if(r.save(),i&&(r.globalAlpha=i.a),r.drawImage(e,t.x,t.y,t.width,t.height),i&&(r.globalAlpha=1),i){var s=i.clone();s.a=1,Ro(r,t,s,o);}r.restore();};});var la,Vy=d(function(){Y();kl();Xr();Oo();la=/*#__PURE__*/function(_Ut){_inherits(la,_Ut);var _super144=_createSuper(la);function la(){_classCallCheck(this,la);return _super144.apply(this,arguments);}_createClass(la,[{key:"_getTextColor",value:function _getTextColor(){return this.getAutoAdjustTextColor()&&!this.getIsMasked()?this.getBackgroundColor().equals(K.WHITE)?K.BLACK:K.WHITE:this.getAttributes().getTextColor().clone();}},{key:"_getTextFrame",value:function _getTextFrame(){return this.getImageInsets().applyToRectangle(this._getFrame());}},{key:"_getTextFrameForElement",value:function _getTextFrameForElement(e){var t=_get(_getPrototypeOf(la.prototype),"_getTextFrameForElement",this).call(this,e),i=this.getImageInsets();return(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&(t.y-=i.top),t;}},{key:"willRender",value:function willRender(e){this.getAttributes().setTextColor(this._getTextColor());var i=this.getImage();if(i){var o=this.getCapInsets(),s=this._getFrame();o&&!o.equals(_Re.ZERO)?U6(e,i,s,o):e.drawImage(i,s.x,s.y,s.width,s.height),Ro(e,s,this.getBackgroundColor(),"source-atop",!0);}(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&i&&(e.save(),e.globalCompositeOperation="destination-out");}},{key:"didRender",value:function didRender(e){_get(_getPrototypeOf(la.prototype),"didRender",this).call(this,e),(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&e.restore();}}]);return la;}(Ut);la.prototype.availableOptions=L(w({},Ut.prototype.availableOptions),{image:{type:b.IMAGE,"default":null},capInsets:{type:b.OBJECT,"default":new _Re()},backgroundColor:{type:b.COLOR,"default":K.WHITE},autoAdjustTextColor:{type:b.BOOLEAN,"default":!0},isMasked:{type:b.BOOLEAN,"default":!0},isUsedInInvertedLayout:{type:b.BOOLEAN,"default":!1}});});var _Yr,jy=d(function(){Y();Xr();_Yr=/*#__PURE__*/function(_Fe14){_inherits(Yr,_Fe14);var _super145=_createSuper(Yr);function Yr(){_classCallCheck(this,Yr);return _super145.apply(this,arguments);}_createClass(Yr,[{key:"insetsForWidth",value:function insetsForWidth(e){return this.getRelativeInsets().clone().scale(e);}}],[{key:"Small",get:function get(){return new _Yr({imagePath:"text-design/images/imgly_text_design_asset_banderole_small.png",fontIdentifier:"imgly_font_campton_bold",relativeInsets:new _Re(.05,.2,.05,.2)});}},{key:"Rectangle",get:function get(){return new _Yr({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",fontIdentifier:"imgly_font_campton_bold",relativeInsets:new _Re(.05,.05,.05,.05),needsImageSmoothingFix:!0});}},{key:"Celebrate1",get:function get(){return new _Yr({imagePath:"text-design/images/imgly_text_design_asset_celebrate_01.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new _Re(.05,.2,.05,.2)});}},{key:"Celebrate2",get:function get(){return new _Yr({imagePath:"text-design/images/imgly_text_design_asset_celebrate_02.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new _Re(.05,.2,.05,.2)});}}]);return Yr;}(Fe);_Yr.prototype.availableOptions={image:{type:b.IMAGE,"default":null},imagePath:{type:b.STRING,"default":null},relativeInsets:{type:b.OBJECT,"default":new _Re()},fontIdentifier:{type:b.STRING,"default":"imgly_font_open_sans_bold"},needsImageSmoothingFix:{type:b.BOOLEAN,"default":!1}};});var $y,N6=d(function(){Y();Xr();Ks();$y=/*#__PURE__*/function(_Fe15){_inherits($y,_Fe15);var _super146=_createSuper($y);function $y(){_classCallCheck(this,$y);return _super146.apply(this,arguments);}_createClass($y,[{key:"getSize",value:function getSize(){var e=this.getRows(),t=this.getWidth(),i=e.length-1,o=e.reduce(function(n,a){return n+a.getSize().height;},0);o+=(i+1)*this.getRelativeLineSpacing()*t;var s=this.getRelativeInsets().clone().scale(t);return o+=s.top+s.bottom,new _At(t,o);}}]);return $y;}(Fe);$y.prototype.availableOptions={text:{type:b.STRING,"default":""},lines:{type:b.ARRAY,"default":[]},relativeInsets:{type:b.OBJECT,"default":new _Re()},relativeLineSpacing:{type:b.NUMBER,"default":0},rows:{type:b.OBJECT,"default":[]},background:{type:b.OBJECT,"default":null},width:{type:b.NUMBER,"default":0}};});var _Li,Tl=d(function(){Y();_Li=/*#__PURE__*/function(){function Li(e){_classCallCheck(this,Li);this.words=[],e&&this.splitIntoWords(e);}_createClass(Li,[{key:"splitIntoWords",value:function splitIntoWords(e){return this.words=e.match(/\S+/g)||[],_toConsumableArray(this.words);}},{key:"get",value:function get(){return _toConsumableArray(this.words);}},{key:"getWord",value:function getWord(e){return this.words[e];}},{key:"set",value:function set(e){return this.words=_toConsumableArray(e),this;}},{key:"slice",value:function slice(e,t){return _Li.fromWords(this.words.slice(e,t));}},{key:"getLowerCase",value:function getLowerCase(){return this.words.map(function(e){return e.toLowerCase();});}},{key:"getUpperCase",value:function getUpperCase(){return this.words.map(function(e){return e.toUpperCase();});}},{key:"size",value:function size(){return this.words.length;}},{key:"countNumberOfCharacters",value:function countNumberOfCharacters(){return this.words.reduce(function(e,t){return e+t.length;},0);}},{key:"joined",value:function joined(e){var _this188=this;var t=this.size(),i=Math.floor(t/e),o=t%e,s=0,n=0;return G.Array.range(0,e).map(function(a){s=n;var l=i+(a<o?1:0);return n=Math.min(s+l,t),G.Array.range(s,n).reduce(function(c,u){return c+(u===s?"":" ")+_this188.words[u];},"");});}}],[{key:"fromWords",value:function fromWords(e){var t=new _Li();return t.words=_toConsumableArray(e),t;}}]);return Li;}();});var tse,ise,rse,gi,um=d(function(){Y();Kr();Xr();Oo();cm();N6();Tl();tse=10,ise=4,rse=.4,gi=/*#__PURE__*/function(_Fe16){_inherits(gi,_Fe16);var _super147=_createSuper(gi);function gi(e){var _this189;_classCallCheck(this,gi);_this189=_super147.call(this,e);_this189._relativeInsets=new _Re(),_this189._background=null,_this189._fontRandomizer=new He(0),_this189._lineNumberRandomizer=new He(0),_this189._wordsPerLineRandomizer=new He(0),_this189._seedPool=[_this189._fontRandomizer,_this189._lineNumberRandomizer,_this189._wordsPerLineRandomizer];return _this189;}_createClass(gi,[{key:"seed",value:function seed(e){this._seedPool.forEach(function(t){return t.seed(e);});}},{key:"getImagePaths",value:function getImagePaths(){return[];}},{key:"onImagesLoaded",value:function onImagesLoaded(){}},{key:"getMaximumNumberOfTries",value:function getMaximumNumberOfTries(){return tse;}},{key:"getMinLineCountOfRandom",value:function getMinLineCountOfRandom(){return ise;}},{key:"getRandomAdditionalLinePercentage",value:function getRandomAdditionalLinePercentage(){return rse;}},{key:"_fontForRow",value:function _fontForRow(e,t){return this._fontRandomizer.pickNext(this.getFontIdentifiers());}},{key:"_modifiedText",value:function _modifiedText(e){return e.replace("\n"," ").replace("	"," ");}},{key:"_minimumNumberOfLines",value:function _minimumNumberOfLines(e){return Math.ceil(Math.sqrt(e.size()));}},{key:"_maximumNumberOfLines",value:function _maximumNumberOfLines(e){return e.size();}},{key:"_calculatedNumberOfLines",value:function _calculatedNumberOfLines(e){var t=this._minimumNumberOfLines(e);if(e.size()>=this.getMinLineCountOfRandom()){var i=Math.floor(Math.max(1,t*this.getRandomAdditionalLinePercentage()));t+=this._lineNumberRandomizer.nextInRange(0,i);}return Math.min(t,this._maximumNumberOfLines(e));}},{key:"_randomizedNumberOfWordsPerLine",value:function _randomizedNumberOfWordsPerLine(e,t){var _this190=this;if(e>t)return oe.warn("TextDesign#_randomizedNumberOfWordsPerLine: Invalid number of lines"),t;var i=G.Array.repeat(1,e);return G.Array.range(e,t).forEach(function(o){var s=_this190._wordsPerLineRandomizer.nextInRange(0,e-1);i[s]+=1;}),i;}},{key:"_textLines",value:function _textLines(e){var t=new _Li(e),i=this._calculatedNumberOfLines(t);return this._randomizedNumberOfWordsPerLine(i,t.size()).reduce(function(s,n){return{index:s.index+n,lines:[].concat(_toConsumableArray(s.lines),[t.slice(s.index,Math.min(s.index+n,t.size()))])};},{index:0,lines:[]}).lines;}},{key:"_validTextLines",value:function _validTextLines(e){var t=this._textLines(e),i=0;do{if(i=G.Array.findIndex(t,function(o){return o.countNumberOfCharacters()<3;}),i>=0){var o=t[i-1],s=t[i+1],n=o?o.countNumberOfCharacters():Number.MAX_SAFE_INTEGER,a=s?s.countNumberOfCharacters():Number.MAX_SAFE_INTEGER;n<a&&o?(o.words=[].concat(_toConsumableArray(o.words),_toConsumableArray(t[i].words)),t=[].concat(_toConsumableArray(t.slice(0,i)),_toConsumableArray(t.slice(i+1)))):s&&(s.words=[].concat(_toConsumableArray(t[i].words),_toConsumableArray(s.words)),t=[].concat(_toConsumableArray(t.slice(0,i)),_toConsumableArray(t.slice(i+1))));}}while(i>-1&&t.length>1);return t;}},{key:"_modifiedLines",value:function _modifiedLines(e){return e;}},{key:"_getBackground",value:function _getBackground(){return this._background;}},{key:"generateLayoutData",value:function generateLayoutData(e,t){var i=this._modifiedText(e),o=this._modifiedLines(this._validTextLines(i)),s=t*(1-this._relativeInsets.left-this._relativeInsets.right),n=this._layoutRows(o,s);return new $y({text:i,relativeInsets:this._relativeInsets.clone(),relativeLineSpacing:this.getRelativeLineSpacing(),background:this._background||this._getBackground(),lines:o,rows:n,width:t});}},{key:"_layoutRows",value:function _layoutRows(e,t){var _this191=this;return e.map(function(i,o){return _this191._randomLayoutRow(i,o,t,new Fo({fontIdentifier:_this191._fontForRow(o,i)})).layout();});}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){return new Ut({words:e,width:i,attributes:o});}}]);return gi;}(Fe);te(gi,"defaultFontIdentifiers",[]),te(gi,"identifier","textdesign");gi.prototype.availableOptions={fontIdentifiers:{type:b.ARRAY,"default":[]},relativeLineSpacing:{type:b.NUMBER,"default":0}};});var Di,mm=d(function(){Y();Kr();L6();Oo();Vy();cm();jy();Io();um();Di=/*#__PURE__*/function(_gi){_inherits(Di,_gi);var _super148=_createSuper(Di);function Di(){var _this192;_classCallCheck(this,Di);for(var _len86=arguments.length,e=new Array(_len86),_key86=0;_key86<_len86;_key86++){e[_key86]=arguments[_key86];}_this192=_super148.call.apply(_super148,[this].concat(e));te(_assertThisInitialized(_this192),"getImagePaths",function(){var e=_this192.getBanderoles();return e&&e.map(function(t){return t.getImagePath();})||[];});te(_assertThisInitialized(_this192),"onImagesLoaded",function(){var e=_this192.getBanderoles();e&&e.forEach(function(t){var i=st.getImage(t.getImagePath());if(!i){oe.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(t.getImagePath(),"'"));return;}t.setImage(i);});});_this192._rowTypeLessThan3WordsRandomizer=new He(0),_this192._rowTypeMoreThan3WordsRandomizer=new He(0),_this192._banderolesRandomizer=new He(0),_this192._seedPool=[].concat(_toConsumableArray(_this192._seedPool),[_this192._rowTypeLessThan3WordsRandomizer,_this192._rowTypeMoreThan3WordsRandomizer,_this192._banderolesRandomizer]);return _this192;}_createClass(Di,[{key:"_modifiedText",value:function _modifiedText(e){return _get(_getPrototypeOf(Di.prototype),"_modifiedText",this).call(this,e).toUpperCase();}},{key:"generateLayoutData",value:function generateLayoutData(e,t){return this._options.hasMaskedText=!1,_get(_getPrototypeOf(Di.prototype),"generateLayoutData",this).call(this,e,t);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){if(e.size()<3){var n=this._rowTypeLessThan3WordsRandomizer.nextInRange(0,2)===0;return this._layoutRow(e,i,o,n);}var s=this._rowTypeMoreThan3WordsRandomizer.nextInRange(0,3);switch(s){case 0:return new os({words:e,width:i,attributes:o,orientation:os.Orientations.Left});case 1:return new os({words:e,width:i,attributes:o,orientation:os.Orientations.Right});case 2:return this._layoutRow(e,i,o,!0);case 3:return new Ut({words:e,width:i,attributes:o});default:throw new Error("TextDesignBlocks#_randomLayoutRow: Invalid randomValue generated: ".concat(s,"."));}}},{key:"_layoutRow",value:function _layoutRow(e,t,i,o){if(this.getHasMaskedText()&&(o=!1),o){this.setHasMaskedText(!0);var s=this._banderolesRandomizer.pickNext(this.getBanderoles()),n=new la({words:e,width:t,attributes:new Fo({alignment:"left",fontIdentifier:s.getFontIdentifier()}),image:s.getImage(),imageInsets:s.insetsForWidth(t),capInsets:null,backgroundColor:K.WHITE});return s.getNeedsImageSmoothingFix()&&(n.serverImageSmoothingFix=!0),n;}return new Ut({words:e,width:t,attributes:i});}}]);return Di;}(gi);te(Di,"defaultFontIdentifiers",["imgly_font_campton_bold"]),te(Di,"identifier","imgly_text_design_blocks"),te(Di,"defaultBanderoles",[_Yr.Rectangle,_Yr.Small]);Di.prototype.availableOptions=L(w({},gi.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Di.defaultFontIdentifiers},relativeLineSpacing:{type:b.NUMBER,"default":.025/3},hasMaskedText:{type:b.BOOLEAN,"default":!1},banderoles:{type:b.ARRAY,"default":Di.defaultBanderoles}});});var Nc,H6=d(function(){Y();Oo();mm();Nc=/*#__PURE__*/function(_Di){_inherits(Nc,_Di);var _super149=_createSuper(Nc);function Nc(){var _this193;_classCallCheck(this,Nc);for(var _len87=arguments.length,e=new Array(_len87),_key87=0;_key87<_len87;_key87++){e[_key87]=arguments[_key87];}_this193=_super149.call.apply(_super149,[this].concat(e));_this193._exclusiveFont=null;return _this193;}_createClass(Nc,[{key:"generateLayoutData",value:function generateLayoutData(e,t){return this._exclusiveFont=this._fontRandomizer.pickNext(this.getFontIdentifiers()),_get(_getPrototypeOf(Nc.prototype),"generateLayoutData",this).call(this,e,t);}},{key:"_fontForRow",value:function _fontForRow(e,t){return this._exclusiveFont||_get(_getPrototypeOf(Nc.prototype),"_fontForRow",this).call(this,e,t);}},{key:"_layoutRow",value:function _layoutRow(e,t,i,o){return new Ut({words:e,width:t,attributes:i});}}]);return Nc;}(Di);te(Nc,"defaultFontIdentifiers",["imgly_font_ostrich_sans_heavy","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_black"]),te(Nc,"identifier","imgly_text_design_blocks_condensed");Nc.prototype.availableOptions=L(w({},Di.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Nc.defaultFontIdentifiers}});});var qh,_Dl,Er,bk=d(function(){var _se33;Y();kl();Ks();Uc();jh();(_se33=se,qh=_se33.Rectangle,_se33),_Dl=/*#__PURE__*/function(_Dr3){_inherits(Dl,_Dr3);var _super150=_createSuper(Dl);function Dl(){var _this194;_classCallCheck(this,Dl);for(var _len88=arguments.length,e=new Array(_len88),_key88=0;_key88<_len88;_key88++){e[_key88]=arguments[_key88];}_this194=_super150.call.apply(_super150,[this].concat(e));_this194.setSize(new _At(_this194.getWidth(),_this194.getHeight()));return _this194;}_createClass(Dl,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){return[new nr({frame:this._getTextFrame()})];}},{key:"render",value:function render(e){var t=this._getFrame(),i=this.getType(),s=this.getAttributes().getTextColor(),n=t.height/3,a=new qh(t.x,t.y,t.width,n),l=new qh(t.x,t.y+n*2,t.width,n);switch(i){case _Dl.FormType.Rect:Ro(e,t,s);break;case _Dl.FormType.DoubleRect:Ro(e,a,s),Ro(e,l,s);break;case _Dl.FormType.DoubleRectFirstPunctuated:gk(e,a,s),Ro(e,l,s);break;case _Dl.FormType.DoubleRectSecondPunctuated:Ro(e,a,s),gk(e,l,s);break;case _Dl.FormType.LongLine:{var c=t.height/2,u=new qh(t.x,t.y,t.width,c);Gy(e,u,u.height*.5,s);break;}case _Dl.FormType.LongAndShortLine:{var _c5=t.height*.2,_u3=_c5*.75;a=new qh(t.x,t.y+_c5,t.width,_c5);var p=t.x+t.width*.25,m=t.y+t.height-_u3;l=new qh(p,m,t.width*.5,_u3),Gy(e,a,a.height*.5,s),Gy(e,l,l.height*.5,s);break;}default:break;}}}]);return Dl;}(Dr),Er=_Dl;te(Er,"FormType",{Rect:"RECT",DoubleRect:"DOUBLE_RECT",DoubleRectFirstPunctuated:"DOUBLE_RECT_FIRST_PUNCTUATED",DoubleRectSecondPunctuated:"DOUBLE_RECT_SECOND_PUNCTUATED",LongLine:"LONG_LINE",LongAndShortLine:"LONG_AND_SHORT_LINE"});Er.prototype.availableOptions=L(w({},Dr.prototype.availableOptions),{height:{type:b.NUMBER,"default":100},type:{type:b.STRING,"default":Er.FormType.Rect,available:G.values(Er.FormType)}});});var Xs,_k=d(function(){Y();Oo();bk();mm();Xs=/*#__PURE__*/function(_Di2){_inherits(Xs,_Di2);var _super151=_createSuper(Xs);function Xs(){_classCallCheck(this,Xs);return _super151.apply(this,arguments);}_createClass(Xs,[{key:"_layoutRow",value:function _layoutRow(e,t,i,o){return new Ut({words:e,width:t,attributes:i});}},{key:"_layoutRows",value:function _layoutRows(e,t){var i=_get(_getPrototypeOf(Xs.prototype),"_layoutRows",this).call(this,e,t),o=.032*t,s=.08*t,n=new Er({width:t,height:o,type:Er.FormType.LongLine,shearingAngle:0}).layout(),a=new Er({width:t,height:s,type:Er.FormType.LongAndShortLine,shearingAngle:0}).layout();return[n].concat(_toConsumableArray(i),[a]);}}]);return Xs;}(Di);te(Xs,"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]),te(Xs,"identifier","imgly_text_design_blocks_light");Xs.prototype.availableOptions=L(w({},Di.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Xs.defaultFontIdentifiers}});});var Hc,W6=d(function(){Y();Oo();cm();_k();Hc=/*#__PURE__*/function(_Xs){_inherits(Hc,_Xs);var _super152=_createSuper(Hc);function Hc(){_classCallCheck(this,Hc);return _super152.apply(this,arguments);}_createClass(Hc,[{key:"_layoutRows",value:function _layoutRows(e,t){var _this195=this;return e.map(function(i,o){return _this195._randomLayoutRow(i,o,t,new Fo({fontIdentifier:_this195._fontForRow(o,i)})).layout();});}},{key:"_layoutRow",value:function _layoutRow(e,t,i,o){return new Ut({words:e,width:t,attributes:i});}}]);return Hc;}(Xs);te(Hc,"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]),te(Hc,"identifier","imgly_text_design_blocks_light-v3_1_0");Hc.prototype.availableOptions=L(w({},Xs.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Hc.defaultFontIdentifiers}});});var ose,_qy,Ys,Ky=d(function(){var _se34;Y();lm();kl();Ks();Uc();Oo();(_se34=se,ose=_se34.Rectangle,_se34),_qy=/*#__PURE__*/function(_Ut2){_inherits(qy,_Ut2);var _super153=_createSuper(qy);function qy(){_classCallCheck(this,qy);return _super153.apply(this,arguments);}_createClass(qy,[{key:"getImageSize",value:function getImageSize(){var e=this.getLeftImage(),t=this.getRightImage(),i=this.getWords(),s=this.getAttributes().getFontIdentifier(),n=e?new _At(e.width,e.height):new _At(),a=i.joined(1)[0];if(!a)return n;var c=new sr({text:a,fontIdentifier:s,fontSize:50}).getSizeValue(),u=t?2:1;n.scale(u,1);var p=n.clone().fitInWidthWithOther(this._getFrame().width,c);return p.scale(1/u,1),p;}},{key:"_getTextFrame",value:function _getTextFrame(){var e=_get(_getPrototypeOf(qy.prototype),"_getTextFrame",this).call(this).clone(),t=this.getImageSize(),i=this.getRightImage(),o=this.getImagePosition();return i?(e.x+=t.width,e.width-=2*t.width):o===_qy.ImagePosition.Left&&(e.x+=t.width),e;}},{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){var e=_get(_getPrototypeOf(qy.prototype),"_calculateLayoutElements",this).call(this),t=this._getFrame(),i=this.getRightImage(),o=this.getImageSize(),s=this.getImagePosition(),n=this._getTextFrame(),l=this.getAttributes().getFontIdentifier(),c=new sr({text:"stickerClock",fontIdentifier:l});c.fitWidth(this._getTextFrame().width);var u=new ose().set(t.x,t.y,o.width,o.height);if(!i&&s===_qy.ImagePosition.Right&&(u.x+=n.width),e.push(new nr({text:"stickerClock",frame:u,font:c})),i){var p=e[0];if(p){var m=u.clone();m.translate(p.getFrame().width+m.width,0),e.push(new nr({text:"stickerClock",frame:m,font:c}));}}return e;}},{key:"render",value:function render(e){var t=this._getLayoutElements(),i=this.getAttributes(),o=i.getTextColor(),s=this.getLeftImage(),n=this.getRightImage(),a=t[0],l=t[1],_a$serializeOptions=a.serializeOptions(),c=_a$serializeOptions.font,u=this._getTextFrameForElement(a);if(c.draw(e,u.x,u.y,{textColor:i.getTextColor().toRGBA(),alignment:i.getAlignment()}),s){var p=l.getFrame();e.drawImage(s,p.x,p.y,p.width,p.height),Ro(e,p,o,"source-atop");}if(t.length>2){var m=t[2].getFrame().clone();e.drawImage(n,m.x,m.y,m.width,m.height),Ro(e,m,o,"source-atop");}}}]);return qy;}(Ut),Ys=_qy;te(Ys,"ImagePosition",{Left:"LEFT",right:"RIGHT"});Ys.prototype.availableOptions=L(w({},Ut.prototype.availableOptions),{leftImage:{type:b.IMAGE,"default":null},rightImage:{type:b.IMAGE,"default":null},imagePosition:{type:b.STRING,"default":Ys.ImagePosition.Left,available:[Ys.ImagePosition.Left,Ys.ImagePosition.Right]}});});var _Kh,Jr,yk=d(function(){Y();Oo();Ky();jy();Tl();mm();_Kh=/*#__PURE__*/function(_Di3){_inherits(Kh,_Di3);var _super154=_createSuper(Kh);function Kh(){_classCallCheck(this,Kh);return _super154.apply(this,arguments);}_createClass(Kh,[{key:"_fontForRow",value:function _fontForRow(e,t){var i=this.getFontIdentifiers();return i[e%i.length];}},{key:"_minimumNumberOfLines",value:function _minimumNumberOfLines(e){return Math.max(Math.floor(_get(_getPrototypeOf(Kh.prototype),"_minimumNumberOfLines",this).call(this,e)*.7),1);}},{key:"_maximumNumberOfLines",value:function _maximumNumberOfLines(e){return Math.max(Math.floor(e.countNumberOfCharacters()/5),1);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){return this._createSingleRow(_Kh.RowType.Single,e,i,o);}},{key:"_createSingleRow",value:function _createSingleRow(e,t,i,o){var s=o.getFontIdentifier(),n=s==="imgly_font_amberlight"||s==="imgly_font_handycheera_regular"?new _Li().set(t.getLowerCase()):t;switch(e){case _Kh.RowType.Single:return new Ut({words:n,width:i,attributes:o});case _Kh.RowType.SingleImage:return new Ys({words:n,width:i,attributes:o});default:return oe.warn("TextDesignCelebrate#_createSingleRow: Invalid row type '".concat(e,"'")),null;}}}]);return Kh;}(Di),Jr=_Kh;te(Jr,"defaultFontIdentifiers",["imgly_font_handycheera_regular","imgly_font_rasa_regular"]),te(Jr,"defaultBanderoles",[_Yr.Celebrate1,_Yr.Celebrate2]),te(Jr,"identifier","imgly_text_design_celebrate"),te(Jr,"RowType",{Single:"SINGLE",SingleImage:"SINGLE_IMAGE"});Jr.prototype.availableOptions=L(w({},Di.prototype.availableOptions),{relativeLineSpacing:{type:b.NUMBER,"default":.01875},fontIdentifiers:{type:b.ARRAY,"default":Jr.defaultFontIdentifiers},banderoles:{type:b.ARRAY,"default":Jr.defaultBanderoles}});});var bi,Xy=d(function(){Y();lm();Tl();kl();Ks();cm();Uc();jh();bi=/*#__PURE__*/function(_Dr4){_inherits(bi,_Dr4);var _super155=_createSuper(bi);function bi(){var _this196;_classCallCheck(this,bi);for(var _len89=arguments.length,e=new Array(_len89),_key89=0;_key89<_len89;_key89++){e[_key89]=arguments[_key89];}_this196=_super155.call.apply(_super155,[this].concat(e));_this196.setSize(new _At(_this196.getWidth(),_this196.getHeight()));return _this196;}_createClass(bi,[{key:"_getImageFrame",value:function _getImageFrame(){var e=this._getTextFrame().clone(),t=this.getImage();if(this.getDrawingModeAspectFit()&&t){var i=Math.min(e.width/t.width,e.height/t.height),o=t.width*i,s=t.height*i;e.x+=(e.width-o)/2,e.y+=(e.height-s)/2,e.width=o,e.height=s;}return e;}},{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){return[new nr({text:"",frame:this._getImageFrame(),font:new sr()})];}},{key:"render",value:function render(e){var t=this.getImage(),i=this._getImageFrame(),s=this.getAttributes().getTextColor();aa(e,t,i,s);}}]);return bi;}(Dr);te(bi,"RowImages",{decorative1:"text-design/images/imgly_text_design_asset_decorative_01.png",decorative2:"text-design/images/imgly_text_design_asset_decorative_02.png",decorative3:"text-design/images/imgly_text_design_asset_decorative_05.png",decorative4:"text-design/images/imgly_text_design_asset_decorative_06.png",celebrate1:"text-design/images/imgly_text_design_asset_celebrate_03.png",celebrate2:"text-design/images/imgly_text_design_asset_celebrate_04.png",celebrate3:"text-design/images/imgly_text_design_asset_celebrate_05.png"});bi.prototype.availableOptions=L(w({},Dr.prototype.availableOptions),{words:{type:b.OBJECT,"default":new _Li()},height:{type:b.NUMBER,"default":0},image:{type:b.IMAGE,"default":null},imagePath:{type:b.STRING,"default":bi.RowImages.decorative1},drawingModeAspectFit:{type:b.BOOLEAN,"default":!1},attributes:{type:b.CONFIGURABLE,"default":new Fo()}});});var Wc,G6=d(function(){Y();Kr();Oo();Ky();Xy();jy();Io();Tl();mm();yk();Wc=/*#__PURE__*/function(_Jr){_inherits(Wc,_Jr);var _super156=_createSuper(Wc);function Wc(){var _this197;_classCallCheck(this,Wc);for(var _len90=arguments.length,e=new Array(_len90),_key90=0;_key90<_len90;_key90++){e[_key90]=arguments[_key90];}_this197=_super156.call.apply(_super156,[this].concat(e));te(_assertThisInitialized(_this197),"getImagePaths",function(){var e=_this197.getBanderoles();return[].concat(_toConsumableArray(e&&e.map(function(t){return t.getImagePath();})||[]),_toConsumableArray(_this197._celebrateTypes));});te(_assertThisInitialized(_this197),"onImagesLoaded",function(){var e=_this197.getBanderoles();e&&e.forEach(function(t){var i=st.getImage(t.getImagePath());if(!i){oe.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(t.getImagePath(),"'"));return;}t.setImage(i);});});_this197._celebrateTypes=[bi.RowImages.celebrate1,bi.RowImages.celebrate2,bi.RowImages.celebrate3],_this197._exclusiveFont=null,_this197._typeRandomizer=new He(0),_this197._useMaskedRandomizer=new He(0),_this197._seedPool.push(_this197._typeRandomizer),_this197._seedPool.push(_this197._useMaskedRandomizer);return _this197;}_createClass(Wc,[{key:"_fontForRow",value:function _fontForRow(e,t){var i=this.getFontIdentifiers();return i[e%(i.length-1)];}},{key:"_layoutRows",value:function _layoutRows(e,t){var i=this._typeRandomizer.pickNext(this._celebrateTypes),o=st.getImage(i);o||oe.warn("TextDesignCelebrateSimple#_layoutRows: Image not fount '".concat(i,"'"));var s=new bi({width:t,height:t*.5,drawingModeAspectFit:!0,image:o}).layout(),n=_get(_getPrototypeOf(Wc.prototype),"_layoutRows",this).call(this,e,t);return[s].concat(_toConsumableArray(n));}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){var s=e.countNumberOfCharacters(),n=13;s<4&&o.setFontIdentifier("imgly_font_rasa_regular");var l=this._useMaskedRandomizer.nextBool(2,1);return s<n&&l&&!this.getHasMaskedText()?this._layoutRow(e,i,o,!0):_get(_getPrototypeOf(Wc.prototype),"_randomLayoutRow",this).call(this,e,t,i,o);}}]);return Wc;}(Jr);te(Wc,"identifier","imgly_text_design_celebrate_simple"),te(Wc,"defaultFontIdentifiers",["imgly_font_amberlight","imgly_font_rasa_regular","imgly_font_rasa_500"]);Wc.prototype.availableOptions=L(w({},Jr.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Wc.defaultFontIdentifiers}});});var Gc,xk=d(function(){Y();Gc=/*#__PURE__*/function(_Fe17){_inherits(Gc,_Fe17);var _super157=_createSuper(Gc);function Gc(){_classCallCheck(this,Gc);return _super157.apply(this,arguments);}_createClass(Gc,[{key:"render",value:function render(e,t,i,o,s){oe.warn("TextDesignBackground#render: Abstract class");}}]);return Gc;}(Fe);Gc.prototype.availableOptions={};});var Yy,Js,V6=d(function(){var _se35;Y();Io();kl();xk();(_se35=se,Yy=_se35.Rectangle,_se35),Js=/*#__PURE__*/function(_Gc){_inherits(Js,_Gc);var _super158=_createSuper(Js);function Js(){_classCallCheck(this,Js);return _super158.apply(this,arguments);}_createClass(Js,[{key:"getImagePaths",value:function getImagePaths(){var _this$_options28=this._options,e=_this$_options28.topImagePath,t=_this$_options28.bottomImagePath,i=_this$_options28.leftImagePath,o=_this$_options28.rightImagePath;return[e,t,i,o].filter(function(s){return s!=="";});}},{key:"render",value:function render(e,t,i,o,s){var n=i.clone().scale(t.width),a=t.rectangle(0,0),l=st.getImage(this.getTopImagePath()),c=st.getImage(this.getLeftImagePath()),u=st.getImage(this.getRightImagePath()),p=st.getImage(this.getBottomImagePath());if(l){var m=l.width/l.height,h=n.top*this.getTopImageFillRate(),g=h*m,S=a.width/2-g/2,_=new Yy(S,0,g,h);aa(e,l,_,o);}if(p){var _m2=p.width/p.height,_h10=n.bottom*this.getBottomImageFillRate(),_g2=_h10*_m2,_S4=a.width/2-_g2/2,_12=new Yy(_S4,a.height-_h10,_g2,_h10);aa(e,p,_12,o);}if(c){var _m3=c.width/c.height,_h11=n.left*this.getLeftImageFillRate(),_g3=_h11/_m3,_S5=a.height/2-_g3/2,_13=new Yy(0,_S5,_h11,_g3);aa(e,c,_13,o);}if(u){var _m4=u.width/u.height,_h12=n.right*this.getRightImageFillRate(),_g4=_h12/_m4,_S6=a.height/2-_g4/2,_14=new Yy(a.width-_h12,_S6,_h12,_g4);aa(e,u,_14,o);}}}]);return Js;}(Gc);Js.prototype.availableOptions={topImagePath:{type:b.STRING,"default":""},leftImagePath:{type:b.STRING,"default":""},bottomImagePath:{type:b.STRING,"default":""},rightImagePath:{type:b.STRING,"default":""},topImageFillRate:{type:b.NUMBER,"default":1},leftImageFillRate:{type:b.NUMBER,"default":1},bottomImageFillRate:{type:b.NUMBER,"default":1},rightImageFillRate:{type:b.NUMBER,"default":1}};Js.Backgrounds=[new Js({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_3.png",topImageFillRate:.8,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.8}),new Js({leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_2.png",leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6}),new Js({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_2.png",topImageFillRate:.6,bottomImageFillRate:.6}),new Js({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_2.png",topImageFillRate:.1,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6})];});var Zs,vk=d(function(){Y();V6();Kr();Xr();Oo();Tl();um();Zs=/*#__PURE__*/function(_gi2){_inherits(Zs,_gi2);var _super159=_createSuper(Zs);function Zs(){var _this198;_classCallCheck(this,Zs);for(var _len91=arguments.length,e=new Array(_len91),_key91=0;_key91<_len91;_key91++){e[_key91]=arguments[_key91];}_this198=_super159.call.apply(_super159,[this].concat(e));_this198._relativeInsets=new _Re(.1,.1,.1,.1),_this198._alreadyContainsARowWithScriptFont=!1,_this198._backgroundsRandomizer=new He(0),_this198._seedPool.push(_this198._backgroundsRandomizer);return _this198;}_createClass(Zs,[{key:"getImagePaths",value:function getImagePaths(){return G.Array.flatten(Js.Backgrounds.map(function(e){return e.getImagePaths();}));}},{key:"_getBackground",value:function _getBackground(){return this._backgroundsRandomizer.pickNext(Js.Backgrounds);}},{key:"generateLayoutData",value:function generateLayoutData(e,t){return this._alreadyContainsARowWithScriptFont=!1,this._background=this._getBackground(),_get(_getPrototypeOf(Zs.prototype),"generateLayoutData",this).call(this,e,t);}},{key:"_modifiedText",value:function _modifiedText(e){return _get(_getPrototypeOf(Zs.prototype),"_modifiedText",this).call(this,e).toUpperCase();}},{key:"_fontForRow",value:function _fontForRow(e,t){var i=_get(_getPrototypeOf(Zs.prototype),"_fontForRow",this).call(this,e,t);return i==="imgly_font_petit_formal_script"&&(this._alreadyContainsARowWithScriptFont&&(i="imgly_font_bungee_inline"),this._alreadyContainsARowWithScriptFont=!0),i;}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){var s=o.getFontIdentifier()==="imgly_font_petit_formal_script";return new Ut({words:s?new _Li().set(e.getLowerCase()):e,width:i,attributes:o});}}]);return Zs;}(gi);te(Zs,"identifier","imgly_text_design_equal_width"),te(Zs,"defaultFontIdentifiers",["imgly_font_ultra","imgly_font_bungee_inline","imgly_font_petit_formal_script"]);Zs.prototype.availableOptions=L(w({},gi.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Zs.defaultFontIdentifiers},relativeLineSpacing:{type:b.NUMBER,"default":.025}});});var Vc,j6=d(function(){Y();Xr();vk();Vc=/*#__PURE__*/function(_Zs){_inherits(Vc,_Zs);var _super160=_createSuper(Vc);function Vc(){var _this199;_classCallCheck(this,Vc);for(var _len92=arguments.length,e=new Array(_len92),_key92=0;_key92<_len92;_key92++){e[_key92]=arguments[_key92];}_this199=_super160.call.apply(_super160,[this].concat(e));_this199._relativeInsets=new _Re();return _this199;}_createClass(Vc,[{key:"_getBackground",value:function _getBackground(){return null;}}]);return Vc;}(Zs);te(Vc,"defaultFontIdentifiers",["imgly_font_ultra"]),te(Vc,"identifier","imgly_text_design_equal_width_fat");Vc.prototype.availableOptions=L(w({},Zs.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Vc.defaultFontIdentifiers}});});var Oe,pm=d(function(){Y();Xr();Oe=/*#__PURE__*/function(_Fe18){_inherits(Oe,_Fe18);var _super161=_createSuper(Oe);function Oe(){_classCallCheck(this,Oe);return _super161.apply(this,arguments);}_createClass(Oe,[{key:"insetsForWidth",value:function insetsForWidth(e){return this.getRelativeInsets().clone().scale(e);}}]);return Oe;}(Fe);Oe.prototype.availableOptions={imagePath:{type:b.STRING,"default":""},minimumHeightRatio:{type:b.NUMBER,"default":0},sizeToFitContent:{type:b.BOOLEAN,"default":!0},capInsets:{type:b.OBJECT,"default":new _Re()},relativeInsets:{type:b.OBJECT,"default":new _Re()}};Oe.Box=new Oe({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",relativeInsets:new _Re(.1,.1,.1,.1)});Oe.Badge1=new Oe({imagePath:"text-design/images/imgly_text_design_asset_badge1.png",relativeInsets:new _Re(.3,.18,.2,.18)});Oe.Badge2=new Oe({imagePath:"text-design/images/imgly_text_design_asset_badge2.png",relativeInsets:new _Re(.3,.18,.2,.18)});Oe.Badge3=new Oe({imagePath:"text-design/images/imgly_text_design_asset_badge3.png",relativeInsets:new _Re(.3,.18,.2,.18)});Oe.Badge4=new Oe({imagePath:"text-design/images/imgly_text_design_asset_badge4.png",relativeInsets:new _Re(.3,.18,.2,.18)});Oe.SpeechBubble1=new Oe({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small2.png",relativeInsets:new _Re(.04,.07,.12,.07),capInsets:new _Re(19*3,57*3,41*3,17*3)});Oe.SpeechBubble2=new Oe({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble3.png",relativeInsets:new _Re(.04,.07,.12,.07),capInsets:new _Re(2*3,35*3,29*3,5*3)});Oe.SpeechBubble3=new Oe({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small.png",relativeInsets:new _Re(.165664675,.2,.165664675,.2),minimumHeightRatio:.7});Oe.SpeechBubble4=new Oe({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble4.png",relativeInsets:new _Re(.124800224,.2,.291200523,.2),minimumHeightRatio:.7});Oe.SpeechBubble5=new Oe({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble5.png",relativeInsets:new _Re(.114892823,.27,.15984926,.27)});Oe.Watercolor1=new Oe({imagePath:"text-design/images/imgly_text_design_asset_watercolor_01.png",minimumHeightRatio:.7,relativeInsets:new _Re(.2,.25,.2,.25)});Oe.Watercolor2=new Oe({imagePath:"text-design/images/imgly_text_design_asset_watercolor_02.png",minimumHeightRatio:.7,relativeInsets:new _Re(.08,.25,.3,.25)});Oe.Watercolor3=new Oe({imagePath:"text-design/images/imgly_text_design_asset_watercolor_03.png",minimumHeightRatio:.7,relativeInsets:new _Re(.1,.2,.15,.2)});});var $6=tt(function(Jy){"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.arabic=void 0;var sse="\u0620-\u064A\u066E-\u066F\u0671-\u06D5\u06EE-\u06EF\u06FA-\u06FF",nse="\u0750-\u077F",ase="[".concat(sse).concat(nse,"]"),lse="[\u064B-\u065F\u0670]",cse="".concat(ase).concat(lse,"*");Jy.arabic=cse;});var K6=tt(function(Zy){"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.bengali=void 0;var q6="[\\u{0980}-\\u{09FF}]",dse="[\\u{0980}-\\u{0983}\\u{09BC}-\\u{09D7}\\u{09E2}\\u{09E3}\\u{09FE}]",use="\\u{09CD}",mse="".concat(q6,"(").concat(use).concat(q6,"|").concat(dse,")*");Zy.bengali=mse;});var Y6=tt(function(Qy){"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.devanagari=void 0;var X6="[\\u{0900}-\\u{097F}]",pse="[\\u{0900}-\\u{0903}\\u{093A}-\\u{0957}\\u{0962}\\u{0963}]",hse="\\u{094D}",fse="".concat(X6,"(").concat(hse).concat(X6,"|").concat(pse,")*");Qy.devanagari=fse;});var Z6=tt(function(ex){"use strict";Object.defineProperty(ex,"__esModule",{value:!0});ex.gujarati=void 0;var J6="[\\u{0A80}-\\u{0AFF}]",gse="[\\u{0A81}-\\u{0A83}\\u{0ABC}\\u{0ABE}-\\u{0ACD}\\u{0AE2}\\u{0AE3}\\u{0AFA}-\\u{0AFF}]",bse="\\u{0ACD}",_se="".concat(J6,"(").concat(bse).concat(J6,"|").concat(gse,")*");ex.gujarati=_se;});var Q6=tt(function(tx){"use strict";Object.defineProperty(tx,"__esModule",{value:!0});tx.hebrew=void 0;var yse="[\u05D0-\u05EA]",xse="[\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7]",vse="".concat(yse).concat(xse,"*");tx.hebrew=vse;});var e9=tt(function(ix){"use strict";Object.defineProperty(ix,"__esModule",{value:!0});ix.japaneseKana=void 0;var Cse="[\\u{3041}-\\u{3096}\\u{309D}-\\u{309F}]",Sse="[\\u{30A0}-\\u{30FF}]",wse="[\\u{3099}-\\u{309A}]",kse="[\\u{309B}-\\u{309C}]",Tse="((".concat(Sse,"|").concat(Cse,")").concat(wse,"?|").concat(kse,")");ix.japaneseKana=Tse;});var i9=tt(function(rx){"use strict";Object.defineProperty(rx,"__esModule",{value:!0});rx.kannada=void 0;var t9="[\\u{0C80}-\\u{0CFF}]",Dse="[\\u{0C81}-\\u{0C83}\\u{0CBC}\\u{0CBE}-\\u{0CCD}\\u{0CD5}\\u{0CD6}\\u{0CE2}\\u{0CE3}]",Ese="\\u{0CCD}",Ise="".concat(t9,"(").concat(Ese).concat(t9,"|").concat(Dse,")*");rx.kannada=Ise;});var o9=tt(function(ox){"use strict";Object.defineProperty(ox,"__esModule",{value:!0});ox.khmer=void 0;var r9="[\\u{1780}-\\u{17FF}]",Fse="[\\u{17B6}-\\u{17D1}\\u{17D3}\\u{17DD}]",Ose="\\u{17D2}",Rse="".concat(r9,"(").concat(Ose).concat(r9,"|").concat(Fse,")*");ox.khmer=Rse;});var s9=tt(function(sx){"use strict";Object.defineProperty(sx,"__esModule",{value:!0});sx.lao=void 0;var Ase="[\\u{0E80}-\\u{0EFF}]",Pse="[\\u{0EB1}\\u{0EB4}-\\u{0EBC}\\u{0EC8}-\\u{0ECD}]",Bse="".concat(Ase).concat(Pse,"*");sx.lao=Bse;});var a9=tt(function(nx){"use strict";Object.defineProperty(nx,"__esModule",{value:!0});nx.malayalam=void 0;var n9="[\\u{0D00}-\\u{0D7F}]",Mse="[\\u{0D00}-\\u{0D03}\\u{0D3B}\\u{0D3C}\\u{0D3E}-\\u{0D4D}\\u{0D57}\\u{0D62}-\\u{0D63}]",Lse="\\u{0D4D}",zse="".concat(n9,"(").concat(Lse).concat(n9,"|").concat(Mse,")*");nx.malayalam=zse;});var c9=tt(function(ax){"use strict";Object.defineProperty(ax,"__esModule",{value:!0});ax.myanmar=void 0;var l9="[\\u{1000}-\\u{109F}]",Use=["\\u{102B}-\\u{1038}","\\u{103A}-\\u{103E}","\\u{1056}-\\u{1059}","\\u{105E}-\\u{1060}","\\u{1062}-\\u{1064}","\\u{1067}-\\u{106D}","\\u{1071}-\\u{1074}","\\u{1082}-\\u{108D}","\\u{108F}","\\u{109A}-\\u{109D}"],Nse="[".concat(Use.join(""),"]"),Hse="\\u{1039}",Wse="".concat(l9,"(").concat(Hse).concat(l9,"|").concat(Nse,")*");ax.myanmar=Wse;});var d9=tt(function(lx){"use strict";Object.defineProperty(lx,"__esModule",{value:!0});lx.tamil=void 0;var Gse="[\\u{0B80}-\\u{0BFF}]",Vse="[\\u{0B82}-\\u{0B83}\\u{0BBE}-\\u{0BD7}\\u{0962}\\u{0963}]",jse="".concat(Gse).concat(Vse,"*");lx.tamil=jse;});var m9=tt(function(cx){"use strict";Object.defineProperty(cx,"__esModule",{value:!0});cx.telugu=void 0;var u9="[\\u{0C00}-\\u{0C7F}]",$se="[\\u{0C00}-\\u{0C04}\\u{0C3E}-\\u{0C56}\\u{0C62}\\u{0C63}]",qse="\\u{0C4D}",Kse="".concat(u9,"(").concat(qse).concat(u9,"|").concat($se,")*");cx.telugu=Kse;});var p9=tt(function(dx){"use strict";Object.defineProperty(dx,"__esModule",{value:!0});dx.thai=void 0;var Xse="[\\u0E00-\\u0E7F]",Yse="[\\u0E31\\u0E33-\\u0E3A\\u0E47-\\u0E4E]",Jse="".concat(Xse).concat(Yse,"*");dx.thai=Jse;});var h9=tt(function(ux){"use strict";Object.defineProperty(ux,"__esModule",{value:!0});ux.tibetan=void 0;var Zse="[\\u{0F00}-\\u{0FFF}]",Qse="[\\0F18\\0F19\\0F35\\0F37\\0F39\\0F3E\\0F3F\\u{0F71}-\\u{0F87}\\u{0F8D}-\\u{0FBC}\\u{0FC6}]",ene="".concat(Zse).concat(Qse,"*");ux.tibetan=ene;});var g9=tt(function(El){"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.emojiVariation=El.keyCap=El.countryFlag=void 0;var tne="[\\u{1F1E6}-\\u{1F1FF}]{2}";El.countryFlag=tne;var ine="[0-9#\\*][\\u{FE0F}]?\\u{20E3}";El.keyCap=ine;var rne=["[\\u{2600}-\\u{26FF}]","[\\u{2700}-\\u{27BF}]","[\\u{1F300}-\\u{1F5FF}]","[\\u{1F600}-\\u{1F64F}]","[\\u{1F680}-\\u{1F6FF}]","[\\u{1F700}-\\u{1F77F}]","[\\u{1F900}-\\u{1F9FF}]"],f9="(".concat(rne.join("|"),")"),one="\\u{200D}",sne="[\\u{FE0E}\\u{FE0F}]",nne="[\\u{1F3FB}-\\u{1F3FF}]",ane="".concat(f9,"(").concat(one).concat(f9,"|").concat(nne,"|").concat(sne,")*");El.emojiVariation=ane;});var _9=tt(function(b4e,b9){"use strict";var lne=$6(),cne=K6(),dne=Y6(),une=Z6(),mne=Q6(),pne=e9(),hne=i9(),fne=o9(),gne=s9(),bne=a9(),_ne=c9(),yne=d9(),xne=m9(),vne=p9(),Cne=h9(),Ck=g9(),Sne=[Ck.countryFlag,Ck.keyCap,Ck.emojiVariation,lne.arabic,cne.bengali,dne.devanagari,une.gujarati,mne.hebrew,pne.japaneseKana,hne.kannada,fne.khmer,gne.lao,bne.malayalam,_ne.myanmar,yne.tamil,xne.telugu,vne.thai,Cne.tibetan,"."],wne=new RegExp("(".concat(Sne.join("|"),")"),"gu");function kne(r){return r.match(wne)||[];}b9.exports={splitGraphemes:kne};});var y9,x9,mx,Sk=d(function(){y9=y(_9()),x9=/*#__PURE__*/function(){function x9(e){_classCallCheck(this,x9);this._context=e,this._lastFontStyle={};}_createClass(x9,[{key:"getLines",value:function getLines(){var _this200=this;var e=[],t=[],i=this._lines.length;for(var o=0;o<i;o++){var s=this._lines[o],n=this._buildWords(s),a=n.length;for(var l=0;l<a;l++){var c=n[l],u=t.concat(c).join("").replace(/\s+$/i,"");if(this._getWidth(u)>this._maxWidth){t.length>0&&(e.push(t.join("")),t=[c]);var m=c.replace(/\s+$/i,"");if(this._getWidth(m)>this._maxWidth){var h=this._splitWord(c);e=e.concat(h.lines),h.rest&&(t=[h.rest]);}}else t.push(c);}e.push(t.join("")),t=[];}return e.map(function(o){return _this200._trimLine(o,_this200._context.textAlign);});}},{key:"_trimLine",value:function _trimLine(e,t){return e;}},{key:"_buildWords",value:function _buildWords(e){var t=[],i="",o=e.length;for(var s=0;s<o;s++){var n=e[s];i+=n,(n===" "||n==="-"||s===o-1)&&(t.push(i),i="");}return t;}},{key:"_splitWord",value:function _splitWord(e){var t={lines:[],rest:null},i=(0,y9.splitGraphemes)(e),o=i.length,s=[];for(var n=0;n<o;n++){var a=i[n];this._getWidth(s.concat(a).join(""))>this._maxWidth?(s.length>0&&t.lines.push(s.join("")),s=[a]):s.push(a),n===o-1&&s.length>0&&(t.rest=s.join(""));}return t;}},{key:"_fontStyleChanged",value:function _fontStyleChanged(){return this._context.font!==this._lastFontStyle?(this._lastFontStyle=this._context.font,!0):!1;}},{key:"_getWidth",value:function _getWidth(e){return this._context.measureText(e).width;}},{key:"setText",value:function setText(e){this._text=e,this._lines=e.split("\n");}},{key:"setMaxWidth",value:function setMaxWidth(e){this._maxWidth=e;}}]);return x9;}(),mx=x9;});var wk,v9,C9,kk=d(function(){var _se36;Y();Sk();(_se36=se,wk=_se36.Vector2,_se36),v9=/*#__PURE__*/function(){function v9(e,t){_classCallCheck(this,v9);this._text=e,this._operation=t,this._textOptions={},this.rotation=0,this._createCanvas(),this._createTexture();}_createClass(v9,[{key:"_createCanvas",value:function _createCanvas(){this._canvas=G.createCanvas(),this._context=this._canvas.getContext("2d"),this._textSplitter=new mx(this._context),this._finalCanvas=G.createCanvas(),this._finalContext=this._finalCanvas.getContext("2d");}},{key:"_createTexture",value:function _createTexture(){this._texture=W.Texture.fromCanvas(this._canvas),this._finalTexture=W.Texture.fromCanvas(this._finalCanvas);}},{key:"_applyTextOptions",value:function _applyTextOptions(e,t){t.font="".concat(this._text.getFontStyle()," ").concat(this._text.getFontWeight()," ").concat(e.fontSize,"px \"").concat(this._text.getFontFamily(),"\""),this._text.getTextMetrics()?t.textBaseline="alphabetic":t.textBaseline="top",t.textAlign=this._text.getAlignment(),t.fillStyle=this._text.getColor().toRGBA(),t.strokeStyle=this._text.getOutlineColor().toRGBA();var i=this._text.getOutlineWidth();i>0&&(t.lineWidth=i);}},{key:"_buildOutputLines",value:function _buildOutputLines(e){return this._textSplitter.setText(this._text.getText()),this._textSplitter.setMaxWidth(e),this._textSplitter.getLines().map(function(t){return t.replace(/\s+$/i,"");});}},{key:"_renderTextLine",value:function _renderTextLine(e,t,i){var o=this._text.getAlignment(),s=new wk(0,t);switch(o){case"left":s.x=i;break;case"center":s.x=this._canvas.width/2;break;case"right":s.x=this._canvas.width-i;break;}this._context.save(),this._context.translate(s.x,s.y),this._context.fillText(e,0,0),this._context.restore(),this._text.getOutlineWidth()>0&&(this._context.miterLimit=2,this._context.strokeText(e,s.x,s.y));}},{key:"update",value:function update(e,t){var i=this.calculateFontStyles(e,t);if(i){var _this$_calculateText=this._calculateText(e,i,t),o=_this$_calculateText.dimensions,s=_this$_calculateText.lines;this._renderText(e,o,s,i,t),this._updateFinalTexture();}}},{key:"_updateFinalTexture",value:function _updateFinalTexture(){var _this$_canvas2=this._canvas,e=_this$_canvas2.width,t=_this$_canvas2.height,i=this.rotation,o=Math.cos(i),s=Math.sin(i),n=new wk(Math.abs(e*o)+Math.abs(t*s),Math.abs(e*s)+Math.abs(t*o));this._finalCanvas.width=n.x,this._finalCanvas.height=n.y,this._finalContext.save(),this._finalContext.translate(this._finalCanvas.width/2,this._finalCanvas.height/2),this._finalContext.rotate(i),this._finalContext.drawImage(this._canvas,-e/2,-t/2),this._finalContext.restore();}},{key:"_renderText",value:function _renderText(e,t,i,o,s){this._canvas.width=t.x,this._canvas.height=t.y,this._text.getMaxHeight()&&(this._canvas.height=Math.min(this._text.getMaxHeight()*s.y,this._canvas.height)),this._context=this._canvas.getContext("2d"),this._context.fillStyle=this._text.getBackgroundColor().toRGBA(),this._context.fillRect(0,0,t.x,t.y),this._applyTextOptions(o,this._context);var n=this._padding(s),a=this._text.getTextMetrics(),l=this._text.getFontSize()*s.y,c=1/a.unitsPerEm*l,u=a.ascender*c;for(var p=0;p<i.length;p++){var m=i[p];this._renderTextLine(m,o.topPadding+o.lineHeight*p+n+u,n);}}},{key:"calculateFontStyles",value:function calculateFontStyles(e,t){var i=this._text.getFontFamily(),o=this._text.getFontSize()*t.y,s=this._text.getAbsoluteTextHeight(t),n=s*this._text.getLineHeight(),a=s*(this._text.getLineHeight()-1)/2,l={fontFamily:i,fontSize:o,lineHeight:n,topPadding:a};return(this._textOptions.fontFamily!==i||this._textOptions.fontSize!==o||this._textOptions.lineHeight!==n)&&(this._textOptions=l),l;}},{key:"_calculateText",value:function _calculateText(e,t,i){var o=this._text.getMaxWidth()*i.x;this._applyTextOptions(t,this._context);var s=new wk(),n=this._text.getText().split("\n");typeof o!="undefined"&&(s.x=o,n=this._buildOutputLines(o));for(var c=0;c<n.length;c++){var u=n[c];s.x=Math.max(s.x,this._context.measureText(u).width);}var a=t.lineHeight;s.y=n.length*a;var l=this._padding(i);return s.y+=l*2,s.x+=l*2,{dimensions:s,lines:n};}},{key:"_padding",value:function _padding(e){return this._text.getAbsoluteTextHeight(e)*.2;}},{key:"getTexture",value:function getTexture(){return this._texture;}},{key:"getFinalTexture",value:function getFinalTexture(){return this._finalTexture;}},{key:"getDimensions",value:function getDimensions(e,t){var i=this.calculateFontStyles(e,t),_this$_calculateText2=this._calculateText(e,i,t),o=_this$_calculateText2.dimensions;return o;}},{key:"dispose",value:function dispose(){this._measurementElement&&document.body.removeChild(this._measurementElement),this._texture&&(this._texture.dispose(),this._texture=null),this._finalTexture&&(this._finalTexture.dispose(),this._finalTexture=null);}}]);return v9;}(),C9=v9;});var S9,Xh,w9=d(function(){var _se37;Y();Sk();Ks();Io();(_se37=se,S9=_se37.Vector2,_se37),Xh=/*#__PURE__*/function(_Fe19){_inherits(Xh,_Fe19);var _super162=_createSuper(Xh);function Xh(e){var _this201;_classCallCheck(this,Xh);_this201=_super162.call(this,e);_this201._textOptions={},_this201._createCanvas();return _this201;}_createClass(Xh,[{key:"_createCanvas",value:function _createCanvas(){this._canvas=G.createCanvas(),this._context=this._canvas.getContext("2d"),this._textSplitter=new mx(this._context),this._finalCanvas=G.createCanvas(),this._finalContext=this._finalCanvas.getContext("2d"),this.updateFontVariation();}},{key:"setOption",value:function setOption(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;_get(_getPrototypeOf(Xh.prototype),"setOption",this).call(this,e,t,i,o),e==="fontIdentifier"&&!o&&this.updateFontVariation();}},{key:"updateFontVariation",value:function updateFontVariation(){var e=st.getVariation(this.getFontIdentifier());return e||oe.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'")),this.setFontVariation(e),e;}},{key:"_applyTextOptions",value:function _applyTextOptions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._context;var _w4=w(w({},this._options),e),i=_w4.fontSize,o=_w4.fontVariation,s=_w4.lineHeight,n=_w4.textColor,a=_w4.alignment,_o$serializeOptions2=o.serializeOptions(),l=_o$serializeOptions2.fontStyle,c=_o$serializeOptions2.fontWeight,u=_o$serializeOptions2.fontFamily;t.font="".concat(l," ").concat(c," ").concat(i,"px \"").concat(u,"\""),t.fillStyle=n,t.textBaseline="top",t.textAlign=a||"left";}},{key:"_buildOutputLines",value:function _buildOutputLines(e){return this._textSplitter.setText(this.getText()),this._textSplitter.setMaxWidth(e),this._textSplitter.getLines();}},{key:"_renderTextLine",value:function _renderTextLine(e,t){var i=this.getAlignment(),o=new S9(0,t);switch(i){case"center":o.x=this._canvas.width/2;break;case"right":o.x=this._canvas.width;break;}this._context.fillText(e,o.x,o.y);}},{key:"update",value:function update(){var e=this.calculateFontStyles();if(e){var _this$_calculateText3=this._calculateText(e),t=_this$_calculateText3.dimensions,i=_this$_calculateText3.lines;this._dimensions=t,this._renderText(t,i,e);}}},{key:"draw",value:function draw(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this.update(),e.drawImage(this._canvas,t,i,this._dimensions.x,this._dimensions.y);}},{key:"_renderText",value:function _renderText(e,t,i){this._canvas.width=e.x,this._canvas.height=e.y,this._context=this._canvas.getContext("2d"),this._applyTextOptions(i,this._context);for(var o=0;o<t.length;o++){var s=t[o];this._renderTextLine(s,i.topPadding+i.lineHeight*o);}}},{key:"getFontFamily",value:function getFontFamily(){return this.getFontVariation().getFontFamily();}},{key:"calculateFontStyles",value:function calculateFontStyles(){var e=this.getFontFamily(),t=this.getFontSize(),i=this.getAbsoluteTextHeight(),o=i*this.getLineHeight(),s=i*(this.getLineHeight()-1)/2,n={fontFamily:e,fontSize:t,textHeight:i,lineHeight:o,topPadding:s};return this._textOptions=w({},n),n;}},{key:"getTextMetrics",value:function getTextMetrics(){return this.getFontVariation().getTextMetrics();}},{key:"getAbsoluteTextHeight",value:function getAbsoluteTextHeight(){var e=this.getFontSize(),t=this.getTextMetrics();if(t){var i=1/t.unitsPerEm*e,o=t.ascender*i,s=t.descender*i;return o+Math.abs(s);}return e*this.getLineHeight()*1.1;}},{key:"_calculateText",value:function _calculateText(e){this._applyTextOptions(e,this._context);var t=new S9(),i=this.getText().split("\n"),o;if(typeof o!="undefined")t.x=o,i=this._buildOutputLines(o);else for(var n=0;n<i.length;n++){var a=i[n];t.x=Math.max(t.x,this._context.measureText(a).width);}var s=e.lineHeight;return t.y=i.length*s,{dimensions:t,lines:i};}},{key:"getDimensions",value:function getDimensions(){var e=this.calculateFontStyles(),_this$_calculateText4=this._calculateText(e),t=_this$_calculateText4.dimensions;return t;}},{key:"fitMaxHeight",value:function fitMaxHeight(){this.update();var e=this.getDimensions(),t=this.getText().split("\n"),i=this.getMaxHeight()/e.y;}},{key:"fitMaxWidth",value:function fitMaxWidth(){var e=this.getDimensions().x,t=this.getMaxWidth()/e;this.setFontSize(this.getFontSize()*t),this._textOptions.fontSize=this.getFontSize();}},{key:"fitInFrame",value:function fitInFrame(e){this.setMaxWidth(e.width),this.setMaxHeight(e.height),this.fitMaxWidth(),this.fitMaxHeight();}},{key:"getSize",value:function getSize(){var e=this.getDimensions();return new _At(e.x,e.y);}}]);return Xh;}(Fe);Xh.prototype.availableOptions={text:{type:b.STRING,"default":""},fontIdentifier:{type:b.STRING,"default":"imgly_font_open_sans_bold"},fontVariation:{type:b.OBJECT,"default":null},lineHeight:{type:b.NUMBER,"default":1},fontSize:{type:b.NUMBER,"default":22},textColor:{type:b.STRING,"default":"black"},strokeStyle:{type:b.STRING,"default":"black"},outlineWidth:{type:b.NUMBER,"default":0},textBaseline:{type:b.STRING,"default":"alphabetic"},excludeAccents:{type:b.BOOLEAN,"default":!0},maxWidth:{type:b.NUMBER,"default":100},maxHeight:{type:b.NUMBER,"default":0},alignment:{type:b.STRING,"default":"left",available:["left","center","right"]}};});var Il,px=d(function(){Y();kk();lm();w9();Uc();Vy();Il=/*#__PURE__*/function(_la){_inherits(Il,_la);var _super163=_createSuper(Il);function Il(){_classCallCheck(this,Il);return _super163.apply(this,arguments);}_createClass(Il,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){var e=this.getWords(),t=this._getTextFrame(),o=this.getAttributes().getFontIdentifier(),s=this.getImageInsets(),n=new sr({text:e.getWord(0),fontIdentifier:o});n.fitWidth(t.width);var a=new nr({text:e.getWord(0),frame:t,font:n});a.setFrame(this._getTextFrameForElement(a));var l=this.getSize();return(this.getSizeToFitContent()||l.height<=1)&&(l.height=s.top+a.getFrame().height+s.bottom),l.height=Math.max(l.height,this.getMinimumHeight()),[a];}},{key:"_getTextFrameForElement",value:function _getTextFrameForElement(e){var i=this.getWords().getWord(0),o=this.getAttributes(),s=o.getFontIdentifier(),n=this.getImageInsets(),a=this.getImageInsets().applyToRectangle(this._getFrame()).scale(this.getTextScaleFactor()),l=new Xh({text:i,fontIdentifier:s,alignment:o.getAlignment(),lineHeight:1});l.fitInFrame(a);var c=l.getSize();a.height=c.height;var u=c.height*this.getRowScaleFactor();this.getSizeToFitContent()&&(u+=n.top+n.bottom);var p=this._getFrame(),m=o.getAlignment();if(this.getCenteredVertically())a.y=p.height/2-u/2+n.top;else switch(m){case"left":a.y=p.height-u-n.bottom;break;case"center":a.y=p.height/2-u/2+u*this.getCenterOffset(),a.x=(p.width-a.width)/2;break;case"right":a.x=p.width-a.width-n.right;break;default:break;}return a;}},{key:"render",value:function render(e){var _this202=this;e.save(),this._getLayoutElements().forEach(function(t){var _t$serializeOptions2=t.serializeOptions(),i=_t$serializeOptions2.text,o=_t$serializeOptions2.frame,s=_this202.getAttributes(),n=s.getFontIdentifier(),a=new Xh({text:i,fontIdentifier:n,alignment:s.getAlignment(),lineHeight:1,textColor:s.getTextColor().toRGBA()});o=_this202._getTextFrameForElement(t),a.fitInFrame(o),a.draw(e,o.x,o.y);}),e.restore();}}]);return Il;}(la);Il.prototype.availableOptions=L(w({},la.prototype.availableOptions),{centerOffset:{type:b.NUMBER,"default":0},sizeToFitContent:{type:b.BOOLEAN,"default":!1},textScaleFactor:{type:b.NUMBER,"default":.95},rowScaleFactor:{type:b.NUMBER,"default":1},minimumHeight:{type:b.NUMBER,"default":0},centeredVertically:{type:b.BOOLEAN,"default":!1}});});var _hm,qt,jc=d(function(){Y();pm();Kr();px();Io();Tl();um();_hm=/*#__PURE__*/function(_gi3){_inherits(hm,_gi3);var _super164=_createSuper(hm);function hm(){var _this203;_classCallCheck(this,hm);for(var _len93=arguments.length,e=new Array(_len93),_key93=0;_key93<_len93;_key93++){e[_key93]=arguments[_key93];}_this203=_super164.call.apply(_super164,[this].concat(e));_this203._rowType=Oe.Box,_this203._alignmentRandomizer=new He(0),_this203._isMaskedRandomizer=new He(0),_this203._seedPool.push(_this203._alignmentRandomizer),_this203._seedPool.push(_this203._isMaskedRandomizer);return _this203;}_createClass(hm,[{key:"getImagePaths",value:function getImagePaths(){return[Oe.Box.getImagePath()];}},{key:"_modifiedText",value:function _modifiedText(e){return _get(_getPrototypeOf(hm.prototype),"_modifiedText",this).call(this,e).toLowerCase();}},{key:"_modifiedLines",value:function _modifiedLines(e){var t=new _Li();return t.set([e.reduce(function(i,o){return"".concat(i).concat(i===""?"":"\n").concat(o.joined(1)[0]);},"")]),[t];}},{key:"_layoutRows",value:function _layoutRows(e,t){var i=_get(_getPrototypeOf(hm.prototype),"_layoutRows",this).call(this,e,t),o=i[0];if(o&&this.getSquareLayout()){var s=o.getSize();s.height=s.width;}return i;}},{key:"getAlignment",value:function getAlignment(){return this._alignmentRandomizer.pickNext(this.constructor.ValidAlignments||_hm.ValidAlignments);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){var s=this.getAlignment(),n=this._rowType,a=st.getImage(n.getImagePath());o.setAlignment(s);var l=new Il({words:e,width:i,attributes:o,image:a,imageInsets:n.insetsForWidth(i),capInsets:n.getCapInsets(),backgroundColor:K.WHITE,centerOffset:0,textScaleFactor:.7,isMasked:this._isMaskedRandomizer.nextBool()});this._rowType===Oe.Box&&(l.serverImageSmoothingFix=!0);var c=l.getSize();return this.getSquareLayout()?c.height=c.width:c.height=Math.max(c.height,c.width*n.getMinimumHeightRatio()),l;}}]);return hm;}(gi),qt=_hm;te(qt,"defaultFontIdentifiers",["imgly_font_galano_grotesque_bold"]),te(qt,"Alignment",{Left:"left",Center:"center",Right:"right"}),te(qt,"ValidAlignments",[_hm.Alignment.Left,_hm.Alignment.Center,_hm.Alignment.Right]),te(qt,"identifier","imgly_text_design_masked");qt.prototype.availableOptions=L(w({},gi.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":qt.defaultFontIdentifiers},squareLayout:{type:b.BOOLEAN,"default":!0}});});var Fl,k9=d(function(){Y();pm();Kr();jc();Fl=/*#__PURE__*/function(_qt){_inherits(Fl,_qt);var _super165=_createSuper(Fl);function Fl(){var _this204;_classCallCheck(this,Fl);for(var _len94=arguments.length,e=new Array(_len94),_key94=0;_key94<_len94;_key94++){e[_key94]=arguments[_key94];}_this204=_super165.call.apply(_super165,[this].concat(e));_this204._possibleRowTypes=[Oe.Badge1,Oe.Badge2,Oe.Badge3,Oe.Badge4],_this204._rowTypesRandomizer=new He(0),_this204._isMaskedRandomizer=new He(0),_this204._seedPool.push(_this204._rowTypesRandomizer),_this204._seedPool.push(_this204._isMaskedRandomizer);return _this204;}_createClass(Fl,[{key:"getImagePaths",value:function getImagePaths(){return this._possibleRowTypes.map(function(e){return e.getImagePath();});}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){this._rowType=this._rowTypesRandomizer.pickNext(this._possibleRowTypes),o.setLineSpacing(.9);var s=_get(_getPrototypeOf(Fl.prototype),"_randomLayoutRow",this).call(this,e,t,i,o);return s.set({textScaleFactor:.9}),s;}}]);return Fl;}(qt);te(Fl,"defaultFontIdentifiers",["imgly_font_campton_bold"]),te(Fl,"identifier","imgly_text_design_masked_badge"),te(Fl,"ValidAlignments",[qt.Alignment.Center]);Fl.prototype.availableOptions=L(w({},qt.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Fl.defaultFontIdentifiers}});});var Zr,hx=d(function(){Y();pm();Kr();jc();Zr=/*#__PURE__*/function(_qt2){_inherits(Zr,_qt2);var _super166=_createSuper(Zr);function Zr(){var _this205;_classCallCheck(this,Zr);for(var _len95=arguments.length,e=new Array(_len95),_key95=0;_key95<_len95;_key95++){e[_key95]=arguments[_key95];}_this205=_super166.call.apply(_super166,[this].concat(e));_this205._possibleRowTypes=[Oe.SpeechBubble1,Oe.SpeechBubble3],_this205._rowTypesRandomizer=new He(0),_this205._isMaskedRandomizer=new He(0),_this205._seedPool.push(_this205._rowTypesRandomizer),_this205._seedPool.push(_this205._isMaskedRandomizer);return _this205;}_createClass(Zr,[{key:"getImagePaths",value:function getImagePaths(){return this._possibleRowTypes.map(function(e){return e.getImagePath();});}},{key:"_rowTypes",value:function _rowTypes(e){return this._possibleRowTypes;}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){this._rowType=this._rowTypesRandomizer.pickNext(this._rowTypes(e)),o.setLineSpacing(.9);var s=_get(_getPrototypeOf(Zr.prototype),"_randomLayoutRow",this).call(this,e,t,i,o);return s.set({textScaleFactor:1,minimumHeight:i*this._rowType.getMinimumHeightRatio(),sizeToFitContent:this._rowType.getSizeToFitContent(),centeredVertically:!0}),s;}}]);return Zr;}(qt);te(Zr,"defaultFontIdentifiers",["imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_roboto_black","imgly_font_roboto_light"]),te(Zr,"identifier","imgly_text_design_masked_speech_bubble");Zr.prototype.availableOptions=L(w({},qt.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Zr.defaultFontIdentifiers},squareLayout:{type:b.BOOLEAN,"default":!1},alignment:{type:b.STRING,"default":"left",available:qt.ValidAlignments}});});var $c,T9=d(function(){Y();pm();jc();hx();$c=/*#__PURE__*/function(_Zr){_inherits($c,_Zr);var _super167=_createSuper($c);function $c(){var _this206;_classCallCheck(this,$c);for(var _len96=arguments.length,e=new Array(_len96),_key96=0;_key96<_len96;_key96++){e[_key96]=arguments[_key96];}_this206=_super167.call.apply(_super167,[this].concat(e));_this206._possibleRowTypes=[Oe.SpeechBubble2,Oe.SpeechBubble4,Oe.SpeechBubble2,Oe.SpeechBubble4,Oe.SpeechBubble5],_this206._possibleRowTypesForMin15=_this206._possibleRowTypes.slice(0,2),_this206._possibleRowTypesForMax14=_this206._possibleRowTypes.slice(2);return _this206;}_createClass($c,[{key:"_rowTypes",value:function _rowTypes(e){return e.countNumberOfCharacters()<15?this._possibleRowTypesForMax14:this._possibleRowTypesForMin15;}}]);return $c;}(Zr);te($c,"defaultFontIdentifiers",["imgly_font_permanent_marker"]),te($c,"identifier","imgly_text_design_masked_speech_bubble_comic");$c.prototype.availableOptions=L(w({},Zr.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":$c.defaultFontIdentifiers}});});var qc,D9=d(function(){Y();px();jc();qc=/*#__PURE__*/function(_qt3){_inherits(qc,_qt3);var _super168=_createSuper(qc);function qc(){_classCallCheck(this,qc);return _super168.apply(this,arguments);}_createClass(qc,[{key:"_modifiedText",value:function _modifiedText(e){return _get(_getPrototypeOf(qc.prototype),"_modifiedText",this).call(this,e).toUpperCase();}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){var s=this._alignmentRandomizer.pickNext(qt.ValidAlignments);return o.setAlignment(s),new Il({words:e,width:i,attributes:o,image:null,backgroundColor:K.WHITE,centerOffset:0,sizeToFitContent:!0,isMasked:!1,autoAdjustTextColor:!1});}}]);return qc;}(qt);te(qc,"defaultFontIdentifiers",["imgly_font_abril_fatface_regular"]),te(qc,"identifier","imgly_text_design_multiline");qc.prototype.availableOptions=L(w({},qt.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":qc.defaultFontIdentifiers}});});var Tne,fx,E9=d(function(){var _se38;Y();(_se38=se,Tne=_se38.Rectangle,_se38),fx=/*#__PURE__*/function(_Fe20){_inherits(fx,_Fe20);var _super169=_createSuper(fx);function fx(){_classCallCheck(this,fx);return _super169.apply(this,arguments);}_createClass(fx,[{key:"getContentFrame",value:function getContentFrame(){var e=this.getFrame().clone(),t=e.width*.1;return e.insetBy(t,t);}},{key:"intersects",value:function intersects(e){return this.getFrame().intersects(e.getFrame());}}]);return fx;}(Fe);fx.prototype.availableOptions={frame:{type:b.OBJECT,"default":new Tne()}};});var I9,ss,gx=d(function(){var _se39;Y();Io();kl();xk();E9();(_se39=se,I9=_se39.Rectangle,_se39),ss=/*#__PURE__*/function(_Gc2){_inherits(ss,_Gc2);var _super170=_createSuper(ss);function ss(){var _this207;_classCallCheck(this,ss);for(var _len97=arguments.length,e=new Array(_len97),_key97=0;_key97<_len97;_key97++){e[_key97]=arguments[_key97];}_this207=_super170.call.apply(_super170,[this].concat(e));_this207._MAX_TRIES=1e3,_this207._PRECISION=1e3;return _this207;}_createClass(ss,[{key:"render",value:function render(e,t,i,o,s){var _this$_options29=this._options,n=_this$_options29.imagePaths,a=_this$_options29.relativeParticleSize;if(n.length<=0)return;var l=t.width/t.height,c=new I9(Math.round(i.left*this._PRECISION),Math.round(i.top*this._PRECISION*l),this._PRECISION,this._PRECISION);c.width-=c.x+Math.round(i.right*this._PRECISION),c.height-=c.y+Math.round(i.bottom*this._PRECISION*l);var u=[],p=0,m=0;for(;p<this.getParticleCount()&&m<this._MAX_TRIES;){var h=a/2,g=Math.round(h*this._PRECISION),v=Math.round(h*this._PRECISION*l),S=Math.floor(this._PRECISION)-g,_=Math.floor(this._PRECISION)-v,I=s.nextInRange(g,S),E=s.nextInRange(v,_),O=new I9(I-g,E-v,2*g,2*v);!O.intersects(c)&&!this.hasCollision(u,O)&&(u.push(new fx({frame:O})),p+=1),m+=1;}for(var _h13=0;_h13<u.length;_h13++){var _g5=u[_h13],_v6=s.pickNext(n),_S7=st.getImage(_v6),_15=s.nextInRange(140,230)/255,_I2=t.width/this._PRECISION,_E3=t.height/this._PRECISION,_O2=_g5.getContentFrame();_O2.x*=_I2,_O2.y*=_E3,_O2.width*=_I2,_O2.height*=_E3;var V=o.clone();V.a=_15,aa(e,_S7,_O2,V,"source-atop");}}},{key:"hasCollision",value:function hasCollision(e,t){for(var i=0;i<e.length;i++){if(t.intersects(e[i].getFrame()))return!0;}return!1;}}]);return ss;}(Gc);ss.prototype.availableOptions=L(w({},Gc.prototype.availableOptions),{particleCount:{type:b.NUMBER,"default":50},relativeParticleSize:{type:b.NUMBER,"default":.08},imagePaths:{type:b.ARRAY,"default":[]}});});var fm,F9=d(function(){Y();gx();fm=/*#__PURE__*/function(_ss){_inherits(fm,_ss);var _super171=_createSuper(fm);function fm(){_classCallCheck(this,fm);return _super171.apply(this,arguments);}return fm;}(ss);te(fm,"Images",["text-design/images/imgly_text_design_particle_brush_01.png","text-design/images/imgly_text_design_particle_brush_02.png","text-design/images/imgly_text_design_particle_brush_03.png","text-design/images/imgly_text_design_particle_brush_04.png","text-design/images/imgly_text_design_particle_brush_05.png","text-design/images/imgly_text_design_particle_brush_06.png","text-design/images/imgly_text_design_particle_brush_07.png","text-design/images/imgly_text_design_particle_brush_08.png","text-design/images/imgly_text_design_particle_brush_09.png","text-design/images/imgly_text_design_particle_brush_10.png"]);fm.prototype.availableOptions=L(w({},ss.prototype.availableOptions),{imagePaths:{type:b.ARRAY,"default":_toConsumableArray(fm.Images)},relativeParticleSize:{type:b.NUMBER,"default":.12}});});var gm,O9=d(function(){Y();gx();gm=/*#__PURE__*/function(_ss2){_inherits(gm,_ss2);var _super172=_createSuper(gm);function gm(){_classCallCheck(this,gm);return _super172.apply(this,arguments);}return gm;}(ss);te(gm,"Images",["text-design/images/imgly_text_design_particle_circle_01.png","text-design/images/imgly_text_design_particle_circle_02.png","text-design/images/imgly_text_design_particle_circle_03.png","text-design/images/imgly_text_design_particle_circle_04.png","text-design/images/imgly_text_design_particle_circle_05.png","text-design/images/imgly_text_design_particle_circle_06.png","text-design/images/imgly_text_design_particle_circle_07.png","text-design/images/imgly_text_design_particle_circle_08.png","text-design/images/imgly_text_design_particle_circle_09.png","text-design/images/imgly_text_design_particle_circle_10.png"]);gm.prototype.availableOptions=L(w({},ss.prototype.availableOptions),{imagePaths:{type:b.ARRAY,"default":_toConsumableArray(gm.Images)},relativeParticleSize:{type:b.NUMBER,"default":.12}});});var bm,R9=d(function(){Y();gx();bm=/*#__PURE__*/function(_ss3){_inherits(bm,_ss3);var _super173=_createSuper(bm);function bm(){_classCallCheck(this,bm);return _super173.apply(this,arguments);}return bm;}(ss);te(bm,"Images",["text-design/images/imgly_text_design_particle_triangle_01.png","text-design/images/imgly_text_design_particle_triangle_02.png","text-design/images/imgly_text_design_particle_triangle_03.png","text-design/images/imgly_text_design_particle_triangle_04.png","text-design/images/imgly_text_design_particle_triangle_05.png","text-design/images/imgly_text_design_particle_triangle_06.png","text-design/images/imgly_text_design_particle_triangle_07.png","text-design/images/imgly_text_design_particle_triangle_08.png","text-design/images/imgly_text_design_particle_triangle_09.png","text-design/images/imgly_text_design_particle_triangle_10.png"]);bm.prototype.availableOptions=L(w({},ss.prototype.availableOptions),{imagePaths:{type:b.ARRAY,"default":_toConsumableArray(bm.Images)}});});var _Ol,zi,bx=d(function(){Y();Kr();Xr();Oo();Ky();Xy();Io();Tl();um();_Ol=/*#__PURE__*/function(_gi4){_inherits(Ol,_gi4);var _super174=_createSuper(Ol);function Ol(){var _this208;_classCallCheck(this,Ol);for(var _len98=arguments.length,e=new Array(_len98),_key98=0;_key98<_len98;_key98++){e[_key98]=arguments[_key98];}_this208=_super174.call.apply(_super174,[this].concat(e));_this208._relativeInsets=new _Re(0,0,0,0),_this208._INVALID_FONTS_IF_LESS_THEN_5_CHARS=["imgly_font_montserrat_light"],_this208._INVALID_FONTS_IF_LESS_THEN_4_CHARS=["imgly_font_montserrat_light","imgly_font_wolesbro"],_this208._lineCount=0,_this208._decorativeRowCreated=!1,_this208._useImageRowRandomizer=new He(0),_this208._rowTypeRandomizer=new He(0),_this208._lineDecorativeTypeRandomizer=new He(0),_this208._seedPool.push(_this208._useImageRowRandomizer),_this208._seedPool.push(_this208._rowTypeRandomizer),_this208._seedPool.push(_this208._lineDecorativeTypeRandomizer);return _this208;}_createClass(Ol,[{key:"getImagePaths",value:function getImagePaths(){return[].concat(_toConsumableArray(_Ol.DecoratorImages),_toConsumableArray(_Ol.RowImages));}},{key:"_fontForRow",value:function _fontForRow(e,t){var _this209=this;var i=t.countNumberOfCharacters(),o=this.getFontIdentifiers();return i<4?o=o.filter(function(s){return _this209._INVALID_FONTS_IF_LESS_THEN_4_CHARS.indexOf(s)<0;}):i<5&&(o=o.filter(function(s){return _this209._INVALID_FONTS_IF_LESS_THEN_5_CHARS.indexOf(s)<0;})),o[e%o.length];}},{key:"_modifiedText",value:function _modifiedText(e){return _get(_getPrototypeOf(Ol.prototype),"_modifiedText",this).call(this,e).toUpperCase();}},{key:"_modifiedLines",value:function _modifiedLines(e){return this._lineCount=e.length,e;}},{key:"generateLayoutData",value:function generateLayoutData(e,t){return this._decorativeRowCreated=!1,_get(_getPrototypeOf(Ol.prototype),"generateLayoutData",this).call(this,e,t);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){var s=o.getFontIdentifier(),n=e;switch(s){case"imgly_font_wolesbro":n=new _Li().set(e.getLowerCase());break;case"imgly_font_permanent_marker":n=new _Li().set(e.getUpperCase());break;default:break;}var a=this.getDecorativeRowsInTheMiddleOnly()&&(t===0||t===this._lineCount-1);if(this._useImageRowRandomizer.nextBool()||this._decorativeRowCreated||a)return new Ut({words:n,width:i,attributes:o});this._decorativeRowCreated=!0;var _this$_randomDecorato=this._randomDecoratorImages(),_this$_randomDecorato2=_slicedToArray(_this$_randomDecorato,2),l=_this$_randomDecorato2[0],c=_this$_randomDecorato2[1];return new Ys({words:e,width:i,attributes:o,leftImage:l,rightImage:c});}},{key:"_layoutRows",value:function _layoutRows(e,t){var i=_get(_getPrototypeOf(Ol.prototype),"_layoutRows",this).call(this,e,t);if(!this.getDecorationsVisible())return i;var o=.0625*t,s=new bi({width:t,height:o,image:st.getImage(this._rowTypeRandomizer.pickNext(_Ol.RowImages))}).layout(),n=new bi({width:t,height:o,image:st.getImage(this._rowTypeRandomizer.pickNext(_Ol.RowImages))}).layout();return[s].concat(_toConsumableArray(i),[n]);}},{key:"_randomDecoratorImages",value:function _randomDecoratorImages(){return this._lineDecorativeTypeRandomizer.nextInRange(0,1)?_Ol.DecoratorImages.slice(0,2).map(function(e){return st.getImage(e);}):_Ol.DecoratorImages.slice(2).map(function(e){return st.getImage(e);});}}]);return Ol;}(gi),zi=_Ol;te(zi,"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_wolesbro","imgly_font_wolesbro","imgly_font_montserrat_light"]),te(zi,"identifier","imgly_text_design_sunshine"),te(zi,"RowImages",[bi.RowImages.decorative1,bi.RowImages.decorative2,bi.RowImages.decorative3,bi.RowImages.decorative4]),te(zi,"DecoratorImages",["text-design/images/imgly_text_design_asset_decorative_03.png","text-design/images/imgly_text_design_asset_decorative_04.png","text-design/images/imgly_text_design_asset_decorative_07.png","text-design/images/imgly_text_design_asset_decorative_08.png"]);zi.prototype.availableOptions=L(w({},gi.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":zi.defaultFontIdentifiers},relativeLineSpacing:{type:b.NUMBER,"default":.025/3*4},decorationsVisible:{type:b.BOOLEAN,"default":!0},decorativeRowsInTheMiddleOnly:{type:b.BOOLEAN,"default":!1}});});var _Rl,ca,A9=d(function(){Y();F9();O9();R9();Kr();Xr();Io();bx();_Rl=/*#__PURE__*/function(_zi){_inherits(Rl,_zi);var _super175=_createSuper(Rl);function Rl(){var _this210;_classCallCheck(this,Rl);for(var _len99=arguments.length,e=new Array(_len99),_key99=0;_key99<_len99;_key99++){e[_key99]=arguments[_key99];}_this210=_super175.call.apply(_super175,[this].concat(e));_this210._relativeInsets=new _Re(.3,.3,.3,.3),_this210._backgroundRandomizer=new He(0),_this210._decoTypeRandomizer=new He(0),_this210._seedPool.push(_this210._backgroundRandomizer),_this210._seedPool.push(_this210._decoTypeRandomizer);return _this210;}_createClass(Rl,[{key:"getImagePaths",value:function getImagePaths(){return[].concat(_toConsumableArray(zi.RowImages),_toConsumableArray(G.Array.flatten(_Rl.Backgrounds.map(function(e){return e.getImagePaths();}))),_toConsumableArray(_Rl.DecoratorImages));}},{key:"_getBackground",value:function _getBackground(){return this._backgroundRandomizer.pickNext(_Rl.Backgrounds);}},{key:"_randomDecoratorImages",value:function _randomDecoratorImages(){switch(this._decoTypeRandomizer.nextInRange(0,2)){case 0:return _Rl.DecoratorImages.slice(0,2).map(function(e){return st.getImage(e);});case 1:case 2:return _Rl.DecoratorImages.slice(2).map(function(e){return st.getImage(e);});default:return oe.warn("TextDesignParticles#_randomDecoratorImages: Number generated not in valid range."),_Rl.DecoratorImages.slice(2).map(function(e){return st.getImage(e);});}}}]);return Rl;}(zi),ca=_Rl;te(ca,"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_wolesbro","imgly_font_wolesbro","imgly_font_montserrat_light"]),te(ca,"identifier","imgly_text_design_particles"),te(ca,"Backgrounds",[new fm(),new gm(),new bm()]),te(ca,"DecoratorImages",["text-design/images/imgly_text_design_particle_holder_01.png","text-design/images/imgly_text_design_particle_holder_02.png","text-design/images/imgly_text_design_particle_holder_03.png","text-design/images/imgly_text_design_particle_holder_04.png"]);ca.prototype.availableOptions=L(w({},zi.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":ca.defaultFontIdentifiers},decorationsVisible:{type:b.BOOLEAN,"default":!1},decorativeRowsInTheMiddleOnly:{type:b.BOOLEAN,"default":!0}});});var Kc,P9=d(function(){Y();Kr();Xr();bk();um();Kc=/*#__PURE__*/function(_gi5){_inherits(Kc,_gi5);var _super176=_createSuper(Kc);function Kc(){var _this211;_classCallCheck(this,Kc);for(var _len100=arguments.length,e=new Array(_len100),_key100=0;_key100<_len100;_key100++){e[_key100]=arguments[_key100];}_this211=_super176.call.apply(_super176,[this].concat(e));_this211._relativeInsets=new _Re(.1,0,0,0),_this211._rowTypeRandomizer=new He(0),_this211._seedPool.push(_this211._rowTypeRandomizer);return _this211;}_createClass(Kc,[{key:"_modifiedText",value:function _modifiedText(e){return _get(_getPrototypeOf(Kc.prototype),"_modifiedText",this).call(this,e).toUpperCase();}},{key:"_randomLayoutRow",value:function _randomLayoutRow(e,t,i,o){var s=_get(_getPrototypeOf(Kc.prototype),"_randomLayoutRow",this).call(this,e,t,i,o);return s.setShearingAngle(this.getShearingAngle()),s;}},{key:"_layoutRows",value:function _layoutRows(e,t){var i=_get(_getPrototypeOf(Kc.prototype),"_layoutRows",this).call(this,e,t),o=G.values(Er.FormType),s=30,n=new Er({width:t,height:s,type:this._rowTypeRandomizer.pickNext(o),shearingAngle:this.getShearingAngle()}).layout(),a=new Er({width:t,height:s,type:this._rowTypeRandomizer.pickNext(o),shearingAngle:this.getShearingAngle()}).layout();return[n].concat(_toConsumableArray(i),[a]);}}]);return Kc;}(gi);te(Kc,"defaultFontIdentifiers",["imgly_font_campton_bold"]),te(Kc,"identifier","imgly_text_design_rotated");Kc.prototype.availableOptions=L(w({},gi.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Kc.defaultFontIdentifiers},relativeLineSpacing:{type:b.NUMBER,"default":.025/3},shearingAngle:{type:b.NUMBER,"default":-.1}});});var _x,B9=d(function(){Xr();Xy();Io();bx();_x=/*#__PURE__*/function(_zi2){_inherits(_x,_zi2);var _super177=_createSuper(_x);function _x(){var _this212;_classCallCheck(this,_x);for(var _len101=arguments.length,e=new Array(_len101),_key101=0;_key101<_len101;_key101++){e[_key101]=arguments[_key101];}_this212=_super177.call.apply(_super177,[this].concat(e));_this212._relativeInsets=new _Re(0,.3,0,.3);return _this212;}_createClass(_x,[{key:"_layoutRows",value:function _layoutRows(e,t){var i=_get(_getPrototypeOf(_x.prototype),"_layoutRows",this).call(this,e,t);if(!this.getDecorationsVisible())return i;var o=25,s=new bi({width:t,height:o,image:st.getImage(this._rowTypeRandomizer.pickNext(zi.RowImages))}).layout(),n=new bi({width:t,height:o,image:st.getImage(this._rowTypeRandomizer.pickNext(zi.RowImages))}).layout();return[s].concat(_toConsumableArray(i),[n]);}}]);return _x;}(zi);te(_x,"identifier","imgly_text_design_sunshine-v3_1_0");});var Xc,M9=d(function(){Y();pm();jc();hx();Xc=/*#__PURE__*/function(_Zr2){_inherits(Xc,_Zr2);var _super178=_createSuper(Xc);function Xc(){var _this213;_classCallCheck(this,Xc);for(var _len102=arguments.length,e=new Array(_len102),_key102=0;_key102<_len102;_key102++){e[_key102]=arguments[_key102];}_this213=_super178.call.apply(_super178,[this].concat(e));_this213._possibleRowTypes=[Oe.Watercolor1,Oe.Watercolor2,Oe.Watercolor3];return _this213;}return Xc;}(Zr);te(Xc,"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_wolesbro","imgly_font_wolesbro"]),te(Xc,"identifier","imgly_text_design_watercolor");Xc.prototype.availableOptions=L(w({},Zr.prototype.availableOptions),{fontIdentifiers:{type:b.ARRAY,"default":Xc.defaultFontIdentifiers},alignment:{type:b.STRING,"default":qt.Alignment.Center,available:qt.ValidAlignments}});});var Dne,yx,Tk,L9=d(function(){var _se40;Y();Kr();Vy();px();Ks();kl();(_se40=se,Dne=_se40.Rectangle,_se40),yx=1e3,Tk=/*#__PURE__*/function(){function Tk(){_classCallCheck(this,Tk);this._layoutData=null,this._layout=null,this._text="",this._seed=0,this._debugMode=!1,this.randomizer=new He();}_createClass(Tk,[{key:"createLayout",value:function createLayout(e,t,i){this._layout=e,this._text=t,this._seed=i,e.seed(i),this._layoutData=e.generateLayoutData(t,yx);}},{key:"calculateAspect",value:function calculateAspect(){return this._layoutData?this._layoutData.getSize().aspect():(oe.warn("TextDesignRenderer#calculateAspect: No layout data"),1);}},{key:"draw",value:function draw(e,t,i,o){var _this214=this;var s=this._layoutData;if(this._layoutData){var n=new _At(yx,yx/t.aspect()),a=t.width/yx,l=s.getRelativeInsets().clone().scale(n.width),c=s.getRelativeLineSpacing()*n.width,u=l.top;e.save(),this.randomizer.seed(this._seed);var p=s.getBackground();p&&p.render(e,t,s.getRelativeInsets(),o?K.WHITE:i,this.randomizer),e.scale(a,a),s.getRows().forEach(function(m){e.save();var h=m.getAttributes();if(e.transform(1,m.getShearingAngle(),0,1,l.left,u),h.setTextColor(o?K.WHITE:i.clone()),h.setTintColor(o?K.WHITE:i.clone()),(m instanceof la||m instanceof Il)&&(m.setBackgroundColor(o?K.WHITE:i.clone()),m.setIsUsedInInvertedLayout(o)),_this214._debugMode&&(m._debugMode=!0),m.willRender(e),m.render(e),m.didRender(e),_this214._debugMode){var g=m._getFrame(),v=m._getTextFrame();dm(e,g,K.GREEN),dm(e,v,K.BLUE),m._getLayoutElements().forEach(function(S){var _=S.getFrame(),I=m._getTextFrameForElement(S);dm(e,_,new K(1,1,0)),dm(e,I,new K(0,1,1));});}u+=m.getSize().height+c,e.restore();}),this._debugMode&&dm(e,new Dne(0,0,n.width,n.height),K.RED),e.restore();}}}]);return Tk;}();});var Al,_m,xx,z9=d(function(){var _se41;Y();am();mm();H6();_k();W6();yk();G6();vk();j6();jc();k9();hx();T9();D9();A9();P9();bx();B9();M9();Kr();Ks();Io();L9();(_se41=se,Al=_se41.Vector2,_se41),_m=/*#__PURE__*/function(_$s3){_inherits(_m,_$s3);var _super179=_createSuper(_m);function _m(e,t){var _this215;_classCallCheck(this,_m);_this215=_super179.call(this,e,t);_this215._isDisposed=!1,_this215._renderer=new Tk(),_this215._canvas=G.createCanvas(),_this215._context=_this215._canvas.getContext("2d"),_this215._texture=W.Texture.fromCanvas(_this215._canvas),_this215._sprite.setTexture(_this215._texture),_this215._aspect=1,_this215._isLayoutDirty=!0,_this215.getSeed()<0&&_this215.setSeed(He.TimeSeed());return _this215;}_createClass(_m,[{key:"seed",value:function seed(e){this.setSeed(e||He.TimeSeed()),this._isLayoutDirty=!0;}},{key:"_updateLayout",value:function _updateLayout(){var e=this.getLayout();return e?(this._renderer.createLayout(e,this.getText(),this.getSeed()),this._aspect=this._renderer.calculateAspect(),this._isLayoutDirty=!1,!0):null;}},{key:"applyTransform",value:function applyTransform(e){_get(_getPrototypeOf(_m.prototype),"applyTransform",this).call(this,e);var t={};this._options.dimensions&&(t.width=e.applyToRelativeSize(this.getWidth())),this.set(t,!1);}},{key:"applyFlip",value:function applyFlip(e){_get(_getPrototypeOf(_m.prototype),"applyFlip",this).call(this,e);var t=this._options.rotation;switch(e){case"horizontal":t+=(Math.PI-t)*2,this.setRotation(t);break;case"vertical":t+=(Math.PI/2-t)*2,this.setRotation(t);break;}}},{key:"update",value:function update(e,t){var i=this._isLayoutDirty;if(this._isDisposed||i&&!this._updateLayout())return;var o=this.getWidth()*t.min()/e.getTextureScale(),s=o/this._aspect,n=new Al(o,s),a=new Al(Math.round(o*2),Math.round(s*2)).clamp(new Al(1,1),new Al(1/0,1/0)),l=e.getRenderer(),c=l.getMaxDimensions()||1/0;a.x>c&&(a.x=c,a.y=Math.round(a.x/this._aspect)),a.y>c&&(a.y=c,a.x=Math.round(a.y*this._aspect));var u=G.ensureCanvasDimensions(this._canvas,a);(i||u)&&(this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._renderer.draw(this._context,new _At(a.x,a.y),this.getColor(),this.getInverted()),this.setDimensions(n),this._texture.getBaseTexture().update(),l.isOfType(Se.WEBGL)&&l.updateTexture(this._texture.getBaseTexture())),_get(_getPrototypeOf(_m.prototype),"update",this).call(this,e,t),this._applyFlip();}},{key:"_applyFlip",value:function _applyFlip(){var e=this._sprite.getScale(),_this$_options30=this._options,t=_this$_options30.flipHorizontally,i=_this$_options30.flipVertically;(t&&e.x>0||!t&&e.x<0)&&(e.x*=-1),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1),this._sprite.setScale(e);}},{key:"_optionEquals",value:function _optionEquals(e,t){if(e==="layout"){var i=this._options.layout;return!(!i&&t||!t&&i||!t.constructor||!i.constructor||i.constructor.identifier!==t.constructor.identifier);}return _get(_getPrototypeOf(_m.prototype),"_optionEquals",this).call(this,e,t);}},{key:"serializeOptions",value:function serializeOptions(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(e&&this.getPadding()<0){var o=e.indexOf("padding");o>-1&&e.splice(o,1);}var i=_get(_getPrototypeOf(_m.prototype),"serializeOptions",this).call(this,e,t);return e||(i.type="textdesign"),i;}},{key:"_getTexture",value:function _getTexture(){return this._texture;}},{key:"canBeFlippedHorizontally",value:function canBeFlippedHorizontally(){return!1;}},{key:"canBeDuplicated",value:function canBeDuplicated(){return!0;}},{key:"canMaskCanvas",value:function canMaskCanvas(){return!0;}},{key:"canAdjustPadding",value:function canAdjustPadding(){return!0;}},{key:"dispose",value:function dispose(){this._isDisposed=!0,this._texture.dispose(),this._sprite.dispose();}}]);return _m;}($s);_m.Layouts={TextDesignBlocks:Di,TextDesignBlocksCondensed:Nc,TextDesignBlocksLight:Xs,TextDesignCelebrate:Jr,TextDesignCelebrateSimple:Wc,TextDesignEqualWidth:Zs,TextDesignEqualWidthFat:Vc,TextDesignMasked:qt,TextDesignMaskedBadge:Fl,TextDesignMaskedSpeechBubble:Zr,TextDesignMaskedSpeechBubbleComic:$c,TextDesignMultiline:qc,TextDesignWatercolor:Xc,TextDesignSunshine:zi,TextDesignParticles:ca,TextDesignRotated:Kc};_m.LegacyLayouts={TextDesignBlocksLightV310:Hc,TextDesignSunshineV310:_x};_m.AssetManager=st;_m.prototype.availableOptions={id:{type:b.STRING,"default":function _default(){return G.getUUID();}},position:{type:b.VECTOR2,"default":new Al(.5,.5)},dimensions:{type:b.VECTOR2,"default":Al.NULL},anchor:{type:b.VECTOR2,"default":new Al(0,0)},pivot:{type:b.VECTOR2,"default":new Al(.5,.5)},rotation:{type:b.NUMBER,"default":0},flipHorizontally:{type:b.BOOLEAN,"default":!1},flipVertically:{type:b.BOOLEAN,"default":!1},layout:{type:b.OBJECT,"default":null,setter:function setter(r){return this._isLayoutDirty=!0,r;}},text:{type:b.STRING,"default":"",setter:function setter(r){return this._isLayoutDirty=!0,r;}},color:{type:b.COLOR,"default":K.BLACK,setter:function setter(r){return this._isLayoutDirty=!0,r;}},padding:{type:b.NUMBER,"default":.01,minValue:.01},width:{type:b.NUMBER,"default":.8},inverted:{type:b.BOOLEAN,"default":!1,setter:function setter(r){return this._isLayoutDirty=!0,r;}},seed:{type:b.NUMBER,"default":-1}};xx=_m;});var Dk,vx,Cx,U9=d(function(){var _se42;Y();am();kk();(_se42=se,Dk=_se42.Vector2,_se42),vx=/*#__PURE__*/function(_$s4){_inherits(vx,_$s4);var _super180=_createSuper(vx);function vx(){var _this216;_classCallCheck(this,vx);for(var _len103=arguments.length,e=new Array(_len103),_key103=0;_key103<_len103;_key103++){e[_key103]=arguments[_key103];}_this216=_super180.call.apply(_super180,[this].concat(e));_this216._textRenderer=new C9(_assertThisInitialized(_this216),_this216._operation),_this216._textRenderer.rotation=_this216.getRotation(),_this216._sprite.setTexture(_this216._textRenderer.getFinalTexture()),_this216._hitTestSprite.setTexture(_this216._textRenderer.getTexture());return _this216;}_createClass(vx,[{key:"serializeOptions",value:function serializeOptions(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(vx.prototype),"serializeOptions",this).call(this,e,t);return e||(i.type="text"),i;}},{key:"getDOMStyle",value:function getDOMStyle(e,t){var i=this.getFontSize()*t.y;return{fontWeight:this._options.fontWeight,fontSize:"".concat(i,"px"),fontStyle:this._options.fontStyle,fontFamily:this._options.fontFamily,lineHeight:"".concat(this.getAbsoluteTextHeight(t)*this.getLineHeight(),"px"),color:this._options.color.toRGBA(),backgroundColor:this._options.backgroundColor.toRGBA(),textAlign:this._options.alignment};}},{key:"getAbsoluteTextHeight",value:function getAbsoluteTextHeight(e){var t=this.getFontSize()*e.y,i=this.getTextMetrics();if(i){var o=1/i.unitsPerEm*t,s=i.ascender*o,n=i.descender*o;return s+Math.abs(n);}return t*this.getLineHeight()*1.1;}},{key:"getDimensions",value:function getDimensions(e,t){return this._textRenderer.getDimensions(e,t);}},{key:"applyFlip",value:function applyFlip(e){_get(_getPrototypeOf(vx.prototype),"applyFlip",this).call(this,e);var t=this._options.rotation;switch(e){case"horizontal":t+=(Math.PI-t)*2,this.setRotation(t);break;case"vertical":t+=(Math.PI/2-t)*2,this.setRotation(t);break;}}},{key:"applyTransform",value:function applyTransform(e){_get(_getPrototypeOf(vx.prototype),"applyTransform",this).call(this,e),this.set({fontSize:e.scaleSize(this.getFontSize(),"y"),maxWidth:e.scaleSize(this.getMaxWidth(),"x")},!1);}},{key:"applyRotation",value:function applyRotation(e){_get(_getPrototypeOf(vx.prototype),"applyRotation",this).call(this,e);var t=(e+360)%360,i=this._operation.getInputDimensions();(t===90||t===270)&&(this.setMaxWidth(this.getMaxWidth()/i.x*i.y),this.setFontSize(this.getFontSize()/i.y*i.x));}},{key:"setOption",value:function setOption(e,t){var _this$_options31=this._options,i=_this$_options31.flipHorizontally,o=_this$_options31.flipVertically;if(e==="rotation"){var s=t;i&&(s=Math.PI*2-s),o&&(s=Math.PI*2-s),this._options.rotation=s,this._textRenderer&&(this._textRenderer.rotation=s),this._rotation=s,this.emit("update");return;}_get(_getPrototypeOf(vx.prototype),"setOption",this).call(this,e,t);}},{key:"getOption",value:function getOption(e){return e==="rotation"?this._rotation:_get(_getPrototypeOf(vx.prototype),"getOption",this).call(this,e);}},{key:"getHitTestDisplayObject",value:function getHitTestDisplayObject(){return this._hitTestSprite;}},{key:"update",value:function update(e,t){if(this._sprite.setVisible(this._options.visible),!this._options.visible)return;this._textRenderer.update(e,t);var i=this._textRenderer.getFinalTexture();i.getBaseTexture().update();var s=e.getRenderer();s.isOfType(Se.WEBGL)&&s.updateTexture(i.getBaseTexture()),_get(_getPrototypeOf(vx.prototype),"update",this).call(this,e,t),this._sprite.setRotation(0),this._textRenderer.getTexture().getBaseTexture().update(),this._hitTestSprite.setRotation(this._rotation),this._hitTestSprite.updateTransform(),this._applyFlip();}},{key:"_applyFlip",value:function _applyFlip(){var e=this._sprite.getScale(),_this$_options32=this._options,t=_this$_options32.flipHorizontally,i=_this$_options32.flipVertically;(t&&e.x>0||!t&&e.x<0)&&(e.x*=-1,this.setRotation(this._rotation)),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1,this.setRotation(this._rotation)),this._sprite.setScale(e);}},{key:"_getTexture",value:function _getTexture(){return this._textRenderer.getFinalTexture();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(vx.prototype),"dispose",this).call(this),this._textRenderer.dispose(),this._hitTestSprite.dispose(),this._sprite.dispose();}},{key:"canBeFlippedHorizontally",value:function canBeFlippedHorizontally(){return!1;}},{key:"canAdjustPadding",value:function canAdjustPadding(){return!1;}}]);return vx;}($s);vx.prototype.availableOptions={id:{type:b.STRING,"default":function _default(){return G.getUUID();}},fontSize:{type:b.NUMBER,"default":.1},characterSpacing:{type:b.NUMBER,"default":0},lineHeight:{type:b.NUMBER,"default":1.1},fontIdentifier:{type:b.STRING},fontFamily:{type:b.STRING,"default":"Times New Roman"},fontWeight:{type:b.ALL,"default":"normal"},fontStyle:{type:b.STRING,"default":"normal"},textMetrics:{type:b.OBJECT,"default":null},outlineWidth:{type:b.NUMBER,"default":0},outlineColor:{type:b.COLOR,"default":K.BLACK},alignment:{type:b.STRING,"default":"left",available:["left","center","right"]},verticalAlignment:{type:b.STRING,"default":"top",available:["top","center","bottom"]},color:{type:b.COLOR,"default":new K(1,0,0,1)},backgroundColor:{type:b.COLOR,"default":K.TRANSPARENT},position:{type:b.VECTOR2,"default":new Dk(.5,.5)},anchor:{type:b.VECTOR2,"default":new Dk(0,0)},pivot:{type:b.VECTOR2,"default":new Dk(.5,.5)},rotation:{type:b.NUMBER,"default":0},text:{type:b.STRING,required:!0},maxWidth:{type:b.NUMBER,"default":.5},maxHeight:{type:b.NUMBER,"default":0},visible:{type:b.BOOLEAN,"default":!0},flipHorizontally:{type:b.BOOLEAN,"default":!1},flipVertically:{type:b.BOOLEAN,"default":!1}};vx.type="text";Cx=vx;});var Ek,da,N9,H9=d(function(){var _se43;Y();am();pk();P6();z9();U9();(_se43=se,Ek=_se43.Vector2,_se43),da=/*#__PURE__*/function(_Ye15){_inherits(da,_Ye15);var _super181=_createSuper(da);function da(){var _this217;_classCallCheck(this,da);for(var _len104=arguments.length,e=new Array(_len104),_key104=0;_key104<_len104;_key104++){e[_key104]=arguments[_key104];}_this217=_super181.call.apply(_super181,[this].concat(e));_this217.setSmoothDownscaling(_this217._sdk.getOptions().smoothDownscaling),_this217._onSpriteUpdate=_this217._onSpriteUpdate.bind(_assertThisInitialized(_this217)),_this217._maskCanvas=G.createCanvas(),_this217._options.sprites.slice().forEach(function(i){_this217.removeSprite(i),_this217.addSprite(i);});return _this217;}_createClass(da,[{key:"getSpritesOfType",value:function getSpritesOfType(e){return this._options.sprites.filter(function(t){return t instanceof e;});}},{key:"rotate",value:function rotate(e){this._options.sprites.forEach(function(t){t.applyRotation(e);});}},{key:"flip",value:function flip(e){this._options.sprites.forEach(function(t){t.applyFlip(e);});}},{key:"_onSpriteUpdate",value:function _onSpriteUpdate(e,t){this.emit("update",this),this.setDirty(!0);}},{key:"_applyRotation",value:function _applyRotation(e,t){this._options.sprites.forEach(function(i){return i.applyRotation(e,t);});}},{key:"transform",value:function transform(e){this._options.sprites.forEach(function(t){return t.applyTransform(e);});}},{key:"scale",value:function scale(e){this._options.sprites.forEach(function(t){return t.applyScale(e);});}},{key:"serializeOption",value:function serializeOption(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e==="sprites"?this._options.sprites.map(function(i){return i.serializeOptions(void 0,t);}):_get(_getPrototypeOf(da.prototype),"serializeOption",this).call(this,e,t);}},{key:"createSticker",value:function createSticker(e){return new Wy(this,e);}},{key:"createText",value:function createText(e){return new Cx(this,e);}},{key:"createBrush",value:function createBrush(e){return new Lc(this,e);}},{key:"createTextDesign",value:function createTextDesign(e){return new xx(this,e);}},{key:"addSprite",value:function addSprite(e){this._options.sprites.push(e);var t=this.getSmoothDownscaling();e.setSmoothDownscaling&&e.setSmoothDownscaling(t),this._container.addChild(e.getDisplayObject()),this.setDirty(!0),e.on("update",this._onSpriteUpdate),this.emit("update",this,this._options.sprites);}},{key:"removeSprite",value:function removeSprite(e){var t=this._options.sprites,i=t.indexOf(e);return i!==-1?(e.off("update",this._onSpriteUpdate),this._container.removeChild(e.getDisplayObject()),t.splice(i,1),this.setDirty(!0),!0):!1;}},{key:"_getOrientatedStageSize",value:function _getOrientatedStageSize(){var e=this._sdk.getSprite().getTexture().getFrame(),t=this._sdk.getOperationsStack().getByIdentifier("orientation");if(t){var o=t?t.getRotation():0;return o===270||o===90?new Ek(e.height,e.width):new Ek(e.width,e.height);}var i=this._sdk.getOperationsStack().getByIdentifier("output");return i?i.getOutputResolution():new Ek(e.width,e.height);}},{key:"_render",value:function _render(e){var _this218=this;var t=this._container,i=this._options.sprites,o=e.getDimensions().clone().floor(),s=new W.Container();return s.addChild(this._sprite),Promise.all(i.map(function(n){return n.validateSettings();})).then(function(){i.forEach(function(n){return n.update(_this218._sdk,o);});}).then(function(){_this218._renderTexture.clear(),i.forEach(function(n){n.getInverted&&n.getInverted()?(_this218._renderTexture.render(s),_this218._renderTexture.render(_this218._renderMaskedSprite(n.getDisplayObject(),n.getColor?n.getColor():K.WHITE,n.getPadding?n.getPadding():-1)),s=new W.Container()):s.addChild(n.getDisplayObject());}),_this218._renderTexture.render(s),t.addChild(_this218._sprite),i.forEach(function(n){return t.addChild(n.getDisplayObject());});});}},{key:"_renderMaskedSprite",value:function _renderMaskedSprite(e,t,i){var o=this._maskCanvas,s=e.getWorldTransform(),n=this._getOrientatedStageSize();G.ensureCanvasDimensions(o,n);var a=o.getContext("2d");if(a.clearRect(0,0,o.width,o.height),a.save(),a.fillStyle=t.toRGBA(),i<0)a.fillRect(0,0,n.x,n.y);else{var u=Math.abs(e.getWidth()/e.getScale().x),p=Math.abs(e.getHeight()/e.getScale().y),m=u*i;a.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),a.fillRect(-m,-m,u+m*2,p+m*2);}a.restore(),a.save(),a.globalCompositeOperation="destination-out",e._renderCanvas({getCurrentRenderTarget:function getCurrentRenderTarget(){return{getPixelRatio:function getPixelRatio(){return 1;}};},beforeDraw:function beforeDraw(u){var p=e.getWidth(),m=e.getHeight(),h=e.getScale(),g=h.x<0,v=h.y<0;u.translate(p,m),u.scale(g?-1:1,v?-1:1),u.translate(-p,-m);},getContext:function getContext(){return a;}}),a.restore();var l=new W.Container(),c=new W.Sprite(W.Texture.fromCanvas(o));return l.addChild(c),l;}},{key:"takeSpriteToFront",value:function takeSpriteToFront(e){var t=this._options.sprites,i=t.indexOf(e);if(i===-1)return;G.moveArrayItem(t,i,t.length-1);var o=e.getDisplayObject();this._container.removeChild(o),this._container.addChild(o),this.setDirty(!0);}},{key:"getSpritesAtPosition",value:function getSpritesAtPosition(e,t){var _this219=this;var i=[];this._options.sprites.forEach(function(u){return u.update(_this219._sdk,t);});var o=this._sdk.getSprite(),s=o.getWorldTransform().applyInverseToVector(e),_o$getTexture$getFram=o.getTexture().getFrame(),n=_o$getTexture$getFram.width,a=_o$getTexture$getFram.height,l=o.getAnchor().clone().multiply(-n,-a);s.subtract(l);var c=this._options.sprites.slice(0).reverse();for(var u=0,p=c.length;u<p;u++){var m=c[u];m.getHitTestDisplayObject().isAtPosition(s)&&i.push(m);}return i;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(e,t,i){_get(_getPrototypeOf(da.prototype),"setDirtyForRenderer",this).call(this,e,t,i),this._options.sprites.forEach(function(o){o.setDirtyForRenderer(e,t,i);});}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(da.prototype),"dispose",this).call(this),this._options.sprites.forEach(function(e){e.dispose();});}}]);return da;}(Ye);da.StickerSprite=Wy;da.TextSprite=Cx;da.BrushSprite=Lc;da.TextDesignSprite=xx;da.identifier="sprite";da.prototype.availableOptions={sprites:{type:b.ARRAY,"default":[],setter:function setter(r,e){var _this220=this;return r=r.map(function(t,i){if(t instanceof $s)return t;var o=w({},t);switch(delete o.type,t.type){case"text":return new Cx(_this220,o);case"sticker":return new Wy(_this220,o);case"brush":return new Lc(_this220,o);case"textdesign":return new xx(_this220,o);default:return oe.error(_this220.constructor.name,"Invalid sprite type: ".concat(t.type)),null;}}),e||(this._options.sprites&&this._options.sprites.slice().forEach(function(i){i.dispose(),_this220.removeSprite(i);}),r.forEach(function(t){_this220.addSprite(t);})),r;}},smoothDownscaling:{type:b.BOOLEAN,"default":!1}};we.Operations.SpriteOperation=da;N9=da;});var W9,G9,V9,j9=d(function(){var _se44;Y();(_se44=se,W9=_se44.Vector2,_se44),G9=/*#__PURE__*/function(){function G9(e,t){_classCallCheck(this,G9);this._options=t,this._oldOptions={start:e.getStart().clone(),end:e.getEnd().clone(),rotation:e.getRotation(),textureScale:e.getTextureScale()},this._inputDimensions=e.getInputDimensions(!1),this._rotationDelta=t.rotation-e.getRotation(),this._deltaCos=Math.cos(this._rotationDelta),this._deltaSin=Math.sin(this._rotationDelta),this._oldAbsoluteSize=this._oldOptions.end.clone().subtract(this._oldOptions.start).multiply(this._inputDimensions),this._newAbsoluteSize=t.end.clone().subtract(t.start).multiply(this._inputDimensions),this._absoluteStartDiff=this._oldOptions.start.clone().subtract(t.start).multiply(this._inputDimensions),this._scaleRatio=e.calculateScale(t.rotation)/e.calculateScale(),this._sizeFactor=this._newAbsoluteSize.clone().divide(this._oldAbsoluteSize),this._textureScaleFactor=this._options.textureScale/e.getTextureScale();}_createClass(G9,[{key:"applyToRelativePoint",value:function applyToRelativePoint(e){var t=this._oldOptions.start,i=this._oldOptions.end,s=t.clone().add(i.clone().subtract(t).divide(2)).multiply(this._inputDimensions),n=e.clone().multiply(this._oldAbsoluteSize).subtract(this._oldAbsoluteSize.clone().divide(2)),l=s.clone().add(n).clone().subtract(this._inputDimensions.clone().divide(2)),c=new W9(l.x*this._deltaCos-l.y*this._deltaSin,l.x*this._deltaSin+l.y*this._deltaCos),u=this._inputDimensions.clone().divide(2).add(c),p=this._options.start.clone().multiply(this._inputDimensions);return u.clone().subtract(p).divide(this._newAbsoluteSize);}},{key:"applyToRelativeSize",value:function applyToRelativeSize(e){return e*this._oldAbsoluteSize.min()/this._newAbsoluteSize.min();}},{key:"applyToDimensions",value:function applyToDimensions(e){return e=e.clone().multiply(this._scaleRatio),this._options.textureScale&&e.multiply(this._textureScaleFactor),e;}},{key:"scaleSize",value:function scaleSize(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"y";return e/this._sizeFactor[t];}},{key:"applyToRotation",value:function applyToRotation(e){return(e+this._rotationDelta)%(Math.PI*2);}},{key:"invert",value:function invert(){var e=this._options.start.clone(),t=this._options.end.clone(),i=this._inputDimensions,o=-this._rotationDelta,s=Math.cos(o),n=Math.sin(o),a=this._oldAbsoluteSize,l=this._newAbsoluteSize,c=e.clone().subtract(t).multiply(i),u=1/this._scaleRatio,p=new W9(1/this._sizeFactor.x,1/this._sizeFactor.y),m=1/this._textureScaleFactor,h=this._oldOptions;return this._oldOptions=this._options,this._options=h,this._inputDimensions=i,this._rotationDelta=o,this._deltaCos=s,this._deltaSin=n,this._oldAbsoluteSize=l,this._newAbsoluteSize=a,this._absoluteStartDiff=c,this._scaleRatio=u,this._sizeFactor=p,this._textureScaleFactor=m,this;}}]);return G9;}(),V9=G9;});var Ik,ym,$9,q9=d(function(){var _se45;Y();j9();(_se45=se,Ik=_se45.Vector2,_se45),ym=/*#__PURE__*/function(_Ye16){_inherits(ym,_Ye16);var _super182=_createSuper(ym);function ym(){_classCallCheck(this,ym);return _super182.apply(this,arguments);}_createClass(ym,[{key:"_render",value:function _render(e){this._sprite.setRotation(0);var t=e.getDimensions(),_this$_options33=this._options,i=_this$_options33.start,o=_this$_options33.end,s=_this$_options33.rotation,n=_this$_options33.textureScale,l=o.clone().subtract(i).clone().divide(2),c=i.clone().add(l),p=this.calculateScale()*n,m=t.clone().multiply(p).multiply(l);return this._sprite.setAnchor(c),this._sprite.setRotation(s),this._sprite.setScale(p,p),this._sprite.setPosition(m),this._renderTexture.render(this._container),Promise.resolve();}},{key:"calculateScale",value:function calculateScale(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.rotation;var t=this.getInputDimensions(!1),i=new Ik(Math.abs(t.x*Math.cos(e))+Math.abs(t.y*Math.sin(e)),Math.abs(t.x*Math.sin(e))+Math.abs(t.y*Math.cos(e))),o=t.clone().subtract(i.clone()).divide(2).abs(),s=1;return o.y>o.x?s=o.y*2/t.y+1:s=o.x*2/t.x+1,s;}},{key:"getNewDimensions",value:function getNewDimensions(e){var _this$_options34=this._options,t=_this$_options34.start,i=_this$_options34.end,o=_this$_options34.textureScale,s=this.calculateScale();return e.clone().multiply(o*s).multiply(i.clone().subtract(t)).round();}},{key:"flip",value:function flip(e){var _this$_options35=this._options,t=_this$_options35.start,i=_this$_options35.end,o=t.clone();e==="horizontal"?(t.set(1-i.x,t.y),i.set(1-o.x,i.y)):e==="vertical"&&(t.set(t.x,1-i.y),i.set(i.x,1-o.y));}},{key:"rotate",value:function rotate(e){var _this$_options36=this._options,t=_this$_options36.start,i=_this$_options36.end,o=(e+360)%360,s=Math.floor(o/90);for(var n=0;n<s;n++){var a=t.clone();t.set(1-i.y,a.x),i.set(1-a.y,i.x);}}},{key:"_onBeforeExport",value:function _onBeforeExport(){this._wasEnabledBeforeExport=this.getEnabled(),this.setEnabled(!0);}},{key:"_onAfterExport",value:function _onAfterExport(){this.setEnabled(this._wasEnabledBeforeExport,!0);}}]);return ym;}(Ye);ym.identifier="transform";ym.prototype.availableOptions={start:{type:b.VECTOR2,"default":new Ik(0,0)},end:{type:b.VECTOR2,"default":new Ik(1,1)},textureScale:{type:b.NUMBER,"default":1},rotation:{type:b.NUMBER,"default":0}};ym.TransformChange=V9;we.Operations.TransformOperation=ym;$9=ym;});var Yh,K9,X9=d(function(){Ct();Y();Rc();Yh=/*#__PURE__*/function(_Ye17){_inherits(Yh,_Ye17);var _super183=_createSuper(Yh);function Yh(){var _this221;_classCallCheck(this,Yh);for(var _len105=arguments.length,e=new Array(_len105),_key105=0;_key105<_len105;_key105++){e[_key105]=arguments[_key105];}_this221=_super183.call.apply(_super183,[this].concat(e));_this221._watermarkImage=null;_this221._watermarkTexture=null;_this221._loadWatermarkImage=function(){if(!_this221._watermarkImage){if(!(_this221._options.watermarkURI instanceof window.Image)){var _e6={value:_this221._options.crossOrigin,cors:!0};return er.loadImage(_this221._options.watermarkURI,_e6).then(function(t){_this221._watermarkImage=t;});}_this221._watermarkImage=_this221._options.watermarkURI;}return Promise.resolve();};_this221._setWatermarkalignment=function(e,t){var i=Math.min(t.x,t.y)*G.clamp(_this221._options.inset,0,1);switch(_this221._options.alignment){case"center":_this221._watermarkSprite.setPosition(new _ue(t.x-e.x,t.y-e.y).divide(2));break;case"top-left":_this221._watermarkSprite.setPosition(new _ue(i,i));break;case"top-right":_this221._watermarkSprite.setPosition(new _ue(t.x-e.x-i,i));break;case"bottom-left":_this221._watermarkSprite.setPosition(new _ue(i,t.y-e.y-i));break;case"bottom-right":_this221._watermarkSprite.setPosition(new _ue(t.x-e.x-i,t.y-e.y-i));break;default:_this221._watermarkSprite.setPosition(new _ue(0,0));break;}};_this221._watermarkSprite=new W.Sprite(),_this221._watermarkSprite.setAnchor(0,0),_this221._container.addChild(_this221._watermarkSprite);return _this221;}_createClass(Yh,[{key:"_render",value:function _render(e){var _this222=this;var _this$_options37=this._options,t=_this$_options37.alpha,i=_this$_options37.size;return this._loadWatermarkImage().then(function(){if(_this222._watermarkImage){_this222._watermarkTexture||(_this222._watermarkTexture=W.Texture.fromImage(_this222._watermarkImage),_this222._watermarkSprite.setTexture(_this222._watermarkTexture));var o=e.getDimensions(),_this222$_watermarkIm=_this222._watermarkImage,s=_this222$_watermarkIm.width,n=_this222$_watermarkIm.height,a=G.resizeVectorToFit(new _ue(s,n),o.clone().multiply(G.clamp(i,0,1)));_this222._setWatermarkalignment(a,o),_this222._watermarkSprite.setWidth(a.x),_this222._watermarkSprite.setHeight(a.y),_this222._watermarkSprite.setAlpha(t),_this222._renderTexture&&_this222._renderTexture.render(_this222._container);}return Promise.resolve();});}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Yh.prototype),"dispose",this).call(this),this._watermarkSprite.dispose();}}]);return Yh;}(Ye);Yh.identifier="watermark";Yh.prototype.availableOptions={watermarkURI:{type:b.STRING,required:!0},alignment:{type:b.STRING,"default":"top-right"},inset:{type:b.NUMBER,"default":"0.05"},size:{type:b.NUMBER,"default":"0.2"},alpha:{type:b.NUMBER,"default":1},crossOrigin:{type:b.STRING,"default":"anonymous"}};we.Operations.WatermarkOperation=Yh;K9=Yh;});var Ene,Y9=d(function(){Y();g3();v3();H8();G8();j8();Z8();r6();l6();d6();m6();f6();x6();A6();H9();q9();X9();Ene=[f3,x3,N8,V8,J8,i6,a6,c6,h6,y6,R6,N9,$9,K9,u6,W8];we.AllOperations=Ene;});var Qs=d(function(){Y9();Ah();Ah();});var J9,Z9=d(function(){J9=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff","default":!0,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Aleo",variations:[{identifier:"imgly_font_aleo_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_aleo_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}}]},{fontFamily:"Amatic SC",variations:[{identifier:"imgly_font_amaticsc",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_amaticsc.woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}}]},{fontFamily:"Archivo",variations:[{identifier:"imgly_font_archivo_black",fontWeight:"normal",filePath:"fonts/imgly_font_archivo_black.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_bungee_inline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Campton Book",variations:[{identifier:"imgly_font_campton_bold",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_campton_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:770,descender:-294}}]},{fontFamily:"Carter",variations:[{identifier:"imgly_font_carter_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_carter_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}}]},{fontFamily:"Codystar",variations:[{identifier:"imgly_font_codystar",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_codystar.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}}]},{fontFamily:"Fira Sans",variations:[{identifier:"imgly_font_fira_sans_regular",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_fira_sans_regular.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}}]},{fontFamily:"Galano Grotesque",variations:[{identifier:"imgly_font_galano_grotesque_bold",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_galano_grotesque_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}}]},{fontFamily:"Krona One",variations:[{identifier:"imgly_font_krona_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_krona_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}}]},{fontFamily:"Kumar One Outline",variations:[{identifier:"imgly_font_kumar_one_outline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_kumar_one_outline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}}]},{fontFamily:"Lobster",variations:[{identifier:"imgly_font_lobster",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_lobster.woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Molle",variations:[{identifier:"imgly_font_molle",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_molle.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}}]},{fontFamily:"Monoton",variations:[{identifier:"imgly_font_monoton",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_monoton.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}}]},{fontFamily:"Nixie One",variations:[{identifier:"imgly_font_nixie_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_nixie_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}}]},{fontFamily:"Notable",variations:[{identifier:"imgly_font_notable",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_notable.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}}]},{fontFamily:"Oswald SemiBold",variations:[{identifier:"imgly_font_oswald_semi_bold",fontWeight:600,fontStyle:"normal",filePath:"fonts/imgly_font_oswald_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}}]},{fontFamily:"Palanquin Dark SemiBold",variations:[{identifier:"imgly_font_palanquin_dark_semi_bold",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_palanquin_dark_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}}]},{fontFamily:"Poppins",variations:[{identifier:"imgly_font_poppins",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_poppins.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_permanent_marker.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sancreek",variations:[{identifier:"imgly_font_sancreek",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sancreek.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}}]},{fontFamily:"Stint Ultra Expanded",variations:[{identifier:"imgly_font_stint_ultra_expanded",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_stint_ultra_expanded.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}}]},{fontFamily:"Trashhand",variations:[{identifier:"imgly_font_trash_hand",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_trash_hand.woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}}]},{fontFamily:"VT323",variations:[{identifier:"imgly_font_vt323",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_vt323.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}}]},{fontFamily:"Yeseva One",variations:[{identifier:"imgly_font_yeseva_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_yeseva_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}}]}];});var Q9,eU=d(function(){Q9=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff","default":!0,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Abril Fatface",variations:[{identifier:"imgly_font_abril_fatface_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_abril_fatface_regular.woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}}]},{fontFamily:"Amberlight",variations:[{identifier:"imgly_font_amberlight",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_amberlight.woff","default":!0,textMetrics:{unitsPerEm:1e3,ascender:750,descender:-250}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_bungee_inline.woff","default":!0,textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Campton Book",variations:[{identifier:"imgly_font_campton_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_campton_bold.woff","default":!0,textMetrics:{unitsPerEm:1e3,ascender:770,descender:-294}}]},{fontFamily:"Galano Grotesque",variations:[{identifier:"imgly_font_galano_grotesque_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_galano_grotesque_bold.woff","default":!0,textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}}]},{fontFamily:"Handycheera",variations:[{identifier:"imgly_font_handycheera_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_handycheera_regular.woff","default":!0,textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}}]},{fontFamily:"Montserrat Light",variations:[{identifier:"imgly_font_montserrat_light",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_montserrat_light.woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_heavy",fontWeight:900,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_heavy.woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_permanent_marker.woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Petit Formal Script",variations:[{identifier:"imgly_font_petit_formal_script",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_petit_formal_script.woff","default":!0,textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}}]},{fontFamily:"Rasa",variations:[{identifier:"imgly_font_rasa_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_regular.woff","default":!0,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_500",fontWeight:500,fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_500.woff","default":!0,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_black.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_light.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sue Ellen Francisco",variations:[{identifier:"imgly_font_sue_ellen_francisco",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sue_ellen_francisco.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}}]},{fontFamily:"Ultra",variations:[{identifier:"imgly_font_ultra",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_ultra.woff","default":!0,textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}}]},{fontFamily:"Wolesbro",variations:[{identifier:"imgly_font_wolesbro",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_wolesbro.woff",textMetrics:{unitsPerEm:1e3,ascender:925,descender:-575}}]}];});var tU,iU=d(function(){tU=[{identifier:"imgly_transforms_common",defaultName:"Common Ratios",ratios:[{identifier:"imgly_transform_common_custom",defaultName:"Custom",ratio:"*",selected:!0},{identifier:"imgly_transform_common_square",defaultName:"Square",ratio:1},{identifier:"imgly_transform_common_4-3",defaultName:"4:3",ratio:4/3},{identifier:"imgly_transform_common_16-9",defaultName:"16:9",ratio:16/9}]},{identifier:"imgly_transforms_facebook",defaultName:"Facebook",ratios:[{identifier:"imgly_transform_facebook_profile",defaultName:"Profile Pic",dimensions:{x:300,y:300},forceDimensions:!1,lockDimensions:!0},{identifier:"imgly_transform_facebook_ad",defaultName:"Ad",dimensions:{x:1200,y:627}},{identifier:"imgly_transform_facebook_post",defaultName:"Post",dimensions:{x:940,y:788}},{identifier:"imgly_transform_facebook_cover",defaultName:"Cover",dimensions:{x:851,y:315}}]}];});var rU,oU,sU=d(function(){Qs();Z9();eU();iU();rU=[];typeof we.Operations.SpriteOperation!="undefined"&&rU.push(we.Operations.SpriteOperation.BrushSprite.Brushes.RadialBrush);oU={TRANSFORM_RATIO_CATEGORIES:tU,FONTS:J9,TEXT_DESIGN_FONTS:Q9,BRUSHES:rU};});var Ine,nU,aU=d(function(){Th();Ine=L(w({},qu),{LOAD:"load",SAVE:"save",EDITOR_RESIZE:"editor:resize",ZOOM:"editor:zoom",ZOOM_CHANGED:"editor:zoom_changed",HISTORY_REDO:"history:redo",HISTORY_BEFORE_REDO:"history:before-redo",TEXT_SCALED:"editor:text:scaled",TRANSFORM_RESIZE:"transform:resize",TRANSFORM_AFTER_EDIT:"transform:after-edit",ADDED_STICKER:"sticker:added-sticker",SPRITES_DESELECTED:"editor:sprite:deselected-all",CANVAS_FOCUS:"canvas:focus"}),nU=Ine;});var Dt,lU=d(function(){sU();aU();Dt={EVENTS:nU,DEFAULTS:oU};});function Fne(){var _navigator=navigator,r=_navigator.userAgent,e=_navigator.appVersion;return e.indexOf("MSIE")!==-1?e.match(/MSIE\s+?([0-9]+)/i)[1]:r.indexOf("Trident")!==-1?r.match(/rv:([0-9]+)/i)[1]:!1;}var cU,dU=d(function(){cU={getIEVersion:Fne};});var One,Sx,Rne,ar,uU=d(function(){var _we$Math;Qs();Lu();is();dU();One=we.Utils,(_we$Math=we.Math,Sx=_we$Math.Vector2,_we$Math),Rne={getInnerDimensionsForElement:function getInnerDimensionsForElement(r){var e=new Sx(r.offsetWidth,r.offsetHeight),t=window.getComputedStyle(r,null);return e.x-=parseInt(t.getPropertyValue("padding-left"),10),e.x-=parseInt(t.getPropertyValue("padding-right"),10),e.y-=parseInt(t.getPropertyValue("padding-top"),10),e.y-=parseInt(t.getPropertyValue("padding-bottom"),10),e;},getEventPosition:function getEventPosition(r){var e=r.clientX,t=r.clientY;if(r.type.indexOf("touch")!==-1){if(!r.touches.length)return;e=r.touches[0].clientX,t=r.touches[0].clientY;}return new Sx(e,t);},createTransparentPatternCanvas:function createTransparentPatternCanvas(){var r=document.createElement("canvas"),e=r.getContext("2d");return r.width=10,r.height=10,e.fillStyle="white",e.fillRect(0,0,r.width,r.height),e.fillStyle="#cccccc",e.fillRect(0,0,r.width/2,r.height/2),e.fillRect(r.width/2,r.height/2,r.width,r.height),r;},supportsMSBlob:function supportsMSBlob(){return typeof document.createElement("canvas").msToBlob!="undefined";},translate:function translate(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=this.fetch(r,e);if(!i)return oe.info("Utils#translate","Unable to translate `".concat(e,"`")),null;for(var o in t){i=i.replace("${".concat(o,"}"),t[o]);}return i;},fetch:function fetch(r,e,t){e=e.replace(/\[(\w+)]/g,".$1"),e=e.replace(/^\./,"");var i=e.split(".");for(var o=0;o<i.length;o++){var s=i[o];if(r=r[s],!r)break;}return typeof r=="undefined"?!1:r;},isMobile:function isMobile(){var r=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4));},select:function select(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;t||(t=function t(o){return o;});var i=[];return e.forEach(function(o){r.forEach(function(s){t(s)===o&&i.push(s);});}),i;},getJSONP:function getJSONP(r){return new ko(r).load();},cloneCategories:function cloneCategories(r,e){return r.map(function(t){return t=One.clone(t),t[e]=t[e].slice(0),t;});},mergeCategories:function mergeCategories(r,e,t){r=this.cloneCategories(r,t);var i=null;return e.forEach(function(o){r.forEach(function(s){o.identifier===s.identifier&&(i=s);}),i?i[t]=i[t].concat(o[t]):r.push(o);}),r;},wrapFiltersInCategories:function wrapFiltersInCategories(r,e){return r.map(function(t){var i=t;return e in i||(i=_defineProperty({identifier:"imgly_filters_wrapped-".concat(t.identifier),displayFlat:!0},e,[t])),i;});},getStyleObject:function getStyleObject(r){var e=window.getComputedStyle(r),t={};for(var i in e){var o=e.getPropertyValue(i),s=i.replace(/-([a-z])/g,function(n,a){return a.toUpperCase();});o!==""&&(t[s]=o);}return t;},styleElement:function styleElement(r,e){for(var t in e){r.style[t]=e[t];}},debounce:function debounce(r,e,t){var i;return function(){var _this223=this;for(var _len106=arguments.length,o=new Array(_len106),_key106=0;_key106<_len106;_key106++){o[_key106]=arguments[_key106];}var s=function s(){i=null,t||r.apply(_this223,o);},n=t&&!i;clearTimeout(i),i=setTimeout(s,e),n&&r.apply(this,o);};},getScrollbarWidth:function getScrollbarWidth(){var r=document.createElement("div");r.style.visibility="hidden",r.style.width="100px",r.style.msOverflowStyle="scrollbar",document.body.appendChild(r);var e=r.offsetWidth;r.style.overflow="scroll";var t=document.createElement("div");t.style.width="100%",r.appendChild(t);var i=t.offsetWidth;return r.parentNode.removeChild(r),e-i;},findIntegerFraction:function findIntegerFraction(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var t=Number.MAX_VALUE,i=0,o=0,s=1,n=1;for(var a=0;a<e;a++){var l=s/n-r;if(l<0)s++;else if(l>0)n++;else return new Sx(s,n);var c=Math.abs(s/n-r);c<t&&(t=c,i=s,o=n);}return new Sx(i,o);},toFixed:function toFixed(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var t=r.toFixed(e);return parseFloat(t);},capitalize:function capitalize(r){return r.charAt(0).toUpperCase()+r.slice(1);},flipObject:function flipObject(r){var e={};for(var t in r){e[r[t]]=t;}return e;},Browser:cU},ar=Rne;});var Fk,et,o6e,Jh,_t,Pl,Ok,pe,We,s6e,n6e,a6e,Ct=d(function(){var _we,_we2,_we$Math2,_we3,_we4,_we5,_we$Math3,_we$Math4,_we$Math5;Qs();Th();Pu();is();lU();uU();(_we=we,Fk=_we.Base64,_we),(_we2=we,et=_we2.Color,_we2),(_we$Math2=we.Math,o6e=_we$Math2.ColorMatrix,_we$Math2),(_we3=we,Jh=_we3.EventEmitter,_we3),_t=we.Utils,(_we4=we,Pl=_we4.RenderType,_we4),(_we5=we,Ok=_we5.ImageFormat,_we5),pe=we,(_we$Math3=we.Math,We=_we$Math3.Vector2,_we$Math3),(_we$Math4=we.Math,s6e=_we$Math4.Rectangle,_we$Math4),(_we$Math5=we.Math,n6e=_we$Math5.Range,_we$Math5),a6e=typeof window!="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):_h();});var _xm,Yc,Rk=d(function(){Ct();_xm=/*#__PURE__*/function(){function xm(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;_classCallCheck(this,xm);this._ui=e,this._options=t,this._categoriesById={},this._filtersByIdentifier={identity:pe.Operations.FilterOperation.Filters.IdentityFilter},this._categories=ar.wrapFiltersInCategories(ta.DEFAULTS.FILTERS.slice(0),_xm.CATEGORY_ITEMS_PROPERTY),this._customAssetsAllowed=i||e.getEditor().getSDK()._l.areCustomAssetsAllowed(),this._customAssetsAllowed&&this._options.categories&&(this._options.categories=ar.wrapFiltersInCategories(this._options.categories,_xm.CATEGORY_ITEMS_PROPERTY)),this._initCategories();}_createClass(xm,[{key:"instantiateFilterWithIdentifier",value:function instantiateFilterWithIdentifier(e){var _this224=this;var t={value:this._ui._options.crossOrigin,cors:!0},i=this.getFilterByIdentifier(e);if(!i)return Promise.reject(new Error("Unknown filter with identifier `".concat(e,"`!")));if(!(i.prototype instanceof pe.Operations.FilterOperation.Filter)){var o=i.lutImage,s=i.resolution,n=i.horizontalTileCount,a=i.verticalTileCount,l=i.lightColor,c=i.darkColor;if(l&&c)return l=et.fromHex(l),c=et.fromHex(c),Promise.resolve(new pe.Operations.FilterOperation.Filters.DuoToneFilter({lightColor:l,darkColor:c}));var u;this._ui.getPreloader&&(u=this._ui.getPreloader().getAsset(o));var p;return u?p=Promise.resolve(u):p=er.loadImage(this._ui.getAssetPath(o),t),p.then(function(){return er.loadImage(_this224._ui.getAssetPath(o),t).then(function(m){return new pe.Operations.FilterOperation.Filters.ThreeDLUTFilter({image:m,resolution:s,horizontalTileCount:n,verticalTileCount:a});});});}return Promise.resolve(new i());}},{key:"_initCategories",value:function _initCategories(){var _this225=this;if(this._customAssetsAllowed&&this._options.categories&&(this._options.replaceCategories?this._categories=ar.wrapFiltersInCategories(this._options.categories,_xm.CATEGORY_ITEMS_PROPERTY):this._categories=ar.mergeCategories(this._categories,this._options.categories,_xm.CATEGORY_ITEMS_PROPERTY)),this._customAssetsAllowed&&this._options.availableFilters){var t=[];this._categories.forEach(function(i){var o=i.filters.filter(function(s){return _this225._options.availableFilters.indexOf(s.identifier)!==-1;});o.length>0&&t.push({identifier:i.identifier,defaultName:i.defaultName,filters:o});}),this._categories=t;}var e={identifier:"all",defaultName:"All",visible:!1,filters:this._categories.length<=0?[]:this._categories.map(function(t){return t.filters;}).reduce(function(t,i){return t.concat(i);})};this._categories.unshift(e),this._categoriesById.all=e,this._categories.forEach(function(t){_this225._categoriesById[t.identifier]=t;}),e.filters.forEach(function(t){_this225._filtersByIdentifier[t.identifier]=t;});}},{key:"getFiltersForCategory",value:function getFiltersForCategory(e){if(!this._categoriesById[e])throw new Error("Unknown filter category '".concat(e,"'"));return this._categoriesById[e].filters;}},{key:"getItemsByCategory",value:function getItemsByCategory(e){return this.getFiltersForCategory(e);}},{key:"getFilterByIdentifier",value:function getFilterByIdentifier(e){return this._filtersByIdentifier[e];}},{key:"getCategories",value:function getCategories(){return this._categories;}},{key:"getCategoryByIdentifier",value:function getCategoryByIdentifier(e){return this._categoriesById[e];}}]);return xm;}(),Yc=_xm;te(Yc,"CATEGORY_ITEMS_PROPERTY","filters");});var Zh,mU=d(function(){Qs();Zh=/*#__PURE__*/function(_Fe21){_inherits(Zh,_Fe21);var _super184=_createSuper(Zh);function Zh(){_classCallCheck(this,Zh);return _super184.apply(this,arguments);}return Zh;}(Fe);Zh.prototype.availableOptions={fontFamily:{type:b.STRING,required:!0},variations:{type:b.ARRAY,required:!0}};});var Ane,Jc,Ak=d(function(){Qs();Ane={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular"},Jc=/*#__PURE__*/function(_Fe22){_inherits(Jc,_Fe22);var _super185=_createSuper(Jc);function Jc(){_classCallCheck(this,Jc);return _super185.apply(this,arguments);}_createClass(Jc,[{key:"getLabel",value:function getLabel(){var e=Ane[this._options.fontWeight];switch(this._options.fontStyle){case"italic":e+=" Italic";break;}return e;}}]);return Jc;}(Fe);Jc.prototype.availableOptions={identifier:{type:b.STRING,required:!0},fontFamily:{type:b.STRING,required:!0},fontWeight:{type:b.ALL,"default":400},fontStyle:{type:b.STRING,"default":"normal"},textMetrics:{type:b.OBJECT,"default":null},provider:{type:b.STRING,available:["google","file"]},filePath:{type:b.STRING},"default":{type:b.BOOLEAN,"default":!1},font:{type:b.OBJECT}};});var Gi,Bl=d(function(){Ct();mU();Ak();is();UC();Gi=/*#__PURE__*/function(){function Gi(e,t){_classCallCheck(this,Gi);this._ui=e,this._options=t,this._fonts=[],this._variationsByIdentifier={},this._fontsByFontFamily={},this._initFonts();}_createClass(Gi,[{key:"_initFonts",value:function _initFonts(){var _this226=this,_n$0$getVariations,_n$0$getVariations2;var _this$_options38=this._options,e=_this$_options38.fonts,t=_this$_options38.replaceFonts,i=_this$_options38.availableVariations,o=_this$_options38.isTextDesign,s=!0;s=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed(),e&&s&&e.forEach(function(_ref99,c){var l=_ref99.variations;l&&l.forEach(function(u,p){if(Tn[u.identifier]){var m=Ga(u.identifier,!0);e[c].variations[p].identifier=m;var _Dt$DEFAULTS$FONTS$fi=Dt.DEFAULTS.FONTS.find(function(g){return g.variations.some(function(v){return v.identifier===m;});}),h=_Dt$DEFAULTS$FONTS$fi.fontFamily;e[c].fontFamily=h;}});});var n=o?Dt.DEFAULTS.TEXT_DESIGN_FONTS:Dt.DEFAULTS.FONTS;s&&(t?n=e:n=n.concat(e||[]));var a;n=n.map(function(l){var c=l.fontFamily,u=l.variations;if(s&&i&&(u=u.filter(function(m){return i.indexOf(m.identifier)!==-1;})),u.length===0)return null;var p=new Zh({fontFamily:c});return u=u.map(function(m){var h=new Jc(m);return h.setFontFamily(c),h.setFont(p),m["default"]&&!a&&(a=h),h.getTextMetrics()==null&&oe.warn("Missing font metrics for ".concat(h.getIdentifier(),". The SDK will fall back to basic font rendering, which may lead to layout issues. Please provide font metrics for your custom fonts. See https://docs.photoeditorsdk.com/guides/html5/ for more details.")),_this226._variationsByIdentifier[h.getIdentifier()]=h,h;}),p.setVariations(u),_this226._fontsByFontFamily[c]=p,p;}).filter(function(l){return l;}),a||(_n$0$getVariations=n[0].getVariations(),_n$0$getVariations2=_slicedToArray(_n$0$getVariations,1),a=_n$0$getVariations2[0],_n$0$getVariations),this._defaultVariation=a,this._fonts=n;}},{key:"getFonts",value:function getFonts(){return this._fonts;}},{key:"getFontByFontFamily",value:function getFontByFontFamily(e){return this._fontsByFontFamily[e];}},{key:"getVariationByIdentifier",value:function getVariationByIdentifier(e){return this._variationsByIdentifier[Ga(e)];}},{key:"getVariationsByIdentifier",value:function getVariationsByIdentifier(){return w({},this._variationsByIdentifier);}},{key:"getDefaultVariation",value:function getDefaultVariation(){return this._defaultVariation;}}]);return Gi;}();});var Ao,vm=d(function(){Ct();Ao=/*#__PURE__*/function(){function Ao(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Ao);this._ui=e,this._options=t,this._defaultLayouts=pe.Operations.SpriteOperation.TextDesignSprite.Layouts,this._legacyLayouts=pe.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts,this._layouts=[],this._init();}_createClass(Ao,[{key:"_init",value:function _init(){var e=this._options.availableLayouts,t=w(w({},this._defaultLayouts),this._legacyLayouts);this._layouts=Object.keys(t).map(function(i){return{identifier:t[i].identifier,layout:t[i]};}),e&&(e.push.apply(e,_toConsumableArray(Object.values(this._legacyLayouts).map(function(i){return i.identifier;}))),this._layouts=this._layouts.filter(function(i){return e.indexOf(i.identifier)>=0;}));}},{key:"getLayoutByIdentifier",value:function getLayoutByIdentifier(e){var t=_t.Array.find(this._layouts,function(i){return i.identifier===e;});return t&&t.layout;}},{key:"getLayouts",value:function getLayouts(){return _toConsumableArray(this._layouts);}},{key:"getDefaultLayout",value:function getDefaultLayout(){return this.getLayouts()[0];}}]);return Ao;}();});var Zc,Pk=d(function(){Ct();Zc=/*#__PURE__*/function(){function Zc(){_classCallCheck(this,Zc);}_createClass(Zc,null,[{key:"downloadDataURL",value:function downloadDataURL(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"photoeditorsdk-export";var i=this.createBlobURLFromDataURL(e),o=this.getExtensionFromDataURL(e),s=document.createElement("a");s.download="".concat(t,".").concat(o),s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s);}},{key:"downloadMSBlob",value:function downloadMSBlob(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"photoeditorsdk-export";navigator.msSaveBlob&&navigator.msSaveBlob(e,"".concat(t,".png"));}},{key:"getExtensionFromDataURL",value:function getExtensionFromDataURL(e){return e.split(",")[0].split(":")[1].split(";")[0].split("/").pop();}},{key:"createBlobURLFromDataURL",value:function createBlobURLFromDataURL(e){if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array)return e;var t=Fk.decode(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),s=new Uint8Array(o);for(var a=0;a<t.length;a++){s[a]=t[a];}var n=new window.Blob([o],{type:i});return window.URL.createObjectURL(n);}}]);return Zc;}();});var wx,pU=d(function(){Ct();Pk();wx=/*#__PURE__*/function(){function wx(e,t,i){_classCallCheck(this,wx);this._sdk=e,this._options=t,this._download=i;}_createClass(wx,[{key:"export",value:function _export(){var _this227=this;var e=this._getRenderType();return this._sdk["export"](e,this._options.format,this._options.quality).then(function(t){return _this227._download&&_this227._downloadData(e,t),t;});}},{key:"_downloadData",value:function _downloadData(e,t){switch(e){case Pl.DATAURL:Zc.downloadDataURL(t,this._options.fileBasename);break;case Pl.MSBLOB:Zc.downloadMSBlob(t,this._options.fileBasename);break;}}},{key:"_getRenderType",value:function _getRenderType(){var e=this._options;return e.type!==Pl.IMAGE||!this._download?e.type:ar.supportsMSBlob()?Pl.MSBLOB:Pl.DATAURL;}}]);return wx;}();});var kx,hU=d(function(){Ct();kx=/*#__PURE__*/function(){function kx(e,t,i){_classCallCheck(this,kx);this._editor=e,this._sdk=t,this._mediator=i,this._available=this._sdk.getOperations(),this._map={},this._stack=this._sdk.getOperationsStack(),this._preferredOrder=this._editor.getOptions().editor.operationsOrder,this._fixStack();}_createClass(kx,[{key:"exists",value:function exists(e){return!!this._map[e];}},{key:"add",value:function add(e){var _this228=this;var t=e.constructor.identifier;e.on("update",function(){_this228._mediator.emit(Dt.EVENTS.OPERATION_UPDATED,e);});var i=this._preferredOrder.indexOf(t);if(i===-1)throw new Error("EditorOperations#add: `".concat(t,"` does not appear in `operationsOrder`"));this._stack.set(i,e),this._map[t]=e,this._mediator.emit(Dt.EVENTS.OPERATION_CREATED,e);}},{key:"remove",value:function remove(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=_typeof(e)=="object"?e.constructor.identifier:e,o=this._stack.getStack();e=this.get(i),delete this._map[i];var s=o.map(function(n){return n.constructor.identifier;}).indexOf(i);if(s!==-1){this._stack.removeAt(s);for(var n=s+1;n<o.length;n++){var a=o[n];!a||a.setDirty(!0);}t&&this._mediator.emit(Dt.EVENTS.OPERATION_REMOVED,e);}}},{key:"get",value:function get(e){return this._map[e];}},{key:"getOrCreate",value:function getOrCreate(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this._map[e]){var s=this._map[e];return s.set(t,!1),s;}var i=this._available[e],o=new i(this._sdk,t);return this.add(o),o;}},{key:"getStack",value:function getStack(){return this._stack;}},{key:"reset",value:function reset(){this._map={};}},{key:"_fixStack",value:function _fixStack(){var _this229=this;var e=this._stack.getStack().slice();this._stack.clear(),e.forEach(function(t){_this229.add(t);});}}]);return kx;}();});var Tx,fU=d(function(){Ct();Tx=/*#__PURE__*/function(){function Tx(e,t,i){_classCallCheck(this,Tx);this._image=e,this._maxPixels=t,this._maxDimensions=i;}_createClass(Tx,[{key:"needsResize",value:function needsResize(){var e=new We(this._image.width,this._image.height),i=e.x*e.y>this._maxPixels,o=this._maxDimensions!==null&&(e.x>this._maxDimensions||e.y>this._maxDimensions);return i||o;}},{key:"resize",value:function resize(){var _this230=this;var e=null,t=null,i=this._maxDimensions;return new Promise(function(o,s){window.setTimeout(function(){var a=new We(_this230._image.width,_this230._image.height).clone();if(a.x*a.y>_this230._maxPixels&&(a.copy(_this230._getDimensionsByMaxPixels()),e="maxMegaPixels"),i!==null&&(a.x>i||a.y>i)){var l=Math.min(i/a.x,i/a.y);a.multiply(l),e="maxDimensions";}a.floor(),t=_this230._createResizedImageCanvas(a),o({canvas:t,dimensions:a,reason:e});},1e3);});}},{key:"_createResizedImageCanvas",value:function _createResizedImageCanvas(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;var i=this._image,o=document.createElement("canvas");o.width=e.x,o.height=e.y;var s=e.clone().subtract(t).divide(2);return o.getContext("2d").drawImage(i,0,0,i.width,i.height,s.x,s.y,t.x,t.y),o;}},{key:"_getDimensionsByMaxPixels",value:function _getDimensionsByMaxPixels(){var e=this._image,t=this._maxPixels,i=e.width/e.height,o=e.height/e.width;return new We(Math.sqrt(t*i),Math.sqrt(t*o)).floor();}}]);return Tx;}();});var Pne,Bne,Qh,gU=d(function(){Ak();Pne=30,Bne="abcdefghijklmnopqrstuvwxzy",Qh=/*#__PURE__*/function(){function Qh(e){_classCallCheck(this,Qh);this._fontVariation=e||new Jc({fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal"}),this._createRuler();}_createClass(Qh,[{key:"_createRuler",value:function _createRuler(){this._ruler=document.createElement("div"),this._ruler.innerText=Bne,document.body.appendChild(this._ruler),this._setRulerStyle();}},{key:"_setRulerStyle",value:function _setRulerStyle(){this._ruler.style.cssText="\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      opacity: 0;\n      display: inline-block;\n      font: ".concat(this._fontVariation.getFontStyle()," ").concat(this._fontVariation.getFontWeight()," ").concat(Pne,"px ").concat(this._fontVariation.getFontFamily(),";\n    ");}},{key:"setFontVariation",value:function setFontVariation(e){this._fontVariation=e,this._setRulerStyle();}},{key:"getWidth",value:function getWidth(){return this._ruler?this._ruler.offsetWidth:-1;}},{key:"dispose",value:function dispose(){this._ruler&&(this._ruler.parentNode.removeChild(this._ruler),this._ruler=null);}}]);return Qh;}();});var bU,Mne,Lne,Dx,_U=d(function(){gU();bU=typeof window!="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):_h(),Mne=50,Lne=5e3,Dx=/*#__PURE__*/function(){function Dx(e){_classCallCheck(this,Dx);this._fontVariation=e,this._defaultFontRuler=new Qh(),this._customFontRuler=new Qh(this._fontVariation);}_createClass(Dx,[{key:"observe",value:function observe(){var _this231=this;var e=bU();return new Promise(function(t,i){var o=window.setInterval(function(){if(_this231._defaultFontRuler.getWidth()!==_this231._customFontRuler.getWidth())return window.clearInterval(o),t();if(bU()-e>=Lne){var n=new Error("Failed to load font ".concat(_this231._fontVariation.getFontFamily(),"."));return n.font=_this231._fontVariation,i(n);}},Mne);});}},{key:"dispose",value:function dispose(){this._defaultFontRuler.dispose(),this._customFontRuler.dispose();}}]);return Dx;}();});var Cm,Bk=d(function(){Qs();_U();Cm=/*#__PURE__*/function(){function Cm(e){_classCallCheck(this,Cm);this._ui=e,this._fonts=[],this._observers=[];}_createClass(Cm,[{key:"add",value:function add(e){this._fonts.push(e);}},{key:"load",value:function load(){var _this232=this;return this._fonts.length===0?Promise.resolve():(this._observers=[],this._fonts.forEach(function(e){_this232._observers.push(new Dx(e));}),G.executePromises(this._observers.map(function(e){return e.observe();})));}},{key:"dispose",value:function dispose(){this._observers.forEach(function(e){return e.dispose();});}}]);return Cm;}();});var Ex,yU=d(function(){Bk();Ex=/*#__PURE__*/function(_Cm){_inherits(Ex,_Cm);var _super186=_createSuper(Ex);function Ex(){_classCallCheck(this,Ex);return _super186.apply(this,arguments);}_createClass(Ex,[{key:"load",value:function load(){return Promise.resolve();}}]);return Ex;}(Cm);});var zne,Ix,xU=d(function(){Bk();zne={italic:"i"},Ix=/*#__PURE__*/function(_Cm2){_inherits(Ix,_Cm2);var _super187=_createSuper(Ix);function Ix(){_classCallCheck(this,Ix);return _super187.apply(this,arguments);}_createClass(Ix,[{key:"load",value:function load(){return this._fonts.length&&this._addStylesheetTag(),_get(_getPrototypeOf(Ix.prototype),"load",this).call(this);}},{key:"_addStylesheetTag",value:function _addStylesheetTag(){var e=this._getFamiliesString(),t=document.createElement("link");t.rel="stylesheet",t.href="https://fonts.googleapis.com/css?family=".concat(e),document.getElementsByTagName("head")[0].appendChild(t);}},{key:"_getFamiliesString",value:function _getFamiliesString(){var e={};this._fonts.forEach(function(i){var o=i.getFontFamily(),s=i.getFontStyle(),n=i.getFontWeight();e[o]=e[o]||[],typeof n!="undefined"?e[o].push("".concat(n).concat(zne[s]||"")):e[o].push(400);});var t=[];for(var i in e){var o=e[i],s=o.length?":".concat(o.join(",")):"",n=i.replace(" ","+")+s;t.push(n);}return t.join("|");}}]);return Ix;}(Cm);});var Ml,Fx=d(function(){yU();xU();Ml=/*#__PURE__*/function(){function Ml(e,t){_classCallCheck(this,Ml);this._ui=e,this._fonts=t,this._loadedFonts=[];}_createClass(Ml,[{key:"setFonts",value:function setFonts(e){this._fonts=e;}},{key:"needsToLoad",value:function needsToLoad(){var _this233=this;var _loop5=function _loop5(e){var t=void 0;if(_this233._fonts[e].getVariations().forEach(function(i){t=t||i.getProvider();}),!!t)return{v:!0};};for(var e=0;e<this._fonts.length;e++){var _ret=_loop5(e);if(_typeof(_ret)==="object")return _ret.v;}}},{key:"fontLoaded",value:function fontLoaded(e){var t=e.getFontFamily();return this._loadedFonts.indexOf(t)!==-1;}},{key:"setFontLoaded",value:function setFontLoaded(e){if(!this.fontLoaded(e)){var t=e.getFontFamily();this._loadedFonts.push(t);}}},{key:"load",value:function load(){var _this234=this;var e=this._fonts,t={google:new Ix(this._ui),file:new Ex(this._ui)},i=function i(){for(var s in t){t[s].dispose();}};e.filter(function(s){return!_this234.fontLoaded(s);}).forEach(function(s){s.getVariations().forEach(function(n){var a=n.getProvider();if(!a)return;t[a].add(n);});});var o=[];for(var s in t){o.push(t[s].load());}return Promise.all(o).then(function(){i(),e.forEach(function(s){_this234.setFontLoaded(s);});})["catch"](function(s){throw i(),s;});}}]);return Ml;}();});var Ox,vU=d(function(){Ct();Ox=/*#__PURE__*/function(){function Ox(e,t){_classCallCheck(this,Ox);this._ui=e,this._options=t,this._brushes=[],this._brushesById={},this._addBrushes(Dt.DEFAULTS.BRUSHES);var _this$_options39=this._options,i=_this$_options39.brushes,o=_this$_options39.replaceBrushes,s=_this$_options39.availableBrushes;this._options.brushes&&this._addBrushes(i,o),s&&(this._brushes=this._brushes.filter(function(n){return s.indexOf(n.identifier)!==-1;}));}_createClass(Ox,[{key:"_addBrushes",value:function _addBrushes(e,t){var _this235=this;t&&(this._brushes=[],this._brushesById={}),e.forEach(function(i){_this235._brushes.push(i),_this235._brushesById[i.identifier]=i;});}},{key:"getBrushByIdentifier",value:function getBrushByIdentifier(e){return this._brushesById[e];}},{key:"getBrushes",value:function getBrushes(){return this._brushes;}},{key:"getFirstBrush",value:function getFirstBrush(){return this._brushes[0];}}]);return Ox;}();});var CU,SU,wU=d(function(){CU=/*#__PURE__*/function(){function CU(){_classCallCheck(this,CU);this._assetsByGroupId={};}_createClass(CU,[{key:"addAsset",value:function addAsset(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;this._assetsByGroupId[e]?i?this._assetsByGroupId[e].unshift(t):this._assetsByGroupId[e].push(t):this._assetsByGroupId[e]=[t];}},{key:"setAssets",value:function setAssets(e,t){this._assetsByGroupId[e]=t;}},{key:"getAssets",value:function getAssets(e){return this._assetsByGroupId[e]=this._assetsByGroupId[e]||[],this._assetsByGroupId[e];}}]);return CU;}(),SU=CU;});var Mk,Ll,Rx=d(function(){Ct();Qs();wU();Th();Lu();Mk="imgly_sticker_custom",Ll=/*#__PURE__*/function(){function Ll(e,t,i){_classCallCheck(this,Ll);this._ui=e,this._options=t,this._dynamicAssetsLibrary=i||this._ui.getEditor().getDynamicAssetsLibrary()||new SU(),this._categoriesById={},this._categories=[],this._stickersById={},this._customStickerCanvas=G.createCanvas(),this.reload();}_createClass(Ll,[{key:"reload",value:function reload(){this._categoriesById={},this._categories=[],this._stickersById={};var e=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed();this._addCategories(ta.DEFAULTS.STICKER_CATEGORIES);var _this$_options40=this._options,t=_this$_options40.categories,i=_this$_options40.replaceCategories;if(e&&this._options.categories?this._addCategories(t,i):(this._updateCategoriesMap(),this._updateAllCategory()),e){var o=this._dynamicAssetsLibrary.getAssets("sticker");if(o.length>0){var s=this._createCustomStickerCategory(o);this._addCategories([s],!1,!0);}}}},{key:"loadExternal",value:function loadExternal(e){var _this236=this;return new ko(e).load().then(function(i){_this236._addCategories(i.categories,_this236._options.replaceCategories);});}},{key:"_addCategories",value:function _addCategories(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;t?this._categories=e.slice(0):i?this._categories=this._mergeCategories(e,this._categories):this._categories=this._mergeCategories(this._categories,e),this._updateCategoriesMap(),this._updateAllCategory();}},{key:"_mergeCategories",value:function _mergeCategories(e,t){e=ar.cloneCategories(e,"stickers");var _iterator5=_createForOfIteratorHelper(t),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var i=_step5.value;var o=!1;var _iterator6=_createForOfIteratorHelper(e),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var s=_step6.value;if(i.identifier===s.identifier){var _iterator7=_createForOfIteratorHelper(i.stickers),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var n=_step7.value;var a=!1;var _iterator8=_createForOfIteratorHelper(s.stickers),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var l=_step8.value;if(n.identifier===l.identifier){Object.assign(l,n),a=!0;break;}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}a||s.stickers.push(n);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}o=!0;break;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}o||e.push(i);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}return e;}},{key:"_updateCategoriesMap",value:function _updateCategoriesMap(){var _this237=this;this._categoriesById={},this._categories.forEach(function(e){_this237._categoriesById[e.identifier]=e;}),this._categories.forEach(function(e){e.stickers.forEach(function(t){_this237._stickersById[t.identifier]=t;});}),typeof this._options.availableStickers!="undefined"&&this._options.availableStickers!==null&&(this._categories.forEach(function(e){e.identifier!==Mk&&(e.stickers=e.stickers.filter(function(t){return _this237._options.availableStickers.indexOf(t.identifier)!==-1;}));}),this._categories=this._categories.filter(function(e){return e.stickers.length>0;})),this._updateAllCategory();}},{key:"_updateAllCategory",value:function _updateAllCategory(){this._allCategory={identifier:"all",defaultName:"All",stickers:this._categories.map(function(e){return e.stickers;}).reduce(function(e,t){return e.concat(t);},[])},this._categoriesById.all=this._allCategory;}},{key:"renderStickerThumbnailFromImage",value:function renderStickerThumbnailFromImage(e){var t=this._customStickerCanvas,i=t.getContext("2d");i.save();var o=62,s=o/e.width,n=s*e.height;t.width=o,t.height=o,i.clearRect(0,0,e.width,e.height),i.translate(0,.5*(t.height-n)),i.scale(s,s),i.drawImage(e,0,0);var a=t.toDataURL("image/png");return i.restore(),{data:a,width:o,height:n};}},{key:"addCustomStickerFromImage",value:function addCustomStickerFromImage(e,t){var _this238=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"none";var o=function o(_){var E=_this238._ui.getEditor().getSDK().getRenderer(),O=new We(_.width,_.height),V=_this238._ui.getEditor().getMaxMegapixels()*1e6,F=E.getMaxDimensions(),P=O.x*O.y>V,ae=F!==null&&(O.x>F||O.y>F);if(P){var ye=_.width/_.height,Te=_.height/_.width;F=new We(Math.sqrt(V*ye),Math.sqrt(V*Te)).floor().max();}var de=O.clone();return(P||ae)&&(O.x/O.y>1?(de.x=F,de.y=F/O.x*O.y):(de.x=F/O.y*O.x,de.y=F)),de;},s=function s(_,I){var E=_.x/_.y;return E>1?new We(I,I/E):new We(I*E,I);},n=e.src.substring(0,14)==="data:image/svg";e=this._ui.getEditor().getSDK().correctExifOrientation(e);var l=s(new We(e.width,e.height),2048),c=n?l:o(e),u=this._customStickerCanvas,p=u.getContext("2d");p.save();var m=this.renderStickerThumbnailFromImage(e);n?(e.width>e.height?(u.width=2048,u.height=2048/e.width*e.height):(u.height=2048,u.width=2048/e.height*e.width),e.width=u.width,e.height=u.height):(u.width=c.x,u.height=c.y,p.scale(c.x/e.width,c.y/e.height)),p.drawImage(e,0,0,e.width,e.height);var h=u.toDataURL();p.restore();var g={identifier:G.generateUUID(),defaultName:t||"",tintMode:i,images:{mediaThumb:{uris:[m.data],rawData:!0,width:m.width,height:m.height},mediaBase:{uris:n?[h,e.src]:[h],rawData:!0,isSVG:n,width:c.x,height:c.y}}},v=this._dynamicAssetsLibrary;v.addAsset("sticker",g,!0);var S=v.getAssets("sticker");if(S.length===1){var _=this._createCustomStickerCategory(S);this._addCategories([_],!1,!0);}else this.getCategory(Mk).stickers=S,this._updateAllCategory();this._updateCategoriesMap();}},{key:"_createCustomStickerCategory",value:function _createCustomStickerCategory(e){return{identifier:Mk,defaultName:"Custom",metaData:{backgroundImage:e[e.length-1].images.mediaBase.uris[0],rawData:!0},stickers:e};}},{key:"getStickersForCategory",value:function getStickersForCategory(e){if(!this._categoriesById[e])throw new Error("Unknown sticker category '".concat(e,"'"));return this._categoriesById[e].stickers;}},{key:"getStickerByIdentifier",value:function getStickerByIdentifier(e){return this._stickersById[e];}},{key:"getCategories",value:function getCategories(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return e?[this._allCategory].concat(this._categories):this._categories;}},{key:"getCategory",value:function getCategory(e){return this._categoriesById[e];}}],[{key:"getURLForSticker",value:function getURLForSticker(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"base";var i=e.images,o=t==="base"&&i.mediaBase||i.mediaThumb,s=o.uris||[o.uri];if(!ar.Browser.getIEVersion()){var a=s.filter(function(l){return /\.svg$/i.test(l);});return a.length?a[0]:s[0];}var n=s.filter(function(a){return!/\.svg$/i.test(a);});return n.length?n[0]:s[0];}}]);return Ll;}();});var kU,Lk,Qc,zk=d(function(){Ct();Fx();vU();Rk();Bl();Rx();kU=y(pu());typeof pe.Operations.SpriteOperation!="undefined"&&(Lk=pe.Operations.SpriteOperation.BrushSprite);Qc=/*#__PURE__*/function(){function Qc(e,t){_classCallCheck(this,Qc);this._editor=e,this._ui=this._editor.getUI(),this._data=t,this._filterManager=new Yc(this._ui,this._getOptions("filter")),this._stickerManager=new Ll(this._ui,this._getOptions("sticker")),this._brushManager=new Ox(this._ui,this._getOptions("brush")),this._fontManager=new Gi(this._ui,this._getOptions("text"));}_createClass(Qc,[{key:"_getOptions",value:function _getOptions(e){var t=this._editor.controls,i={};t&&t.get(e)&&(i=t.get(e).defaultOptions);var o=this._editor.getOptions();return _t.deepDefaults({},o.editor.controlsOptions[e]||{},i);}},{key:"deserialize",value:function deserialize(){var _this239=this;return this._validateVersion().then(function(){return _this239._deserializeInputImage();}).then(function(){return _this239._deserializeOperations();});}},{key:"_validateVersion",value:function _validateVersion(){return this._data.version!==this.constructor.version?Promise.reject(new Error("Invalid version ".concat(this._data.version,", expected ").concat(this.constructor.version))):Promise.resolve();}},{key:"_deserializeInputImage",value:function _deserializeInputImage(){var _this240=this;return new Promise(function(e,t){var _this240$_data$inputI=_this240._data.inputImage,i=_this240$_data$inputI.data,o=_this240$_data$inputI.type;if(i&&o){var s=new window.Image();s.addEventListener("load",function(){_this240._editor.setImage(s),e();}),s.src="data:".concat(o,";base64,").concat(i);}else e();});}},{key:"_deserializeOperations",value:function _deserializeOperations(){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){var _this241=this;var e;return regeneratorRuntime.wrap(function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:e=this._data.operations;return _context12.abrupt("return",(0,kU["default"])(e,function(t){return ie(_this241,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee10(){return regeneratorRuntime.wrap(function _callee10$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:return _context11.abrupt("return",this._deserializeOperation(t));case 1:case"end":return _context11.stop();}}},_callee10,this);}));}));case 2:case"end":return _context12.stop();}}},_callee11,this);}));}},{key:"_deserializeOperation",value:function _deserializeOperation(e){switch(e.type){case"crop":return this._deserializeCropOperation(e);case"orientation":return this._deserializeOrientationOperation(e);case"filter":return this._deserializeFilterOperation(e);case"adjustments":return this._deserializeAdjustmentsOperation(e);case"sprite":return this._deserializeSpriteOperation(e);case"focus":return this._deserializeFocusOperation(e);}}},{key:"_deserializeCropOperation",value:function _deserializeCropOperation(e){var t=e.options,i=t.rotation,o=We.fromObject(t.start),s=We.fromObject(t.end);i>Math.PI&&(i-=Math.PI*2);var n={start:o,end:s};typeof i!="undefined"&&(n.rotation=i);var a=this._editor.operations.getOrCreate("transform");return this._editor.broadcastTransform(a,n),a.set(n),Promise.resolve(a);}},{key:"_deserializeOrientationOperation",value:function _deserializeOrientationOperation(e){var t=e.options,i=this._editor.operations.getOrCreate("orientation");return i?(i.set(t),Promise.resolve(i)):Promise.resolve();}},{key:"_deserializeFilterOperation",value:function _deserializeFilterOperation(e){var _this242=this;var t=e.options;return this._filterManager.getFilterByIdentifier(t.name)?this._filterManager.instantiateFilterWithIdentifier(t.name).then(function(i){var o=_this242._editor.operations.getOrCreate("filter");return o.set({identifier:t.name,filter:i,intensity:t.intensity}),o;}):(oe.warn("Deserializer","Unknown filter `".concat(t.name,"`")),Promise.resolve());}},{key:"_deserializeAdjustmentsOperation",value:function _deserializeAdjustmentsOperation(e){var t=pe.Operations.AdjustmentsOperation,i=e.options,o=["brightness","saturation","contrast","exposure","shadows","highlights","clarity"],s={};return o.forEach(function(n){if(typeof i[n]=="undefined")return;var _t$prototype$availabl=t.prototype.availableOptions[n],a=_t$prototype$availabl.minValue,l=_t$prototype$availabl.midValue,c=_t$prototype$availabl.maxValue,u=i[n];u=u<0?l+(l-a)*u:l+(c-l)*u,s[n]=u;}),Promise.resolve(this._editor.operations.getOrCreate("adjustments",s));}},{key:"_deserializeSpriteOperation",value:function _deserializeSpriteOperation(e){var _this243=this;var t=e.options,i=this._editor.operations.getOrCreate("sprite");if(!i)return Promise.resolve();var o=t.sprites.map(function(s){return _this243._deserializeSprite(i,s);}).filter(function(s){return s;});return Promise.all(o).then(function(s){return i.setSprites(s.filter(function(n){return n;})),i;});}},{key:"_deserializeSprite",value:function _deserializeSprite(e,t){switch(t.type){case"sticker":return this._deserializeSticker(e,t);case"text":return this._deserializeText(e,t);case"brush":return this._deserializeBrush(e,t);case"textdesign":return this._deserializeTextDesign&&this._deserializeTextDesign(e,t);}}},{key:"_deserializeSticker",value:function _deserializeSticker(e,t){var _this244=this;var i=pe.Operations.SpriteOperation,o=t.options,s=this._stickerManager.getStickerByIdentifier(o.name),n=this._stickerManager.getURLForSticker(s);return s?new Promise(function(a,l){var c=new window.Image();c.addEventListener("load",function(){var u=i.StickerSprite.prototype.availableOptions.adjustments.structure,p=o.rotation,m=o.flipHorizontally,h=o.flipVertically,g={identifier:o.name,image:c,position:We.fromObject(o.position),dimensions:We.fromObject(o.dimensions),rotation:p,flipHorizontally:m,flipVertically:h,adjustments:{}};typeof o.adjustments!="undefined"&&["brightness","contrast","saturation"].forEach(function(v){typeof o.adjustments[v]!="undefined"&&(g.adjustments[v]=o.adjustments[v]+u[v]["default"]);}),a(e.createSticker(g));}),c.crossOrigin=_this244._editor.getCrossOrigin(),c.src=_this244._editor.getUI().getAssetPath(n);}):(oe.warn("Deserializer","Unknown sticker '".concat(o.name,"'. Skipping sprite.")),Promise.resolve());}},{key:"_deserializeText",value:function _deserializeText(e,t){var i=t.options,o=i.fontSize,s=i.lineHeight,n=i.fontFamily,a=i.fontWeight,l=i.alignment,c=i.rotation,u=i.maxWidth,p=i.color,m=i.backgroundColor,h=new Ml(this._ui),g=this._fontManager.getFontByFontFamily(n);return g||(g=this._fontManager.getDefaultFont()),h.setFonts([g]),h.load().then(function(){var v=e.createText({fontSize:o,lineHeight:s,fontFamily:n,fontWeight:a,alignment:l,rotation:c,maxWidth:u,text:i.text,color:et.fromArray(p),backgroundColor:et.fromArray(m),position:We.fromObject(i.position)});return v._edited=!0,v;});}},{key:"_deserializeBrush",value:function _deserializeBrush(e,t){var _this245=this;var i=t.options,o=i.paths,s=e.createBrush();return o.forEach(function(n){_this245._deserializeBrushPath(s,n);}),Promise.resolve(s);}},{key:"_deserializeBrushPath",value:function _deserializeBrushPath(e,t){var i=t.points,o=this._createBrushForPath(t),s=e.createPath(o);s.setClosed(!0),i.forEach(function(n){s.addControlPoint(We.fromObject(n));});}},{key:"_createBrushForPath",value:function _createBrushForPath(e){var t=e.color,i=e.size,s={color:et.fromArray(t),size:i},n=this._brushManager.getFirstBrush();if(n.prototype&&n.prototype instanceof Lk){var c=n;return new c(s);}var a=w({},n);delete a.image;var l=/*#__PURE__*/function(_Lk){_inherits(l,_Lk);var _super188=_createSuper(l);function l(){_classCallCheck(this,l);return _super188.apply(this,arguments);}return l;}(Lk);return l.identifier=n.identifier,new l(w(w({},a),s));}},{key:"_deserializeFocusOperation",value:function _deserializeFocusOperation(e){var t=e.options.options;switch(e.options.type){case"radial":{var i=t.position,o=t.radius,s=t.gradientRadius,n=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:We.fromObject(i),radius:o,gradientRadius:s,blurRadius:n}));}case"linear":{var _i8=t.start,_o5=t.end,_s3=t.size,_n4=t.gradientSize,a=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:We.fromObject(_i8),end:We.fromObject(_o5),size:_s3,gradientSize:_n4,blurRadius:a}));}}}},{key:"_getInputDimensionsForOperation",value:function _getInputDimensionsForOperation(e){var t=!1,i=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach(function(o){o===e&&(t=!0),!t&&(i=o.getNewDimensions(i));}),i;}}]);return Qc;}();Qc.version="1.0.0";});var Sm,ed,Uk=d(function(){Ct();Sm=Math.PI*2,ed=/*#__PURE__*/function(){function ed(e){_classCallCheck(this,ed);this._editor=e,this._serializeOperations=this._serializeOperations.bind(this);}_createClass(ed,[{key:"serialize",value:function serialize(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=L(w({},e),{image:!0});var t={version:this.constructor.version};return this._serializeInputImage(t).then(this._serializeOperations);}},{key:"_serializeInputImage",value:function _serializeInputImage(e){var t=this._editor.getImage(),i=t.width,o=t.height;if(!this._options.image)return e.inputImage={width:i,height:o},Promise.resolve(e);var s=_t.createCanvas();s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(t,0,0);var a=s.toDataURL(Ok.PNG);return e.inputImage={type:Ok.PNG,data:a.replace(/^data:image\/(.*?);base64,/,""),width:i,height:o},Promise.resolve(e);}},{key:"_serializeOperations",value:function _serializeOperations(e){var _this246=this;var t=[];return this._editor.operations.getStack().forEach(function(o){var s=_this246._serializeOperation(o,t);s&&t.push(s);}),e.operations=t.filter(function(o){return o;}),Promise.resolve(e);}},{key:"_serializeOperation",value:function _serializeOperation(e,t){switch(e.constructor.identifier){case"transform":return this._serializeTransformOperation(e);case"orientation":return this._serializeOrientationOperation(e);case"filter":return this._serializeFilterOperation(e);case"adjustments":return this._serializeAdjustmentsOperation(e);case"sprite":return this._serializeSpriteOperation(e,t);case"radial-focus":return this._serializeRadialFocusOperation(e);case"mirrored-focus":return this._serializeLinearFocusOperation(e);default:oe.warn("Unable to serialize operation of type ".concat(e.constructor.identifier));}}},{key:"_serializeTransformOperation",value:function _serializeTransformOperation(e){var t=e.serializeOptions(["start","end","rotation"],!0);return t.rotation=(t.rotation+Sm)%Sm,{type:"crop",options:t};}},{key:"_serializeOrientationOperation",value:function _serializeOrientationOperation(e){return{type:"orientation",options:e.serializeOptions(["flipVertically","flipHorizontally","rotation"],!0)};}},{key:"_serializeFilterOperation",value:function _serializeFilterOperation(e){return e.getIdentifier()==="identity"?null:{type:"filter",options:{intensity:e.getIntensity(),name:e.getIdentifier()}};}},{key:"_serializeAdjustmentsOperation",value:function _serializeAdjustmentsOperation(e){var t=e.availableOptions,i=["brightness","saturation","contrast","exposure","shadows","highlights","clarity"],o={};return i.forEach(function(s){var n=t[s],a=e.getOption(s),l=n.minValue,c=n.midValue,u=n.maxValue;o[s]=a<=c?(a-l)/(c-l)-1:(a-c)/(u-c);}),{type:"adjustments",options:o};}},{key:"_serializeSpriteOperation",value:function _serializeSpriteOperation(e,t){var _this247=this;var i=t.filter(function(n){return n.type==="sprite";}),o,s=!0;if(i.length?(o=i.pop(),s=!1):o={type:"sprite",options:{sprites:[]}},e.getSprites().forEach(function(n){var a=null;n instanceof e.constructor.StickerSprite?a=_this247._serializeSticker(e,n):n instanceof e.constructor.TextSprite?a=_this247._serializeText(e,n):n instanceof e.constructor.BrushSprite?a=_this247._serializeBrush(e,n):n instanceof e.constructor.TextDesignSprite&&(a=_this247._serializeTextDesign&&_this247._serializeTextDesign(e,n)),a&&o.options.sprites.push(a);}),s)return o;}},{key:"_serializeSticker",value:function _serializeSticker(e,t){var i=t.getAdjustments(),o=t.serializeOptions(["identifier","position","dimensions","flipVertically","flipHorizontally","rotation"],!0);o.name=o.identifier,delete o.identifier,o.rotation=(o.rotation+Sm)%Sm;var s=i.availableOptions;return o.adjustments={brightness:i.getBrightness()-s.brightness["default"],saturation:i.getSaturation()-s.saturation["default"],contrast:i.getContrast()-s.contrast["default"]},{type:"sticker",options:o};}},{key:"_serializeText",value:function _serializeText(e,t){var i=t.serializeOptions(["fontSize","lineHeight","fontFamily","fontWeight","alignment","color","backgroundColor","position","rotation","text","maxWidth"],!0);return i.rotation=(i.rotation+Sm)%Sm,{type:"text",options:i};}},{key:"_serializeBrush",value:function _serializeBrush(e,t){var _this248=this;return{type:"brush",options:{paths:t.getPaths().map(function(i){return _this248._serializePath(i);})}};}},{key:"_serializePath",value:function _serializePath(e){var t=e.getBrush().serializeOptions(["color","size"],!0);return t.points=e.getControlPoints().map(function(i){return i.getPosition().toObject();}),t;}},{key:"_serializeRadialFocusOperation",value:function _serializeRadialFocusOperation(e){return{type:"focus",options:{type:"radial",options:e.serializeOptions(["position","radius","gradientRadius","blurRadius"],!0)}};}},{key:"_serializeLinearFocusOperation",value:function _serializeLinearFocusOperation(e){return{type:"focus",options:{type:"linear",options:e.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}};}},{key:"_getInputDimensionsForOperation",value:function _getInputDimensionsForOperation(e){var t=!1,i=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach(function(o){o===e&&(t=!0),!t&&(i=o.getNewDimensions(i));}),i;}}]);return ed;}();ed.version="1.0.0";});var TU={};It(TU,{"default":function _default(){return Ax;}});var Ax,DU=d(function(){zk();Uk();Ax=/*#__PURE__*/function(){function Ax(e){_classCallCheck(this,Ax);this._editor=e;}_createClass(Ax,[{key:"serialize",value:function serialize(){var _ed;return(_ed=new ed(this._editor)).serialize.apply(_ed,arguments);}},{key:"deserialize",value:function deserialize(e){return new Qc(this._editor,e).deserialize();}}]);return Ax;}();Ax.version="1.0.0";});var td,Nk=d(function(){Ct();zk();td=/*#__PURE__*/function(_Qc){_inherits(td,_Qc);var _super189=_createSuper(td);function td(){_classCallCheck(this,td);return _super189.apply(this,arguments);}_createClass(td,[{key:"_deserializeOperation",value:function _deserializeOperation(e){return e.type==="selective-blur"?this._deserializeSelectiveBlurOperation(e):_get(_getPrototypeOf(td.prototype),"_deserializeOperation",this).call(this,e);}},{key:"_deserializeCropOperation",value:function _deserializeCropOperation(e){var t=e.options,i=t.rotation,o=We.fromObject(t.start),s=We.fromObject(t.end),n=t.dimensions?We.fromObject(t.dimensions):null;if(s.x-o.x<=0||s.y-o.y<=0)throw new Error("A crop should not result in negative or zero dimensions - start: ".concat(o," - end: ").concat(s));i>Math.PI&&(i-=Math.PI*2);var a={start:o,end:s};typeof i!="undefined"&&(a.rotation=i);var l=this._editor.operations.getOrCreate("transform");if(!l)return Promise.resolve();if(this._editor.broadcastTransform(l,a),l.set(a),n){var c=s.clone().subtract(o),u=l.getInputDimensions(!1).multiply(c);l.setTextureScale(n.x/u.x);}return Promise.resolve(l);}}]);return td;}(Qc);td.version="1.0.1";});var EU,id,Hk=d(function(){Uk();EU=Math.PI*2,id=/*#__PURE__*/function(_ed2){_inherits(id,_ed2);var _super190=_createSuper(id);function id(){_classCallCheck(this,id);return _super190.apply(this,arguments);}_createClass(id,[{key:"_serializeTransformOperation",value:function _serializeTransformOperation(e){var t=e.serializeOptions(["start","end","rotation","textureScale"],!0);return t.rotation=(t.rotation+EU)%EU,t.textureScale!==1&&(t.dimensions=e.getNewDimensions(e.getInputDimensions(!1))),delete t.textureScale,{type:"crop",options:t};}}]);return id;}(ed);id.version="1.0.1";});var IU={};It(IU,{"default":function _default(){return Px;}});var Px,FU=d(function(){Nk();Hk();Px=/*#__PURE__*/function(){function Px(e){_classCallCheck(this,Px);this._editor=e;}_createClass(Px,[{key:"serialize",value:function serialize(){var _id;return(_id=new id(this._editor)).serialize.apply(_id,arguments);}},{key:"deserialize",value:function deserialize(e){return new td(this._editor,e).deserialize();}}]);return Px;}();Px.version="1.0.1";});var wm,ef,OU=d(function(){var _pe;Pu();Ct();(_pe=pe,wm=_pe.OptionType,_pe),ef=/*#__PURE__*/function(_pe$Configurable){_inherits(ef,_pe$Configurable);var _super191=_createSuper(ef);function ef(e){var _this249;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,ef);_this249=_super191.call(this,t);_this249._loaded=!1,_this249._loading=!1,_this249._ui=e,_this249._frame=pe.Utils.deepClone(_this249._options);return _this249;}_createClass(ef,[{key:"load",value:function load(){var _this250=this;if(this._loaded)return Promise.resolve();if(this._loading)return Promise.reject(new Error("Called Frame#load while it's already loading"));this._loading=!0;var e=this._frame.imageGroups,t=[];return["top","left","right","bottom"].forEach(function(i){if(!(i in e))return;var o=e[i];["start","mid","end"].forEach(function(s){s in o&&t.push(_this250._loadPart(i,s));});}),Promise.all(t).then(function(){_this250._loaded=!0,_this250._loading=!1;})["catch"](function(i){_this250._loaded=!1,_this250._loading=!1;});}},{key:"_loadPart",value:function _loadPart(e,t){var _this251=this;var i=this._frame.imageGroups,o=i[e][t],s=o;return typeof o!="string"&&"image"in o&&(s=o.image),er.load(this._ui.getAssetPath(s)).then(function(n){return typeof o!="string"?_this251._frame.imageGroups[e][t].image=n:_this251._frame.imageGroups[e][t]=n,n;});}},{key:"getFrame",value:function getFrame(){return this._frame;}}]);return ef;}(pe.Configurable);ef.prototype.availableOptions={identifier:{type:wm.STRING,required:!0},defaultName:{type:wm.STRING},thumbnail:{type:wm.STRING},tintable:{type:wm.BOOLEAN,"default":!1},layoutMode:{type:wm.STRING,"default":"horizontal-inside",available:["horizontal-inside","vertical-inside"]},imageGroups:{type:wm.OBJECT,required:!0}};});var Bx,RU=d(function(){Ct();Bx=/*#__PURE__*/function(){function Bx(e,t){_classCallCheck(this,Bx);this._ui=e,this._options=t,this._categoriesById={},this._categories=[],this._framesById={},this._addCategories(ta.DEFAULTS.FRAME_CATEGORIES),this._customAssetsAllowed=e.getEditor().getSDK()._l.areCustomAssetsAllowed();var _this$_options41=this._options,i=_this$_options41.categories,o=_this$_options41.replaceCategories;this._customAssetsAllowed&&this._options.categories?this._addCategories(i,o):this._updateAllCategory();}_createClass(Bx,[{key:"_addCategories",value:function _addCategories(e){var _this252=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;t?this._categories=e.slice(0):this._categories=ar.mergeCategories(this._categories,e,"frames"),this._categoriesById={},this._categories.forEach(function(o){_this252._categoriesById[o.identifier]=o;});var i=this._options.availableFrames;this._customAssetsAllowed&&i&&this._categories.forEach(function(o){o.frames=o.frames.filter(function(s){return i.indexOf(s.identifier)!==-1;});}),this._categories.forEach(function(o){o.frames.forEach(function(s){_this252._framesById[s.identifier]=s;});}),this._updateAllCategory();}},{key:"_updateAllCategory",value:function _updateAllCategory(){this._allCategory={identifier:"all",defaultName:"All",frames:this._categories.map(function(e){return e.frames;}).reduce(function(e,t){return e.concat(t);},[])},this._categoriesById.all=this._allCategory;}},{key:"getFramesForCategory",value:function getFramesForCategory(e){if(!this._categoriesById[e])throw new Error("Unknown frame category '".concat(e,"'"));return this._categoriesById[e].frames;}},{key:"getFrameByIdentifier",value:function getFrameByIdentifier(e){return this._framesById[e];}},{key:"getCategories",value:function getCategories(){return this._categories;}},{key:"getCategory",value:function getCategory(e){return this._categoriesById[e];}}]);return Bx;}();});var Mx,AU=d(function(){Ct();Mx=/*#__PURE__*/function(){function Mx(e,t){var _this253=this;_classCallCheck(this,Mx);this._ui=e,this._options=t,this._overlays=ta.DEFAULTS.OVERLAYS.slice(0),this._overlaysByIdentifier={};var i=e.getEditor().getSDK()._l.areCustomAssetsAllowed();i&&t.overlays&&(t.replaceOverlays?this._overlays=t.overlays:this._overlays=this._overlays.concat(t.overlays)),i&&t.availableOverlays&&(this._overlays=this._overlays.filter(function(o){return t.availableOverlays.indexOf(o.identifier)!==-1;})),this._overlays.forEach(function(o){_this253._overlaysByIdentifier[o.identifier]=o;});}_createClass(Mx,[{key:"getOverlays",value:function getOverlays(){return this._overlays;}},{key:"getOverlayByIdentifier",value:function getOverlayByIdentifier(e){return this._overlaysByIdentifier[e];}}]);return Mx;}();});var ua,km,Lx=d(function(){var _pe$Engine$Filters,_km;Ct();(_pe$Engine$Filters=pe.Engine.Filters,ua=_pe$Engine$Filters.OverlayFilter,_pe$Engine$Filters),km=(_km={},_defineProperty(_km,ua.BLEND_MODES.NORMAL,"normal"),_defineProperty(_km,ua.BLEND_MODES.OVERLAY,"overlay"),_defineProperty(_km,ua.BLEND_MODES.HARD_LIGHT,"hard light"),_defineProperty(_km,ua.BLEND_MODES.SOFT_LIGHT,"soft light"),_defineProperty(_km,ua.BLEND_MODES.MULTIPLY,"multiply"),_defineProperty(_km,ua.BLEND_MODES.DARKEN,"darken"),_defineProperty(_km,ua.BLEND_MODES.LIGHTEN,"lighten"),_defineProperty(_km,ua.BLEND_MODES.SCREEN,"screen"),_defineProperty(_km,ua.BLEND_MODES.COLOR_BURN,"color burn"),_km);});var Une,rd,Wk=d(function(){Ct();Fx();OU();Pu();RU();AU();Rx();Nk();Lx();Une=_t.flipObject(km),rd=/*#__PURE__*/function(_td){_inherits(rd,_td);var _super192=_createSuper(rd);function rd(){var _this254;_classCallCheck(this,rd);for(var _len107=arguments.length,e=new Array(_len107),_key107=0;_key107<_len107;_key107++){e[_key107]=arguments[_key107];}_this254=_super192.call.apply(_super192,[this].concat(e));_this254._frameManager=new Bx(_this254._ui,_this254._getOptions("frame"));var t=_this254._getOptions("overlay");t&&(_this254._overlayManager=new Mx(_this254._ui,t));return _this254;}_createClass(rd,[{key:"_deserializeSprite",value:function _deserializeSprite(e,t){return t.type==="frame"?this._deserializeFrame(e,t):t.type==="overlay"?this._deserializeOverlay(e,t):_get(_getPrototypeOf(rd.prototype),"_deserializeSprite",this).call(this,e,t);}},{key:"_deserializeOperation",value:function _deserializeOperation(e){return e.type==="transform"?this._deserializeTransformOperation(e):_get(_getPrototypeOf(rd.prototype),"_deserializeOperation",this).call(this,e);}},{key:"_deserializeOrientationOperation",value:function _deserializeOrientationOperation(e){if(this._data.meta&&this._data.meta.platform!=="html5")return _get(_getPrototypeOf(rd.prototype),"_deserializeOrientationOperation",this).call(this,e);var _e$options=e.options,t=_e$options.rotation,i=_e$options.flipHorizontally,o=_e$options.flipVertically,s=t===90&&!i&&!o;return s|=t===90&&i&&o,s|=t===270&&!i&&!o,s|=t===270&&i&&o,s&&(e.options.flipHorizontally=!e.options.flipHorizontally,e.options.flipVertically=!e.options.flipVertically),_get(_getPrototypeOf(rd.prototype),"_deserializeOrientationOperation",this).call(this,e);}},{key:"_deserializeTransformOperation",value:function _deserializeTransformOperation(e){var _this255=this;return _get(_getPrototypeOf(rd.prototype),"_deserializeCropOperation",this).call(this,e).then(function(t){if(!t)return;var i=_t.Array.find(_this255._data.operations,function(o){return o.type==="orientation";});if(i){var o=i.options,s=o.rotation,n=o.flipHorizontally,a=o.flipVertically;(s===90||s===270)&&(!n&&a||n&&!a)&&(n=!n,a=!a),t.rotate(o.rotation),n&&(t.flip("horizontal"),t.setRotation(t.getRotation()*-1)),a&&(t.flip("vertical"),t.setRotation(t.getRotation()*-1));}return t;});}},{key:"_deserializeFrame",value:function _deserializeFrame(e,t){var _this256=this;var i=t.options.identifier,o=this._frameManager.getFrameByIdentifier(i);if(!o)return oe.warn("Deserializer","Unknown frame `".concat(i,"`. Skipping frame.")),Promise.resolve();var s=new ef(this._ui,o);return s.load().then(function(){_this256._editor.operations.getOrCreate("frame",{frame:s.getFrame()});});}},{key:"_deserializeOverlay",value:function _deserializeOverlay(e,t){var _this257=this;var _t$options=t.options,i=_t$options.blendMode,o=_t$options.intensity,s=_t$options.identifier,n=this._overlayManager.getOverlayByIdentifier(s);if(!n)return oe.warn("Deserializer","Unknown overlay `".concat(s,"`. Skipping overlay.")),Promise.resolve();var a=this._editor.getUI().getAssetPath(n.image);return er.load(a).then(function(l){_this257._editor.operations.getOrCreate("overlay",{alpha:o,identifier:s,blendMode:parseInt(Une[i||n.blendMode],10),image:l});});}},{key:"_createBrushForPath",value:function _createBrushForPath(e){var t=_get(_getPrototypeOf(rd.prototype),"_createBrushForPath",this).call(this,e);return typeof e.hardness!="undefined"&&t.hasOption("hardness")&&t.setHardness(e.hardness),t;}},{key:"_deserializeSticker",value:function _deserializeSticker(e,t){var _this258=this;var i=pe.Operations.SpriteOperation,o=t.options,s=this._stickerManager.getStickerByIdentifier(o.identifier),n=Ll.getURLForSticker(s,"base");if(!s)return oe.warn("Deserializer","Unknown sticker `".concat(o.identifier,"`. Skipping sprite.")),Promise.resolve();var a=e.getInputDimensions(!1);return new Promise(function(l,c){var u=new window.Image();u.addEventListener("load",function(){var p=i.StickerSprite.prototype.availableOptions.adjustments.structure,m=o.rotation,h=o.flipHorizontally,g=o.flipVertically,v={identifier:o.identifier,image:u,position:We.fromObject(o.position),dimensions:We.fromObject(o.dimensions).multiply(a.min()),rotation:m,flipHorizontally:h,flipVertically:g,adjustments:{}};typeof o.adjustments!="undefined"&&["brightness","contrast","saturation"].forEach(function(S){typeof o.adjustments[S]!="undefined"&&(v.adjustments[S]=o.adjustments[S]+p[S]["default"]);}),typeof o.tintColor!="undefined"&&typeof s.tintMode!="undefined"&&(v.tintColor=et.fromArray(o.tintColor),v.tintMode=s.tintMode),l(e.createSticker(v));}),u.crossOrigin=_this258._editor.getCrossOrigin(),u.src=_this258._editor.getUI().getAssetPath(n);});}},{key:"_deserializeFilterOperation",value:function _deserializeFilterOperation(e){var _this259=this;var t=e.options;return this._filterManager.getFilterByIdentifier(t.identifier)?this._filterManager.instantiateFilterWithIdentifier(t.identifier).then(function(i){var o=_this259._editor.operations.getOrCreate("filter");if(!!o)return o.set({identifier:t.identifier,filter:i,intensity:t.intensity}),o;}):(oe.warn("Deserializer","Unknown filter `".concat(t.identifier,"`")),Promise.resolve());}},{key:"_deserializeFocusOperation",value:function _deserializeFocusOperation(e){var _e$options2=e.options,t=_e$options2.options,i=_e$options2.type;if(i!=="radial")return _get(_getPrototypeOf(rd.prototype),"_deserializeFocusOperation",this).call(this,e);var o=this._editor.getImage(),s=o.width/o.height,n=t.start,a=t.end,l=t.gradientRadius,c=t.blurRadius,u=We.fromObject(a).subtract(We.fromObject(n)).multiply(s,1).len();return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:We.fromObject(n),radius:u,gradientRadius:l,blurRadius:c}));}},{key:"_deserializeText",value:function _deserializeText(e,t){var i=t.options,o=i.fontSize,s=i.lineHeight,n=i.fontIdentifier,a=i.alignment,l=i.rotation,c=i.maxWidth,u=i.color,p=i.backgroundColor,m=new Ml(this._ui),h=this._fontManager.getVariationByIdentifier(n);return h?m.setFonts([h.getFont()]):h=this._fontManager.getDefaultFont(),m.load().then(function(){var g=e.getInputDimensions(!1),v=c*g.min()/g.x,S=e.createText({fontSize:o,lineHeight:s,fontFamily:h.getFontFamily(),fontWeight:h.getFontWeight(),fontIdentifier:h.getIdentifier(),alignment:a,rotation:l,maxWidth:v,text:i.text,color:et.fromArray(u),backgroundColor:et.fromArray(p),position:We.fromObject(i.position)});return S._edited=!0,S;});}}]);return rd;}(td);rd.version="2.0.0";});var od,Gk=d(function(){Hk();Lx();od=/*#__PURE__*/function(_id2){_inherits(od,_id2);var _super193=_createSuper(od);function od(){_classCallCheck(this,od);return _super193.apply(this,arguments);}_createClass(od,[{key:"_serializeSticker",value:function _serializeSticker(e,t){var i=e.getInputDimensions(!1),o=_get(_getPrototypeOf(od.prototype),"_serializeSticker",this).call(this,e,t);return t.getTintMode()!=="none"&&(o.options.tintColor=t.serializeOption("tintColor",!0)),o.options.dimensions=t.getDimensions().clone().divide(i.min()).toObject(),o.options.identifier=o.options.name,delete o.options.name,o;}},{key:"_serializePath",value:function _serializePath(e){var t=_get(_getPrototypeOf(od.prototype),"_serializePath",this).call(this,e),i=e.getBrush();return i.hasOption("hardness")&&(t.hardness=i.getOption("hardness")),t;}},{key:"_serializeOperation",value:function _serializeOperation(e,t){return e.constructor.identifier==="frame"?(this._serializeFrameOperation(e,t),null):e.constructor.identifier==="overlay"?(this._serializeOverlayOperation(e,t),null):_get(_getPrototypeOf(od.prototype),"_serializeOperation",this).call(this,e,t);}},{key:"_serializeFrameOperation",value:function _serializeFrameOperation(e,t){var i=t.filter(function(s){return s.type==="sprite";}),o;i.length?o=i.pop():(o={type:"sprite",options:{sprites:[]}},t.push(o)),o.options.sprites.push({type:"frame",options:this._getFrameOptions(e)});}},{key:"_serializeOverlayOperation",value:function _serializeOverlayOperation(e,t){if(!e.getIdentifier())return;var i=t.filter(function(s){return s.type==="sprite";}),o;i.length?o=i.pop():(o={type:"sprite",options:{sprites:[]}},t.push(o)),o.options.sprites.push({type:"overlay",options:{identifier:e.getIdentifier(),intensity:e.getAlpha(),blendMode:km[e.getBlendMode()]}});}},{key:"_getFrameOptions",value:function _getFrameOptions(e){return{identifier:e.getFrame().identifier};}},{key:"_serializeOrientationOperation",value:function _serializeOrientationOperation(e){var t=_get(_getPrototypeOf(od.prototype),"_serializeOrientationOperation",this).call(this,e);return(t.options.rotation===90||t.options.rotation===270)&&(t.options.flipHorizontally=!t.options.flipHorizontally,t.options.flipVertically=!t.options.flipVertically),t;}},{key:"_serializeTransformOperation",value:function _serializeTransformOperation(e){var t=this._editor.operations;if(t.exists("orientation")){e=e.clone();var o=t.get("orientation");e.rotate(-o.getRotation()),o.getFlipVertically()&&(e.flip("vertical"),e.setRotation(e.getRotation()*-1)),o.getFlipHorizontally()&&(e.flip("horizontal"),e.setRotation(e.getRotation()*-1));}var i=_get(_getPrototypeOf(od.prototype),"_serializeTransformOperation",this).call(this,e);return i.type="transform",i;}},{key:"_serializeText",value:function _serializeText(e,t){var i=_get(_getPrototypeOf(od.prototype),"_serializeText",this).call(this,e,t),o=e.getInputDimensions(!1);return i.options.fontIdentifier=t.getFontIdentifier(),i.options.maxWidth=i.options.maxWidth*o.x/o.min(),delete i.options.fontFamily,i;}},{key:"_serializeFilterOperation",value:function _serializeFilterOperation(e){var t=_get(_getPrototypeOf(od.prototype),"_serializeFilterOperation",this).call(this,e);return t?(t.options.identifier=t.options.name,delete t.options.name,t):null;}},{key:"_serializeRadialFocusOperation",value:function _serializeRadialFocusOperation(e){var t=_get(_getPrototypeOf(od.prototype),"_serializeRadialFocusOperation",this).call(this,e),i=t.options.options;return i.start=i.position,delete i.position,i.end={x:i.start.x+i.radius,y:i.start.y},delete i.radius,t;}}]);return od;}(id);od.version="2.0.0";});var PU={};It(PU,{"default":function _default(){return zx;}});var zx,BU=d(function(){Wk();Gk();zx=/*#__PURE__*/function(){function zx(e){_classCallCheck(this,zx);this._editor=e;}_createClass(zx,[{key:"serialize",value:function serialize(){var _od;return(_od=new od(this._editor)).serialize.apply(_od,arguments);}},{key:"deserialize",value:function deserialize(e){return new rd(this._editor,e).deserialize();}}]);return zx;}();zx.version="2.0.0";});var Vk,sd,jk=d(function(){Ct();Pu();Bl();Rx();vm();Wk();typeof pe.Operations.SpriteOperation!="undefined"&&(Vk=pe.Operations.SpriteOperation.BrushSprite.Brush);sd=/*#__PURE__*/function(_rd){_inherits(sd,_rd);var _super194=_createSuper(sd);function sd(){_classCallCheck(this,sd);return _super194.apply(this,arguments);}_createClass(sd,[{key:"_deserializeSticker",value:function _deserializeSticker(e,t){var i=pe.Operations.SpriteOperation,o=t.options,s=this._stickerManager.getStickerByIdentifier(o.identifier);if(!s)return oe.warn("Deserializer","Unknown sticker `".concat(o.identifier,"`. Skipping sprite.")),Promise.resolve();var n=s.images.mediaBase,a=Ll.getURLForSticker(s,"base"),l=n.rawData?n.uris[0]:this._editor.getUI().getAssetPath(a),c=e.getInputDimensions(!1);return er.load(l).then(function(u){var p=i.StickerSprite.prototype.availableOptions.adjustments.structure,m=o.rotation,h=o.flipHorizontally,g=o.flipVertically,v={identifier:o.identifier,image:u,position:We.fromObject(o.position),dimensions:We.fromObject(o.dimensions).multiply(c.min()),rotation:m||0,flipHorizontally:h,flipVertically:g,resizeMode:s.resizeMode||"keepAspect",adjustments:{}};return typeof o.adjustments!="undefined"&&["brightness","contrast","saturation"].forEach(function(S){typeof o.adjustments[S]!="undefined"&&(v.adjustments[S]=o.adjustments[S]+p[S]["default"]);}),typeof o.tintMode!="undefined"&&typeof o.tintColor!="undefined"?(v.tintColor=et.fromArray(o.tintColor.rgba),v.tintMode=o.tintMode):typeof o.tintColor!="undefined"&&typeof s.tintMode!="undefined"&&(v.tintColor=et.fromArray(o.tintColor.rgba),v.tintMode=s.tintMode),typeof o.alpha!="undefined"&&(v.alpha=o.alpha),e.createSticker(v);});}},{key:"_deserializeTransformOperation",value:function _deserializeTransformOperation(e){return _get(_getPrototypeOf(sd.prototype),"_deserializeTransformOperation",this).call(this,e).then(function(t){if(!!t)return t._ratio=null,t;});}},{key:"_deserializeInputImage",value:function _deserializeInputImage(){var _this260=this;var _this$_data$image=this._data.image,e=_this$_data$image.data,t=_this$_data$image.type,i=_this$_data$image.uri;return e&&t&&(i="data:".concat(t,";base64,").concat(e)),i?er.load(i).then(function(o){_this260._editor.setImage(o);}):Promise.resolve();}},{key:"_deserializeAdjustmentsOperation",value:function _deserializeAdjustmentsOperation(e){var t=pe.Operations.AdjustmentsOperation;return _get(_getPrototypeOf(sd.prototype),"_deserializeAdjustmentsOperation",this).call(this,e).then(function(i){if(!i)return null;var o=e.options,s=["gamma","whites","blacks","temperature"],n={};return s.forEach(function(a){if(typeof o[a]=="undefined")return;var _t$prototype$availabl2=t.prototype.availableOptions[a],l=_t$prototype$availabl2.minValue,c=_t$prototype$availabl2.midValue,u=_t$prototype$availabl2.maxValue,p=o[a];p=p<0?c+(c-l)*p:c+(u-c)*p,n[a]=p;}),i.set(n),i;});}},{key:"_deserializeFocusOperation",value:function _deserializeFocusOperation(e){var t=e.options.options;switch(e.options.type){case"radial":return _get(_getPrototypeOf(sd.prototype),"_deserializeFocusOperation",this).call(this,e);case"linear":{var i=t.start,o=t.end,s=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("linear-focus",{controlPoint1:We.fromObject(i),controlPoint2:We.fromObject(o),blurRadius:s}));}case"mirrored":{var _i9=t.start,_o6=t.end,_s4=t.size,n=t.gradientSize,a=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:We.fromObject(_i9),end:We.fromObject(_o6),size:_s4,gradientSize:n,blurRadius:a}));}case"gaussian":{var _i10=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("blur",{blurRadius:_i10}));}}}},{key:"_deserializeText",value:function _deserializeText(e,t){var i=t.options,o=i.fontSize,s=i.lineHeight,n=i.fontIdentifier,a=i.alignment,l=i.rotation,c=i.maxWidth,u=i.color,p=i.backgroundColor,m=this._ui.getFontLoader(),h=this._fontManager.getVariationByIdentifier(n);return h?m.setFonts([h.getFont()]):h=this._fontManager.getDefaultVariation(),m.load().then(function(){var g=e.getInputDimensions(!1),v=c*g.min()/g.x,S=e.createText({fontSize:o,lineHeight:s,fontFamily:h.getFontFamily(),fontWeight:h.getFontWeight(),fontIdentifier:h.getIdentifier(),textMetrics:h.getTextMetrics(),alignment:a,rotation:l,maxWidth:v,text:i.text,color:et.fromArray(u.rgba),backgroundColor:et.fromArray(p.rgba),position:We.fromObject(i.position)});return S._edited=!0,S;});}},{key:"_createBrushForPath",value:function _createBrushForPath(e){var _e$brush=e.brush,t=_e$brush.identifier,i=_e$brush.color,o=_e$brush.size,s=_e$brush.hardness,a={color:et.fromArray(i.rgba),size:o};typeof s!="undefined"&&(a.hardness=s);var l=this._brushManager.getBrushByIdentifier(t);if(l||(l=this._brushManager.getFirstBrush()),l.prototype&&l.prototype instanceof Vk){var p=l;return new p(a);}var c=w({},l);delete c.image;var u=/*#__PURE__*/function(_Vk){_inherits(u,_Vk);var _super195=_createSuper(u);function u(){_classCallCheck(this,u);return _super195.apply(this,arguments);}return u;}(Vk);return u.identifier=l.identifier,new u(w(w({},c),a));}},{key:"_deserializeFrame",value:function _deserializeFrame(e,t){var _this261=this;return _get(_getPrototypeOf(sd.prototype),"_deserializeFrame",this).call(this,e,t).then(function(){var i=_this261._editor.operations.get("frame"),_t$options2=t.options,o=_t$options2.size,s=_t$options2.alpha,n=_t$options2.tintColor,a={};typeof o!="undefined"&&(a.scale=o),typeof s!="undefined"&&(a.alpha=s),typeof n!="undefined"&&(a.tintColor=et.fromArray(n.rgba)),i.set(a);});}},{key:"_deserializeTextDesign",value:function _deserializeTextDesign(e,t){var _this262=this;var i=t.options,o=i.position,s=i.rotation,n=i.flipHorizontally,a=i.flipVertically,l=i.text,c=i.color,u=i.width,p=i.seed,m=i.inverted,h=i.identifier;h===pe.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?h=pe.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:h===pe.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(h=pe.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);var g=new Ao(this._ui,this._getOptions("textdesign")),v=new Gi(this._ui,{fonts:Dt.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),S=e.constructor.TextDesignSprite.AssetManager,_=this._ui.getFontLoader(),I=g.getLayoutByIdentifier(h),E=new I();return _.setFonts(v.getFonts()),S.setFonts(w(w({},S.getFonts()),v.getVariationsByIdentifier())),_.load().then(function(){var O=E.getImagePaths().map(function(V){return{path:V,fullPath:_this262._ui.getAssetPath(V),image:null};});return S.loadImages(O).then(function(){return E.onImagesLoaded(),e.createTextDesign({position:o,rotation:s,flipHorizontally:n,flipVertically:a,text:l,color:et.fromArray(c.rgba),width:u,seed:p,inverted:m,layout:E});});});}}]);return sd;}(rd);sd.version="3.0.0";});var nd,$k=d(function(){Qs();nd=/*#__PURE__*/function(_Fe23){_inherits(nd,_Fe23);var _super196=_createSuper(nd);function nd(){_classCallCheck(this,nd);return _super196.apply(this,arguments);}return nd;}(Fe);nd.prototype.availableOptions={identifier:{type:b.STRING,required:!0},defaultName:{type:b.STRING,required:!0},ratio:{type:b.ALL,required:!1,"default":null},selected:{type:b.BOOLEAN,required:!1},dimensions:{type:b.VECTOR2,required:!1},lockDimensions:{type:b.BOOLEAN,required:!1,"default":null},forceDimensions:{type:b.BOOLEAN,required:!1,"default":null}};});var ad,qk=d(function(){Ct();$k();Gk();ad=/*#__PURE__*/function(_od2){_inherits(ad,_od2);var _super197=_createSuper(ad);function ad(){_classCallCheck(this,ad);return _super197.apply(this,arguments);}_createClass(ad,[{key:"serialize",value:function serialize(){var _this263=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return _get(_getPrototypeOf(ad.prototype),"serialize",this).call(this,e).then(function(t){return t.meta={platform:"html5",version:_this263._editor.getSDK().version,createdAt:_t.ISODateString(new Date())},t.image=t.inputImage,delete t.inputImage,t;});}},{key:"_serializeSticker",value:function _serializeSticker(e,t){var i=_get(_getPrototypeOf(ad.prototype),"_serializeSticker",this).call(this,e,t);return i.options.alpha=t.getAlpha(),i.options.tintColor&&(i.options.tintColor={rgba:i.options.tintColor}),i;}},{key:"_serializeText",value:function _serializeText(e,t){var i=_get(_getPrototypeOf(ad.prototype),"_serializeText",this).call(this,e,t);return i.options.color={rgba:i.options.color},i.options.backgroundColor={rgba:i.options.backgroundColor},i.options.flipHorizontally=!1,i.options.flipVertically=!1,delete i.options.fontWeight,i;}},{key:"_serializePath",value:function _serializePath(e){var t=_get(_getPrototypeOf(ad.prototype),"_serializePath",this).call(this,e);delete t.hardness,delete t.size,delete t.color;var i=e.getBrush();t.brush=i.serializeOptions(["identifier","size","color"],!0),typeof t.brush.identifier=="undefined"&&delete t.brush.identifier,t.brush.color={rgba:t.brush.color};var o=i.getOption("hardness");return o!=="undefined"&&(t.brush.hardness=o),t;}},{key:"_serializeFrameOperation",value:function _serializeFrameOperation(e,t){_get(_getPrototypeOf(ad.prototype),"_serializeFrameOperation",this).call(this,e,t);var i=t.filter(function(s){return s.type==="sprite";}),o;if(i.length){o=i.pop();var s=o.options.sprites.filter(function(l){return l.type==="frame";})[0];e.getTintColor().equals(new et(1,1,1,0))||(s.options.tintColor={rgba:e.serializeOption("tintColor",!0)});var a=e.serializeOptions(["scale","alpha"],!0);s.options=w(w({},s.options),a),s.options.size=s.options.scale,delete s.options.scale;}}},{key:"_serializeTransformOperation",value:function _serializeTransformOperation(e){var t=_get(_getPrototypeOf(ad.prototype),"_serializeTransformOperation",this).call(this,e);if(e._ratio){var i;e._ratio instanceof nd?i=e._ratio.getIdentifier():i=e._ratio.identifier,t.options.meta={identifier:i};}return delete t.options.scale,t;}},{key:"_serializeAdjustmentsOperation",value:function _serializeAdjustmentsOperation(e){var t=_get(_getPrototypeOf(ad.prototype),"_serializeAdjustmentsOperation",this).call(this,e),i=["gamma","whites","blacks","temperature"],o=e.availableOptions,s={};return i.forEach(function(n){var a=o[n],l=e.getOption(n),c=a.minValue,u=a.midValue,p=a.maxValue;s[n]=l<=u?(l-c)/(u-c)-1:(l-u)/(p-u);}),t.options=w(w({},t.options),s),t;}},{key:"_serializeOperation",value:function _serializeOperation(e,t){switch(e.constructor.identifier){case"mirrored-focus":return this._serializeMirroredFocusOperation(e);case"linear-focus":return this._serializeLinearFocusOperation(e);case"blur":return this._serializeBlurOperation(e);default:return _get(_getPrototypeOf(ad.prototype),"_serializeOperation",this).call(this,e,t);}}},{key:"_serializeMirroredFocusOperation",value:function _serializeMirroredFocusOperation(e){return{type:"focus",options:{type:"mirrored",options:e.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}};}},{key:"_serializeLinearFocusOperation",value:function _serializeLinearFocusOperation(e){var t=e.serializeOptions(["controlPoint1","controlPoint2","blurRadius"],!0);return t.start=t.controlPoint1,delete t.controlPoint1,t.end=t.controlPoint2,delete t.controlPoint2,{type:"focus",options:{type:"linear",options:t}};}},{key:"_serializeBlurOperation",value:function _serializeBlurOperation(e){return{type:"focus",options:{type:"gaussian",options:e.serializeOptions(["blurRadius"],!0)}};}}]);return ad;}(od);ad.version="3.0.0";});var MU={};It(MU,{"default":function _default(){return Ux;}});var Ux,LU=d(function(){jk();qk();Ux=/*#__PURE__*/function(){function Ux(e){_classCallCheck(this,Ux);this._editor=e;}_createClass(Ux,[{key:"serialize",value:function serialize(){var _ad;return(_ad=new ad(this._editor)).serialize.apply(_ad,arguments);}},{key:"deserialize",value:function deserialize(e){return new sd(this._editor,e).deserialize();}}]);return Ux;}();Ux.version="3.0.0";});var ld,Kk=d(function(){Ct();Bl();vm();jk();ld=/*#__PURE__*/function(_sd){_inherits(ld,_sd);var _super198=_createSuper(ld);function ld(){_classCallCheck(this,ld);return _super198.apply(this,arguments);}_createClass(ld,[{key:"_deserializeTextDesign",value:function _deserializeTextDesign(e,t){var _this264=this;var i=t.options,o=i.position,s=i.rotation,n=i.flipHorizontally,a=i.flipVertically,l=i.text,c=i.color,u=i.width,p=i.seed,m=i.inverted,h=i.identifier;h===pe.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?h=pe.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:h===pe.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(h=pe.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);var g=new Ao(this._ui,this._getOptions("textdesign")),v=new Gi(this._ui,{fonts:Dt.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),S=e.constructor.TextDesignSprite.AssetManager,_=this._ui.getFontLoader(),I=g.getLayoutByIdentifier(h),E=new I();return _.setFonts(v.getFonts()),S.setFonts(w(w({},S.getFonts()),v.getVariationsByIdentifier())),_.load().then(function(){var O=E.getImagePaths().map(function(V){return{path:V,fullPath:_this264._ui.getAssetPath(V),image:null};});return S.loadImages(O).then(function(){return E.onImagesLoaded(),e.createTextDesign({position:o,rotation:s,flipHorizontally:n,flipVertically:a,text:l,color:et.fromArray(c.rgba),width:u,seed:p,inverted:m,layout:E});});});}}]);return ld;}(sd);ld.version="3.1.0";});var cd,Xk=d(function(){Ct();qk();cd=/*#__PURE__*/function(_ad2){_inherits(cd,_ad2);var _super199=_createSuper(cd);function cd(){_classCallCheck(this,cd);return _super199.apply(this,arguments);}_createClass(cd,[{key:"_serializeTextDesign",value:function _serializeTextDesign(e,t){var i=t.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted"],!0);i.color={rgba:i.color};var o=t.getLayout();return o&&(i.identifier=o.constructor.identifier),{type:"textdesign",options:i};}}]);return cd;}(ad);cd.version="3.1.0";});var zU={};It(zU,{"default":function _default(){return Nx;}});var Nx,UU=d(function(){Kk();Xk();Nx=/*#__PURE__*/function(){function Nx(e){_classCallCheck(this,Nx);this._editor=e;}_createClass(Nx,[{key:"serialize",value:function serialize(){var _cd;return(_cd=new cd(this._editor)).serialize.apply(_cd,arguments);}},{key:"deserialize",value:function deserialize(e){return new ld(this._editor,e).deserialize();}}]);return Nx;}();Nx.version="3.1.0";});var dd,Yk=d(function(){Ct();Bl();vm();Kk();dd=/*#__PURE__*/function(_ld){_inherits(dd,_ld);var _super200=_createSuper(dd);function dd(){_classCallCheck(this,dd);return _super200.apply(this,arguments);}_createClass(dd,[{key:"_deserializeTextDesign",value:function _deserializeTextDesign(e,t){var _this265=this;var i=t.options,o=i.position,s=i.rotation,n=i.flipHorizontally,a=i.flipVertically,l=i.text,c=i.color,u=i.width,p=i.seed,m=i.inverted,h=i.identifier;h===pe.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?h=pe.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:h===pe.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(h=pe.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);var g="padding"in i?i.padding/u:-1,v=new Ao(this._ui,this._getOptions("textdesign")),S=new Gi(this._ui,{fonts:Dt.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),_=e.constructor.TextDesignSprite.AssetManager,I=this._ui.getFontLoader(),E=v.getLayoutByIdentifier(h),O=new E();return I.setFonts(S.getFonts()),_.setFonts(w(w({},_.getFonts()),S.getVariationsByIdentifier())),I.load().then(function(){var V=O.getImagePaths().map(function(F){return{path:F,fullPath:_this265._ui.getAssetPath(F),image:null};});return _.loadImages(V).then(function(){return O.onImagesLoaded(),e.createTextDesign({position:o,rotation:s,flipHorizontally:n,flipVertically:a,text:l,color:et.fromArray(c.rgba),width:u,seed:p,inverted:m,layout:O,padding:g});});});}}]);return dd;}(ld);dd.version="3.2.0";});var ud,Jk=d(function(){Xk();ud=/*#__PURE__*/function(_cd2){_inherits(ud,_cd2);var _super201=_createSuper(ud);function ud(){_classCallCheck(this,ud);return _super201.apply(this,arguments);}_createClass(ud,[{key:"_serializeTextDesign",value:function _serializeTextDesign(e,t){var i=t.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted","padding"],!0);i.color={rgba:i.color};var o=t.getLayout();return o&&(i.identifier=o.constructor.identifier),i.padding*=i.width,{type:"textdesign",options:i};}}]);return ud;}(cd);ud.version="3.2.0";});var NU={};It(NU,{"default":function _default(){return Hx;}});var Hx,HU=d(function(){Yk();Jk();Hx=/*#__PURE__*/function(){function Hx(e){_classCallCheck(this,Hx);this._editor=e;}_createClass(Hx,[{key:"serialize",value:function serialize(){var _ud;return(_ud=new ud(this._editor)).serialize.apply(_ud,arguments);}},{key:"deserialize",value:function deserialize(e){return new dd(this._editor,e).deserialize();}}]);return Hx;}();Hx.version="3.2.0";});var md,Zk=d(function(){Yk();md=/*#__PURE__*/function(_dd){_inherits(md,_dd);var _super202=_createSuper(md);function md(){_classCallCheck(this,md);return _super202.apply(this,arguments);}_createClass(md,[{key:"_deserializeOperation",value:function _deserializeOperation(e){return _get(_getPrototypeOf(md.prototype),"_deserializeOperation",this).call(this,e);}},{key:"_deserializeOrientationOperation",value:function _deserializeOrientationOperation(e){var t=e.options,i=this._editor.operations.getOrCreate("orientation");return i?(i.set(t),Promise.resolve(i)):Promise.resolve();}}]);return md;}(dd);md.version="3.4.0";});var pd,Qk=d(function(){Lx();Jk();pd=/*#__PURE__*/function(_ud2){_inherits(pd,_ud2);var _super203=_createSuper(pd);function pd(){_classCallCheck(this,pd);return _super203.apply(this,arguments);}_createClass(pd,[{key:"_serializeOperation",value:function _serializeOperation(e,t){switch(e.constructor.identifier){case"artfilter":return this._serializeStyle(e);default:return _get(_getPrototypeOf(pd.prototype),"_serializeOperation",this).call(this,e,t);}}},{key:"_serializeOrientationOperation",value:function _serializeOrientationOperation(e){return{type:"orientation",options:e.serializeOptions(["flipVertically","flipHorizontally","rotation"],!0)};}},{key:"_serializeStyle",value:function _serializeStyle(e){var _e$getOptions=e.getOptions(),t=_e$getOptions.identifier,i=_e$getOptions.intensity,o=_e$getOptions.blendMode,_e$getStyleTransferMo=e.getStyleTransferModel().getOptions(),s=_e$getStyleTransferMo.tileEdgeLength,n=_e$getStyleTransferMo.overlappingFactor;return{type:"artFilter",options:{identifier:t,intensity:i,blendMode:km[o],tileEdgeLength:s,overlappingFactor:n}};}}]);return pd;}(ud);pd.version="3.4.0";});var WU={};It(WU,{"default":function _default(){return Wx;}});var Wx,GU=d(function(){Zk();Qk();Wx=/*#__PURE__*/function(){function Wx(e){_classCallCheck(this,Wx);this._editor=e;}_createClass(Wx,[{key:"serialize",value:function serialize(){var _pd;return(_pd=new pd(this._editor)).serialize.apply(_pd,arguments);}},{key:"deserialize",value:function deserialize(e){return new md(this._editor,e).deserialize();}}]);return Wx;}();Wx.version="3.4.0";});var hd,eT=d(function(){Ct();Bl();vm();Zk();hd=/*#__PURE__*/function(_md){_inherits(hd,_md);var _super204=_createSuper(hd);function hd(){_classCallCheck(this,hd);return _super204.apply(this,arguments);}_createClass(hd,[{key:"_deserializeTextDesign",value:function _deserializeTextDesign(e,t){var _this266=this;var i=t.options,o=i.position,s=i.rotation,n=i.flipHorizontally,a=i.flipVertically,l=i.text,c=i.color,u=i.width,p=i.seed,m=i.inverted,h=i.identifier,g="padding"in i?i.padding/u:-1,v=new Ao(this._ui,this._getOptions("textdesign")),S=new Gi(this._ui,{fonts:Dt.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),_=e.constructor.TextDesignSprite.AssetManager,I=this._ui.getFontLoader(),E=v.getLayoutByIdentifier(h),O=new E();return I.setFonts(S.getFonts()),_.setFonts(w(w({},_.getFonts()),S.getVariationsByIdentifier())),I.load().then(function(){var V=O.getImagePaths().map(function(F){return{path:F,fullPath:_this266._ui.getAssetPath(F),image:null};});return _.loadImages(V).then(function(){return O.onImagesLoaded(),e.createTextDesign({position:o,rotation:s,flipHorizontally:n,flipVertically:a,text:l,color:et.fromArray(c.rgba),width:u,seed:p,inverted:m,layout:O,padding:g});});});}}]);return hd;}(md);hd.version="3.5.0";});var fd,tT=d(function(){Qk();fd=/*#__PURE__*/function(_pd2){_inherits(fd,_pd2);var _super205=_createSuper(fd);function fd(){_classCallCheck(this,fd);return _super205.apply(this,arguments);}return fd;}(pd);fd.version="3.5.0";});var VU={};It(VU,{"default":function _default(){return Gx;}});var Gx,jU=d(function(){eT();tT();Gx=/*#__PURE__*/function(){function Gx(e){_classCallCheck(this,Gx);this._editor=e;}_createClass(Gx,[{key:"serialize",value:function serialize(){var _fd;return(_fd=new fd(this._editor)).serialize.apply(_fd,arguments);}},{key:"deserialize",value:function deserialize(e){return new hd(this._editor,e).deserialize();}}]);return Gx;}();Gx.version="3.5.0";});var gd,iT=d(function(){Ct();eT();gd=/*#__PURE__*/function(_hd){_inherits(gd,_hd);var _super206=_createSuper(gd);function gd(){_classCallCheck(this,gd);return _super206.apply(this,arguments);}_createClass(gd,[{key:"_deserializeAdjustmentsOperation",value:function _deserializeAdjustmentsOperation(e){var t=pe.Operations.AdjustmentsOperation;return _get(_getPrototypeOf(gd.prototype),"_deserializeAdjustmentsOperation",this).call(this,e).then(function(i){if(!i)return null;var o=e.options,s="sharpness",n={};if(typeof o[s]=="undefined")return;var _t$prototype$availabl3=t.prototype.availableOptions[s],a=_t$prototype$availabl3.minValue,l=_t$prototype$availabl3.midValue,c=_t$prototype$availabl3.maxValue,u=o[s];return u=u<0?l+(l-a)*u:l+(c-l)*u,n[s]=u,i.set(n),i;});}}]);return gd;}(hd);gd.version="3.6.0";});var bd,rT=d(function(){tT();bd=/*#__PURE__*/function(_fd2){_inherits(bd,_fd2);var _super207=_createSuper(bd);function bd(){_classCallCheck(this,bd);return _super207.apply(this,arguments);}_createClass(bd,[{key:"_serializeAdjustmentsOperation",value:function _serializeAdjustmentsOperation(e){var t=_get(_getPrototypeOf(bd.prototype),"_serializeAdjustmentsOperation",this).call(this,e),i="sharpness",o=e.availableOptions,s={},n=o[i],a=e.getOption(i),l=n.minValue,c=n.midValue,u=n.maxValue;return s[i]=a<=c?(a-l)/(c-l)-1:(a-c)/(u-c),t.options=w(w({},t.options),s),t;}}]);return bd;}(fd);bd.version="3.6.0";});var $U={};It($U,{"default":function _default(){return Vx;}});var Vx,qU=d(function(){iT();rT();Vx=/*#__PURE__*/function(){function Vx(e){_classCallCheck(this,Vx);this._editor=e;}_createClass(Vx,[{key:"serialize",value:function serialize(){var _bd;return(_bd=new bd(this._editor)).serialize.apply(_bd,arguments);}},{key:"deserialize",value:function deserialize(e){return new gd(this._editor,e).deserialize();}}]);return Vx;}();Vx.version="3.6.0";});var _d,oT=d(function(){Qs();iT();_d=/*#__PURE__*/function(_gd){_inherits(_d,_gd);var _super208=_createSuper(_d);function _d(){_classCallCheck(this,_d);return _super208.apply(this,arguments);}_createClass(_d,[{key:"deserialize",value:function deserialize(){var _this267=this;return this._validateVersion().then(function(){return _this267._deserializeAssetLibrary();}).then(function(){return _this267._deserializeInputImage();}).then(function(){return _this267._deserializeOperations();});}},{key:"_deserializeAssetLibrary",value:function _deserializeAssetLibrary(){var _this268=this;return new Promise(function(e,t){var i=_this268._data;if(!i.assetLibrary){e();return;}var o=i.assetLibrary.assets,s=[];for(var n in o){s.push(_this268._deserializeCustomAssets(n,o[n]));}return Promise.all(s).then(function(){e();})["catch"](function(n){console.error(n),t(n);});});}},{key:"_deserializeCustomAssets",value:function _deserializeCustomAssets(e,t){switch(e){case"stickers":return this._deserializeCustomStickerAssets(t);default:return Promise.reject(new Error("Unknown asset type: ".concat(e)));}}},{key:"_deserializeCustomStickerAssets",value:function _deserializeCustomStickerAssets(e){var _this269=this;var t="none",i=this._editor.getOptions().editor;i&&i.controlsOptions&&i.controlsOptions.sticker&&(t=i.controlsOptions.sticker.customStickerTintMode||"none");var o=e.map(function(s){return new Promise(function(n,a){var l=s.identifier,c=s.raster,u=s.svg!==void 0,p="data:".concat(c.type,";base64,").concat(c.data),m=new Sr();m.onload=function(){m=_this269._editor.getSDK().correctExifOrientation(m),m.toDataURL&&(p=m.toDataURL());var g={data:"",width:1,height:1};g=_this269._stickerManager.renderStickerThumbnailFromImage(m);var v={identifier:l,defaultName:s.name||"",tintMode:t,images:{mediaBase:{uris:[p],rawData:!0,isSVG:u,width:m.width,height:m.height},mediaThumb:{uris:[g.data],rawData:!0,width:g.width,height:g.height}}};if(u){var S="data:image/svg+xml;base64,".concat(s.svg.data);v.images.mediaBase.uris.push(S);}n(v);},m.onerror=function(){a(new Error("Invalid base64 data: ".concat(p)));},m.src=p;});});return Promise.all(o).then(function(s){_this269._editor.getDynamicAssetsLibrary().setAssets("sticker",s),_this269._stickerManager.reload();});}}]);return _d;}(gd);_d.version="3.7.0";});var yd,sT=d(function(){rT();yd=/*#__PURE__*/function(_bd2){_inherits(yd,_bd2);var _super209=_createSuper(yd);function yd(){_classCallCheck(this,yd);return _super209.apply(this,arguments);}_createClass(yd,[{key:"serialize",value:function serialize(){var _this270=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return _get(_getPrototypeOf(yd.prototype),"serialize",this).call(this,e).then(function(t){return _this270._serializeAssetLibrary(t).then(function(i){return i;});});}},{key:"_serializeAssetLibrary",value:function _serializeAssetLibrary(e){if(!this._editor.getDynamicAssetsLibrary)return Promise.resolve(e);var t=this._editor.getDynamicAssetsLibrary(),i=this._serializeCustomStickerAssets(e,t);return i.length===0||(e.assetLibrary={assets:{stickers:i}}),Promise.resolve(e);}},{key:"_serializeCustomStickerAssets",value:function _serializeCustomStickerAssets(e,t){var i=t.getAssets("sticker");if(i.length===0)return[];var o=e.operations.filter(function(a){return a.type==="sprite";}).flatMap(function(a){return a.options.sprites;}).filter(function(a){return a.type==="sticker";}).map(function(a){return a.options.identifier;}),s={};return o.forEach(function(a){s[a]=!0;}),i.filter(function(a){return s[a.identifier];}).map(function(a){var l=a.identifier,c=a.defaultName,u=a.images,p=u.mediaBase.uris[0],m=u.mediaBase.isSVG,g=/^data:(image\/(jpeg|png));base64,(.*)$/g.exec(p),v=g[1],S=g[3],_={identifier:l,name:c,raster:{type:v,data:S}};return c&&(_.name=c),m&&(_.svg={data:u.mediaBase.uris[1].replace(/^data:image\/svg\+xml;base64,/g,"")}),_;});}}]);return yd;}(bd);yd.version="3.7.0";});var KU={};It(KU,{"default":function _default(){return jx;}});var jx,XU=d(function(){oT();sT();jx=/*#__PURE__*/function(){function jx(e){_classCallCheck(this,jx);this._editor=e;}_createClass(jx,[{key:"serialize",value:function serialize(){var _yd;return(_yd=new yd(this._editor)).serialize.apply(_yd,arguments);}},{key:"deserialize",value:function deserialize(e){return new _d(this._editor,e).deserialize();}}]);return jx;}();jx.version="3.7.0";});var xd,nT=d(function(){oT();xd=/*#__PURE__*/function(_d2){_inherits(xd,_d2);var _super210=_createSuper(xd);function xd(){_classCallCheck(this,xd);return _super210.apply(this,arguments);}return xd;}(_d);xd.version="3.8.0";});var vd,aT=d(function(){sT();vd=/*#__PURE__*/function(_yd2){_inherits(vd,_yd2);var _super211=_createSuper(vd);function vd(){_classCallCheck(this,vd);return _super211.apply(this,arguments);}_createClass(vd,[{key:"_serializeSticker",value:function _serializeSticker(e,t){var i=_get(_getPrototypeOf(vd.prototype),"_serializeSticker",this).call(this,e,t);return i.options.tintMode=t.getTintMode(),i;}}]);return vd;}(yd);vd.version="3.8.0";});var YU={};It(YU,{"default":function _default(){return $x;}});var $x,JU=d(function(){nT();aT();$x=/*#__PURE__*/function(){function $x(e){_classCallCheck(this,$x);this._editor=e;}_createClass($x,[{key:"serialize",value:function serialize(){var _vd;return(_vd=new vd(this._editor)).serialize.apply(_vd,arguments);}},{key:"deserialize",value:function deserialize(e){return new xd(this._editor,e).deserialize();}}]);return $x;}();$x.version="3.8.0";});var tf,ZU=d(function(){Ct();nT();tf=/*#__PURE__*/function(_xd){_inherits(tf,_xd);var _super212=_createSuper(tf);function tf(){_classCallCheck(this,tf);return _super212.apply(this,arguments);}_createClass(tf,[{key:"_deserializeTransformOperation",value:function _deserializeTransformOperation(e){var _this271=this;return _get(_getPrototypeOf(tf.prototype),"_deserializeCropOperation",this).call(this,e).then(function(t){if(!t)return;var i=_t.Array.find(_this271._data.operations,function(o){return o.type==="orientation";});if(i){var o=i.options;t.rotate(o.rotation),o.flipHorizontally&&(t.flip("horizontal"),t.setRotation(t.getRotation()*-1)),o.flipVertically&&(t.flip("vertical"),t.setRotation(t.getRotation()*-1));}return t._ratio=null,t;});}},{key:"_deserializeText",value:function _deserializeText(e,t){var i=t.options,o=i.fontSize,s=i.lineHeight,n=i.fontIdentifier,a=i.alignment,l=i.rotation,c=i.maxWidth,u=i.color,p=i.backgroundColor,m=this._ui.getFontLoader(),h=this._fontManager.getVariationByIdentifier(n);return h?m.setFonts([h.getFont()]):h=this._fontManager.getDefaultVariation(),m.load().then(function(){var g=e.getInputDimensions(!1),v=g.min(),S=g.x,_=g.y,I=c*v/S,E=o*v/_,O=e.createText({fontSize:E,lineHeight:s,fontFamily:h.getFontFamily(),fontWeight:h.getFontWeight(),fontIdentifier:h.getIdentifier(),textMetrics:h.getTextMetrics(),alignment:a,rotation:l,maxWidth:I,text:i.text,color:et.fromArray(u.rgba),backgroundColor:et.fromArray(p.rgba),position:We.fromObject(i.position)});return O._edited=!0,O;});}}]);return tf;}(xd);tf.version="3.9.0";});var QU,rf,e7=d(function(){$k();aT();QU=Math.PI*2,rf=/*#__PURE__*/function(_vd2){_inherits(rf,_vd2);var _super213=_createSuper(rf);function rf(){_classCallCheck(this,rf);return _super213.apply(this,arguments);}_createClass(rf,[{key:"_serializeTransformOperation",value:function _serializeTransformOperation(e){var t=this._editor.operations;if(t.exists("orientation")){e=e.clone();var s=t.get("orientation");s.getFlipVertically()&&(e.flip("vertical"),e.setRotation(e.getRotation()*-1)),s.getFlipHorizontally()&&(e.flip("horizontal"),e.setRotation(e.getRotation()*-1)),e.rotate(-s.getRotation());}var i=e.serializeOptions(["start","end","rotation","textureScale"],!0);i.rotation=(i.rotation+QU)%QU,i.textureScale!==1&&(i.dimensions=e.getNewDimensions(e.getInputDimensions(!1))),delete i.textureScale;var o={type:"transform",options:i};if(e._ratio){var _s5;e._ratio instanceof nd?_s5=e._ratio.getIdentifier():_s5=e._ratio.identifier,o.options.meta={identifier:_s5};}return delete o.options.scale,o;}},{key:"_serializeText",value:function _serializeText(e,t){var i=e.getInputDimensions(!1),o=_get(_getPrototypeOf(rf.prototype),"_serializeText",this).call(this,e,t);return o.options.fontSize=o.options.fontSize*i.y/i.min(),o;}}]);return rf;}(vd);rf.version="3.9.0";});var t7={};It(t7,{"default":function _default(){return qx;}});var qx,i7=d(function(){ZU();e7();qx=/*#__PURE__*/function(){function qx(e){_classCallCheck(this,qx);this._editor=e;}_createClass(qx,[{key:"serialize",value:function serialize(){var _rf;return(_rf=new rf(this._editor)).serialize.apply(_rf,arguments);}},{key:"deserialize",value:function deserialize(e){return new tf(this._editor,e).deserialize();}}]);return qx;}();qx.version="3.9.0";});var r7,o7,s7=d(function(){Pk();pU();Bl();Ct();hU();fU();r7=/*#__PURE__*/function(_Jh){_inherits(r7,_Jh);var _super214=_createSuper(r7);function r7(e,t,i){var _this272;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;_classCallCheck(this,r7);_this272=_super214.call(this);_this272._ui=e,_this272._options=t,_this272._mediator=i,_this272._shallow=o,o||(_this272._initSDK(),_this272.operations=new kx(_assertThisInitialized(_this272),_this272._sdk,_this272._mediator));return _this272;}_createClass(r7,[{key:"_initFonts",value:function _initFonts(){var e=_t.defaults(this._options.editor.controlsOptions.text,{additionalFonts:[],replaceFonts:!1,availableVariations:null});this._fontManager=new Gi(this._ui,e);var t=this._fontManager.getFonts(),i=this._ui.getFontLoader();i.setFonts(t),i.load();}},{key:"setImage",value:function setImage(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.editor.image;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;t&&this.reset();var i=null;i=this._sdk.parseExif(e),this._setImage(e,i);}},{key:"_initSDK",value:function _initSDK(){var _this$_options42=this._options,e=_this$_options42.logLevel,t=_this$_options42.displayWelcomeMessage,i=_this$_options42.debug,o=_this$_options42.license,s=_this$_options42.crossOrigin,n=_this$_options42.watermark,_this$_options$editor=this._options.editor,a=_this$_options$editor.smoothDownscaling,l=_this$_options$editor.smoothUpscaling,c=_this$_options$editor.preferredRenderer,u=_this$_options$editor.pixelRatio,p=_this$_options$editor.transparent,m=_this$_options$editor.clearColor,h;Array.isArray(m)?h=et.fromArray(m):typeof m=="string"?h=et.fromHex(m):m instanceof et&&(h=m.clone());var g={logLevel:e,debug:i,displayWelcomeMessage:t,pixelRatio:u,smoothDownscaling:a,smoothUpscaling:l,transparent:p,crossOrigin:s,clearColor:h,license:o,watermark:n};this._sdk=new pe(c,g);}},{key:"getMaxMegapixels",value:function getMaxMegapixels(){var e=this._options.editor.maxMegaPixels;return e;}},{key:"getCrossOrigin",value:function getCrossOrigin(){return _t.getCrossOriginValue(this._options.crossOrigin||"anonymous");}},{key:"getOutputDimensions",value:function getOutputDimensions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return this._sdk.getOutputDimensions(e);}},{key:"getOutputTextureDimensions",value:function getOutputTextureDimensions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return this._sdk.getOutputTextureDimensions(e);}},{key:"getFinalDimensions",value:function getFinalDimensions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return this._sdk.getFinalDimensions(e);}},{key:"_setImage",value:function _setImage(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.editor.image;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this._sdk.setAllOperationsToDirty(),this._options.editor.image=e,this._sdk.setImage(e,t);}},{key:"_ensureImageIsResized",value:function _ensureImageIsResized(){var _this273=this;var e=this._sdk.getImage(),t=this._sdk.getRenderer(),i=this.getMaxMegapixels(),o=i?i*1e6:null,s=t.getMaxDimensions(),n=new Tx(e,o,s);return!this._resizedImage&&n.needsResize()?n.resize().then(function(_ref100){var a=_ref100.canvas,l=_ref100.dimensions,c=_ref100.reason;return _this273._resizedImage=a,_this273._sdk.setImage(a),a;}):Promise.resolve(e);}},{key:"export",value:function _export(){var _this274=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return this._watermarkOperation&&this._watermarkOperation.setEnabled(!1),this._sdk.setAllOperationsToDirty(),this._ensureImageIsResized().then(function(t){var i=_this274._options.editor["export"];return new wx(_this274._sdk,i,e)["export"]().then(function(s){return _this274.emit("export",s),_this274._mediator.emit(Dt.EVENTS.EXPORT,s,_this274),_this274._watermarkOperation&&(_this274._watermarkOperation.setEnabled(!0),_this274._sdk.render()),_this274._sdk.setAllOperationsToDirty(),s;});});}},{key:"broadcastTransform",value:function broadcastTransform(e,t){var _this275=this;var i=new pe.Operations.TransformOperation.TransformChange(e,t);["sprite","selective-blur","radial-focus","mirrored-focus","linear-focus","blur"].forEach(function(s){var n=_this275.operations.get(s);!n||n.transform(i);});}},{key:"broadcastFlip",value:function broadcastFlip(e){var _this276=this;["mirrored-focus","radial-focus","linear-focus","sprite","selective-blur"].forEach(function(i){var o=_this276.operations.get(i);!o||o.flip(e);});}},{key:"broadcastRotate",value:function broadcastRotate(e){var _this277=this;["transform","mirrored-focus","linear-focus","radial-focus","sprite","selective-blur"].forEach(function(i){var o=_this277.operations.get(i);!o||o.rotate(e);});}},{key:"_initSerializers",value:function _initSerializers(){this._serializers={"1.0.0":(DU(),TU)["default"],"1.0.1":(FU(),IU)["default"],"2.0.0":(BU(),PU)["default"],"3.0.0":(LU(),MU)["default"],"3.1.0":(UU(),zU)["default"],"3.2.0":(HU(),NU)["default"],"3.4.0":(GU(),WU)["default"],"3.5.0":(jU(),VU)["default"],"3.6.0":(qU(),$U)["default"],"3.7.0":(XU(),KU)["default"],"3.8.0":(JU(),YU)["default"],"3.9.0":(i7(),t7)["default"]};}},{key:"serialize",value:function serialize(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"3.9.0";var i=this._serializers[t];return i?new i(this).serialize(e):Promise.reject(new Error("No serializer for version ".concat(t," found.")));}},{key:"deserialize",value:function deserialize(e){var t=this._serializers[e.version];return t?new t(this).deserialize(e):Promise.reject(new Error("No serializer for version ".concat(e.version," found.")));}},{key:"save",value:function save(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this._options.editor.save;return this.serialize({image:t}).then(function(o){var s=JSON.stringify(o,null,2);if(e){var n="data:text/json;charset=utf-8;base64,".concat(window.encodeURI(window.btoa(s)));Zc.downloadDataURL(n,i.fileBasename);}return s;});}},{key:"reset",value:function reset(){this._sdk.reset(),this.operations.reset();}},{key:"dispose",value:function dispose(){this.stop(),this._sdk.dispose();}},{key:"getRenderer",value:function getRenderer(){return this._sdk.getRenderer();}},{key:"getSDK",value:function getSDK(){return this._sdk;}},{key:"getInputDimensions",value:function getInputDimensions(){return this._sdk.getInputDimensions();}},{key:"getImage",value:function getImage(){return this._sdk.getImage();}},{key:"getOptions",value:function getOptions(){return this._options;}},{key:"getUI",value:function getUI(){return this._ui;}},{key:"getMediator",value:function getMediator(){return this._mediator;}}]);return r7;}(Jh),o7=r7;});var ma,n7=d(function(){Ct();Lu();Rk();Bl();vm();s7();Fx();ma=/*#__PURE__*/function(_Jh2){_inherits(ma,_Jh2);var _super215=_createSuper(ma);function ma(){var _this278;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,ma);_this278=_super215.call(this);_this278._mediator=new Jh(),_this278._fontLoader=new Ml(_assertThisInitialized(_this278)),_this278._options=e,_this278._initOptions(),_this278._initEvents(),_this278._disposed=!1,_this278._isReady=!1,_this278._editor=new o7(_assertThisInitialized(_this278),_this278._options,_this278._mediator),_this278._options.editor.image&&_this278._editor.setImage(_this278._options.editor.image),_this278._mediator.once(Dt.EVENTS.EDITOR_READY,function(){_this278._isReady=!0;}),oe.setLevel(_this278._options.logLevel);return _this278;}_createClass(ma,[{key:"export",value:function _export(){var _this$_editor;return(_this$_editor=this._editor)["export"].apply(_this$_editor,arguments);}},{key:"serialize",value:function serialize(){var _this$_editor2;return(_this$_editor2=this._editor).serialize.apply(_this$_editor2,arguments);}},{key:"deserialize",value:function deserialize(e){return this._editor.deserialize(e);}},{key:"getEditor",value:function getEditor(){return this._editor;}},{key:"isReady",value:function isReady(){return this._isReady;}},{key:"onReady",value:function onReady(e){this._isReady?e():this._mediator.once(Dt.EVENTS.EDITOR_READY,e);}},{key:"createFilter",value:function createFilter(e){return new Yc(this,this._getOptions("filter")).instantiateFilterWithIdentifier(e);}},{key:"getTextDesignLayoutByID",value:function getTextDesignLayoutByID(e){var t=new Ao(this,this._getOptions("textDesign"));return new(t.getLayoutByIdentifier(e))();}},{key:"getTextDesignAssetManager",value:function getTextDesignAssetManager(){return pe.Operations.SpriteOperation.TextDesignSprite.AssetManager;}},{key:"getTextDesignFontManager",value:function getTextDesignFontManager(){return new Gi(this,{fonts:Dt.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0,isTextDesign:!0});}},{key:"_getOptions",value:function _getOptions(e){var t=this.getEditor(),i=t.controls,o={};i&&i.get(e)&&(o=i.get(e).defaultOptions);var s=t.getOptions();return _t.deepDefaults({},s.editor.controlsOptions[e]||{},o);}},{key:"_initOptions",value:function _initOptions(){if(this._options=_t.defaults(this._options,{language:"en",logLevel:"warn",crossOrigin:"anonymous",editor:{},assets:{},responsive:!1,preloader:!0,autoRun:!0}),this._options.editor=_t.defaults(this._options.editor||{},{enableZoom:!0,enableDrag:!0,enableExport:!0,enableKeyboardControls:!0,enablePositionSnapping:!0,enableRotationSnapping:!0,enableSave:!1,enableLoad:!1,pixelRatio:Math.max(typeof window!="undefined"&&window.devicePixelRatio||1,1),preferredRenderer:"webgl",transparent:!0,clearColor:[0,0,0,0],displayResizeMessage:!0,maxMegaPixels:{},displayCloseButton:!1,undoMode:"global",defaultControl:"filter",forceCrop:!1,snappingOptions:{},tools:["transform","filter","adjustments","focus","text","textdesign","sticker","brush","frame","overlay","library","artfilter"],controlsOrder:[["library"],["artfilter","transform","filter","adjustments","focus"],["text","textdesign","sticker","brush","frame","overlay"]],operationsOrder:["exif-orientation","artfilter","orientation","transform","filter","adjustments","radial-focus","mirrored-focus","linear-focus","blur","selective-blur","overlay","sprite","frame"],controlsOptions:{focus:{highQualityCanvasBlur:!1}}}),this._options.editor.snappingOptions=_t.defaults(this._options.editor.snappingOptions,{position:{},rotation:{}}),this._options.editor.snappingOptions.position=_t.defaults(this._options.editor.snappingOptions.position,{padding:{},threshold:20}),this._options.editor.snappingOptions.position.padding=_t.defaults(this._options.editor.snappingOptions.position.padding,{left:.1,right:.1,top:.1,bottom:.1}),this._options.editor.snappingOptions.rotation=_t.defaults(this._options.editor.snappingOptions.rotation,{angles:[0,45,90,135,180,225,270,315],threshold:20}),this._options.editor.controlsOptions.focus=_t.defaults(this._options.editor.controlsOptions.focus,{highQualityCanvasBlur:!1}),this._options.editor.maxMegaPixels=_t.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10}),this._options.editor["export"]=_t.defaults(this._options.editor["export"]||{},{format:"image/png",type:Pl.IMAGE,download:!0,fileBasename:"photoeditorsdk-export",quality:.8}),this._options.editor.save=_t.defaults(this._options.editor.save||{},{format:"text/json",download:!0,fileBasename:"photoeditorsdk-save"}),this._options.extensions=_t.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]}),this._options.assets=_t.defaults(this._options.assets||{},{baseUrl:"assets",resolver:null}),!(this._options.editor.image instanceof window.Image)){var e=new window.Image();this._options.editor.image&&(e.src=this._options.editor.image,this._options.editor.image=e);}}},{key:"_initEvents",value:function _initEvents(){this._mediator.pipeEvents(this);}},{key:"_disposeEvents",value:function _disposeEvents(){this._mediator.unpipeEvents(this);}},{key:"setImage",value:function setImage(e){this._editor.setImage(e);}},{key:"getAssetPath",value:function getAssetPath(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var _this$_options$assets=this._options.assets,o=_this$_options$assets.baseUrl,s=_this$_options$assets.resolver,n="".concat(o,"/").concat(e);s=s||function(u){return u;},e.match(/(ftp|http|https):\/\//)&&(n=e);var a=e.replace(/assets\//,"").split("/"),l=a[0],c={};switch(l){case"art-filters":return c={identifier:a[1],type:a[2].split(".")[0]},s("art-filter",c);case"filters":return c={identifier:a[1].replace(/\.png$/g,"")},s("filter",c);case"fonts":return c={identifier:a[1].replace(/\.(woff|otf|ttf)$/g,"")},s("font",c);case"frames":return c={identifier:a[1],filename:a[2]},s("frame",c);case"overlays":return c={identifier:a[1].replace(/\.(png|jpg|jpeg)$/g,"")},s("overlay",c);case"stickers":{var u=a[3].endsWith(".svg"),p=a[3]==="thumbs";return c={category:a[1],identifier:(u?a[3]:a[4]).replace(/\.(png|svg)$/g,""),variant:u?"svg":p?"thumb":"base"},s("sticker",c);}case"text-design":return c={type:a[1]==="fonts"?"font":"image",identifier:a[2].replace(/\.(png|otf|ttf|woff2?)$/g,"")},s("text-design",c);}return typeof s!="undefined"&&s!==null&&(n=s(n)),n;}},{key:"getFontLoader",value:function getFontLoader(){return this._fontLoader;}},{key:"dispose",value:function dispose(){if(this._disposed)throw new Error("This instance of PhotoEditorSDK is already disposed.");this._disposed=!0,this._disposeEvents();}},{key:"render",value:function render(e){var _this279=this;return this.deserialize(e).then(function(){return _this279["export"]();});}}]);return ma;}(Jh);ma.prototype.identifier="engine-wrapper";ma.Constants=Dt;ma.Events=Dt.EVENTS;ma.Utils=ar;ma.JSONLoader=ko;ma.SDK=pe;});var of=d(function(){n7();});var ge={};It(ge,{absoluteToRelativePoint:function absoluteToRelativePoint(){return qne;},absoluteToRelativeSize:function absoluteToRelativeSize(){return jne;},getBaseLocalToWorldMatrix:function getBaseLocalToWorldMatrix(){return Kx;},getLocalToParentMatrix:function getLocalToParentMatrix(){return l7;},getLocalToWorldMatrix:function getLocalToWorldMatrix(){return Tm;},getPointInWorldSpace:function getPointInWorldSpace(){return dT;},getRotationBetweenCoordinateSpaces:function getRotationBetweenCoordinateSpaces(){return Kne;},getScalarInWorldSpace:function getScalarInWorldSpace(){return Wne;},getSizeInOutputSpace:function getSizeInOutputSpace(){return Gne;},getSizeInWorldSpace:function getSizeInWorldSpace(){return c7;},pointFromSpaceToSpace:function pointFromSpaceToSpace(){return sf;},rectTransformToAffineTransform:function rectTransformToAffineTransform(){return lT;},relativeToAbsolutePoint:function relativeToAbsolutePoint(){return $ne;},relativeToAbsoluteSize:function relativeToAbsoluteSize(){return Vne;},scalarFromSpaceToSpace:function scalarFromSpaceToSpace(){return cT;},sizeFromSpaceToSpace:function sizeFromSpaceToSpace(){return Hne;}});function a7(r){return r.x!==void 0;}function lT(r){return Me.fromTRS(r.position.x,r.position.y,r.rotation,r.scale.x,r.scale.y);}function Nne(r){return r.getBaseLocalToParentMatrix?r.getBaseLocalToParentMatrix():lT(r.getTransform());}function Kx(r){var e=r.getParent(),t=Nne(r);if(e===void 0)return t;var i=Kx(e);return Me.multiply(i,t);}function l7(r){return r.getLocalToParentMatrix?r.getLocalToParentMatrix():lT(r.getTransform());}function Tm(r){var e=r.getParent(),t=l7(r);if(e===void 0)return t;var i=Tm(e);return Me.multiply(i,t);}function sf(r,e,t){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var o=e.type==="output"&&i?Kx(e):Tm(e),s=t.type==="output"&&i?Kx(t):Tm(t),n=Me.getInverted(s);return Me.transformPoint(n,Me.transformPoint(o,r));}function cT(r,e,t){var i=new B(r,0),o=new B(sf(i,e,t)),s=new B(sf(B.ZERO,e,t));return B.distance(s,o);}function Hne(r,e,t){var i=a7(r)?r.x:r.width,o=a7(r)?r.y:r.height,s=cT(i,e,t),n=cT(o,e,t);return{width:s,height:n};}function dT(r,e){var t=Tm(e);return Me.transformPoint(t,r);}function Wne(r,e){var t=new B(r,0),i=new B(dT(t,e)),o=new B(dT(B.ZERO,e));return B.distance(i,o);}function c7(r){var e=Tm(r),t=r.getBounds(),i={x:t.width,y:0},o={x:0,y:t.height},s=new B(Me.transformPoint(e,B.ZERO)),n=new B(Me.transformPoint(e,i)),a=new B(Me.transformPoint(e,o)),l=B.distance(s,n),c=B.distance(s,a);return{width:l,height:c};}function Gne(r,e){var t=c7(r),i=e.getTransform().scale,o={x:1/i.x,y:1/i.y};return{width:t.width*o.x,height:t.height*o.y};}function Vne(r,e){var t=e.getBounds();return{width:r.width*t.width,height:r.height*t.height};}function jne(r,e){var t=e.getBounds();return{width:r.width/t.width,height:r.height/t.height};}function $ne(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var i=e.getBounds();return{x:r.x*i.width+(t?0:i.minX),y:r.y*i.height+(t?0:i.minY)};}function qne(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var i=e.getBounds();return{x:(r.x-(t?0:i.minX))/i.width,y:(r.y-(t?0:i.minY))/i.height};}function Kne(r,e){var i=sf({x:1,y:0},r,e,!0),o=sf(B.ZERO,r,e,!0);return Math.atan2(i.y-o.y,i.x-o.x);}var d7=d(function(){$();});function Xx(r){return typeof r!="string"&&!Array.isArray(r)&&r.a===void 0;}function Yx(r){return typeof r!="string"&&Array.isArray(r)&&r.length===3;}function Jx(r){return typeof r!="string"&&!Array.isArray(r)&&r.a!==void 0;}function Zx(r){return typeof r!="string"&&Array.isArray(r)&&r.length===4;}function u7(r){return typeof r=="string";}var uT=d(function(){});var pa,m7=d(function(){(function(i){i.BEGAN_IMAGE_DOWNSCALING="beganImageDownscaling",i.IMAGE_DOWNSCALED="imageDownscaled",i.WEBGL_CONTEXT_LOST="context-lost";})(pa||(pa={}));});var mT,p7=d(function(){$();mT=/*#__PURE__*/function(){function mT(e,t){_classCallCheck(this,mT);this.engine=t;this.transform=_ft.IDENTITY;this.canvasPivot={x:0,y:0};this.previewQuality=1;this.canvas=e;}_createClass(mT,[{key:"quality",get:function get(){return this.previewQuality;}},{key:"setQuality",value:function setQuality(e){this.previewQuality=Math.min(Math.max(e,.01),1);}},{key:"getTransform",value:function getTransform(){return this.transform;}},{key:"setTransform",value:function setTransform(e){this.transform=e;}},{key:"getPosition",value:function getPosition(){return this.transform.position;}},{key:"setPosition",value:function setPosition(e,t){var i;typeof e=="number"?i={x:e,y:t===void 0?e:t}:i=e;var o=this.transform.scale,s=this.transform.rotation;this.setTransform(new _ft(i,o,s));}},{key:"getScale",value:function getScale(){return this.transform.scale;}},{key:"setScale",value:function setScale(e,t){var i;typeof e!="number"?i=e:i={x:e,y:t===void 0?e:t};var o=this.transform.position,s=this.transform.rotation;this.setTransform(new _ft(o,i,s));}},{key:"getRotation",value:function getRotation(){return this.transform.rotation;}},{key:"setRotation",value:function setRotation(e){var t=this.transform.position,i=this.transform.scale;this.setTransform(new _ft(t,i,e));}},{key:"getCanvasPivot",value:function getCanvasPivot(){return this.canvasPivot;}},{key:"setCanvasPivot",value:function setCanvasPivot(e,t){typeof e=="number"?this.canvasPivot={x:e,y:_typeof(t)===void 0?e:t}:this.canvasPivot=e;}},{key:"getCanvasBounds",value:function getCanvasBounds(){var e=this.canvasPivot,_this$canvas=this.canvas,t=_this$canvas.width,i=_this$canvas.height;return new si(-e.x*t,-e.y*i,t,i);}}]);return mT;}();});function Qx(r){return r.getTransform!==void 0;}function h7(r){return r.getContainer!==void 0;}var f7=d(function(){});var g7=d(function(){});var b7=d(function(){});var _7=d(function(){});var y7=d(function(){});var x7=d(function(){});var v7=d(function(){});var C7=d(function(){});var S7=d(function(){});var w7=d(function(){});var k7=d(function(){});var T7=d(function(){});var D7=d(function(){});var E7=d(function(){});var I7=d(function(){});var F7=d(function(){});var O7=d(function(){});var pT=d(function(){d7();H();uT();m7();p7();f7();g7();b7();_7();y7();x7();v7();C7();S7();w7();k7();T7();D7();E7();I7();F7();O7();});var hT,R7=d(function(){$();pT();hT=/*#__PURE__*/function(_Ur2){_inherits(hT,_Ur2);var _super216=_createSuper(hT);function hT(e){var _this280;_classCallCheck(this,hT);_this280=_super216.call(this);_this280.config=e;return _this280;}_createClass(hT,[{key:"getOutputDimensions",value:function getOutputDimensions(){var e=this.getOutputContainer();return e?e.getResolution():{width:0,height:0};}},{key:"getSmallerOutputSide",value:function getSmallerOutputSide(){var e=this.getOutputContainer();if(!e)return 0;var t=e.getResolution();return Math.min(t.width,t.height);}},{key:"convertPointFromPreviewIntoOutputSpace",value:function convertPointFromPreviewIntoOutputSpace(e,t){var i=Me.getInverted(ge.rectTransformToAffineTransform(t));return Me.transformPoint(i,e);}},{key:"convertPointFromPreviewIntoWorldSpace",value:function convertPointFromPreviewIntoWorldSpace(e,t,i){var o=Me.getInverted(ge.rectTransformToAffineTransform(t)),s=i?this.getOutputContainer().getBaseLocalToParentMatrix():this.getOutputContainer().getLocalToParentMatrix(),n=Me.multiply(s,o);return Me.transformPoint(n,e);}},{key:"convertPointFromPreviewIntoFlippedPreviewSpace",value:function convertPointFromPreviewIntoFlippedPreviewSpace(e){var t=this.getOutputContainer().getFlipTransformMatrix();return Me.transformPoint(t,e);}},{key:"convertPointFromWorldIntoPreviewSpace",value:function convertPointFromWorldIntoPreviewSpace(e,t){var i=ge.rectTransformToAffineTransform(t),o=Me.getInverted(this.getOutputContainer().getLocalToParentMatrix()),s=Me.multiply(i,o);return Me.transformPoint(s,e);}},{key:"convertPointFromOutputIntoPreviewSpace",value:function convertPointFromOutputIntoPreviewSpace(e,t){var i=ge.rectTransformToAffineTransform(t);return Me.transformPoint(i,e);}},{key:"getContainersAtPreviewPoint",value:function getContainersAtPreviewPoint(e,t){var i=new Array(),o=this.convertPointFromPreviewIntoWorldSpace(e,t),s=this.getRootContainers();var _iterator9=_createForOfIteratorHelper(s),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var n=_step9.value;this.accumulateContainersAtWorldPointInHierarchy(o,n,i);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}return i;}},{key:"isPreviewPointInContainer",value:function isPreviewPointInContainer(e,t,i){var o=this.convertPointFromPreviewIntoWorldSpace(e,i);return this.isWorldPointInContainer(o,t);}},{key:"isWorldPointInContainer",value:function isWorldPointInContainer(e,t){var i=ge.getLocalToWorldMatrix(t),o=Me.getInverted(i),s=Me.transformPoint(o,e);return si.contains(t.getBounds(),s);}},{key:"accumulateContainersAtWorldPointInHierarchy",value:function accumulateContainersAtWorldPointInHierarchy(e,t,i){this.isWorldPointInContainer(e,t)&&i.push(t);var o=t.getChildren();var _iterator10=_createForOfIteratorHelper(o),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var s=_step10.value;Qx(s)&&this.accumulateContainersAtWorldPointInHierarchy(e,s,i);}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}}}]);return hT;}(Ur);});var Ir=d(function(){pT();R7();});var _i,ns=d(function(){$();_i=/*#__PURE__*/function(){function _i(e){_classCallCheck(this,_i);this.engine=e;this.id=ot();}_createClass(_i,[{key:"getID",value:function getID(){return this.id;}},{key:"getContainer",value:function getContainer(){return this.engine.getRootContainers()[0];}},{key:"getIndexInParent",value:function getIndexInParent(){var e=this.engine.rootOperations;for(var t=0;t<e.length;t+=1){if(e[t].getID()===this.id)return t;}return-1;}},{key:"setIndexInParent",value:function setIndexInParent(e){this.engine.moveIndex(this,e);}},{key:"isValid",value:function isValid(){return this.getIndexInParent()!==-1;}}]);return _i;}();});var fT,gT=d(function(){ns();fT=/*#__PURE__*/function(_i11){_inherits(fT,_i11);var _super217=_createSuper(fT);function fT(e,t,i){var _this281;_classCallCheck(this,fT);_this281=_super217.call(this,t);_this281.operation=i;_this281.type="adjustments";_this281.setProperties(e);return _this281;}_createClass(fT,[{key:"getProperties",value:function getProperties(){var e=this.operation.getOptions(),t=e.gamma-1;return{brightness:e.brightness||0,saturation:e.saturation||0,contrast:e.contrast||0,gamma:(t<0?2*t:t)||0,clarity:e.clarity||0,exposure:e.exposure||0,shadows:e.shadows*.5||0,highlights:e.highlights||0,whites:e.whites||0,blacks:e.blacks||0,temperature:e.temperature||0,sharpness:e.sharpness||0};}},{key:"setProperties",value:function setProperties(e){e.gamma!==void 0&&(e.gamma=1+(e.gamma<0?.5*e.gamma:e.gamma)),e.shadows&&(e.shadows=e.shadows*2),this.operation.set(e);}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"adjustments";}}]);return fT;}(_i);});var Fr,Dm=d(function(){of();uT();Fr=function Fr(r){if(Jx(r))return new pe.Color(r.r,r.g,r.b,r.a);if(Zx(r))return new pe.Color(r[0],r[1],r[2],r[3]);if(Xx(r))return new pe.Color(r.r,r.g,r.b,1);if(Yx(r))return new pe.Color(r[0],r[1],r[2],1);if(u7(r)){var _r$match=r.match(/[0-9A-fa-f]{1,2}/g),_r$match2=_slicedToArray(_r$match,3),e=_r$match2[0],t=_r$match2[1],i=_r$match2[2];return new pe.Color(parseInt(e,16)/255,parseInt(t,16)/255,parseInt(i,16)/255,1);}throw new Error("Invalid color type");};});var _rt,zl=d(function(){_rt=/*#__PURE__*/function(){function rt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,rt);this._x=e,this._y=t;}_createClass(rt,[{key:"x",get:function get(){return this._x;}},{key:"y",get:function get(){return this._y;}},{key:"set",value:function set(e,t){return this._x=e,this._y=t,this;}},{key:"clone",value:function clone(){return new _rt(this._x,this._y);}},{key:"copy",value:function copy(e){return this._x=e.x,this._y=e.y,this;}},{key:"clamped",value:function clamped(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;var i=typeof e=="number"?{x:e,y:e}:e,o=typeof t=="number"?{x:t,y:t}:t;return this._x=Math.max(i.x,this._x),this._y=Math.max(i.y,this._y),this._x=Math.min(o.x,this._x),this._y=Math.min(o.y,this._y),this;}},{key:"divide",value:function divide(e,t){return typeof e=="number"||e===null?(this._x/=e,this._y/=typeof t=="undefined"?e:t):(this._x/=e.x,this._y/=e.y),this;}},{key:"subtract",value:function subtract(e,t){return typeof e=="number"||e===null?(this._x-=e,this._y-=typeof t=="undefined"?e:t):(this._x-=e.x,this._y-=e.y),this;}},{key:"multiply",value:function multiply(e,t){return typeof e=="number"||e===null?(this._x*=e,this._y*=typeof t=="undefined"?e:t):(this._x*=e.x,this._y*=e.y),this;}},{key:"add",value:function add(e,t){return typeof e=="number"||e===null?(this._x+=e,this._y+=typeof t=="undefined"?e:t):(this._x+=e.x,this._y+=e.y),this;}},{key:"dot",value:function dot(e,t){return typeof e=="number"||e===null?this._x*e+this._y*(typeof t=="undefined"?e:t):this._x*e.x+this._y*e.y;}},{key:"equals",value:function equals(e,t){return typeof e=="number"||e===null?e===this._x&&t===this._y:e.x===this._x&&e.y===this._y;}},{key:"flip",value:function flip(){var e=this._x;return this._x=this._y,this._y=e,this;}},{key:"round",value:function round(){return this._x=Math.round(this._x),this._y=Math.round(this._y),this;}},{key:"ceil",value:function ceil(){return this._x=Math.ceil(this._x),this._y=Math.ceil(this._y),this;}},{key:"floor",value:function floor(){return this._x=this._x|0,this._y=this._y|0,this;}},{key:"abs",value:function abs(){return this._x=Math.abs(this._x),this._y=Math.abs(this._y),this;}},{key:"len",value:function len(){return Math.sqrt(this._x*this._x+this._y*this._y);}},{key:"min",value:function min(){return Math.min(this._x,this._y);}},{key:"max",value:function max(){return Math.max(this._x,this._y);}},{key:"toObject",value:function toObject(){return{x:this._x,y:this._y};}},{key:"toString",value:function toString(){return"Vector2({ x: ".concat(this._x,", y: ").concat(this._y," })");}},{key:"roundDecimal",value:function roundDecimal(e){return this._x=parseFloat(this._x.toFixed(e)),this._y=parseFloat(this._y.toFixed(e)),this;}},{key:"asArray",value:function asArray(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return e?[this._y,this._x]:[this._x,this._y];}}],[{key:"fromObject",value:function fromObject(e){return new _rt(e.x,e.y);}},{key:"fromSize",value:function fromSize(e){return new _rt(e.width,e.height);}},{key:"NULL",get:function get(){return new _rt(0,0);}}]);return rt;}();});var Qr,Ul=d(function(){$();Ir();zl();Qr=/*#__PURE__*/function(){function Qr(e){_classCallCheck(this,Qr);this.engine=e;this.id=ot(),this.transform=_ft.IDENTITY,this.bounds=si.ZERO;}_createClass(Qr,[{key:"getID",value:function getID(){return this.id;}},{key:"getParent",value:function getParent(){var e=this.engine.getRootContainers();if(!(e.length===0||this.id===e[0].id))return e[0];}},{key:"getIndexInParent",value:function getIndexInParent(){var e=this.engine.rootOperations;for(var t=0;t<e.length;t+=1){if(e[t].getID()===this.id)return t;}return-1;}},{key:"setIndexInParent",value:function setIndexInParent(e){this.engine.moveIndex(this,e);}},{key:"getChildren",value:function getChildren(){var e=this.engine.getRootContainers();return e.length>0&&(this.id===e[0].id||this.id===this.engine.getOutputContainer().id)?this.engine.rootOperations:[];}},{key:"getBounds",value:function getBounds(){return this.bounds;}},{key:"setPivotOnSelfAndSprite",value:function setPivotOnSelfAndSprite(e,t,i){typeof t=="number"?(this.setPivotInternal(t,i),e.setPivot(new _rt(t,i))):(this.setPivotInternal(t),e.setPivot(_rt.fromObject(t)));}},{key:"setPivot",value:function setPivot(e,t){this.setPivotInternal(e,t);}},{key:"getPivot",value:function getPivot(){var e=this.getBounds();return{x:-e.minX/e.width,y:-e.minY/e.height};}},{key:"getTransform",value:function getTransform(){return this.transform;}},{key:"setTransform",value:function setTransform(e){this.transform=e;}},{key:"updateTransform",value:function updateTransform(){this.setTransform(this.transform);}},{key:"getPosition",value:function getPosition(){return this.transform.position;}},{key:"setPosition",value:function setPosition(e,t){var i;typeof e=="number"?i={x:e,y:t===void 0?e:t}:i=e;var o=this.transform.scale,s=this.transform.rotation;this.setTransform(new _ft(i,o,s));}},{key:"getScale",value:function getScale(){return this.transform.scale;}},{key:"setScale",value:function setScale(e,t){var i;typeof e!="number"?i=e:i={x:e,y:t===void 0?e:t};var _this$transform=this.transform,o=_this$transform.position,s=_this$transform.rotation;this.setTransform(new _ft(o,i,s));}},{key:"getRotation",value:function getRotation(){return this.transform.rotation;}},{key:"setRotation",value:function setRotation(e){var _this$transform2=this.transform,t=_this$transform2.position,i=_this$transform2.scale;this.setTransform(new _ft(t,i,e));}},{key:"getSizeInWorldSpace",value:function getSizeInWorldSpace(){return ge.getSizeInWorldSpace(this);}},{key:"getSizeInOutputSpace",value:function getSizeInOutputSpace(){return ge.getSizeInOutputSpace(this,this.engine.getOutputContainer());}},{key:"setSizeInWorldSpace",value:function setSizeInWorldSpace(e){var t=this.getBounds();this.setScale(e.width/t.width,e.height/t.height);}},{key:"setSizeInOutputSpace",value:function setSizeInOutputSpace(e){var t=this.engine.getOutputContainer().getScale();this.setSizeInWorldSpace({width:e.width/t.x,height:e.height/t.y});}},{key:"isValid",value:function isValid(){return this.getIndexInParent()!==-1;}},{key:"setPivotInternal",value:function setPivotInternal(e,t){var i=this.getBounds();typeof e=="number"?this.setBoundsFromSize(i.width,i.height,{x:e,y:t}):this.setBoundsFromSize(i.width,i.height,e);}},{key:"setBoundsFromSize",value:function setBoundsFromSize(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.getPivot();this.bounds=new si(-i.x*e,-i.y*t,e,t);}}]);return Qr;}();});var bT,A7=d(function(){$();Ir();Dm();Ul();zl();bT=/*#__PURE__*/function(_Qr){_inherits(bT,_Qr);var _super218=_createSuper(bT);function bT(e,t){var _this282;_classCallCheck(this,bT);_this282=_super218.call(this,t);_this282.type="drawing";_this282.drawing=e,_this282.operation=t.createSpriteOperation(),_this282.sprite=_this282.operation.createBrush({}),_this282.operation.addSprite(_this282.sprite),_this282.radialBrush=_this282.sprite._createRadialBrush();var o=t.getRootContainers()[0].getBounds();_this282.bounds=new si(0,0,o.width,o.height),_this282.setTransform(_ft.IDENTITY),_this282.operation.setDirty(!0),_this282.setData(e);return _this282;}_createClass(bT,[{key:"beginStroke",value:function beginStroke(e){if(this.currentStroke)throw new Error("A brush stroke has already been started but not finished.");if(e.id!=="imgly_brush_radial")throw new Error("This adapter does not support any brush faces other than the radial img.ly brush.");this.currentBrush=e,this.currentStroke={brush:e,path:{controlPoints:[]}},this.radialBrush.setColor(Fr(e.color)),this.radialBrush.setHardness(e.hardness),this.radialBrush.setSize(e.size),this.currentPath=this.sprite.createPath(this.radialBrush.clone());}},{key:"addPointToCurrentStroke",value:function addPointToCurrentStroke(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(!this.currentStroke||!this.currentBrush||!this.currentPath)throw new Error('A brush stroke has to first be started with a call to "beginStroke(brush:Brush)"');if(this.currentStroke.path.controlPoints.length){var l=this.currentStroke.path.controlPoints,c=l[l.length-1],u=this.currentBrush.size/10;if(Math.sqrt(e.x-Math.pow(c.x,2)+(e.y-Math.pow(c.y,2)))<u)return;}var i=this.engine.getOutputContainer(),o=this.engine.getRootContainers()[0],s=ge.pointFromSpaceToSpace(e,o,i,!0),n=ge.absoluteToRelativePoint(s,i,!1),a=i.getBounds();this.currentPath.addControlPoint(_rt.fromObject(n)),this.currentStroke.path.controlPoints.push(e),t&&this.sprite.render(_rt.fromObject({x:a.width,y:a.height}));}},{key:"endStroke",value:function endStroke(){if(!this.currentStroke||!this.currentPath||!this.currentBrush)return;this.currentStroke.path.controlPoints.length&&this.drawing.strokes.push(this.currentStroke),this.currentStroke=void 0,this.currentBrush=void 0,this.currentPath.setClosed(!0);var e=this.engine.getOutputContainer().getBounds();this.sprite.render(_rt.fromObject({x:e.width,y:e.height})),this.currentPath=void 0;}},{key:"setData",value:function setData(e){this.drawing=w(w({},this.drawing),e),this.drawing.strokes&&(this.drawing.strokes=[]),this.sprite.clearPersistCanvas(),this.sprite.clearCanvas(),this.sprite.setPaths([]),this.drawStrokes(e.strokes);}},{key:"getData",value:function getData(){return this.drawing;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"drawStrokes",value:function drawStrokes(e){var _this283=this;e.forEach(function(t){_this283.beginStroke(t.brush),t.path.controlPoints.forEach(function(i){_this283.addPointToCurrentStroke(i,!0);}),_this283.endStroke();});}}]);return bT;}(Qr);});var _T,yT=d(function(){ns();_T=/*#__PURE__*/function(_i12){_inherits(_T,_i12);var _super219=_createSuper(_T);function _T(e,t,i,o){var _this284;_classCallCheck(this,_T);_this284=_super219.call(this,o);_this284.filterOperation=t;_this284.type="duotone-filter";t.set({intensity:i.colorIntensity}),t.set({filter:e}),o.pesdk.setAllOperationsToDirty();return _this284;}_createClass(_T,[{key:"getProperties",value:function getProperties(){return{colorIntensity:this.filterOperation.getOptions().intensity};}},{key:"setProperties",value:function setProperties(e){var i=this.filterOperation.getOptions().intensity;e.colorIntensity!==void 0&&(i=Math.min(Math.max(e.colorIntensity,0),1)),this.filterOperation.set({intensity:i});}},{key:"getOperation",value:function getOperation(){return this.filterOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"filter";}}]);return _T;}(_i);});var xT,P7=d(function(){xT=/*#__PURE__*/function(){function xT(e,t){_classCallCheck(this,xT);this.engine=t;this.loaded=!1;this.loading=!1;this.asset=w({},e);}_createClass(xT,[{key:"load",value:function load(){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee12(){var _this285=this;var e,t;return regeneratorRuntime.wrap(function _callee12$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!this.loaded){_context13.next=2;break;}return _context13.abrupt("return",Promise.resolve());case 2:if(!this.loading){_context13.next=4;break;}return _context13.abrupt("return",Promise.reject(new Error("Called Frame#load while it's already loading")));case 4:this.loading=!0;e=this.asset.imageGroups,t=[];return _context13.abrupt("return",(["top","left","right","bottom"].forEach(function(i){if(!e[i])return;var o=e[i];["start","mid","end"].forEach(function(s){s in o&&t.push(_this285.loadPart(i,s));});}),Promise.all(t).then(function(){_this285.loaded=!0,_this285.loading=!1;})["catch"](function(){_this285.loaded=!1,_this285.loading=!1;})));case 7:case"end":return _context13.stop();}}},_callee12,this);}));}},{key:"getFrame",value:function getFrame(){return L(w({},this.asset),{defaultName:this.asset.name,thumbnail:this.asset.thumbnailURI});}},{key:"getIdentifier",value:function getIdentifier(){return this.asset.identifier;}},{key:"getDefaultName",value:function getDefaultName(){return this.asset.name;}},{key:"getThumbnail",value:function getThumbnail(){return this.asset.thumbnailURI;}},{key:"getTintable",value:function getTintable(){return this.asset.tintable||!1;}},{key:"getLayoutMode",value:function getLayoutMode(){return this.asset.layoutMode;}},{key:"getImageGroups",value:function getImageGroups(){return this.asset.imageGroups;}},{key:"loadPart",value:function loadPart(e,t){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee13(){var _this286=this;return regeneratorRuntime.wrap(function _callee13$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:return _context14.abrupt("return",new Promise(function(i,o){var s=_this286.asset.imageGroups,n=s[e][t],a=n;typeof n!="string"&&"image"in n&&(a=n.image);var l=new Image();l.addEventListener("load",function(){typeof n!="string"?_this286.asset.imageGroups[e][t].image=l:_this286.asset.imageGroups[e][t]=l,i(l);}),l.addEventListener("error",function(){o(new Error("Failed to load image at ".concat(l.src)));}),l.crossOrigin=_this286.engine.configuration.crossOrigin||"anonymus",l.src=_this286.engine.assetProvider.getAssetSource("frame",a);}));case 1:case"end":return _context14.stop();}}},_callee13);}));}}]);return xT;}();});var vT,B7=d(function(){Dm();ns();vT=/*#__PURE__*/function(_i13){_inherits(vT,_i13);var _super220=_createSuper(vT);function vT(e,t,i){var _this287;_classCallCheck(this,vT);_this287=_super220.call(this,i);_this287.frameOperation=e;_this287.type="frame";_this287.setProperties(t),i.pesdk.setAllOperationsToDirty();return _this287;}_createClass(vT,[{key:"setProperties",value:function setProperties(e){if(this.props=w(w({},this.props),e),typeof e.opacity=="number"&&this.frameOperation.set({alpha:e.opacity}),e.tintColor&&this.frameOperation.set({tintColor:Fr(e.tintColor)}),e.width){var t=this.engine.getOutputContainer().getBounds(),i=Math.min(t.width,t.height),o=e.width/i;this.frameOperation.set({scale:o});}this.frameOperation.setDirty(!0);}},{key:"getProperties",value:function getProperties(){return this.props;}},{key:"getOperation",value:function getOperation(){return this.frameOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"frame";}}]);return vT;}(_i);});var CT,ST=d(function(){Ir();ns();CT=/*#__PURE__*/function(_i14){_inherits(CT,_i14);var _super221=_createSuper(CT);function CT(e,t,i){var _this288;_classCallCheck(this,CT);_this288=_super221.call(this,t);_this288.blurOperation=i;_this288.type="gaussian-blur";_this288.setProperties(e);return _this288;}_createClass(CT,[{key:"getProperties",value:function getProperties(){var e=this.engine.getOutputContainer(),t=e.getBounds(),i=Math.min(t.size.width,t.size.height);return{blurRadius:ge.scalarFromSpaceToSpace(this.blurOperation.getOptions().blurRadius*i,e,this.getContainer())};}},{key:"setProperties",value:function setProperties(e){if(e.blurRadius!==void 0){var t=this.engine.pesdk.getOutputDimensions(),i=Math.min(t.x,t.y),o=this.getContainer(),s=this.engine.getOutputContainer(),a=ge.scalarFromSpaceToSpace(e.blurRadius,o,s)/i;this.blurOperation.set({blurRadius:a});}}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"blur";}}]);return CT;}(_i);});var ev,wT=d(function(){$();Ir();Ul();ev=/*#__PURE__*/function(_Qr2){_inherits(ev,_Qr2);var _super222=_createSuper(ev);function ev(e,t){var _this289;_classCallCheck(this,ev);_this289=_super222.call(this,t);_this289.data=e;_this289.type="image";var i=t.configuration.downscaleOptions;if(!i)_this289.downscaleOptions={maxDimensions:{width:t.maxTextureDimension,height:t.maxTextureDimension}};else{var s=i.maxDimensions;_this289.downscaleOptions={maxMegaPixels:i.maxMegaPixels,maxDimensions:{width:Math.min(t.maxTextureDimension,s?s.width:Number.MAX_VALUE),height:Math.min(t.maxTextureDimension,s?s.height:Number.MAX_VALUE)}};}_this289.setData(e);var o=_this289.data.image;_this289.bounds=new si(B.ZERO,{width:o.width,height:o.height});return _this289;}_createClass(ev,[{key:"setData",value:function setData(e){var _this290=this;if(this.data=w(w({},this.data),e),e.image){var t=e.image,i;if(t instanceof HTMLImageElement&&(i=this.engine.pesdk.parseExif(t),i)){var s=i.getTags();if(s&&s.Orientation){var n=s.Orientation!==1&&s.Orientation!==2,a=[2,4,5,7].indexOf(s.Orientation)!==-1;if(n||a){if(Gt()||bo()||!CSS.supports("image-orientation","from-image")){var l=this.engine.pesdk.createOperation("exif-orientation",{},!1);l.setTags(s),t=l.applyTo(t);}i.setOrientation(1),s.Orientation=1;}}}var o=new Ep(t,this.downscaleOptions);o.on(Dn.IMAGE_DOWNSCALED,function(_ref101){var s=_ref101.width,n=_ref101.height;_this290.engine.emit(pa.IMAGE_DOWNSCALED,{width:s,height:n});}),o.on(Dn.BEGAN_IMAGE_DOWNSCALING,function(){_this290.engine.emit(pa.BEGAN_IMAGE_DOWNSCALING);}),t=o.downscaleIfNecessary(),this.data.image=t,this.engine.pesdk.setImage(t,i),this.setBoundsFromSize(t.width,t.height);}}},{key:"getData",value:function getData(){return this.data;}},{key:"setPivot",value:function setPivot(e,t){throw new Error("This container does not support modifying the pivot");}},{key:"getOperation",value:function getOperation(){throw new Error("This container has no associated operation");}}]);return ev;}(Qr);});var kT,TT=d(function(){$();Ir();ns();kT=/*#__PURE__*/function(_i15){_inherits(kT,_i15);var _super223=_createSuper(kT);function kT(e,t,i){var _this291;_classCallCheck(this,kT);_this291=_super223.call(this,t);_this291.props=e;_this291.blurOperation=i;_this291.type="linear-blur";_this291.setProperties(e);return _this291;}_createClass(kT,[{key:"getProperties",value:function getProperties(){return this.props;}},{key:"setProperties",value:function setProperties(e){this.props=w(w({},this.props),e);var t=this.blurOperation.getOptions(),i=this.engine.getOutputContainer(),o=i.getBounds(),s=this.getContainer(),n=i.getBaseLocalToParentMatrix(),a=ge.getBaseLocalToWorldMatrix(s),l=Me.multiply(Me.getInverted(n),a),c=Math.min(o.size.width,o.size.height);if(e.blurRadius!==void 0){var u=ge.scalarFromSpaceToSpace(e.blurRadius,s,i);t.blurRadius=u/c;}if(e.start!==void 0){var _u4=Me.transformPoint(l,e.start),p=ge.absoluteToRelativePoint(_u4,i,!1);t.controlPoint1=p;}if(e.end!==void 0){var _u5=Me.transformPoint(l,e.end),_p2=ge.absoluteToRelativePoint(_u5,i,!1);t.controlPoint2=_p2;}this.blurOperation.set(t);}},{key:"updateProperties",value:function updateProperties(){var e=this.getProperties();this.setProperties(e);}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"linear-focus";}}]);return kT;}(_i);});var DT,ET=d(function(){ns();DT=/*#__PURE__*/function(_i16){_inherits(DT,_i16);var _super224=_createSuper(DT);function DT(e,t,i,o){var _this292;_classCallCheck(this,DT);_this292=_super224.call(this,o);_this292.filter=e;_this292.filterOperation=t;_this292.props=i;_this292.type="lut-filter";t.set({intensity:i.intensity}),t.set({filter:e}),o.pesdk.setAllOperationsToDirty();return _this292;}_createClass(DT,[{key:"getProperties",value:function getProperties(){return{intensity:this.filterOperation.getOptions().intensity,lutImage:this.props.lutImage,horizontalTileCount:this.props.horizontalTileCount,verticalTileCount:this.props.verticalTileCount};}},{key:"setProperties",value:function setProperties(e){var t=this.filterOperation.getOptions(),i=typeof e.intensity=="number"?e.intensity:t.intensity;this.filterOperation.set({intensity:i});}},{key:"getOperation",value:function getOperation(){return this.filterOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"filter";}}]);return DT;}(_i);});var IT,FT=d(function(){$();Ir();ns();IT=/*#__PURE__*/function(_i17){_inherits(IT,_i17);var _super225=_createSuper(IT);function IT(e,t,i){var _this293;_classCallCheck(this,IT);_this293=_super225.call(this,t);_this293.props=e;_this293.blurOperation=i;_this293.type="mirrored-blur";_this293.setProperties(e);return _this293;}_createClass(IT,[{key:"getProperties",value:function getProperties(){return this.props;}},{key:"setProperties",value:function setProperties(e){this.props=w(w({},this.props),e);var t=this.blurOperation.getOptions(),i=this.engine.getOutputContainer(),o=i.getBounds(),s=this.getContainer(),n=i.getBaseLocalToParentMatrix(),a=ge.getBaseLocalToWorldMatrix(s),l=Me.multiply(Me.getInverted(n),a),c=Math.min(o.size.width,o.size.height);if(e.blurRadius!==void 0){var u=ge.scalarFromSpaceToSpace(e.blurRadius,s,i);t.blurRadius=u/c;}if(e.gradientSize!==void 0){var p=ge.scalarFromSpaceToSpace(e.gradientSize,s,i)/c;t.gradientSize=p;}if(e.clearAreaWidth!==void 0){var _p3=ge.scalarFromSpaceToSpace(e.clearAreaWidth,s,i)/c;t.size=_p3*.5;}if(e.mirrorAxisOrigin!==void 0){var _u6=Me.transformPoint(l,e.mirrorAxisOrigin),_p4=ge.absoluteToRelativePoint(_u6,i,!1);t.start=_p4;}if(e.mirrorAxisDirection!==void 0){var _u7=Me.transformPoint(l,e.mirrorAxisDirection),_p5=ge.absoluteToRelativePoint(_u7,i,!1);t.end=_p5;}this.blurOperation.set(t);}},{key:"updateProperties",value:function updateProperties(){var e=this.getProperties();this.setProperties(e);}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"mirrored-focus";}}]);return IT;}(_i);});var tv,OT=d(function(){$();Ir();Ul();zl();tv=/*#__PURE__*/function(_Qr3){_inherits(tv,_Qr3);var _super226=_createSuper(tv);function tv(e,t,i,o){var _this294;_classCallCheck(this,tv);_this294=_super226.call(this,o);_this294.settings=e;_this294.operation=t;_this294.flipOperation=i;_this294.type="output";_this294.flipTransform=Me.IDENTITY;_this294.blockTransformUpdate=!1;_this294.transformUpdateWhileBlock=!1;_this294.bounds=new si({x:0,y:0},_this294.settings.resolution),_this294.setData(e);return _this294;}_createClass(tv,[{key:"pauseChildrenUpdates",value:function pauseChildrenUpdates(){this.transformUpdateWhileBlock=!1,this.blockTransformUpdate=!0;}},{key:"resumeChildrenUpdates",value:function resumeChildrenUpdates(){this.blockTransformUpdate=!1,this.transformUpdateWhileBlock&&this.updateChildrenContainers();}},{key:"setData",value:function setData(e){if(this.settings=w(w({},this.settings),e),e.resolution&&(this.setBoundsFromSize(e.resolution.width,e.resolution.height),this.setTransform(this.transform),this.operation.set({outputResolution:new _rt(e.resolution.width,e.resolution.height)})),e.flipHorizontally!==void 0){var t=e.flipHorizontally;this.updateFlipTransform(),this.flipOperation.set({flipHorizontally:t});}if(e.flipVertically!==void 0){var _t8=e.flipVertically;this.updateFlipTransform(),this.flipOperation.set({flipVertically:_t8});}this.operation.setDirty(!0),this.flipOperation.setDirty(!0);}},{key:"getData",value:function getData(){return this.settings;}},{key:"setResolution",value:function setResolution(e){this.setData({resolution:e});}},{key:"getResolution",value:function getResolution(){return this.getData().resolution;}},{key:"setTransform",value:function setTransform(e){if(this.transform.rotation!==e.rotation||this.transform.position!==e.position||this.transform.scale!==e.scale){this.transform=e;var t=this.flipTransform;this.flipTransform=Me.IDENTITY;var i=this.engine.getRootContainers()[0],o=ge.pointFromSpaceToSpace({x:0,y:0},i,this),s=-e.rotation,n=_rt.fromObject(o).clone().subtract(_rt.fromObject(this.getBounds().origin));this.operation.set({pivot:new _rt(0,0),position:n,scale:new _rt(1/e.scale.x,1/e.scale.y),rotation:s}),this.flipTransform=t,this.operation.setDirty(!0),this.updateChildrenContainers();}}},{key:"rotate",value:function rotate(e,t){var i=this.getPivot(),o=this.getBounds(),s={x:o.midX,y:o.midY},n=ge.getPointInWorldSpace(s,this);this.setPivot(.5,.5),this.setPosition(n),this.setRotation(e),this.setResolution(t);var a={x:-t.width*(.5-i.x),y:-t.height*(.5-i.y)},l=ge.getPointInWorldSpace(a,this);this.setPivot(i),this.setPosition(l),this.updateChildrenContainers();}},{key:"setPivot",value:function setPivot(e,t){_get(_getPrototypeOf(tv.prototype),"setPivotInternal",this).call(this,e,t),this.setTransform(this.transform);}},{key:"getTransform",value:function getTransform(){return this.transform;}},{key:"getBaseLocalToParentMatrix",value:function getBaseLocalToParentMatrix(){return ge.rectTransformToAffineTransform(this.getTransform());}},{key:"getLocalToParentMatrix",value:function getLocalToParentMatrix(){var e=ge.rectTransformToAffineTransform(this.getTransform());return Me.multiply(e,this.flipTransform);}},{key:"getFlipTransformMatrix",value:function getFlipTransformMatrix(){return this.flipTransform;}},{key:"isValid",value:function isValid(){return!0;}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"updateFlipTransform",value:function updateFlipTransform(){var _this$settings=this.settings,e=_this$settings.flipHorizontally,t=_this$settings.flipVertically;if(!e&&!t)this.flipTransform=Me.IDENTITY;else{var i=this.getPivot(),o=this.getBounds(),s=e?-1:1,n=e?-2*(i.x-.5)*o.width:0,a=t?-1:1,l=t?-2*(i.y-.5)*o.height:0;this.flipTransform=new Me(s,0,0,a,n,l);}}},{key:"updateChildrenContainers",value:function updateChildrenContainers(){if(this.blockTransformUpdate){this.transformUpdateWhileBlock=!0;return;}this.engine.rootOperations.forEach(function(e){Qx(e)?(e.updateTransform(),"updateData"in e&&e.updateData()):"updateProperties"in e&&e.updateProperties();});}}]);return tv;}(Qr);});var iv,RT=d(function(){ns();iv=/*#__PURE__*/function(_i18){_inherits(iv,_i18);var _super227=_createSuper(iv);function iv(e,t,i){var _this295;_classCallCheck(this,iv);_this295=_super227.call(this,i);_this295.overlayOperation=e;_this295.type="overlay";var o=t.blendMode||i.mapBlendMode(e.getBlendMode());e.set({blendMode:i.reverseMapBlendMode(o)}),e.set({image:t.image}),i.pesdk.setAllOperationsToDirty();return _this295;}_createClass(iv,[{key:"getProperties",value:function getProperties(){var e=this.overlayOperation.getOptions();return{image:e.image,blendMode:this.engine.mapBlendMode(e.blendMode),opacity:e.alpha};}},{key:"setProperties",value:function setProperties(e){var t=this.overlayOperation.getOptions();typeof e.opacity=="number"&&(t.alpha=e.opacity),e.blendMode!==void 0&&(t.blendMode=this.engine.reverseMapBlendMode(e.blendMode)),this.overlayOperation.set(t),this.overlayOperation.setDirty(!0);}},{key:"getOperation",value:function getOperation(){return this.overlayOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"overlay";}},{key:"setFlipHorizontally",value:function setFlipHorizontally(e){this.overlayOperation.setFlipHorizontally(e);}},{key:"setFlipVertically",value:function setFlipVertically(e){this.overlayOperation.setFlipVertically(e);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.overlayOperation.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.overlayOperation.getFlipVertically();}}]);return iv;}(_i);});var AT,PT=d(function(){$();Ir();ns();AT=/*#__PURE__*/function(_i19){_inherits(AT,_i19);var _super228=_createSuper(AT);function AT(e,t,i){var _this296;_classCallCheck(this,AT);_this296=_super228.call(this,t);_this296.props=e;_this296.blurOperation=i;_this296.type="radial-blur";_this296.setProperties(e);return _this296;}_createClass(AT,[{key:"getProperties",value:function getProperties(){return this.props;}},{key:"setProperties",value:function setProperties(e){this.props=w(w({},this.props),e);var t=this.blurOperation.getOptions(),i=this.engine.getOutputContainer(),o=i.getBounds(),s=this.getContainer(),n=i.getBaseLocalToParentMatrix(),a=ge.getBaseLocalToWorldMatrix(s),l=Me.multiply(Me.getInverted(n),a),c=Math.min(o.size.width,o.size.height);if(e.blurRadius!==void 0){var u=ge.scalarFromSpaceToSpace(e.blurRadius,s,i);t.blurRadius=u/c;}if(e.center!==void 0){var _u8=Me.transformPoint(l,e.center),p=ge.absoluteToRelativePoint(_u8,i,!1);t.position=p;}if(e.radius!==void 0){var _p6=ge.scalarFromSpaceToSpace(e.radius,s,i)/c;t.radius=_p6;}if(e.gradientSize!==void 0){var _p7=ge.scalarFromSpaceToSpace(e.gradientSize,s,i)/c;t.gradientRadius=_p7;}this.blurOperation.set(t);}},{key:"updateProperties",value:function updateProperties(){var e=this.getProperties();this.setProperties(e);}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"radial-focus";}}]);return AT;}(_i);});var rv,M7=d(function(){$();Ir();Dm();Ul();zl();rv=/*#__PURE__*/function(_Qr4){_inherits(rv,_Qr4);var _super229=_createSuper(rv);function rv(e,t){var _this297;_classCallCheck(this,rv);_this297=_super229.call(this,t);_this297.data=e;_this297.type="sticker";var i=e.image,o=_this297.engine.pesdk.parseExif(e.image);if(o){var n=o.getTags();if(n&&n.Orientation){var a=n.Orientation!==1&&n.Orientation!==2,l=[2,4,5,7].indexOf(n.Orientation)!==-1;if(a||l){var c=_this297.engine.pesdk.createOperation("exif-orientation",{},!1);c.setTags(n),i=c.applyTo(e.image),o.setOrientation(1),n.Orientation=1;}}}i=new Ep(i,{maxMegaPixels:{desktop:10,mobile:5}}).downscaleImageIfNecessary(),_this297.operation=t.createSpriteOperation(),_this297.sprite=_this297.operation.createSticker({identifier:"",image:i,position:new _rt(0,0),dimensions:new _rt(1,1),rotation:0,smoothDownscaling:!1}),_this297.operation.addSprite(_this297.sprite),_this297.bounds=new si({x:0,y:0},{width:i.width,height:i.height}),_this297.setTransform(_ft.IDENTITY),_this297.sprite.setPivot(new _rt(0,0)),_this297.operation.setDirty(!0),_this297.setData(e);return _this297;}_createClass(rv,[{key:"setData",value:function setData(e){this.data=w(w({},this.data),e),e.id&&(this.id=e.id),_o(e.opacity)&&e.opacity>=0&&this.sprite.setAlpha(e.opacity),e.tintColor&&this.sprite.setTintColor(Fr(e.tintColor)),e.tintMode&&this.sprite.setTintMode(e.tintMode),this.operation.setDirty(!0);}},{key:"getData",value:function getData(){return this.data;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"setTransform",value:function setTransform(e){_get(_getPrototypeOf(rv.prototype),"setTransform",this).call(this,e);var t=this.engine.getOutputContainer(),i=this.getParent(),o={width:this.bounds.width*e.scale.x,height:this.bounds.height*e.scale.y},s=ge.sizeFromSpaceToSpace(o,i,t);this.sprite.setDimensions(_rt.fromSize(s));var n=ge.pointFromSpaceToSpace(e.position,i,t,!0),a=ge.absoluteToRelativePoint(n,t,!1);this.sprite.setPosition(new _rt(a.x,a.y));var l=ge.getRotationBetweenCoordinateSpaces(i,t),c=e.rotation+l;this.sprite.setRotation(c),this.operation.setDirty(!0);}},{key:"setPivot",value:function setPivot(e,t){this.setPivotOnSelfAndSprite(this.sprite,e,t);}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"setFlipHorizontally",value:function setFlipHorizontally(e){this.sprite.setFlipHorizontally(e);}},{key:"setFlipVertically",value:function setFlipVertically(e){this.sprite.setFlipVertically(e);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.sprite.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.sprite.getFlipVertically();}}]);return rv;}(Qr);});var Em,Xne,nf,Im=d(function(){Em=function Em(r){return 2*Math.PI-r;},Xne=function Xne(r){return-r;},nf=function nf(_ref102){var r=_ref102.rotation,_ref102$outputRotatio=_ref102.outputRotation,e=_ref102$outputRotatio===void 0?0:_ref102$outputRotatio,t=_ref102.flipHorizontally,i=_ref102.flipVertically;var o=r;return t&&(o=Em(o)),i&&(o=Xne(o)),o+e;};});function Yne(r,e){if(e){var t=1/e.unitsPerEm*r,i=e.ascender*t,o=e.descender*t;return i+Math.abs(o);}return r*1.1;}function Cd(r,e,t,i,o,s,n){r.font="".concat(t.fontStyle||"normal"," ").concat(t.fontWeight||"normal"," ").concat(i,"px \"").concat(t.fontFamily,"\"");var a=new _ov(r);a.setText(e),a.setMaxWidth(s);var l=a.getLines().map(function(m){return m.replace(/\s+$/i,"");}),c=Yne(i,n),u=c*o,p=c/5;return{width:s+p*2,height:l.length*u+p*2};}var _ov,BT=d(function(){_ov=/*#__PURE__*/function(){function ov(e){_classCallCheck(this,ov);this.context=e;this.sourceLines=[];this.maxWidth=100;}_createClass(ov,[{key:"getLines",value:function getLines(){var e=[],t=[],i=this.sourceLines.length;for(var o=0;o<i;o+=1){var s=this.sourceLines[o],n=_ov.buildWords(s),a=n.length;for(var l=0;l<a;l+=1){var c=n[l],u=t.concat(c).join("").replace(/\s+$/i,"");if(this.getWidth(u)>this.maxWidth){t.length>0&&(e.push(t.join("")),t=[c]);var m=c.replace(/\s+$/i,"");if(this.getWidth(m)>this.maxWidth){var h=this.splitWord(c);e=e.concat(h.lines),h.rest&&(t=[h.rest]);}}else t.push(c);}e.push(t.join("")),t=[];}return e;}},{key:"splitWord",value:function splitWord(e){var t={lines:[],rest:null},i=e.length,o=[];for(var s=0;s<i;s+=1){var n=e[s];this.getWidth(o.concat(n).join(""))>this.maxWidth?(o.length>0&&t.lines.push(o.join("")),o=[n]):o.push(n),s===i-1&&o.length>0&&(t.rest=o.join(""));}return t;}},{key:"getWidth",value:function getWidth(e){return this.context.measureText(e).width;}},{key:"setText",value:function setText(e){this.sourceLines=e.split("\n");}},{key:"setMaxWidth",value:function setMaxWidth(e){this.maxWidth=e;}}],[{key:"buildWords",value:function buildWords(e){var t=[],i="",o=e.length;for(var s=0;s<o;s+=1){var n=e[s];i+=n,(n===" "||n==="-"||s===o-1)&&(t.push(i),i="");}return t;}}]);return ov;}();});var _ha,L7=d(function(){$();Im();Ir();Dm();Ul();BT();zl();_ha=/*#__PURE__*/function(_Qr5){_inherits(ha,_Qr5);var _super230=_createSuper(ha);function ha(e,t){var _this298;_classCallCheck(this,ha);_this298=_super230.call(this,t);_this298.text=e;_this298.type="text";if(!_ha.measureContext){var l=document.createElement("canvas");_ha.measureContext=l.getContext("2d");}_this298.operation=t.createSpriteOperation();var i=_this298.engine.getOutputContainer(),o=_this298.getParent(),s=i.getBounds();_this298.sprite=_this298.operation.createText({text:e.text,position:new _rt(0,0),rotation:0,fontSize:ge.scalarFromSpaceToSpace(e.fontSize/s.height,o,i),lineHeight:e.lineHeight,fontIdentifier:e.fontIdentifier,alignment:e.alignment,color:Fr(e.textColor),backgroundColor:Fr(e.backgroundColor),maxWidth:ge.scalarFromSpaceToSpace(e.width/s.width,o,i)});var n=t.assetProvider.getFontManager().getFontWithId(e.fontIdentifier);_this298.sprite.setFontFamily(n.fontFamily),_this298.sprite.setFontWeight(n.fontWeight||"normal"),_this298.sprite.setFontStyle(n.fontStyle||"normal"),_this298.sprite.setFontIdentifier(n.identifier),_this298.sprite.setTextMetrics(n.textMetrics),_this298.sprite.setPivot(new _rt(0,0)),_this298.operation.addSprite(_this298.sprite);var a=Cd(_ha.measureContext,e.text,n,e.fontSize,e.lineHeight,e.width,n.textMetrics);_this298.bounds=new si(0,0,a.width,a.height),_this298.setTransform(_ft.IDENTITY),_this298.operation.setDirty(!0);return _this298;}_createClass(ha,[{key:"setData",value:function setData(e){this.text=w(w({},this.text),e);var t=this.engine.assetProvider.getFontManager().getFontWithId(e.fontIdentifier||this.text.fontIdentifier);if(e.fontIdentifier&&(this.sprite.setFontFamily(t.fontFamily),this.sprite.setFontWeight(t.fontWeight||"normal"),this.sprite.setFontStyle(t.fontStyle||"normal"),this.sprite.setFontIdentifier(t.identifier),this.sprite.setTextMetrics(t.textMetrics)),e.id&&(this.id=e.id),e.text&&this.sprite.setText(e.text),e.fontSize){var o=this.engine.getOutputContainer(),s=this.getParent(),n=ge.scalarFromSpaceToSpace(e.fontSize,s,o),a=o.getBounds();this.sprite.setFontSize(n/a.height);}if(e.alignment&&this.sprite.setAlignment(e.alignment),e.lineHeight&&this.sprite.setLineHeight(e.lineHeight),e.textColor&&this.sprite.setColor(Fr(e.textColor)),e.backgroundColor&&this.sprite.setBackgroundColor(Fr(e.backgroundColor)),e.width){var _o7=this.engine.getOutputContainer(),_s6=this.getParent(),_n5=ge.scalarFromSpaceToSpace(e.width,_s6,_o7),_a4=_o7.getBounds();this.sprite.setMaxWidth(_n5/_a4.width);}var i=Cd(_ha.measureContext,this.text.text,t,this.text.fontSize,this.text.lineHeight,this.text.width,t.textMetrics);this.setBoundsFromSize(i.width,i.height),this.operation.setDirty(!0);}},{key:"getData",value:function getData(){return this.text;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"setTransform",value:function setTransform(e){_get(_getPrototypeOf(ha.prototype),"setTransform",this).call(this,e);var t=this.engine.getOutputContainer(),i=this.getParent(),o=ge.pointFromSpaceToSpace(e.position,i,t,!0),s=ge.absoluteToRelativePoint(o,t,!1);this.sprite.setPosition(new _rt(s.x,s.y));var n=ge.getRotationBetweenCoordinateSpaces(i,t);this.sprite.setRotation(e.rotation+n),this.operation.setDirty(!0);}},{key:"setPivot",value:function setPivot(e,t){this.setPivotOnSelfAndSprite(this.sprite,e,t);}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"setFlipHorizontally",value:function setFlipHorizontally(e){this.sprite.setRotation(this.getFlippedRotation({flipHorizontally:e})),this.sprite.setFlipHorizontally(e);}},{key:"setFlipVertically",value:function setFlipVertically(e){this.sprite.setRotation(this.getFlippedRotation({flipVertically:e})),this.sprite.setFlipVertically(e);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.sprite.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.sprite.getFlipVertically();}},{key:"getFlippedRotation",value:function getFlippedRotation(_ref103){var e=_ref103.flipVertically,t=_ref103.flipHorizontally;var i=e||this.getFlipVertically(),o=t||this.getFlipHorizontally(),s=this.getRotation();return(i||o)&&(s=Em(s)),s;}}]);return ha;}(Qr);});var MT,_Sd,z7=d(function(){$();Ir();Dm();Ul();zl();MT=1e3,_Sd=/*#__PURE__*/function(_Qr6){_inherits(Sd,_Qr6);var _super231=_createSuper(Sd);function Sd(e,t,i){var _this299;_classCallCheck(this,Sd);_this299=_super231.call(this,i);_this299.textDesign=e;_this299.layout=t;_this299.type="text-design";_this299.currentLayoutSize=void 0;_this299.layoutID=t.identifier,_this299.operation=i.createSpriteOperation();var o=_this299.engine.getOutputContainer(),s=_this299.getParent(),n=o.getBounds(),a=Math.min(n.width,n.height);t.seed(e.seed),_this299.bounds=_this299.calculateBounds(_this299.textDesign,_this299.layout);var l=e.width;_this299.sprite=_this299.operation.createTextDesign({text:e.text,layout:t,inverted:e.inverted,color:Fr(e.color),width:ge.scalarFromSpaceToSpace(e.width/a,s,o),padding:e.padding/l,seed:e.seed}),_this299.updatePivot(),_this299.operation.addSprite(_this299.sprite),_this299.setTransform(_ft.IDENTITY),_this299.operation.setDirty(!0);return _this299;}_createClass(Sd,[{key:"calculateBounds",value:function calculateBounds(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var o=e.inverted&&i?Math.max(0,2*e.padding):0,s=e.width/MT;if(this.currentLayoutSize===void 0){t.seed(e.seed);var n=t.generateLayoutData(e.text,MT);this.currentLayoutData=n,this.currentLayoutSize=n.getSize();}return new si(0,0,this.currentLayoutSize.width*s+o,this.currentLayoutSize.height*s+o);}},{key:"findNextUniqueSeed",value:function findNextUniqueSeed(e,t,i){var o=i,s=this.currentLayoutData?_Sd.stringify(this.currentLayoutData.getRows()):"",n;for(var a=0;a<20&&(t.seed(o),n=t.generateLayoutData(e.text,MT),s===_Sd.stringify(n.getRows()));a+=1){o+=1;}return t.seed(o),this.currentLayoutData=n,o;}},{key:"setData",value:function setData(e){if(this.textDesign=w(w({},this.textDesign),e),e.id&&(this.id=e.id),e.padding!==void 0){var t=this.textDesign.width;this.sprite.setPadding(e.padding/t);}else e.width&&(this.textDesign.padding=this.sprite.getPadding()*this.textDesign.width);if(e.seed!==void 0&&(e.seed<0&&(e.seed=this.findNextUniqueSeed(this.textDesign,this.layout,Date.now()),this.textDesign.seed=e.seed),this.currentLayoutSize=void 0,this.layout.seed(e.seed),this.sprite.setSeed(e.seed),this.sprite.setLayout(this.layout)),e.color&&this.sprite.setColor(Fr(e.color)),e.inverted!==void 0&&this.sprite.setInverted(e.inverted),e.text&&(this.currentLayoutSize=void 0,this.sprite.setText(e.text)),e.width){var _t9=this.engine.getOutputContainer(),i=this.getParent(),o=_t9.getBounds(),s=Math.min(o.width,o.height),n=ge.scalarFromSpaceToSpace(e.width/s,i,_t9);this.sprite.setWidth(n);}if(e.padding!==void 0||e.seed!==void 0||e.inverted!==void 0||e.text||e.width){var _t10=this.calculateBounds(this.textDesign,this.layout);this.setBoundsFromSize(_t10.width,_t10.height),this.updatePivot();}this.operation.setDirty(!0);}},{key:"getData",value:function getData(){return this.textDesign;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"setTransform",value:function setTransform(e){_get(_getPrototypeOf(Sd.prototype),"setTransform",this).call(this,e);var t=this.engine.getOutputContainer(),i=this.getParent();if(e.scale.x!==1||e.scale.y!==1)throw new Error("This engine doesn't support scaling TextDesign containers! You can change the bounds using the width property of the TextDesign data.");var o=ge.pointFromSpaceToSpace(e.position,i,t,!0),s=ge.absoluteToRelativePoint(o,t,!1);this.sprite.setPosition(new _rt(s.x,s.y));var n=ge.getRotationBetweenCoordinateSpaces(i,t);this.sprite.setRotation(e.rotation+n),this.operation.setDirty(!0);}},{key:"setPivot",value:function setPivot(e,t){typeof e=="number"?_get(_getPrototypeOf(Sd.prototype),"setPivot",this).call(this,e,t):_get(_getPrototypeOf(Sd.prototype),"setPivot",this).call(this,e),this.updatePivot();}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"getLayoutID",value:function getLayoutID(){return this.layoutID;}},{key:"setFlipHorizontally",value:function setFlipHorizontally(e){this.sprite.setFlipHorizontally(e);}},{key:"setFlipVertically",value:function setFlipVertically(e){this.sprite.setFlipVertically(e);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.sprite.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.sprite.getFlipVertically();}},{key:"updatePivot",value:function updatePivot(){var e=this.textDesign.inverted?Math.max(0,this.textDesign.padding):0,t=new B(this.bounds.width-2*e,this.bounds.height-2*e),i=this.getPivot(),o=new B(i.x*this.bounds.width,i.y*this.bounds.height),s=new B(e,e),a=o.subtract(s).divide(t);this.sprite.setPivot(new _rt(a.x,a.y));}}],[{key:"stringify",value:function stringify(e){return JSON.stringify(e,_Sd.serializer());}},{key:"serializer",value:function serializer(){var e=[],t=[],i=function i(o,s){return e[0]===s?"[Circular ~]":"[Circular ~.".concat(t.slice(0,e.indexOf(s)).join("."),"]");};return function(s,n){var a=this;if(e.length>0){var l=e.indexOf(a);~l?(e.splice(l+1),t.splice(l,1/0,s)):(e.push(a),t.push(s)),~e.indexOf(n)&&(n=i.call(a,s,n));}else e.push(n);return n;};}}]);return Sd;}(Qr);});var yi,sv,Fm,U7=d(function(){var _pe$Operations$Overla;of();Le();H();$();Ir();gT();A7();yT();P7();B7();ST();wT();TT();ET();FT();OT();RT();PT();M7();L7();z7();zl();(_pe$Operations$Overla=pe.Operations.OverlayOperation,yi=_pe$Operations$Overla.BLEND_MODES,_pe$Operations$Overla),sv="imgly_font_open_sans_bold",Fm=/*#__PURE__*/function(_hT){_inherits(Fm,_hT);var _super232=_createSuper(Fm);function Fm(e){var _this300;_classCallCheck(this,Fm);_this300=_super232.call(this,e);_this300.previews=Array();_this300.rootOperationStack=[];_this300.deferredRenderQueue=[];_this300.operationStackOffset=1;_this300.enforceOperationOrder=function(){_this300.refreshFlipIndex(),_this300.refreshFrameIndex();};_this300.isSpriteTop=function(e){return _this300.rootOperationStack.findIndex(function(_ref104){var i=_ref104.id;return e===i;})+1===_this300.rootOperationStack.length;};_this300.setWatermarkOpacity=function(e){var i=_this300.sdk.getOperationsStack().getByIdentifier("watermark");i&&i.set({alpha:e});};var i,o;_this300.assetProvider=e.assetProvider||new Ap();var t;if(((i=e==null?void 0:e.watermark)==null?void 0:i.watermarkURI)&&typeof e.watermark.watermarkURI=="string"&&e.watermark.watermarkURI.slice(0,5)==="data:"?t=e.watermark.watermarkURI:((o=e==null?void 0:e.watermark)==null?void 0:o.watermarkURI)&&typeof e.watermark.watermarkURI=="string"&&e.watermark.watermarkURI.trim()&&(t=Ts(e.watermark.watermarkURI)?e.watermark.watermarkURI:_this300.assetProvider.getPath(e.watermark.watermarkURI)),_this300.wrapper=new ma({license:e.license,crossOrigin:e.crossOrigin,assets:{resolver:function resolver(s,n){return _this300.resolveAssetForSDK(s,n);}},editor:{preferredRenderer:e.preferredRenderer,pixelRatio:1},watermark:L(w({},fe(e.watermark)),{watermarkURI:t})}),_this300.editor=_this300.wrapper.getEditor(),_this300.sdk=_this300.editor.getSDK(),_this300.sdk.setRenderMode("adapter"),_this300.tempCanvas=document.createElement("canvas"),_this300.sdk.setCanvas(_this300.tempCanvas),e.preferredRenderer==="webgl"){var s=document.createElement("canvas"),n=s.getContext("webgl")||s.getContext("experimental-webgl");_this300.maxTextureDimension=n.getParameter(n.MAX_TEXTURE_SIZE);}else _this300.maxTextureDimension=1/0;return _this300;}_createClass(Fm,[{key:"configuration",get:function get(){return this.config;}},{key:"pesdk",get:function get(){return this.sdk;}},{key:"rootOperations",get:function get(){return this.rootOperationStack;}},{key:"dispose",value:function dispose(){this.pesdk.dispose(),this.wrapper.dispose();}},{key:"render",value:function render(e){var _this301=this;return new Promise(function(t){var i=function i(){return new Promise(function(o){var s=e.canvas,n=e.getTransform(),a=_this301.outputContainer.getPivot(),l=e.getCanvasBounds(),c=e.quality,u=_this301.tempCanvas;_this301.sdk.setTextureQuality(c);var p=_this301.sdk.getOutputDimensions();return u.width=p.x,u.height=p.y,_this301.sdk.getRenderer().resizeTo(new _rt(u.width,u.height)),_this301.sdk.render(!0).then(function(){var m=s.getContext("2d");m.clearRect(0,0,s.width,s.height),m.save(),m.translate(-l.minX,-l.minY),m.translate(n.position.x,n.position.y),m.rotate(n.rotation),m.scale(n.scale.x,n.scale.y),m.translate(-a.x*u.width,-a.y*u.height),m.scale(1/e.quality,1/e.quality),m.drawImage(u,0,0),m.restore(),t(),_this301.deferredRenderQueue.shift(),_this301.deferredRenderQueue.length?(_this301.sdk.setAllOperationsToDirty(),Promise.resolve(_this301.deferredRenderQueue[0]().then(o))):o();});});};_this301.deferredRenderQueue.push(i),_this301.deferredRenderQueue.length===1&&i();});}},{key:"createPreview",value:function createPreview(e){var t=new mT(e,this);return this.previews.push(t),t;}},{key:"export",value:function _export(){return ie(this,arguments,/*#__PURE__*/regeneratorRuntime.mark(function _callee14(){var _this302=this;var e,t,i,_args15=arguments;return regeneratorRuntime.wrap(function _callee14$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:e=_args15.length>0&&_args15[0]!==undefined?_args15[0]:Oi.IMAGE;t=_args15.length>1&&_args15[1]!==undefined?_args15[1]:li.PNG;i=_args15.length>2&&_args15[2]!==undefined?_args15[2]:1;return _context15.abrupt("return",new Promise(function(o){var s=function s(){return new Promise(function(n){return _this302.sdk["export"](_this302.mapToRenderType(e),_this302.mapToImageFormat(t),i).then(function(a){o(a),_this302.deferredRenderQueue.shift(),_this302.deferredRenderQueue.length?Promise.resolve(_this302.deferredRenderQueue[0]().then(n)):n();});});};_this302.deferredRenderQueue.push(s),_this302.deferredRenderQueue.length===1&&s();}));case 4:case"end":return _context15.stop();}}},_callee14);}));}},{key:"getRootContainers",value:function getRootContainers(){return[this.rootContainer];}},{key:"getOutputContainer",value:function getOutputContainer(){return this.outputContainer;}},{key:"findContainerByID",value:function findContainerByID(e){return e===this.rootContainer.getID()?this.rootContainer:this.rootOperationStack.find(function(t){return t.getID()===e;});}},{key:"findEffectByID",value:function findEffectByID(e){return this.rootOperationStack.find(function(t){return t.getID()===e;});}},{key:"addImage",value:function addImage(e,t,i){if(this.rootContainer)throw new Error("A background image already exists - did you mean to use addSticker?");var o=new ev(e,this);if(this.rootContainer=o,!this.outputContainer){var _o$getBounds=o.getBounds(),s=_o$getBounds.width,n=_o$getBounds.height,a={resolution:{width:s,height:n},flipHorizontally:!1,flipVertically:!1},l=this.sdk.createOperation("output",{},!1),c=this.sdk.createOperation("flip",{},!1);this.insertIntoOperationsStack(l,this.operationStackOffset-1),this.insertIntoOperationsStack(c,this.operationStackOffset),this.outputContainer=new tv(a,l,c,this);}return o;}},{key:"addSticker",value:function addSticker(e,t,i){if(!t)throw new Error("This engine does not support adding stickers as root elements.");this.ensureContainerIsRoot(t);var o=new rv(e,this);return this.addToStackAtIndex(o,i),o;}},{key:"addStickerFromAssets",value:function addStickerFromAssets(e,t,i){var _this303=this;if(!t)throw new Error("This engine does not support adding stickers as root elements.");return this.ensureContainerIsRoot(t),new Promise(function(o,s){var n=new Image();n.onload=function(){var a={image:n,opacity:1},l=new rv(a,_this303);_this303.addToStackAtIndex(l,i),o(l);},n.onerror=function(a){s(a);},n.crossOrigin=_this303.config.crossOrigin||null,n.src=_this303.assetProvider.getAssetSource("sticker",e);});}},{key:"addText",value:function addText(e,t,i){if(!t)throw new Error("This engine does not support adding text as root elements.");if(!this.assetProvider.getFontManager().isFontLoaded(e.fontIdentifier||sv))throw new Error("Adding text synchronously only works if the required font is already loded! Consider using the asynchronous addTextWithFontLoading function instead!");this.ensureContainerIsRoot(t);var s=w({text:"",fontIdentifier:sv,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100},e),n=new _ha(s,this);return this.addToStackAtIndex(n,i),n;}},{key:"addTextWithFontLoading",value:function addTextWithFontLoading(e,t,i){var _this304=this;if(!t)throw new Error("This engine does not support adding text as root elements.");var o=this.assetProvider.getFontManager(),s=e.fontIdentifier||sv;return new Promise(function(n,a){o.loadFontWithIdentifier(s).then(function(){_this304.ensureContainerIsRoot(t);var l=w({text:"",fontIdentifier:sv,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100},e),c=new _ha(l,_this304);_this304.addToStackAtIndex(c,i),n(c);})["catch"](a);});}},{key:"addTextDesignAsync",value:function addTextDesignAsync(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"imgly_text_design_blocks";var t=arguments.length>1?arguments[1]:undefined;var i=arguments.length>2?arguments[2]:undefined;var o=arguments.length>3?arguments[3]:undefined;return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee15(){var _this305=this;var s,n,a,l,u,p;return regeneratorRuntime.wrap(function _callee15$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(i){_context16.next=2;break;}throw new Error("This engine does not support adding TextDesign as a root element.");case 2:s=w({seed:Date.now(),padding:0,text:"",color:[0,0,0],inverted:!1,width:100},t),n=this.wrapper.getTextDesignLayoutByID(e);if(n){_context16.next=5;break;}throw new Error("The layout could not be loaded for the given id: ".concat(e));case 5:a=n.getImagePaths().map(function(h){var g=h.split("/").pop()||"";return{path:h,fullPath:_this305.assetProvider.getAssetSource("textdesign",g)};}),l=this.wrapper.getTextDesignAssetManager(),u=this.wrapper.getTextDesignFontManager().getVariationsByIdentifier();l.setFonts(u);_context16.next=9;return l.loadImages(a);case 9:n.onImagesLoaded();p=Object.keys(u);return _context16.abrupt("return",this.assetProvider.getFontManager().loadFontsWithIdentifiers(p).then(function(){_this305.ensureContainerIsRoot(i);var h=new _Sd(s,n,_this305);return _this305.addToStackAtIndex(h,o),Promise.resolve(h);}));case 12:case"end":return _context16.stop();}}},_callee15,this);}));}},{key:"addDrawing",value:function addDrawing(e,t,i){if(!t)throw new Error("This engine does not support DrawingContainers as root elements.");this.ensureContainerIsRoot(t);var o=new bT(e,this);return this.addToStackAtIndex(o,i),o;}},{key:"addGaussianBlur",value:function addGaussianBlur(e,t,i){this.ensureContainerIsRoot(t);var o=new CT(e,this,this.sdk.createOperation("blur",{},!1));return this.addToStackAtIndex(o,i),o;}},{key:"addRadialBlur",value:function addRadialBlur(e,t,i){this.ensureContainerIsRoot(t);var o=new AT(e,this,this.sdk.createOperation("radial-focus",{},!1));return this.addToStackAtIndex(o,i),o;}},{key:"addMirroredBlur",value:function addMirroredBlur(e,t,i){this.ensureContainerIsRoot(t);var o=new IT(e,this,this.sdk.createOperation("mirrored-focus",{},!1));return this.addToStackAtIndex(o,i),o;}},{key:"addLinearBlur",value:function addLinearBlur(e,t,i){this.ensureContainerIsRoot(t);var o=new kT(e,this,this.sdk.createOperation("linear-focus",{},!1));return this.addToStackAtIndex(o,i),o;}},{key:"addDuoToneFilter",value:function addDuoToneFilter(e,t,i){throw new Error("Not supported! Use addDuoToneFilterFromAssets instead");}},{key:"addDuoToneFilterFromAssets",value:function addDuoToneFilterFromAssets(e,t,i){var _this306=this;this.ensureContainerIsRoot(t);var s=this.sdk.getOperationsStack().getByIdentifier("filter");s&&s.getIdentifier()!==e&&this.sdk.removeOperation(s);var n=s||this.sdk.createOperation("filter",{identifier:e},!1);return new Promise(function(a,l){try{var c=_this306.assetProvider.getDuotoneFilterAsset(e),u={colorIntensity:c.defaultIntensity||0},p=new pe.Operations.FilterOperation.Filters.DuoToneFilter({intensity:u.colorIntensity,lightColor:pe.Color.fromHex(c.lightColor),darkColor:pe.Color.fromHex(c.darkColor)}),m=new _T(p,n,u,_this306);_this306.addToStackAtIndex(m,i),a(m);}catch(c){c&&l(c);}});}},{key:"addLUTFilter",value:function addLUTFilter(e,t,i){throw new Error("Not supported! Use addLUTFilterFromAssets instead");}},{key:"addLUTFilterFromAssets",value:function addLUTFilterFromAssets(e,t,i){var _this307=this;this.ensureContainerIsRoot(t);var s=this.sdk.getOperationsStack().getByIdentifier("filter");s&&s.getIdentifier()!==e&&this.sdk.removeOperation(s);var n=s||this.sdk.createOperation("filter",{identifier:e},!1);return this.getLutFilterImage(e).then(function(a){var l=_this307.assetProvider.getLUTFilterAsset(e),c={horizontalTileCount:l.horizontalTileCount||5,verticalTileCount:l.verticalTileCount||5,intensity:l.defaultIntensity||1},u=new pe.Operations.FilterOperation.Filters.ThreeDLUTFilter(L(w({},c),{image:a})),p=L(w({},c),{lutImage:new Image()}),m=new DT(u,n,p,_this307);return _this307.addToStackAtIndex(m,i),m;});}},{key:"getLutFilterImage",value:function getLutFilterImage(e){var _this308=this;return new Promise(function(t,i){KC({src:_this308.assetProvider.getAssetSource("filter",e),crossOrigin:_this308.config.crossOrigin||null,key:"filter",resolve:t,reject:i});});}},{key:"addAdjustments",value:function addAdjustments(e,t,i){this.ensureContainerIsRoot(t);var o=new fT(e,this,this.sdk.createOperation("adjustments",{},!1));return this.addToStackAtIndex(o,i),o;}},{key:"addOverlay",value:function addOverlay(e,t,i){this.ensureContainerIsRoot(t);var o=new iv(this.sdk.createOperation("overlay",{},!1),e,this);return this.addToStackAtIndex(o,i),o;}},{key:"addOverlayFromAssets",value:function addOverlayFromAssets(e,t,i){var _this309=this;return this.ensureContainerIsRoot(t),new Promise(function(o,s){KC({src:_this309.assetProvider.getAssetSource("overlay",e),crossOrigin:_this309.config.crossOrigin||null,key:"overlay",resolve:function resolve(n){var a=_this309.sdk.getOperationsStack(),l=a.getByIdentifier("overlay");l&&l.getIdentifier()!==e&&a.remove(l);var c=l||_this309.sdk.createOperation("overlay",{},!1),u={image:n,opacity:1,blendMode:Ie.NORMAL},p=new iv(c,u,_this309);_this309.addToStackAtIndex(p,i),o(p);},reject:s});});}},{key:"addFrame",value:function addFrame(e,t,i){throw new Error("Not supported!");}},{key:"addFrameFromAssets",value:function addFrameFromAssets(e,t,i){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee16(){var o,s,n,a,l,c,u;return regeneratorRuntime.wrap(function _callee16$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:this.ensureContainerIsRoot(t);o=this.assetProvider.getFrameAsset(e);if(o){_context17.next=4;break;}throw new Error("The requested asset does not exist! ".concat(e));case 4:s=new xT(o,this);_context17.next=7;return s.load();case 7:n=this.getOutputContainer().getBounds(),a=Math.min(n.width,n.height),l=this.sdk.createOperation("frame",{},!1);l.setFrame(s.getFrame());c={opacity:1,tintColor:[1,1,1],tintable:!1,width:Math.max(1,.1*a),imageGroups:s.getFrame().imageGroups},u=new vT(l,c,this);return _context17.abrupt("return",(this.addToStackAtIndex(u,i),Promise.resolve(u)));case 11:case"end":return _context17.stop();}}},_callee16,this);}));}},{key:"removeEffect",value:function removeEffect(e){if(!e.isValid())return;var i=e.getOperation();this.sdk.removeOperation(i),this.sdk.setAllOperationsToDirty(),this.rootOperationStack.splice(e.getIndexInParent(),1);}},{key:"removeContainer",value:function removeContainer(e){if(!e.isValid()||e.type==="output")return;var i=e.getOperation();this.sdk.removeOperation(i),this.sdk.setAllOperationsToDirty(),this.rootOperationStack.splice(e.getIndexInParent(),1);}},{key:"refreshOutputIndex",value:function refreshOutputIndex(){var e=this.sdk.getOperationsStack().getIndexByIdentifier("output");this.moveInOperationsStack(e,this.operationStackOffset-1);}},{key:"refreshFlipIndex",value:function refreshFlipIndex(){var e=this.sdk.getOperationsStack().getIndexByIdentifier("flip"),t=this.sdk.getOperationsStack().getStack().length-1;e!==t&&this.moveInOperationsStack(e,t);}},{key:"refreshFrameIndex",value:function refreshFrameIndex(){var e=this.sdk.getOperationsStack().getIndexByIdentifier("frame"),t=this.sdk.getOperationsStack().getStack().length-1;e!==-1&&e!==t&&this.moveInOperationsStack(e,t);}},{key:"mapToRenderType",value:function mapToRenderType(e){switch(e){case Oi.IMAGE:return pe.RenderType.IMAGE;case Oi.DATA_URL:return pe.RenderType.DATAURL;case Oi.BLOB:return pe.RenderType.BLOB;case Oi.MSBLOB:return pe.RenderType.MSBLOB;default:return pe.RenderType.IMAGE;}}},{key:"mapToImageFormat",value:function mapToImageFormat(e){switch(e){case li.PNG:return pe.ImageFormat.PNG;case li.JPEG:return pe.ImageFormat.JPEG;default:return null;}}},{key:"mapBlendMode",value:function mapBlendMode(e){switch(e){case yi.NORMAL:return Ie.NORMAL;case yi.OVERLAY:return Ie.OVERLAY;case yi.HARD_LIGHT:return Ie.HARD_LIGHT;case yi.SOFT_LIGHT:return Ie.SOFT_LIGHT;case yi.MULTIPLY:return Ie.MULTIPLY;case yi.DARKEN:return Ie.DARKEN;case yi.LIGHTEN:return Ie.LIGHTEN;case yi.SCREEN:return Ie.SCREEN;case yi.COLOR_BURN:return Ie.COLOR_BURN;default:return Ie.NORMAL;}}},{key:"reverseMapBlendMode",value:function reverseMapBlendMode(e){switch(e){case Ie.NORMAL:return yi.NORMAL;case Ie.OVERLAY:return yi.OVERLAY;case Ie.HARD_LIGHT:return yi.HARD_LIGHT;case Ie.SOFT_LIGHT:return yi.SOFT_LIGHT;case Ie.MULTIPLY:return yi.MULTIPLY;case Ie.DARKEN:return yi.DARKEN;case Ie.LIGHTEN:return yi.LIGHTEN;case Ie.SCREEN:return yi.SCREEN;case Ie.COLOR_BURN:return yi.COLOR_BURN;default:return yi.NORMAL;}}},{key:"createSpriteOperation",value:function createSpriteOperation(){return this.sdk.createOperation("sprite",{},!1);}},{key:"moveIndex",value:function moveIndex(e,t){var i=this.getSiblingIndex(e);if(i===-1)throw new Error("The item to be moved is not part of any stack.");this.moveInStack(this.rootOperationStack,i,t);var o=this.operationStackOffset;this.moveInOperationsStack(i+o,t+o),this.enforceOperationOrder();}},{key:"ensureContainerIsRoot",value:function ensureContainerIsRoot(e){if(e.getID()!==this.rootContainer.getID())throw new Error("This engine doesn't support adding this effect/container to anything other than the root image container");}},{key:"addToStackAtIndex",value:function addToStackAtIndex(e,t){if(t&&t<0)throw new Error("The given index may not be negative: ".concat(t));t===void 0?this.rootOperationStack.push(e):this.rootOperationStack.splice(t,0,e);var i=this.rootOperationStack.length-1,o=t!==void 0?t:i;o+=this.operationStackOffset,h7(e)?this.insertIntoOperationsStack(e.getOperation(),o):this.insertIntoOperationsStack(e.getOperation(),o),this.sdk.setAllOperationsToDirty();}},{key:"insertIntoOperationsStack",value:function insertIntoOperationsStack(e,t){var i=this.sdk.getOperationsStack().getStack(),o=i.length,s=Math.max(Math.min(t,o),0);for(var n=o-1;n>=s;n-=1){var a=i[n];i[n+1]=a;}i[s]=e,this.sdk.setAllOperationsToDirty(),this.enforceOperationOrder();}},{key:"moveInStack",value:function moveInStack(e,t,i){var o=e.length,s=Math.max(Math.min(t,o-1),0),n=Math.max(Math.min(i,o-1),0);if(s===n)return;var a=e[s];if(s<n)for(var l=s+1;l<=n;l+=1){e[l-1]=e[l];}else for(var _l7=s-1;_l7>=n;_l7-=1){e[_l7+1]=e[_l7];}e[n]=a;}},{key:"moveInOperationsStack",value:function moveInOperationsStack(e,t){var i=this.sdk.getOperationsStack().getStack(),o=i.length,s=Math.min(Math.max(0,e),o-1),n=Math.min(Math.max(0,t),o-1);if(s===n)return;var a=i[s];if(s<n)for(var l=s+1;l<=n;l+=1){i[l-1]=i[l];}else for(var _l8=s-1;_l8>=n;_l8-=1){i[_l8+1]=i[_l8];}i[n]=a,this.sdk.getOperationsStack().setAllToDirty();}},{key:"getSiblingIndex",value:function getSiblingIndex(e){return e.getIndexInParent();}},{key:"resolveAssetForSDK",value:function resolveAssetForSDK(e,t){switch(t=t,e){case"filter":return this.assetProvider.getAssetSource("filter",t.identifier);case"overlay":return this.assetProvider.getAssetSource("overlay",t.identifier);case"font":return this.assetProvider.getAssetSource("font",t.identifier);}return"";}}]);return Fm;}(hT);});var nv,N7=d(function(){of();H();nv=/*#__PURE__*/function(){function nv(e){var _this310=this;_classCallCheck(this,nv);this.isEmpty=!1;this.isValid=!1;this.isWhiteLabel=function(){return _this310.isValid&&_this310.licenseChecker.isWhiteLabel();};this.areCustomAssetsAllowed=function(){return _this310.isEmpty||!_this310.isValid||_this310.licenseChecker.areCustomAssetsAllowed();};e&&e.length!==0?(this.licenseChecker=new pe.LicenseChecker(e),this.isValid=this.licenseChecker.validate()):e===""&&(this.isEmpty=!0);}_createClass(nv,[{key:"isToolAllowed",value:function isToolAllowed(e){return this.licenseChecker&&this.isValid&&e!==C.CUSTOM?this.licenseChecker.isToolAllowed(e):!0;}}]);return nv;}();});var H7=d(function(){U7();Ul();ns();wT();OT();ST();PT();FT();TT();yT();ET();gT();RT();BT();N7();});var fa=d(function(){H7();Ir();});var LT,W7,ga,as,Or,zT,eo=d(function(){fa();LT=function LT(r){var e=Number(r).toString(16);return e.length<2&&(e="0".concat(e)),e;},W7=function W7(r,e,t){var i=LT(r*255),o=LT(e*255),s=LT(t*255);return"#".concat(i).concat(o).concat(s);},ga=function ga(r){if(Zx(r)){var _r3=_slicedToArray(r,4),e=_r3[0],t=_r3[1],i=_r3[2],o=_r3[3];return"rgba(".concat(e*255,", ").concat(t*255,", ").concat(i*255,", ").concat(o,")");}if(Jx(r)){var _e7=r.r,_t11=r.g,_i20=r.b,_o8=r.a;return"rgba(".concat(_e7*255,", ").concat(_t11*255,", ").concat(_i20*255,", ").concat(_o8,")");}if(Yx(r)){var _r4=_slicedToArray(r,3),_e8=_r4[0],_t12=_r4[1],_i21=_r4[2];return W7(_e8,_t12,_i21);}if(Xx(r)){var _e9=r.r,_t13=r.g,_i22=r.b;return W7(_e9,_t13,_i22);}return r;},as=function as(r){return r.map(function(e){return{identifier:e.name,color:e.color,colorString:ga(e.color)};});},Or={black:[0/255,0/255,0/255,1],white:[255/255,255/255,255/255,1],gray:[191/255,191/255,191/255,1],blue:[102/255,134/255,255/255,1],skyBlue:[102/255,204/255,255/255,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[255/255,247/255,99/255,1]},zT={transparent:[0/255,0/255,0/255,0],black:[0/255,0/255,0/255,1],white:[255/255,255/255,255/255,1],blue:[102/255,134/255,255/255,1],skyBlue:[102/255,204/255,255/255,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[255/255,247/255,99/255,1]};});var av,UT=d(function(){H();av=[C.LIBRARY,[C.TRANSFORM,C.FILTER,C.ADJUSTMENT],[C.FOCUS,C.FRAME,C.OVERLAY],[C.TEXT,C.TEXT_DESIGN,C.STICKER,C.BRUSH]];});var Nl,lv=d(function(){H();$();UT();Nl={license:"",order:"default",language:"en",theme:"dark",layout:"advanced",mainCanvasActions:[Be.UNDO,Be.REDO,Be.EXPORT,Be.CLOSE],displayResizeWarning:!1,displayCloseWarning:!0,displayCanvasRendererWarning:!0,displayToolControlBarTitle:!0,displaySerializationModal:!0,engine:{crossOrigin:"anonymous",downscaleOptions:{maxMegaPixels:{desktop:10,mobile:5}},preferredRenderer:mF()?"webgl":"canvas"},enableZoom:!0,scaleImageToFit:!0,restrictZoomOutToDefault:!0,forceCrop:!1,assetBaseUrl:"assets/",defaultTool:C.FILTER,tools:av,snapping:new sb(),filter:new cb(),focus:new ub(),adjustment:new lb(),library:new bb(),overlay:new _b(),sticker:new yb(),text:new xb(),textdesign:new Cb(),frame:new mb(),brush:new vb(),transform:new Sb(),"export":{image:{exportType:Oi.IMAGE,format:li.PNG,quality:.9,enableDownload:!0},filename:"photoeditorsdk-export"},custom:{},watermark:new ab()};});var G7=d(function(){});var wd,cv=d(function(){var _wd;H();wd=(_wd={},_defineProperty(_wd,ze.BRIGHTNESS,0),_defineProperty(_wd,ze.SATURATION,0),_defineProperty(_wd,ze.CONTRAST,0),_defineProperty(_wd,ze.GAMMA,0),_defineProperty(_wd,ze.CLARITY,0),_defineProperty(_wd,ze.EXPOSURE,0),_defineProperty(_wd,ze.SHADOWS,0),_defineProperty(_wd,ze.HIGHLIGHTS,0),_defineProperty(_wd,ze.WHITES,0),_defineProperty(_wd,ze.BLACKS,0),_defineProperty(_wd,ze.TEMPERATURE,0),_defineProperty(_wd,ze.SHARPNESS,0),_wd);});var Om,V7=d(function(){Le();Om=/*#__PURE__*/function(){function Om(){_classCallCheck(this,Om);this.snapshots=[];this.observeIndex=le.box(-1);}_createClass(Om,[{key:"addSnapshot",value:function addSnapshot(e){this.index===this.snapshots.length-1?this.snapshots=this.snapshots.concat(JSON.stringify(e)):this.snapshots=[].concat(_toConsumableArray(this.snapshots.slice(0,this.index+1)),[JSON.stringify(e)]),this.observeIndex.set(this.snapshots.length-1);}},{key:"getCurrentState",value:function getCurrentState(){return this.snapshots[this.index];}},{key:"reset",value:function reset(){this.snapshots=[],this.observeIndex.set(-1);}},{key:"undo",value:function undo(){return this.canUndo?(this.observeIndex.set(this.index-1),JSON.parse(this.getCurrentState())):null;}},{key:"redo",value:function redo(){return this.canRedo?(this.observeIndex.set(this.index+1),JSON.parse(this.getCurrentState())):null;}},{key:"discardSnapshotsfromIndex",value:function discardSnapshotsfromIndex(e){e>0&&e<this.snapshots.length-1&&(this.snapshots=this.snapshots.slice(0,e),this.observeIndex.set(this.snapshots.length-1));}},{key:"index",get:function get(){return this.observeIndex.get();}},{key:"canUndo",get:function get(){return this.index>0;}},{key:"canRedo",get:function get(){return this.snapshots.length-1>this.index;}}]);return Om;}();f([k],Om.prototype,"index",1),f([k],Om.prototype,"canUndo",1),f([k],Om.prototype,"canRedo",1);});var Ee,kd,Rm=d(function(){Le();H();V7();(function(i){i.ADD="add",i.EDIT="edit",i.DELETE="delete";})(Ee||(Ee={}));kd=/*#__PURE__*/function(){function kd(e){var _this311=this;_classCallCheck(this,kd);this.awaitHistoryChange=!1;this.isDirtySinceSave=!1;this.undo=function(){return ie(_this311,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee17(){var _e10;return regeneratorRuntime.wrap(function _callee17$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:if(this.awaitHistoryChange){_context18.next=7;break;}this.editor.configStore.events.onUndo(),this.awaitHistoryChange=!0;_e10=this.appHistoryManager.undo();_context18.next=5;return this.applyState(_e10);case 5:this.awaitHistoryChange=!1;this.canUndo||(this.isDirtySinceSave=!1);case 7:case"end":return _context18.stop();}}},_callee17,this);}));};this.redo=function(){return ie(_this311,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var _e11;return regeneratorRuntime.wrap(function _callee18$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(this.awaitHistoryChange){_context19.next=6;break;}this.editor.configStore.events.onRedo(),this.awaitHistoryChange=!0;_e11=this.appHistoryManager.redo();_context19.next=5;return this.applyState(_e11);case 5:this.awaitHistoryChange=!1;case 6:case"end":return _context19.stop();}}},_callee18,this);}));};this.editor=e,this.appHistoryManager=new Om();}_createClass(kd,[{key:"canUndo",get:function get(){return this.appHistoryManager.canUndo;}},{key:"canRedo",get:function get(){return this.appHistoryManager.canRedo;}},{key:"getHistoryState",value:function getHistoryState(){var _ref105;var e=fe(this.editor.adjustmentsToolStore.state),t=fe(this.editor.filterToolStore.state),i=this.editor.focusToolStore.getFocusStateForHistory(),o=fe(this.editor.overlayToolStore.state),s=fe(this.editor.frameToolStore.state),n=this.editor.brushToolStore.strokes,a=this.editor.spriteStore.getSpriteHistoryState(),l=this.editor.transformToolStore.serializableState;return _ref105={},_defineProperty(_ref105,C.ADJUSTMENT,e),_defineProperty(_ref105,C.FILTER,t),_defineProperty(_ref105,C.FOCUS,i),_defineProperty(_ref105,C.OVERLAY,o),_defineProperty(_ref105,C.FRAME,s),_defineProperty(_ref105,C.BRUSH,n),_defineProperty(_ref105,"sprite",a),_defineProperty(_ref105,C.TRANSFORM,l),_ref105;}},{key:"addInitialSnapshot",value:function addInitialSnapshot(){var e=this.getHistoryState();this.appHistoryManager.addSnapshot({state:e,type:Ee.ADD,description:"Initial State"});}},{key:"addSnapshot",value:function addSnapshot(e,t,i){var o;e?e.sprite||e.transform?o=w(w({},this.getHistoryState()),e):o=e:o=this.getHistoryState(),this.appHistoryManager.addSnapshot({state:o,type:t,description:i}),this.editor.configStore.events.onHistoryChange(),this.isDirtySinceSave||(this.isDirtySinceSave=!0);}},{key:"applyState",value:function applyState(t){return ie(this,arguments,/*#__PURE__*/regeneratorRuntime.mark(function _callee19(_ref106){var e,i,_i24,_i23,o;return regeneratorRuntime.wrap(function _callee19$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:e=_ref106.state;_context20.prev=1;if(!e){_context20.next=46;break;}i=Object.keys(e);_i24=0,_i23=i;case 5:if(!(_i24<_i23.length)){_context20.next=44;break;}o=_i23[_i24];_context20.t0=o;_context20.next=_context20.t0===C.FILTER?10:_context20.t0===C.ADJUSTMENT?13:_context20.t0===C.OVERLAY?16:_context20.t0===C.FRAME?19:_context20.t0===C.FOCUS?22:_context20.t0===C.BRUSH?25:_context20.t0==="sprite"?28:_context20.t0===C.TRANSFORM?31:41;break;case 10:_context20.next=12;return this.editor.filterToolStore.updateStateFromHistory(e[o]);case 12:return _context20.abrupt("break",41);case 13:_context20.next=15;return this.editor.adjustmentsToolStore.updateStateFromHistory(e[o]);case 15:return _context20.abrupt("break",41);case 16:_context20.next=18;return this.editor.overlayToolStore.updateStateFromHistory(e[o]);case 18:return _context20.abrupt("break",41);case 19:_context20.next=21;return this.editor.frameToolStore.updateStateFromHistory(e[o]);case 21:return _context20.abrupt("break",41);case 22:_context20.next=24;return this.editor.focusToolStore.updateStateFromHistory(e[o],this.editor.canvasStore.sizeVector);case 24:return _context20.abrupt("break",41);case 25:_context20.next=27;return this.editor.brushToolStore.updateStateFromHistory(e[o]);case 27:return _context20.abrupt("break",41);case 28:_context20.next=30;return this.editor.spriteStore.updateStateFromHistory(e[o]);case 30:return _context20.abrupt("break",41);case 31:this.editor.outputContainer.pauseChildrenUpdates();this.editor.transformToolStore.onEnter();this.editor.transformToolStore.updateStateFromSerialization(e[o]);this.editor.transformToolStore.onLeave();this.editor.transformToolStore.onEnter();this.editor.transformToolStore.onLeave();this.editor.outputContainer.resumeChildrenUpdates();_context20.next=40;return this.editor.wait();case 40:return _context20.abrupt("break",41);case 41:_i24++;_context20.next=5;break;case 44:_context20.next=46;return this.editor.renderPromise();case 46:_context20.next=51;break;case 48:_context20.prev=48;_context20.t1=_context20["catch"](1);console.error(_context20.t1),this.editor.modalStore.showActionModal({type:ct.ERROR,identifier:"unexpectedError",error:_context20.t1,handleConfirm:function handleConfirm(){window.location.reload();}});case 51:case"end":return _context20.stop();}}},_callee19,this,[[1,48]]);}));}},{key:"isDirty",value:function isDirty(){return this.appHistoryManager.snapshots.length>1;}},{key:"reset",value:function reset(){this.appHistoryManager.reset(),this.isDirtySinceSave=!1;}},{key:"getCurrentSpritesState",value:function getCurrentSpritesState(){var e,t;return(t=(e=JSON.parse(this.appHistoryManager.getCurrentState()))==null?void 0:e.state)==null?void 0:t.sprite;}}]);return kd;}();f([T],kd.prototype,"undo",2),f([T],kd.prototype,"redo",2),f([k],kd.prototype,"canUndo",1),f([k],kd.prototype,"canRedo",1);});var _ei,en=d(function(){$();_ei=/*#__PURE__*/function(){function ei(e,t){var _this312=this;_classCallCheck(this,ei);this.assets=[];this.entityMapper=function(e){return"items"in e?_this312.categoryMapper(e):_this312.itemMapper(e);};this.categoryMapper=function(e){return e?L(w({},e),{thumbnailURI:_this312.getCategoryThumbnailURI(e),name:_this312.config.locale[e.identifier]||e.name,items:e.items.map(_this312.itemMapper)}):null;};this.itemMapper=function(e){return L(w({},e),{thumbnailURI:_this312.getItemThumbnailURI(e),name:_this312.config.locale[e.identifier]||("name"in e?e.name:"")});};this.getCategoryThumbnailURI=function(e){return e.thumbnailURI?Ts(e.thumbnailURI)||e.thumbnailURI.substr(0,10)==="data:image"?e.thumbnailURI:_this312.config.getAssetPath(e.thumbnailURI||""):"";};this.getItemThumbnailURI=function(e){var i;if((i=e.thumbnailURI)==null?void 0:i.trim())return Ts(e.thumbnailURI)||e.thumbnailURI.substr(0,10)==="data:image"?e.thumbnailURI:_this312.config.getAssetPath(e.thumbnailURI||"");var t=e[_this312.config.itemFallbackKey];return t?_this312.config.getAssetPath(t):"";};this.config=t,this.assets=e.map(this.entityMapper).filter(Boolean);}_createClass(ei,[{key:"categories",get:function get(){return this.assets.reduce(function(e,t){if(_ei.isCategory(t))return[].concat(_toConsumableArray(e),[t]);},[]).filter(Boolean);}},{key:"items",get:function get(){return this.assets.reduce(function(e,t){return _ei.isCategory(t)?[].concat(_toConsumableArray(e),_toConsumableArray(t.items)):[].concat(_toConsumableArray(e),[t]);},[]).filter(Boolean);}}],[{key:"isCategory",value:function isCategory(e){return Object.prototype.hasOwnProperty.call(e,"items");}}]);return ei;}();});var ba,af=d(function(){ba=/*#__PURE__*/function(){function ba(e,t){_classCallCheck(this,ba);this.from=e,this.to=t;}_createClass(ba,[{key:"contains",value:function contains(e){return this.from<=e&&e<=this.to;}},{key:"clamp",value:function clamp(e){return Math.min(Math.max(this.from,e),this.to);}}]);return ba;}();});var Jne,Am,j7=d(function(){Le();H();af();cv();Jne=new ba(-1,1),Am=/*#__PURE__*/function(){function Am(e){var _this313=this;_classCallCheck(this,Am);this.editAdjustments=function(_ref107){var e=_ref107.type,t=_ref107.value;var i=Jne.clamp(t);_this313.state[e]=i;};this.reset=function(){oi(function(){_this313.indexInContainer===-1&&(Object.keys(wd).forEach(function(e){_this313.state[e]=wd[e];}),_this313.orderHelper.removeIndex(C.ADJUSTMENT));});};this.setAdjustmentEffect=function(e){var t=_this313.orderHelper.addIndex(C.ADJUSTMENT);return _this313.effect?_this313.effect.setProperties(e):_this313.effect=_this313.engineMediator.engine.addAdjustments(e,_this313.engineMediator.image.container,t),_this313.effect.getProperties();};this.removeAdjustmentEffect=function(){_this313.effect&&(_this313.engineMediator.engine.removeEffect(_this313.effect),_this313.indexInContainer===-1&&(_this313.effect=void 0));};this.engineMediator=e,this.state=wd;}_createClass(Am,[{key:"indexInContainer",get:function get(){return this.effect?this.effect.getIndexInParent():-1;}},{key:"orderHelper",get:function get(){return this.engineMediator.orderHelper;}}]);return Am;}();f([le],Am.prototype,"state",2),f([T],Am.prototype,"editAdjustments",2),f([T],Am.prototype,"reset",2);});var dt,$7=d(function(){Le();H();$();Rm();en();cv();j7();dt=/*#__PURE__*/function(){function dt(e){var _this314=this;_classCallCheck(this,dt);this.dirty=le.box(!1);this.editAdjustments=function(_ref108){var e=_ref108.type,t=_ref108.value;_this314.pureSetAdjustment({type:e,value:t}),_this314.editor.render();};this.toolSnapshot=function(){(0,fi["default"])(_this314.state,wd)?_this314.dirty.set(!1):_this314.dirty.set(!0),_this314.addSnapshot(Ee.EDIT,C.ADJUSTMENT);};this.addSnapshot=function(e,t){_this314.editor.addSnapshot(void 0,e,t);};this.toggleOptionSelection=function(e){_this314.selectedOption=e;};this.pureSetAdjustment=function(_ref109){var e=_ref109.type,t=_ref109.value;var i=_this314.adjustmentsStore.setAdjustmentEffect(_defineProperty({},e,t));_this314.adjustmentsStore.editAdjustments({type:e,value:i[e]});};this.pureReset=function(){_this314.dirty.set(!1),_this314.adjustmentsStore.removeAdjustmentEffect(),_this314.adjustmentsStore.reset(),_this314.selectedOption="";};this.reset=function(){_this314.pureReset(),_this314.addSnapshot(Ee.DELETE,_this314.locale.controls.buttonReset),_this314.editor.render();};this.updateStateFromHistory=function(e){if(!(0,fi["default"])(e,_this314.state)){if((0,fi["default"])(e,wd)){_this314.pureReset();return;}oi(function(){_this314.dirty.set(Object.values(e).some(function(t){return t!==0;})),Object.keys(e).forEach(function(t){_this314.pureSetAdjustment({type:t,value:e[t]});});});}};this.updateStateFromSerialization=function(e){_this314.updateStateFromHistory(e);};this.editor=e,this.adjustmentsStore=new Am(this.editor.engineMediator),this.selectedOption="";var t=this.editor.assetProvider.getAssets("adjustment");this.entityManager=new _ei(t,L(w({},this.config),{locale:w(w({},this.locale.items),this.locale.categories),getAssetPath:this.editor.getAssetPath("adjustment")}));}_createClass(dt,[{key:"selectedAdjustmentType",get:function get(){return this.selectedOption;}},{key:"isDirty",get:function get(){return this.dirty.get();}},{key:"state",get:function get(){return this.adjustmentsStore.state;}},{key:"selectedOptionLabel",get:function get(){var _this315=this;var e=this.items.find(function(t){return t?t.identifier===_this315.selectedOption:!1;});return e?e.name:"";}},{key:"brightness",get:function get(){return this.state.brightness;}},{key:"saturation",get:function get(){return this.state.saturation;}},{key:"contrast",get:function get(){return this.state.contrast;}},{key:"gamma",get:function get(){return this.state.gamma;}},{key:"clarity",get:function get(){return this.state.clarity;}},{key:"exposure",get:function get(){return this.state.exposure;}},{key:"shadows",get:function get(){return this.state.shadows;}},{key:"highlights",get:function get(){return this.state.highlights;}},{key:"whites",get:function get(){return this.state.whites;}},{key:"blacks",get:function get(){return this.state.blacks;}},{key:"temperature",get:function get(){return this.state.temperature;}},{key:"sharpness",get:function get(){return this.state.sharpness;}},{key:"categories",get:function get(){return this.entityManager.categories;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"config",get:function get(){return this.editor.configStore.config[C.ADJUSTMENT];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.ADJUSTMENT];}}]);return dt;}();f([le],dt.prototype,"selectedOption",2),f([le],dt.prototype,"dirty",2),f([T],dt.prototype,"editAdjustments",2),f([T],dt.prototype,"toggleOptionSelection",2),f([T],dt.prototype,"pureSetAdjustment",2),f([T],dt.prototype,"pureReset",2),f([T],dt.prototype,"reset",2),f([T],dt.prototype,"updateStateFromHistory",2),f([T],dt.prototype,"updateStateFromSerialization",2),f([k],dt.prototype,"selectedAdjustmentType",1),f([k],dt.prototype,"isDirty",1),f([k],dt.prototype,"state",1),f([k],dt.prototype,"selectedOptionLabel",1),f([k],dt.prototype,"brightness",1),f([k],dt.prototype,"saturation",1),f([k],dt.prototype,"contrast",1),f([k],dt.prototype,"gamma",1),f([k],dt.prototype,"clarity",1),f([k],dt.prototype,"exposure",1),f([k],dt.prototype,"shadows",1),f([k],dt.prototype,"highlights",1),f([k],dt.prototype,"whites",1),f([k],dt.prototype,"blacks",1),f([k],dt.prototype,"temperature",1),f([k],dt.prototype,"sharpness",1),f([k],dt.prototype,"categories",1),f([k],dt.prototype,"items",1),f([k],dt.prototype,"config",1),f([k],dt.prototype,"locale",1);});var NT=d(function(){cv();$7();});var dv,HT=d(function(){dv={identifier:"identity",intensity:1,isDuotone:!1};});var Zne,Hl,q7=d(function(){Le();H();af();HT();Zne=new ba(0,1),Hl=/*#__PURE__*/function(){function Hl(e){var _this316=this;_classCallCheck(this,Hl);this.changeIdentifier=function(e){_this316.state.identifier=e;};this.changeIfDuotone=function(e){_this316.state.isDuotone=e;};this.changeIntensity=function(e){var t=Zne.clamp(e);_this316.state.intensity=t;};this.reset=function(){_this316.indexInContainer===-1&&(_this316.state.identifier=dv.identifier,_this316.state.intensity=dv.intensity,_this316.removeIndex());};this.setFilterEffect=function(_ref110){var e=_ref110.identifier,t=_ref110.intensity,i=_ref110.isDuotone;var o=_this316.state,s=function s(){_this316.changeIdentifier(e),_this316.changeIntensity(t),_this316.changeIfDuotone(i);};_this316.removeFilterEffect();var n=_this316.engineMediator.orderHelper.addIndex(C.FILTER);return i?new Promise(function(a,l){_this316.engineMediator.engine.addDuoToneFilterFromAssets(e,_this316.engineMediator.image.container,n).then(function(c){s(),_this316.effect=c,_this316.effect.setProperties({colorIntensity:t}),a();})["catch"](function(c){_this316.fallbackOnError(o),l(c);});}):new Promise(function(a,l){_this316.engineMediator.engine.addLUTFilterFromAssets(e,_this316.engineMediator.image.container,n).then(function(c){s(),_this316.effect=c,_this316.effect.setProperties({intensity:t}),a();})["catch"](function(c){_this316.fallbackOnError(o),l(c);});});};this.removeFilterEffect=function(){_this316.effect&&(_this316.engineMediator.engine.removeEffect(_this316.effect),_this316.indexInContainer===-1&&(_this316.effect=void 0));};this.setEffectProperties=function(_ref111){var e=_ref111.intensity;return _this316.effect?(_this316.state.isDuotone?_this316.effect.setProperties({colorIntensity:e}):_this316.effect.setProperties({intensity:e}),_this316.effect.getProperties()):null;};this.removeIndex=function(){_this316.engineMediator.orderHelper.removeIndex(C.FILTER);};this.fallbackOnError=function(e){_this316.changeIdentifier(e.identifier),_this316.changeIntensity(e.intensity),e.identifier==="identity"&&_this316.removeIndex();};this.engineMediator=e,this.state=dv;}_createClass(Hl,[{key:"indexInContainer",get:function get(){return this.effect?this.effect.getIndexInParent():-1;}}]);return Hl;}();f([le],Hl.prototype,"state",2),f([T],Hl.prototype,"changeIdentifier",2),f([T],Hl.prototype,"changeIfDuotone",2),f([T],Hl.prototype,"changeIntensity",2),f([T],Hl.prototype,"reset",2);});var uv,ti,K7=d(function(){Le();H();Rm();en();q7();uv="identity",ti=/*#__PURE__*/function(){function ti(e){var _this317=this;_classCallCheck(this,ti);this.selectFilter=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return ie(_this317,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee20(){var _i25;return regeneratorRuntime.wrap(function _callee20$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:if(!(e!==this.identifier)){_context21.next=7;break;}_i25=this.selectedCategory;_context21.next=4;return this.filterStore.setFilterEffect({identifier:e,intensity:t,isDuotone:this.isOptionDuoTone(e)});case 4:this.selectedCategory===uv&&(this.selectedCategory=_i25);this.editor.render();this.addSnapshot(Ee.ADD,C.FILTER);case 7:case"end":return _context21.stop();}}},_callee20,this);}));};this.changeIntensity=function(e){var t=_this317.isOptionDuoTone(_this317.identifier),i=_this317.filterStore.setEffectProperties({intensity:e});if(i){var o=t?i.colorIntensity:i.intensity;_this317.filterStore.changeIntensity(o),_this317.editor.render();}};this.setImageAndGetPreviews=function(){return ie(_this317,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee21(){var e;return regeneratorRuntime.wrap(function _callee21$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:e=this.editor.activeStore.state.image;_context22.next=3;return this.editor.previewThumbnails.addImageToContainer(e);case 3:_context22.next=5;return this.getAllFilterPreview();case 5:case"end":return _context22.stop();}}},_callee21,this);}));};this.getAllFilterPreview=function(){return ie(_this317,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee22(){var _this318=this;var e,t,i,o;return regeneratorRuntime.wrap(function _callee22$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:e=this.entityManager.items.map(function(s){return{identifier:s.identifier,isDuotone:_this318.isOptionDuoTone(s.identifier)};});_context23.next=3;return this.editor.previewThumbnails.getAllFilterPreviewThumbnails(e);case 3:t=_context23.sent;_context23.next=6;return this.editor.wait();case 6:i=this.config,o=this.editor.configStore.assetProvider.getAssets("filter").map(function(s){return L(w({},s),{items:s.items.map(function(n){return L(w({},n),{thumbnailURI:t[n.identifier]});})});});this.entityManager=new _ei(o,L(w({},i),{locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")}));case 8:case"end":return _context23.stop();}}},_callee22,this);}));};this.toolSnapshot=function(){_this317.addSnapshot(Ee.EDIT,_this317.locale.controls.sliderIntensity);};this.addSnapshot=function(e,t){_this317.editor.addSnapshot(void 0,e,t);};this.pureReset=function(){_this317.selectedCategory=uv,_this317.filterStore.removeFilterEffect(),_this317.filterStore.reset();};this.reset=function(){_this317.pureReset(),_this317.addSnapshot(Ee.DELETE,_this317.locale.controls.buttonReset),_this317.editor.render();};this.toggleCategorySelection=function(e){_this317.selectedCategory=_this317.selectedCategory===e?uv:e;};this.updateStateFromSerialization=function(_ref112){var e=_ref112.identifier,t=_ref112.intensity;var i=_this317.doesFilterAssetExist(e);if(i){var o=mu(i);return _this317.filterStore.setFilterEffect({identifier:e,intensity:t,isDuotone:o});}return new Promise(function(o,s){s(new Error("Filter Asset ".concat(e," doesn't exist")));});};this.updateStateFromHistory=function(e){return ie(_this317,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee23(){return regeneratorRuntime.wrap(function _callee23$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:return _context24.abrupt("return",e.identifier==="identity"?(this.pureReset(),new Promise(function(t){t();})):this.filterStore.setFilterEffect(e));case 1:case"end":return _context24.stop();}}},_callee23,this);}));};this.doesFilterAssetExist=function(e){return _this317.entityManager.items.find(function(t){return e===t.identifier;});};this.isOptionDuoTone=function(e){var t=_this317.doesFilterAssetExist(e);return t?mu(t):!1;};this.editor=e,this.selectedCategory=uv,this.filterStore=new Hl(this.editor.engineMediator);var t=this.config,i=this.editor.configStore.assetProvider.getAssets("filter");this.entityManager=new _ei(i,L(w({},t),{locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")}));}_createClass(ti,[{key:"state",get:function get(){return this.filterStore.state;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"intensity",get:function get(){return this.state.intensity;}},{key:"isDuotone",get:function get(){return this.state.isDuotone;}},{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"config",get:function get(){return this.editor.configStore.config[C.FILTER];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.FILTER];}},{key:"categories",get:function get(){return this.entityManager.categories;}},{key:"items",get:function get(){return this.entityManager.items;}}]);return ti;}();f([le],ti.prototype,"selectedCategory",2),f([le],ti.prototype,"entityManager",2),f([T],ti.prototype,"selectFilter",2),f([T],ti.prototype,"changeIntensity",2),f([T],ti.prototype,"pureReset",2),f([T],ti.prototype,"reset",2),f([T],ti.prototype,"toggleCategorySelection",2),f([T],ti.prototype,"updateStateFromSerialization",2),f([T],ti.prototype,"updateStateFromHistory",2),f([k],ti.prototype,"state",1),f([k],ti.prototype,"identifier",1),f([k],ti.prototype,"intensity",1),f([k],ti.prototype,"isDuotone",1),f([k],ti.prototype,"selectedCategoryIdentifier",1),f([k],ti.prototype,"isOptionSelected",1),f([k],ti.prototype,"config",1),f([k],ti.prototype,"locale",1),f([k],ti.prototype,"categories",1),f([k],ti.prototype,"items",1);});var WT=d(function(){K7();HT();});function GT(r){return r&&_typeof(r)=="object"&&Object.prototype.toString.call(r)!=="[object RegExp]"&&Object.prototype.toString.call(r)!=="[object Date]";}function Qne(r){return Array.isArray(r)?[]:{};}function VT(r,e){return e&&e.clone===!0&&GT(r)?jT(Qne(r),r,e):r;}function eae(r,e,t){var i={};return GT(r)&&Object.keys(r).forEach(function(o){i[o]=VT(r[o],t);}),Object.keys(e).forEach(function(o){var s=GT(e[o])&&r[o];i[o]=s?jT(r[o],e[o],t):VT(e[o],t);}),i;}function jT(r,e,t){return Array.isArray(e)?Array.isArray(r)?e:VT(e,t):eae(r,e,t);}function Rr(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!Array.isArray(r)||r.length<2)throw new Error("first argument should be an array with at least two elements");return r.reduce(function(t,i){return jT(t,i,e);});}var Td=d(function(){});var $T,qT=d(function(){H();$T=/*#__PURE__*/function(_Ur3){_inherits($T,_Ur3);var _super233=_createSuper($T);function $T(){var _this319;_classCallCheck(this,$T);_this319=_super233.apply(this,arguments);_this319.prevDimensions={width:0,height:0};return _this319;}_createClass($T,[{key:"onExport",value:function onExport(e){this.emit(ee.EXPORT,e);}},{key:"onClose",value:function onClose(){this.emit(ee.CLOSE);}},{key:"onUndo",value:function onUndo(){this.emit(ee.HISTORY_UNDO);}},{key:"onRedo",value:function onRedo(){this.emit(ee.HISTORY_REDO);}},{key:"onHistoryChange",value:function onHistoryChange(){this.emit(ee.HISTORY_CHANGE);}},{key:"onEditorReady",value:function onEditorReady(){this.emit(ee.EDITOR_READY);}},{key:"onErrorImageLoading",value:function onErrorImageLoading(e){this.emit(ee.ERROR_IMAGE_LOADING,e);}},{key:"onImageLoaded",value:function onImageLoaded(){this.emit(ee.IMAGE_LOAD);}},{key:"onStickerUploadedAdd",value:function onStickerUploadedAdd(e){this.emit(ee.STICKER_UPLOAD_ADD,e);}},{key:"onToolChanged",value:function onToolChanged(e){this.emit(ee.TOOL_ENTER,e);}},{key:"onErrorWebGLContextLost",value:function onErrorWebGLContextLost(){this.emit(ee.ERROR_WEBGL_CONTEXT_LOST);}},{key:"onCropDimensionsChanged",value:function onCropDimensionsChanged(e){(this.prevDimensions.width!==e.width||this.prevDimensions.height!==e.height)&&(this.emit(ee.CROP_DIMENSIONS_CHANGE,e),this.prevDimensions=e);}}]);return $T;}(Ur);});var KT,X7=d(function(){Td();lv();KT=Rr([Nl,{layout:"basic",defaultTool:null}]);});var Y7=d(function(){lv();X7();});var XT,J7=d(function(){var _categories2,_items,_items2;H();XT=_defineProperty({common:{error:"Fehler",warning:"Warnung",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Farbe",sliderOpacity:"Farbe Transparenz"}}},mainCanvasActions:{buttonExport:"Bild Exportieren",buttonUndo:"R\xFCckg\xE4ngig machen",buttonRedo:"Wiederholen",buttonClose:"Schlie\xDFen"},infoModals:{exporting:{heading:"Exportieren...",body:"Einen Moment bitte..."},saving:{heading:"Speichere...",body:"Einen Moment bitte..."},loading:{heading:"Lade...",body:"Einen Moment bitte..."},resizing:{heading:"Bild wird bearbeitet...",body:"Einen Moment bitte..."},loadingFonts:{heading:"Lade Schriftarten...",body:"Einen Moment bitte..."},stickerLoading:{heading:"Lade Sticker...",body:"Einen Moment bitte..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Laden des Bildes fehlgeschlagen. Dies kann verschiedene Gr\xFCnde haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterst\xFCtzt",buttonYes:"Neu Laden"},rendering:{headingDelimiter:":",body:"Beim Rendern des Bildes ist ein Fehler aufgetreten",buttonYes:"Neu Laden"},fontLoading:{headingDelimiter:":",heading:"Laden von Schriftarten ist fehlgeschlagen",body:"Die folgenden Schriftarten konnten nicht geladen werden: ${error}",buttonNo:"Schlie\xDFen"},webcamUnavailable:{headingDelimiter:":",body:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})",buttonYes:"Schlie\xDFen"},stickerLoading:{headingDelimiter:":",body:"Laden des Stickers fehlgeschlagen.",buttonNo:"Schlie\xDFen"},unexpectedError:{headingDelimiter:":",body:"Ein unerwarteter Fehler ist aufgetreten, ${error}",buttonYes:"Neu Laden"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Bild verkleinert",body:"Ihr Bild \xFCbersteigt die maximale Gr\xF6sse von ${megapixels} megapixels und wurde auf ${width}x${height} Pixel verkleinert",buttonYes:"Weiter"},discardChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xC4nderungen verwerfen wollen?",buttonYes:"\xC4nderungen verwerfen",buttonNo:"\xC4nderungen beibehalten"},unsavedChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xC4nderungen verwerfen wollen?",buttonYes:"Beenden ohne zu speichern",buttonNo:"Schlie\xDFen"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Ihre Daten wurden von einem veralteten Format geladen und k\xF6nnten anders aussehen",buttonYes:"\xC4nderungen anwenden",buttonNo:"Abbrechen"},unsupportedWebGLRenderer:{body:"Es wurde ein Problem im Browser festgestellt, welches zu langen Ladezeiten f\xFChren kann. Bitte probieren sie einen anderen Browser.",buttonYes:"Weiter"}},library:{title:"Bibliothek",controls:{buttonUpload:"Bild Hochladen",buttonWebcamOpen:"Webcam \xD6ffnen",buttonWebcamClose:"Webcam Schlie\xDFen",placeholderSearch:"Bibliothek durchsuchen",noResults:"Keine Ergebnisse"}},filter:{title:"Filter",controls:{buttonReset:"Zur\xFCcksetzen",sliderIntensity:"Filter Intensit\xE4t"},categories:(_categories2={},_defineProperty(_categories2,Tt.DuoTone,"DuoTone"),_defineProperty(_categories2,Tt.BW,"B & W"),_defineProperty(_categories2,Tt.Vintage,"Vintage"),_defineProperty(_categories2,Tt.Smooth,"Smooth"),_defineProperty(_categories2,Tt.Cold,"Cold"),_defineProperty(_categories2,Tt.Warm,"Warm"),_defineProperty(_categories2,Tt.Legacy,"Legacy"),_categories2),items:(_items={},_defineProperty(_items,A.Inferno,"Inferno"),_defineProperty(_items,A.Chestnut,"Chestnut"),_defineProperty(_items,A.Fixie,"Fixie"),_defineProperty(_items,A.Fridge,"Fridge"),_defineProperty(_items,A.Sunny70s,"Sunny 70s"),_defineProperty(_items,A.FlatBlack,"Flat Black"),_defineProperty(_items,A.Mellow,"Mellow"),_defineProperty(_items,A.HardStuff,"Hard Stuff"),_defineProperty(_items,A.Oldtimer,"Oldtimer"),_defineProperty(_items,A.AD1920,"1920 A.D."),_defineProperty(_items,A.Ancient,"Ancient"),_defineProperty(_items,A.Kalmen,"Kalmen"),_defineProperty(_items,A.Joran,"Joran"),_defineProperty(_items,A.Polaroid,"Polaroid"),_defineProperty(_items,A.Zephyr,"Zephyr"),_defineProperty(_items,A.Levante,"Levante"),_defineProperty(_items,A.Greyed,"Greyed"),_defineProperty(_items,A.Classic,"Classic"),_defineProperty(_items,A.Colorful,"Colorful"),_defineProperty(_items,A.Snappy,"Snappy"),_defineProperty(_items,A.Candy,"Candy"),_defineProperty(_items,A.Creamy,"Creamy"),_defineProperty(_items,A.LowFire,"Low Fire"),_defineProperty(_items,A.Colla,"Colla"),_defineProperty(_items,A.Sunrise,"Sunrise"),_defineProperty(_items,A.Moss,"Moss"),_defineProperty(_items,A.Food,"Food"),_defineProperty(_items,A.Glam,"Glam"),_defineProperty(_items,A.Gobblin,"Gobblin"),_defineProperty(_items,A.HighCarb,"High Carb"),_defineProperty(_items,A.Hicon,"Hicon"),_defineProperty(_items,A.K1,"K1"),_defineProperty(_items,A.K6,"K6"),_defineProperty(_items,A.Pebble,"Pebble"),_defineProperty(_items,A.Keen,"Keen"),_defineProperty(_items,A.Lemon,"Lemon"),_defineProperty(_items,A.Litho,"Litho"),_defineProperty(_items,A.Lomo,"Lomo"),_defineProperty(_items,A.Lomo100,"Lomo 100"),_defineProperty(_items,A.Lucid,"Lucid"),_defineProperty(_items,A.Neat,"Neat"),_defineProperty(_items,A.Pumpkin,"Pumpkin"),_defineProperty(_items,A.Solanus,"Solanus"),_defineProperty(_items,A.Pale,"Pale"),_defineProperty(_items,A.Pitched,"Pitched"),_defineProperty(_items,A.Weathered,"Weathered"),_defineProperty(_items,A.GreenGap,"Green Gap"),_defineProperty(_items,A.PolaSX,"Pola SX"),_defineProperty(_items,A.Pro400,"Pro 400"),_defineProperty(_items,A.Quozi,"Quozi"),_defineProperty(_items,A.Sepia,"Sepia"),_defineProperty(_items,A.Settled,"Settled"),_defineProperty(_items,A.Seventies,"Seventies"),_defineProperty(_items,A.Soft,"Soft"),_defineProperty(_items,A.Steel,"Steel"),_defineProperty(_items,A.Summer,"Summer"),_defineProperty(_items,A.Golden,"Golden"),_defineProperty(_items,A.Tender,"Tender"),_defineProperty(_items,A.Twilight,"Twilight"),_defineProperty(_items,A.Softy,"Softy"),_defineProperty(_items,A.Dusty,"Dusty"),_defineProperty(_items,A.Desert,"Desert"),_defineProperty(_items,A.Peach,"Peach"),_defineProperty(_items,A.Clash,"Clash"),_defineProperty(_items,A.Plum,"Plum"),_defineProperty(_items,A.Breezy,"Breezy"),_defineProperty(_items,A.DeepBlue,"Deep Blue"),_defineProperty(_items,A.Frog,"Frog"),_defineProperty(_items,A.Sunset,"Sunset"),_items)},adjustment:{title:"Korrekturen",controls:{buttonReset:"Zur\xFCcksetzen"},categories:{basics:"Grundlagen",refinements:"Feinheiten"},items:{brightness:"Helligkeit",saturation:"S\xE4ttigung",contrast:"Kontrast",gamma:"Gamma",sharpness:"Sch\xE4rfe",clarity:"Klarheit",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",whites:"Wei\xDF",blacks:"Schwarz",temperature:"Temperatur"}},focus:{title:"Weichzeichnen",controls:{buttonReset:"Zur\xFCcksetzen",sliderIntensity:"Focus Intensit\xE4t"},items:{radial:"Kreisf\xF6rmig",mirrored:"Gespiegelt",linear:"Linear",gaussian:"Gau\xDFsch"},history:{focusPosition:"Focus Position",focusSize:"Focus Gr\xF6\xDFe"}},overlay:{title:"Overlays",controls:{buttonReset:"Zur\xFCcksetzen",sliderOpacity:"Overlay Transparenz",carouselBlendMode:"Overlay Mischmodus",blendModeNormal:"Normal",blendModeOverlay:"\xDCberblenden",blendModeHardLight:"Hartes Licht",blendModeSoftLight:"Weiches Licht",blendModeMultiply:"Multiplizieren",blendModeDarken:"Abdunkeln",blendModeLighten:"Aufhellen",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Transparenz",tabBlendMode:"Mischmodus"},items:(_items2={},_defineProperty(_items2,ve.Bokeh,"Bokeh"),_defineProperty(_items2,ve.Chop,"Chop"),_defineProperty(_items2,ve.Clouds,"Clouds"),_defineProperty(_items2,ve.Golden,"Golden"),_defineProperty(_items2,ve.Grain,"Grain"),_defineProperty(_items2,ve.Hearts,"Hearts"),_defineProperty(_items2,ve.LightLeak1,"Light Leak 1"),_defineProperty(_items2,ve.LightLeak2,"Light Leak 2"),_defineProperty(_items2,ve.Metal,"Metal"),_defineProperty(_items2,ve.Mosaic,"Mosaic"),_defineProperty(_items2,ve.Painting,"Painting"),_defineProperty(_items2,ve.Paper,"Paper"),_defineProperty(_items2,ve.Rain,"Rain"),_defineProperty(_items2,ve.Vintage,"Vintage"),_defineProperty(_items2,ve.Wall1,"Wall"),_defineProperty(_items2,ve.Wall2,"Wall 2"),_defineProperty(_items2,ve.Wood,"Wood"),_items2)},sticker:{title:"Sticker",controls:{buttonUpload:"Sticker Hochladen",sliderOpacity:"Sticker Transparenz",selectColor:"Stickerfarbe",tabColor:"Farbe",tabOpacity:"Transparenz"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"L\xF6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren",buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color","delete":"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"Neuer Text",dropdownFontFamily:"Schriftart",textFontSize:"Schriftgr\xF6\xDFe",selectAlignment:"Ausrichtung",selectFontColor:"Schriftfarbe",selectBackgroundColor:"Hintergrundfarbe",sliderLineSpacing:"Zeilenabstand",tabColor:"Farbe",tabBgColor:"Hintergrund",tabAlignment:"Ausrichtung",tabLineHeight:"Zeilenh\xF6he",tabFontSize:"Schriftgr\xF6\xDFe"},canvasControls:{placeholderText:"Etwas aufschreiben",buttonSave:"Fertig",buttonClose:"Abbrechen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonDelete:"L\xF6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width","delete":"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"Neues Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Textfarbe",tabColor:"Farbe",tabShuffle:"Shuffle"},canvasControls:{placeholderText:"Etwas aufschreiben mit Style",buttonSave:"Done",buttonClose:"Schlie\xDFen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonInvert:"Invertieren",buttonDelete:"L\xF6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order","delete":"Text design delete"}},frame:{title:"Rahmen",controls:{buttonReset:"Zur\xFCcksetzen",sliderOpacity:"Rahmen Transparenz",sliderSize:"Rahmen Dicke",selectColor:"Rahmen Farbe",tabColor:"Farbe",tabOpacity:"Transparenz",tabSize:"Dicke"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Malen",controls:{buttonReset:"Zur\xFCcksetzen",sliderSize:"Dicke",sliderHardness:"H\xE4rte",selectColor:"Farbe",tabSize:"Dicke",tabHardness:"H\xE4rte",tabColor:"Farbe"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Zuschneiden",controls:{buttonReset:"Zur\xFCcksetzen",checkboxKeepResolution:"Fixiere Aufl\xF6sung",inputCropSize:"Bildgr\xF6\xDFe",inputHeight:"h",inputWidth:"b",tabFlipAndRotate:"Spiegeln & Drehen",tabResolution:"Aufl\xF6sung",tabCropSize:"Bildgr\xF6\xDFe"},categories:{imgly_transforms_common:"Standard",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Frei",imgly_transform_common_square:"Quadratisch",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Titel",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln",buttonRotateClockwise:"Drehe im Uhrzeigersinn",buttonRotateAntiClockwise:"Drehe gegen Uhrzeigersinn"}}},C.CUSTOM,{title:"Benutzerdefiniert"});});var Dd,Z7=d(function(){var _categories3,_items3,_items4;H();Dd=_defineProperty({common:{error:"Error",warning:"Warning",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Color",sliderOpacity:"Color Opacity"}}},mainCanvasActions:{buttonExport:"Export Image",buttonUndo:"Undo",buttonRedo:"Redo",buttonClose:"Close"},infoModals:{exporting:{heading:"Exporting...",body:"Just a few seconds..."},saving:{heading:"Saving...",body:"Just a few seconds..."},loading:{heading:"Loading...",body:"Just a few seconds..."},resizing:{heading:"Resizing...",body:"Just a few seconds..."},loadingFonts:{heading:"Loading Fonts...",body:"Just a few seconds..."},stickerLoading:{heading:"Loading Sticker...",body:"Just a few seconds..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported",buttonYes:"Reload"},rendering:{headingDelimiter:":",body:"An error has occurred while rendering the image",buttonYes:"Reload"},fontLoading:{headingDelimiter:":",heading:"Failed to load font",body:"The following fonts could not be loaded: ${error}",buttonNo:"Close"},webcamUnavailable:{headingDelimiter:":",body:"Unable to display webcam image (Error: ${error})",buttonYes:"Close"},stickerLoading:{headingDelimiter:":",body:"Unable to load the sticker",buttonNo:"Close"},unexpectedError:{headingDelimiter:":",body:"An unexpected error has occured ${error}",buttonYes:"Reload"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Image resized",body:"Your image exceeds the maximum size of ${megapixels} megapixels and has been resized to ${width}x${height} pixels",buttonYes:"Continue"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Your data was restored from a legacy data format and might look different",buttonYes:"Apply changes",buttonNo:"Cancel"},discardChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to discard the changes?",buttonYes:"Discard changes",buttonNo:"Keep Changes"},unsavedChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to exit?",buttonYes:"Exit without saving",buttonNo:"Cancel"},unsupportedWebGLRenderer:{body:"A problem has been detected in the browser that could cause long loading times. Please try a different browser.",buttonYes:"Continue"}},library:{title:"Library",controls:{buttonUpload:"Upload Image",buttonWebcamOpen:"Open Webcam",buttonWebcamClose:"Close Webcam",placeholderSearch:"Search Library",noResults:"No Results"}},filter:{title:"Filters",controls:{buttonReset:"Remove Filter",sliderIntensity:"Filter Intensity"},categories:(_categories3={},_defineProperty(_categories3,Tt.DuoTone,"DuoTone"),_defineProperty(_categories3,Tt.BW,"B & W"),_defineProperty(_categories3,Tt.Vintage,"Vintage"),_defineProperty(_categories3,Tt.Smooth,"Smooth"),_defineProperty(_categories3,Tt.Cold,"Cold"),_defineProperty(_categories3,Tt.Warm,"Warm"),_defineProperty(_categories3,Tt.Legacy,"Legacy"),_categories3),items:(_items3={},_defineProperty(_items3,A.Inferno,"Inferno"),_defineProperty(_items3,A.Chestnut,"Chestnut"),_defineProperty(_items3,A.Fixie,"Fixie"),_defineProperty(_items3,A.Fridge,"Fridge"),_defineProperty(_items3,A.Sunny70s,"Sunny 70s"),_defineProperty(_items3,A.FlatBlack,"Flat Black"),_defineProperty(_items3,A.Mellow,"Mellow"),_defineProperty(_items3,A.HardStuff,"Hard Stuff"),_defineProperty(_items3,A.Oldtimer,"Oldtimer"),_defineProperty(_items3,A.AD1920,"1920 A.D."),_defineProperty(_items3,A.Ancient,"Ancient"),_defineProperty(_items3,A.Kalmen,"Kalmen"),_defineProperty(_items3,A.Joran,"Joran"),_defineProperty(_items3,A.Polaroid,"Polaroid"),_defineProperty(_items3,A.Zephyr,"Zephyr"),_defineProperty(_items3,A.Levante,"Levante"),_defineProperty(_items3,A.Greyed,"Greyed"),_defineProperty(_items3,A.Classic,"Classic"),_defineProperty(_items3,A.Colorful,"Colorful"),_defineProperty(_items3,A.Snappy,"Snappy"),_defineProperty(_items3,A.Candy,"Candy"),_defineProperty(_items3,A.Creamy,"Creamy"),_defineProperty(_items3,A.LowFire,"Low Fire"),_defineProperty(_items3,A.Colla,"Colla"),_defineProperty(_items3,A.Sunrise,"Sunrise"),_defineProperty(_items3,A.Moss,"Moss"),_defineProperty(_items3,A.Food,"Food"),_defineProperty(_items3,A.Glam,"Glam"),_defineProperty(_items3,A.Gobblin,"Gobblin"),_defineProperty(_items3,A.HighCarb,"High Carb"),_defineProperty(_items3,A.Hicon,"Hicon"),_defineProperty(_items3,A.K1,"K1"),_defineProperty(_items3,A.K6,"K6"),_defineProperty(_items3,A.Pebble,"Pebble"),_defineProperty(_items3,A.Keen,"Keen"),_defineProperty(_items3,A.Lemon,"Lemon"),_defineProperty(_items3,A.Litho,"Litho"),_defineProperty(_items3,A.Lomo,"Lomo"),_defineProperty(_items3,A.Lomo100,"Lomo 100"),_defineProperty(_items3,A.Lucid,"Lucid"),_defineProperty(_items3,A.Neat,"Neat"),_defineProperty(_items3,A.Pumpkin,"Pumpkin"),_defineProperty(_items3,A.Solanus,"Solanus"),_defineProperty(_items3,A.Pale,"Pale"),_defineProperty(_items3,A.Pitched,"Pitched"),_defineProperty(_items3,A.Weathered,"Weathered"),_defineProperty(_items3,A.GreenGap,"Green Gap"),_defineProperty(_items3,A.PolaSX,"Pola SX"),_defineProperty(_items3,A.Pro400,"Pro 400"),_defineProperty(_items3,A.Quozi,"Quozi"),_defineProperty(_items3,A.Sepia,"Sepia"),_defineProperty(_items3,A.Settled,"Settled"),_defineProperty(_items3,A.Seventies,"Seventies"),_defineProperty(_items3,A.Soft,"Soft"),_defineProperty(_items3,A.Steel,"Steel"),_defineProperty(_items3,A.Summer,"Summer"),_defineProperty(_items3,A.Golden,"Golden"),_defineProperty(_items3,A.Tender,"Tender"),_defineProperty(_items3,A.Twilight,"Twilight"),_defineProperty(_items3,A.Softy,"Softy"),_defineProperty(_items3,A.Dusty,"Dusty"),_defineProperty(_items3,A.Desert,"Desert"),_defineProperty(_items3,A.Peach,"Peach"),_defineProperty(_items3,A.Clash,"Clash"),_defineProperty(_items3,A.Plum,"Plum"),_defineProperty(_items3,A.Breezy,"Breezy"),_defineProperty(_items3,A.DeepBlue,"Deep Blue"),_defineProperty(_items3,A.Frog,"Frog"),_defineProperty(_items3,A.Sunset,"Sunset"),_items3)},adjustment:{title:"Adjust",controls:{buttonReset:"Reset Adjustment"},categories:{basics:"Basic",refinements:"Refinements"},items:{brightness:"Brightness",saturation:"Saturation",contrast:"Contrast",gamma:"Gamma",sharpness:"Sharpness",clarity:"Clarity",exposure:"Exposure",shadows:"Shadows",highlights:"Highlights",whites:"Whites",blacks:"Blacks",temperature:"Temperature"}},focus:{title:"Focus",controls:{buttonReset:"Remove Focus",sliderIntensity:"Focus Intensity"},items:{radial:"Radial",mirrored:"Mirrored",linear:"Linear",gaussian:"Gaussian"},history:{focusPosition:"Focus Position",focusSize:"Focus Size"}},overlay:{title:"Overlays",controls:{buttonReset:"Remove Overlay",sliderOpacity:"Overlay Opacity",carouselBlendMode:"Overlay Blend mode",blendModeNormal:"Normal",blendModeOverlay:"Overlay",blendModeHardLight:"Hard Light",blendModeSoftLight:"Soft Light",blendModeMultiply:"Multiply",blendModeDarken:"Darken",blendModeLighten:"Lighten",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Opacity",tabBlendMode:"Blend Mode"},items:(_items4={},_defineProperty(_items4,ve.Bokeh,"Bokeh"),_defineProperty(_items4,ve.Chop,"Chop"),_defineProperty(_items4,ve.Clouds,"Clouds"),_defineProperty(_items4,ve.Golden,"Golden"),_defineProperty(_items4,ve.Grain,"Grain"),_defineProperty(_items4,ve.Hearts,"Hearts"),_defineProperty(_items4,ve.LightLeak1,"Light Leak 1"),_defineProperty(_items4,ve.LightLeak2,"Light Leak 2"),_defineProperty(_items4,ve.Metal,"Metal"),_defineProperty(_items4,ve.Mosaic,"Mosaic"),_defineProperty(_items4,ve.Painting,"Painting"),_defineProperty(_items4,ve.Paper,"Paper"),_defineProperty(_items4,ve.Rain,"Rain"),_defineProperty(_items4,ve.Vintage,"Vintage"),_defineProperty(_items4,ve.Wall1,"Wall"),_defineProperty(_items4,ve.Wall2,"Wall 2"),_defineProperty(_items4,ve.Wood,"Wood"),_items4)},sticker:{title:"Stickers",controls:{buttonUpload:"Upload Sticker",sliderOpacity:"Sticker Opacity",selectColor:"Sticker Color",tabColor:"Color",tabOpacity:"Opacity"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate",buttonFlipHorizontal:"Flip",buttonFlipVertical:"Flip"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color","delete":"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"New Text",dropdownFontFamily:"Font Family",textFontSize:"Font Size",selectAlignment:"Alignment",selectFontColor:"Font Color",selectBackgroundColor:"Background Color",sliderLineSpacing:"Line Spacing",tabColor:"Color",tabBgColor:"Bg Color",tabAlignment:"Alignment",tabLineHeight:"Line Height",tabFontSize:"Font Size"},canvasControls:{placeholderText:"Write Something",buttonSave:"Done",buttonClose:"Cancel",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width","delete":"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"New Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Text Color",tabColor:"Color",tabShuffle:"Shuffle"},canvasControls:{placeholderText:"Write Something With Style",buttonSave:"Done",buttonClose:"Schlie\xDFen",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonInvert:"Invert",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order","delete":"Text design delete"}},frame:{title:"Frames",controls:{buttonReset:"Remove Frame",sliderOpacity:"Frame Opacity",sliderSize:"Frame Size",selectColor:"Frame Color",tabColor:"Color",tabOpacity:"Opacity",tabSize:"Size"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Brush",controls:{buttonReset:"Remove Brush",sliderSize:"Brush Size",sliderHardness:"Brush Hardness",selectColor:"Brush Color",tabSize:"Size",tabHardness:"Hardness",tabColor:"Color"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Transform",controls:{buttonReset:"Reset to default",checkboxKeepResolution:"Keep Resolution",inputCropSize:"Crop Size",inputHeight:"h",inputWidth:"w",tabFlipAndRotate:"Flip & Rotate",tabResolution:"Resolution",tabCropSize:"Crop Size"},categories:{imgly_transforms_common:"Common",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Custom",imgly_transform_common_square:"Square",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Title",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Flip Horizontal",buttonFlipVertical:"Flip Vertical",buttonRotateClockwise:"Rotate Clockwise",buttonRotateAntiClockwise:"Rotate Counterclockwise"}}},C.CUSTOM,{title:"Custom"});});var lf=d(function(){J7();Z7();H();});var Q7,eN,tN=d(function(){Td();lf();Q7=function Q7(r){return r==="de"?XT:Dd;},eN=function eN(r,e){return e&&e[r]?Rr([Q7(r),e[r]]):Q7(r)||Dd;};});var iN=d(function(){});var tae,iae,mv,cf=d(function(){iN();tae={headline1:{size:16,letterSpacing:1.5,"case":"uppercase"},headline2:{size:14,letterSpacing:.8,"case":"uppercase"},body:{size:13,letterSpacing:0,"case":"none"},label:{size:13,letterSpacing:0,"case":"capitalize"},basicUICardLabel:{size:12,letterSpacing:0,"case":"capitalize"},button1:{size:14,letterSpacing:0,"case":"uppercase"},button2:{size:14,letterSpacing:0,"case":"capitalize"},basicUITabLabel:{size:14,letterSpacing:.8,"case":"uppercase"}},iae={toast:2,controlsBar:5,buttonGroup:5,toolControlBar:6,toolbar:7,label:10,disable:11,canvas:{knob:4,bar:5,controls:5,snappingGuide:1,crop:{grid:2,dragImage:3,backdrop:4},webcam:{backdrop:7}},input:{list:6},button:{"float":5},dialog:{base:100,backdrop:1,container:2},colorItem:{overlay:2,background:1,tiledBackground:0}},mv=function mv(){var r=8,e=230,t=3*r,i=e-2*t,o=(i-2*r)/3,s=(i-r)/2;return{advancedUIToolbar:{width:55,itemHeight:48,seperatorHeight:20,marginBottom:0},advancedUIToolControlBar:{width:e,paddingTop:2*r,paddingBottom:2*r,paddingLeft:t,paddingRight:t,marginBottom:0,controls:{gutter:2*r}},advancedCard:{small:{height:o,width:o},medium:{height:s,width:s},large:{height:86,width:i}},advancedSpacer:8,basicCanvasOffset:40+76-88,basicUIToolbar:{openHeight:88,closeHeight:40},basicToolControlBar:{itemsBarHeight:72,controlsBarHeight:80,maxHeight:72+40+4,maxWidth:300},basicCard:{medium:{height:56,width:90},large:{height:60,width:110}},basicSpacer:8,mainCanvasActionBar:{height:50},crop:{minSize:50},canvas:{marginTop:0,transform:{minSliderWidth:435,minValueWidth:235,minFlipWidth:160}},canvasControls:{sprite:{controlOffset:16,rotateHandle:{height:16},minSize:30,controlPadding:16},knob:{size:16,touchable:{desktop:24}},corner:{size:14,touchable:{desktop:24,mobile:48},borderWidth:4},width:{size:14}},buttons:{"float":{size:56}},colorItem:{size:20},color:{colorPicker:{width:214,height:370,saturationSlider:{height:150},thumb:{size:14},arrow:{width:36}}},fontSystem:tae,zIndex:iae};};});var rae,pv,rN=d(function(){rae=function rae(){var _ref113=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{primary:"#365afc",background:"#0B0B0B",foreground:"#FFFFFF"},_ref113$primary=_ref113.primary,r=_ref113$primary===void 0?"#365afc":_ref113$primary,_ref113$background=_ref113.background,e=_ref113$background===void 0?"#0B0B0B":_ref113$background,_ref113$foreground=_ref113.foreground,t=_ref113$foreground===void 0?"#FFFFFF":_ref113$foreground;var i="rgba(255, 255, 255, 0.90)",o="rgba(255, 255, 255, 0.60)",s="rgba(255, 255, 255, 0.38)",n="#424242",a="#333333",l="#242424",c="#171717",u="#0B0B0B",p="rgba(255, 255, 255, 0.08)",m="rgba(0, 0, 0, 0.3)",h="rgba(89, 121, 252, 0.20)",g="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",provider:"google"},background:e,foreground:t,primary:r,warning:"#ffba5c",error:"#c2393a",success:"#39c26c",focusOutlineColor:"rgba(255, 255, 255, 0.12)",scrollbar:{handleColor:"rgba(255, 255, 255, 0.2)"},button:{outlinedBorderColor:a,activeForeground:r,containedPrimaryBackground:r,containedPrimaryForeground:i,outlinedPrimaryBackground:l,outlinedPrimaryForeground:i,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:o,textPrimaryForeground:r,textSecondaryForeground:o,outlinedInactiveOverlayColor:m,textInactiveOpacity:"0.5",hoverOverlayColor:p},checkbox:{background:a,foreground:t,activeForeground:t,activeBackground:r,inactiveOpacity:g,hoverOpacity:"0.8"},modal:{background:l,bodyForeground:i,headerForeground:o,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:a,foreground:i,activeBorderColor:r,activeOverlayColor:h,labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:i,inactiveOverlayColor:m,hoverOverlayColor:p},tabTitle:{foreground:o,background:"transparent",activeBackground:"transparent",activeBorderColor:r,activeForeground:i},dropdown:{background:"transparent",foreground:i,hoverBorderColor:o,borderColor:a,caretColor:s,listBackground:a,listBorderColor:a,listItemHoverBackground:n,listForeground:o,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",inactiveOpacity:g},textInput:{foreground:i,hoverBorderColor:"rgba(255, 255, 255, 0.40)",background:"transparent",borderColor:a,inactiveOpacity:g},slider:{trackColor:"rgba(255, 255, 255, 0.4)",activeTrackColor:r,thumbBackground:c,thumbBorderColor:r,inactiveOpacity:g,hoverOpacity:"0.7"},selectColor:{activeBorderColor:r,inactiveOpacity:g},toolbar:{foreground:i,background:l,activeBackground:"transparent",activeForeground:r,borderColor:"transparent"},tooltip:{background:n,foreground:i},toolControlBar:{background:"rgba(23, 23, 23, 0.9)",borderColor:"transparent",shadow:"none",separatorColor:a,titleForeground:o,inputLabelForeground:o,inputLabelInactiveOpacity:g},mainCanvasActionBar:{background:"linear-gradient(0deg, transparent 0%,  rgba(0, 0, 0, 0.6) 98%)",foreground:i,borderColor:"none"},canvasActionBar:{background:n,foreground:i,separatorColor:s},canvas:{background:u,controlsOutline:"rgba(255, 255, 255, 0.5)",controlsColor:"#ffffff",cropBackdrop:"rgba(0, 0, 0, 0.5)"},colorPicker:{listBackground:a,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:n},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:t,background:u},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#424242",highlight:"#565656",shadow:"#333333"}}};},pv=rae;});var oae,YT,oN=d(function(){oae=function oae(){var _ref114=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{primary:"#1e47fb",background:"#FBFBFB",foreground:"#000000"},_ref114$primary=_ref114.primary,r=_ref114$primary===void 0?"#1e47fb":_ref114$primary,_ref114$background=_ref114.background,e=_ref114$background===void 0?"#FBFBFB":_ref114$background,_ref114$foreground=_ref114.foreground,t=_ref114$foreground===void 0?"#000000":_ref114$foreground;var i="rgba(0, 0, 0, 0.90)",o="rgba(0, 0, 0, 0.60)",s="rgba(0, 0, 0, 0.38)",n="#CCCCCC",a="#D4D4D4",l="#E6E6E6",c="#EEEEEE",u="#FBFBFB",p="rgba(125, 125, 125, 0.12)",m="rgba(30, 71, 251, 0.2)",h="rgba(0, 0, 0, 0.1)",g="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",provider:"google"},background:e,foreground:t,primary:r,warning:"#ffb045",error:"#c01a1b",success:"#17c658",focusOutlineColor:"rgba(125, 125, 125, 0.12)",scrollbar:{handleColor:"rgba(0, 0, 0, 0.2)"},button:{outlinedBorderColor:a,activeForeground:r,containedPrimaryBackground:r,containedPrimaryForeground:"rgba(255, 255, 255, 0.9)",outlinedPrimaryBackground:l,outlinedPrimaryForeground:i,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:o,textPrimaryForeground:r,textSecondaryForeground:o,outlinedInactiveOverlayColor:h,textInactiveOpacity:"0.5",hoverOverlayColor:p},checkbox:{background:a,foreground:t,activeForeground:t,activeBackground:r,inactiveOpacity:g,hoverOpacity:"0.8"},modal:{background:l,bodyForeground:i,headerForeground:o,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:a,foreground:i,activeBorderColor:r,activeOverlayColor:m,labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:"rgba(255, 255, 255, 0.87)",inactiveOverlayColor:h,hoverOverlayColor:p},tabTitle:{foreground:o,background:"transparent",activeBackground:"transparent",activeBorderColor:r,activeForeground:i},dropdown:{background:"transparent",foreground:i,hoverBorderColor:o,borderColor:a,listBackground:a,caretColor:s,listForeground:o,listBorderColor:a,listItemHoverBackground:n,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",inactiveOpacity:g},textInput:{foreground:i,hoverBorderColor:i,background:"transparent",borderColor:a,inactiveOpacity:g},slider:{trackColor:n,activeTrackColor:r,thumbBackground:c,thumbBorderColor:r,inactiveOpacity:g,hoverOpacity:"0.7"},selectColor:{activeBorderColor:r,inactiveOpacity:g},toolbar:{foreground:i,background:a,activeBackground:"transparent",activeForeground:r,borderColor:"transparent"},tooltip:{background:n,foreground:i},toolControlBar:{background:"rgba(238, 238, 238, 0.9)",borderColor:c,shadow:"none",separatorColor:a,titleForeground:o,inputLabelForeground:o,inputLabelInactiveOpacity:g},mainCanvasActionBar:{background:"transparent",foreground:i,borderColor:"none"},canvasActionBar:{background:n,foreground:i,separatorColor:s},canvas:{background:u,controlsOutline:"rgba(255, 255, 255, 0.6)",controlsColor:"#ffffff",cropBackdrop:"rgba(255, 255, 255, 0.3)"},colorPicker:{listBackground:a,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:n},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:t,background:u},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#B8B8B8",highlight:"#E6E6E6",shadow:"#D4D4D4"}}};},YT=oae;});var df,JT,to,uf=d(function(){cf();rN();oN();df=pv(),JT=mv(),to=L(w({},df),{measurements:JT});});var sae,sN,nN=d(function(){Td();uf();sae=function sae(r){return r==="light"?YT:pv;},sN=function sN(r,e){var t=sae(r);if(e&&e[r]){var _e$r=e[r],i=_e$r.primary,o=_e$r.background,s=_e$r.foreground,n={primary:i,background:o,foreground:s},a=Object.keys(n).reduce(function(l,c){return n[c]?L(w({},l),_defineProperty({},c,n[c])):l;},{});return Rr([t(a),e[r]]);}return t()||df;};});var nae,aN,lN=d(function(){Td();cf();nae=["canvas","advancedUIToolbar","advancedUIToolControlBar","basicUIToolbar","mainCanvasActionBar","colorItem","fontSystem"],aN=function aN(r){var e=mv();if(r){var t={};return Object.keys(r).forEach(function(i){nae.indexOf(i)!==-1&&(t[i]=r[i]);}),Rr([e,t]);}return e;};});var cN=d(function(){tN();nN();lN();});var aae,io,hv=d(function(){Le();H();fa();$();Td();qT();Y7();UT();lf();cN();uf();aae={config:Nl,locale:Dd,theme:df,measurements:JT},io=/*#__PURE__*/function(){function io(){_classCallCheck(this,io);this.checkDefaultToolAvailability=function(e,t){return t.indexOf(e)!==-1;};this.state=le(aae),this.events=new $T(),this.licenseChecker=null;}_createClass(io,[{key:"saveConfig",value:function saveConfig(e){var _this320=this,_c6,_c7;e.mainCanvasActions&&e.mainCanvasActions.length!==4&&(e.mainCanvasActions.length=4);var t=e.layout&&e.layout==="basic"?KT:Nl,i=Rr([t,e]);this.licenseChecker=new nv(i.license),this.licenseChecker.areCustomAssetsAllowed()||(i.sticker.enableCustomUpload=!1);var o=eN(i.language,i.custom.languages),s=sN(i.theme,i.custom.themes),n=aN(i.custom.measurements),a=i.library.provider,l=[];i.adjustment.categories=i.adjustment.categories.reduce(function(p,m){return p.push(L(w({},m),{items:m.items.filter(function(h){return FC[h.identifier]?!0:(l.push(h.identifier),!1);})})),p;},[]),l.length!==0&&console.error("The following identifier are incorrect for the adjustment tool: ".concat(l.join(", "))),delete i.language,delete i.custom.languages,delete i.custom.themes,delete i.library.provider;var c=i.tools.reduce(function(p,m){return _typeof(m)=="object"?[].concat(_toConsumableArray(p),_toConsumableArray(m)):[].concat(_toConsumableArray(p),[m]);},[]);c.length||(console.error("Empty list input for tools"),c=av.reduce(function(p,m){return _typeof(m)=="object"?[].concat(_toConsumableArray(p),_toConsumableArray(m)):[].concat(_toConsumableArray(p),[m]);},[])),c=c.filter(function(p){return _this320.licenseChecker.isToolAllowed(p);}),i.defaultTool&&(this.checkDefaultToolAvailability(i.defaultTool,c)||(this.licenseChecker.isToolAllowed(i.defaultTool)&&console.warn("Configured default tool ".concat(i.defaultTool," is not a part of configured list of tools: [").concat(c.join(" "),"]")),(_c6=c,_c7=_slicedToArray(_c6,1),i.defaultTool=_c7[0],_c6))),i.tools=c,this.state.config=i,this.state.locale=o,this.state.theme=s,this.state.measurements=n;var u=this.buildCustomAssetsConfig();return this.assetProvider=new Ap(u,this.licenseChecker.areCustomAssetsAllowed(),i.assetResolver),this.loadThemeFont(),a;}},{key:"config",get:function get(){return this.state.config;}},{key:"locale",get:function get(){return this.state.locale;}},{key:"theme",get:function get(){return this.state.theme;}},{key:"measurements",get:function get(){return this.state.measurements;}},{key:"tools",get:function get(){return this.config.tools.reduce(function(e,t){return typeof t=="string"?[].concat(_toConsumableArray(e),[t]):[].concat(_toConsumableArray(e),[""],_toConsumableArray(t));},[]);}},{key:"defaultTool",get:function get(){return this.config.defaultTool;}},{key:"isOrderDefault",get:function get(){return this.config.order==="default";}},{key:"isLayoutAdvanced",get:function get(){return this.config.layout==="advanced";}},{key:"displayCloseButton",get:function get(){return this.config.mainCanvasActions.indexOf(Be.CLOSE)!==-1;}},{key:"loadThemeFont",value:function loadThemeFont(){var e=this.theme.typography;e.skipLoading||this.assetProvider.getFontManager().injectFonts([e]);}},{key:"buildCustomAssetsConfig",value:function buildCustomAssetsConfig(){var e=this.tools,t=fe(this.state.config),i=this.state.config.assetBaseUrl,o=this.state.theme,s=e.indexOf(C.FILTER)!==-1?t[C.FILTER]:void 0,n=e.indexOf(C.FOCUS)!==-1?t[C.FOCUS]:void 0,a=e.indexOf(C.ADJUSTMENT)!==-1?t[C.ADJUSTMENT]:void 0,l=e.indexOf(C.STICKER)!==-1?t[C.STICKER]:void 0,c=e.indexOf(C.FRAME)!==-1?t[C.FRAME]:void 0,u=e.indexOf(C.OVERLAY)!==-1?t[C.OVERLAY]:void 0,p=e.indexOf(C.TRANSFORM)!==-1?t[C.TRANSFORM]:void 0,m=e.indexOf(C.TEXT)!==-1?t[C.TEXT]:void 0,h=e.indexOf(C.TEXT_DESIGN)!==-1?t[C.TEXT_DESIGN]:void 0;return{basePath:i,theme:o,filter:s,focus:n,sticker:l,frame:c,overlay:u,transform:p,text:m,adjustment:a,textdesign:h};}}]);return io;}();f([T],io.prototype,"saveConfig",1),f([k],io.prototype,"config",1),f([k],io.prototype,"locale",1),f([k],io.prototype,"theme",1),f([k],io.prototype,"measurements",1),f([k],io.prototype,"tools",1),f([k],io.prototype,"defaultTool",1),f([k],io.prototype,"isOrderDefault",1),f([k],io.prototype,"isLayoutAdvanced",1),f([k],io.prototype,"displayCloseButton",1);});var ZT,QT=d(function(){H();DC();ZT=/*#__PURE__*/function(){function ZT(e){_classCallCheck(this,ZT);this.editor=e;}_createClass(ZT,[{key:"setBackgroundImage",value:function setBackgroundImage(e){this.container?this.container.setData({image:e,originalImage:e}):this.container=this.engine.addImage({image:e,originalImage:e,blendMode:Ie.NORMAL,opacity:1});}},{key:"getchildren",value:function getchildren(){return this.container.getChildren();}},{key:"addImageToContainer",value:function addImageToContainer(){var _this321=this;return new Promise(function(e,t){var i=_this321.editor.activeStore.image;if(fF(i))_this321.setBackgroundImage(i),e();else{var o=_this321.editor.libraryStore.getRawUrl(i);_this321.getImageElement(o).then(function(s){_this321.setBackgroundImage(s),e();})["catch"](function(s){t({identifier:"imageLoading",message:s.message});});}});}},{key:"getImageElement",value:function getImageElement(e){var _this322=this;return new Promise(function(t,i){var o=new Image();o.addEventListener("load",function(){t(o);}),o.addEventListener("error",function(s){i(s);}),o.crossOrigin=_this322.editor.configStore.config.engine.crossOrigin,o.src=e;});}},{key:"getImgageContainerId",value:function getImgageContainerId(){return this.container?this.container.getID():"";}},{key:"engine",get:function get(){return this.editor.engine;}}]);return ZT;}();});var e2,t2=d(function(){$();e2=/*#__PURE__*/function(){function e2(e){var _this323=this;_classCallCheck(this,e2);this.applyNewImageTransform=function(){var _this323$editor$engin=_this323.editor.engineMediator.image.container.getBounds(),e=_this323$editor$engin.size,t=_this323$editor$engin.width,i=_this323$editor$engin.height,o=_this323.container;o.setTransform(_ft.IDENTITY),o.setResolution(e),o.setPivot(.5,.5),o.setPosition({x:t/2,y:i/2});};this.editor=e;}_createClass(e2,[{key:"engine",get:function get(){return this.editor.engine;}},{key:"container",get:function get(){return this.engine.getOutputContainer();}}]);return e2;}();});var lae,dN,cae,i2,uN=d(function(){lae=function lae(r,e){return new Promise(function(t,i){var o=new XMLHttpRequest();o.onload=function(){var s=new FileReader();s.onloadend=function(){typeof s.result=="string"&&s.result.substr(0,10)==="data:image"?t(s.result):i(new Error("The image could not be loaded from ".concat(r)));},s.onerror=function(n){i(n);},s.readAsDataURL(o.response);},o.open("GET",r),o.responseType="blob",o.withCredentials=e==="use-credentials",o.send();});},dN=function dN(r,e){return new Promise(function(t,i){var o=new Image();o.onload=function(){t(o);},o.onerror=function(){i(new Error("Failed to load image with src:".concat(r)));},o.crossOrigin=e,o.src=r;});},cae=function cae(r,e){return new Promise(function(t,i){lae(r,e).then(function(o){var s=new Image();s.addEventListener("load",function(){t(s);}),s.src=o;})["catch"](function(){dN(r,e).then(function(o){return t(o);})["catch"](function(o){i(o);});});});},i2=function i2(i){return ie(void 0,[i],/*#__PURE__*/regeneratorRuntime.mark(function _callee24(_ref115){var r,e,_ref115$crossOrigin,t;return regeneratorRuntime.wrap(function _callee24$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:r=_ref115.url,e=_ref115.image,_ref115$crossOrigin=_ref115.crossOrigin,t=_ref115$crossOrigin===void 0?"anonymous":_ref115$crossOrigin;_context25.prev=1;return _context25.abrupt("return",e&&e.src&&e.src.substr(0,5)==="data:"||e&&e.src&&e.src.includes(".svg")?e:typeof r=="string"&&r.substr(0,5)==="data:"||typeof r=="string"&&r.includes(".svg")?dN(r,t):cae(r||e.src,t));case 5:_context25.prev=5;_context25.t0=_context25["catch"](1);throw new Error(_context25.t0);case 8:case"end":return _context25.stop();}}},_callee24,null,[[1,5]]);}));};});var dae,ro,fv=d(function(){Le();H();$();uN();dae={tool:null,isWebcam:!1,image:"",imageLoadedToEngine:!1},ro=/*#__PURE__*/function(){function ro(e){var _this324=this;_classCallCheck(this,ro);this.setImage=function(e){return ie(_this324,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee25(){var t;return regeneratorRuntime.wrap(function _callee25$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:t=this.editor.configStore.config.engine.crossOrigin;_context26.t0=typeof e=="string";if(!_context26.t0){_context26.next=6;break;}_context26.next=5;return i2({url:Ts(e)?e:this.editor.assetProvider.getPath(e),crossOrigin:t});case 5:this.state.image=_context26.sent;case 6:_context26.t1=e instanceof HTMLImageElement;if(!_context26.t1){_context26.next=11;break;}_context26.next=10;return i2({image:e,crossOrigin:t});case 10:this.state.image=_context26.sent;case 11:this.isWebcam&&(this.state.isWebcam=!1);case 12:case"end":return _context26.stop();}}},_callee25,this);}));};this.setImageLoadedToEngine=function(e){_this324.state.imageLoadedToEngine=e;};this.newImage=function(e){_this324.editor.init(e);};this.editor=e,this.state=le(dae);}_createClass(ro,[{key:"selectTool",value:function selectTool(e){var t=this.editor.configStore.licenseChecker;if(this.state.tool!==e&&(t==null?void 0:t.isToolAllowed(e)))switch(this.editor.onToolChange(this.state.tool,e),this.state.tool=e,this.editor.configStore.events.onToolChanged(e),e){case C.TEXT:this.editor.configStore.config.text.addDefaultTextOnEnter&&this.editor.spriteStore.textToolStore.addOrselect();break;case C.TEXT_DESIGN:this.editor.configStore.config.textdesign.addDefaultTextOnEnter&&this.editor.spriteStore.textDesignToolStore.addOrselect();break;case C.BRUSH:{this.editor.brushToolStore.initSize();break;}case C.TRANSFORM:this.editor.transformToolStore.applyDefaultCrop();break;default:break;}}},{key:"selectWebcam",value:function selectWebcam(e){this.state.isWebcam=e;}},{key:"webcamLabel",get:function get(){return this.editor.libraryStore.locale.controls.buttonWebcamClose;}},{key:"tool",get:function get(){return this.state.tool;}},{key:"isWebcam",get:function get(){return this.state.isWebcam;}},{key:"image",get:function get(){return this.state.image;}},{key:"imageLoadedToEngine",get:function get(){return this.state.imageLoadedToEngine;}}]);return ro;}();f([T],ro.prototype,"selectTool",1),f([T],ro.prototype,"selectWebcam",1),f([T],ro.prototype,"setImage",2),f([T],ro.prototype,"setImageLoadedToEngine",2),f([T],ro.prototype,"newImage",2),f([k],ro.prototype,"webcamLabel",1),f([k],ro.prototype,"tool",1),f([k],ro.prototype,"isWebcam",1),f([k],ro.prototype,"image",1),f([k],ro.prototype,"imageLoadedToEngine",1);});var uae,r2,_o9,lr,gv=d(function(){Le();H();$();uae={height:150,width:150},r2={height:0,width:0},_o9=/*#__PURE__*/function(){function o2(e){var _this325=this;_classCallCheck(this,o2);this.canvasClickDisabled=le.box(!1);this.resizeCanvas=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var t=_this325.editor.activeStore.tool,i=e===C.TRANSFORM||!e&&t===C.TRANSFORM,_this325$editor$confi=_this325.editor.configStore,o=_this325$editor$confi.isLayoutAdvanced,s=_this325$editor$confi.measurements,n=_this325.editor.canvasStore.storedSize,a=0;!o&&i&&(a=s.basicToolControlBar.controlsBarHeight*-1,e===C.TRANSFORM&&t===C.BRUSH&&(a-=s.basicToolControlBar.itemsBarHeight+4)),_this325.setCanvasSize({width:n.width,height:n.height+a});};this.setCanvasSize=function(e){_this325.state.canvasSize=e;};this.editor=e,this.state=le(_o9.initialState);}_createClass(o2,[{key:"setCanvasElement",value:function setCanvasElement(e){this.canvas=e,this.editor.engineMediator.preview.createPreview(e),this.editor.init(this.editor.configStore.config.image);}},{key:"saveDimensions",value:function saveDimensions(_ref116){var e=_ref116.height,t=_ref116.width,i=_ref116.render;var o=this.editor.activeStore.imageLoadedToEngine;e>r2.height&&t>r2.width&&(this.state.storedSize={width:t,height:e},this.state.canvasSize.height===0&&(this.state.canvasSize={width:t,height:e}),i&&o&&this.editor.resize());}},{key:"disableCanvasClick",value:function disableCanvasClick(){this.canvasClickDisabled.set(!0);}},{key:"enableCanvasClick",value:function enableCanvasClick(){this.canvasClickDisabled.set(!1);}},{key:"isCanvasClickable",get:function get(){return!this.canvasClickDisabled.get();}},{key:"canvasSize",get:function get(){return this.state.canvasSize;}},{key:"storedSize",get:function get(){return this.state.storedSize;}},{key:"sizeVector",get:function get(){return B.fromSize(this.state.canvasSize);}},{key:"sizeVectorMagnitude",get:function get(){return this.sizeVector.magnitude;}},{key:"getContainersAtPreviewPoint",value:function getContainersAtPreviewPoint(e){var _this326=this;var t=this.editor.engine.getContainersAtPreviewPoint(e,this.editor.engineMediator.preview.previewTransformWithoutDpr).map(function(i){return i.getID();}).filter(function(i){return i!==_this326.editor.engineMediator.image.getImgageContainerId();});this.editor.spriteStore.onCanvasClick(t);}}]);return o2;}(),lr=_o9;lr.initialState={canvasSize:r2,storedSize:uae},f([T],lr.prototype,"setCanvasElement",1),f([T],lr.prototype,"saveDimensions",1),f([T],lr.prototype,"resizeCanvas",2),f([T],lr.prototype,"disableCanvasClick",1),f([T],lr.prototype,"enableCanvasClick",1),f([T],lr.prototype,"setCanvasSize",2),f([k],lr.prototype,"isCanvasClickable",1),f([k],lr.prototype,"canvasSize",1),f([k],lr.prototype,"storedSize",1),f([k],lr.prototype,"sizeVector",1),f([k],lr.prototype,"sizeVectorMagnitude",1);});var mae,Po,bv=d(function(){Le();H();mae={type:null,identifier:null,isVisible:!1,error:""},Po=/*#__PURE__*/function(){function Po(e){var _this327=this;_classCallCheck(this,Po);this.showActionModal=function(_ref117){var e=_ref117.type,t=_ref117.identifier,i=_ref117.error,o=_ref117.handleConfirm,s=_ref117.handleDismiss;_this327.resetHandlers(),_this327.state.isVisible=!0,_this327.state.identifier=t,_this327.state.type=e,_this327.state.error=i||"",_this327.handleConfirm=o,_this327.handleDismiss=s;};this.hideModal=function(){_this327.state.isVisible=!1,_this327.state.type=null,_this327.state.error="",_this327.state.identifier=null,_this327.resetHandlers();};this.resetHandlers=function(){_this327.handleConfirm=null,_this327.handleDismiss=null;};this.configStore=e.configStore,this.state=le(mae);}_createClass(Po,[{key:"showInfoModal",value:function showInfoModal(e){this.resetHandlers(),this.state.isVisible=!0,this.state.type=ct.INFO,this.state.identifier=e,this.state.error="";}},{key:"showTextEditModal",value:function showTextEditModal(){this.resetHandlers(),this.state.isVisible=!0,this.state.type=ct.TEXT_EDIT,this.state.identifier="inputText",this.state.error="";}},{key:"modalProps",get:function get(){var e=this.state.isVisible,t=this.getModalLocale();if(t){var i=t.bodyLabel,o=t.headerLabel,s=t.buttonYes,n=t.buttonNo;return{headerLabel:o,bodyLabel:i,confirmLabel:s,dismissLabel:n,isVisible:e,handleClose:this.hideModal,handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss};}return{isVisible:!1};}},{key:"isVisible",get:function get(){return this.state.isVisible;}},{key:"type",get:function get(){return this.state.type;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"positionOffset",get:function get(){var _this$configStore=this.configStore,e=_this$configStore.isLayoutAdvanced,_this$configStore$mea=_this$configStore.measurements,t=_this$configStore$mea.basicCanvasOffset,i=_this$configStore$mea.advancedUIToolControlBar,o=_this$configStore$mea.advancedUIToolbar,s=_this$configStore.isOrderDefault,n=(i.width+o.width)*(s?1:-1);return e?{x:n/2,y:0}:{x:0,y:-t};}},{key:"getModalLocale",value:function getModalLocale(){var _this$state4=this.state,e=_this$state4.identifier,t=_this$state4.error,i=_this$state4.type,o=this.configStore.locale;if(!i||!e||i===ct.TEXT_EDIT)return null;if(i&&e&&o["".concat(i,"Modals")]&&o["".concat(i,"Modals")][e]){var s=o["".concat(i,"Modals")][e],n=s.body;n&&_typeof(t)=="object"?Object.keys(t).forEach(function(l){n=n.replace("${".concat(l,"}"),t[l]);}):n&&(n=n.replace("${error}",t));var a=s.heading;if(i===ct.ERROR||i===ct.WARNING){var l={error:o.common.error,warning:o.common.warning};a="".concat(i==="error"?l.error:l.warning).concat(s.headingDelimiter||""," ").concat(s.header||"");}return{bodyLabel:n,headerLabel:a,buttonYes:s.buttonYes,buttonNo:s.buttonNo};}return null;}}]);return Po;}();f([T],Po.prototype,"showActionModal",2),f([T],Po.prototype,"showInfoModal",1),f([T],Po.prototype,"showTextEditModal",1),f([T],Po.prototype,"hideModal",2),f([k],Po.prototype,"modalProps",1),f([k],Po.prototype,"isVisible",1),f([k],Po.prototype,"type",1),f([k],Po.prototype,"identifier",1),f([k],Po.prototype,"positionOffset",1);});var di,_v=d(function(){Le();$();tn();di=/*#__PURE__*/function(){function di(e){var _this328=this;_classCallCheck(this,di);this.defaultScale=1;this.SCALE_LEVELS=[8.33,12.5,16.66,25,33.33,50,66.66,100,125,150,200,300,400,500,600].map(function(e){return e/100;});this.state={position:{x:0,y:0},scaleIndex:-1};this.offset={x:0,y:0};this["in"]=function(){_this328.canZoomIn&&(_this328.state.scaleIndex+=1,_this328.scaleRender());};this.out=function(){if(_this328.canZoomOut){_this328.state.scaleIndex-=1;var _this328$checkOffset=_this328.checkOffset({x:0,y:0}),_e12=_this328$checkOffset.maxOffsetX,t=_this328$checkOffset.maxOffsetY;_this328.state.scaleIndex===_this328.defaultIndex&&(_this328.offset.y=t),_this328.state.scaleIndex===_this328.defaultIndex&&(_this328.offset.x=_e12),_this328.savePosition(),_this328.scaleRender();}};this.setOffset=function(e){var _this328$checkOffset2=_this328.checkOffset(e),t=_this328$checkOffset2.canDragX,i=_this328$checkOffset2.canDragY;t&&(_this328.offset.x=e.x),i&&(_this328.offset.y=e.y),_this328.scaleRender();};this.editor=e;}_createClass(di,[{key:"setInitialTransform",value:function setInitialTransform(){var _this329=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=St.devicePixelRatio,i=this.editor.configStore.config.scaleImageToFit,o=this.editor.engineMediator.preview.transform;oi(function(){var s=Math.abs(e||o.scale.x);_this329.setDefaultScale(i?s:Math.min(1*t,s)),_this329.setPosition(o.position);});}},{key:"resetScale",value:function resetScale(){this.state.scaleIndex=-1;}},{key:"resetPosition",value:function resetPosition(){var _this$editor$canvasSt=this.editor.canvasStore.canvas,e=_this$editor$canvasSt.width,t=_this$editor$canvasSt.height;this.setPosition({x:e/2,y:t/2});}},{key:"resetOffset",value:function resetOffset(){this.offset={x:0,y:0};}},{key:"setPosition",value:function setPosition(e){this.state.position.x=e.x,this.state.position.y=e.y;}},{key:"savePosition",value:function savePosition(){this.setPosition(this.getPositionWithOffset()),this.offset={x:0,y:0};}},{key:"setDefaultScale",value:function setDefaultScale(e){var _this330=this;if(this.defaultScale!==1){var i=this.SCALE_LEVELS.findIndex(function(o){return o===_this330.defaultScale;});i!==-1&&(this.SCALE_LEVELS=[].concat(_toConsumableArray(this.SCALE_LEVELS.slice(0,i)),_toConsumableArray(this.SCALE_LEVELS.slice(i+1))));}var t=this.SCALE_LEVELS.findIndex(function(i){return i===e;});if(t!==-1)this.state.scaleIndex=t;else{var _i26=this.SCALE_LEVELS.findIndex(function(o,s){return(s===0||_this330.SCALE_LEVELS[s-1]<e)&&e<o;});_i26!==-1?(this.SCALE_LEVELS=[].concat(_toConsumableArray(this.SCALE_LEVELS.slice(0,_i26)),[e],_toConsumableArray(this.SCALE_LEVELS.slice(_i26))),this.state.scaleIndex=_i26):(this.SCALE_LEVELS=[].concat(_toConsumableArray(this.SCALE_LEVELS),[e]),this.state.scaleIndex=this.SCALE_LEVELS.length-1);}this.defaultScale=e;}},{key:"setScaleToDefault",value:function setScaleToDefault(){this.state.scaleIndex=this.defaultIndex;}},{key:"checkOffset",value:function checkOffset(e){var t=Math.max(window.devicePixelRatio||1,1),i=this.scaledSize,o=this.previewSize,s=this.editor.engineMediator.preview.initialTransform.position,n=this.getPositionWithOffset(e),a=(i.width-o.width)*t/2,l=(i.height-o.height)*t/2,c=s.x-n.x,u=s.y-n.y,p=Math.abs(c),m=Math.abs(u),h=c>0,g=u>0,v=p-a,S=m-l;return{canDragX:v<0,canDragY:S<0,maxOffsetX:h?-v:v,maxOffsetY:g?-S:S};}},{key:"calculateScale",value:function calculateScale(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.previewSize;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.defaultScale;var o=t.width,s=t.height,n=new B({x:o,y:s}),a=new B(Math.abs(n.x*Math.cos(e))+Math.abs(n.y*Math.sin(e)),Math.abs(n.x*Math.sin(e))+Math.abs(n.y*Math.cos(e))),l=n.subtract(a).divide(2).multiply(i).abs;return l.y>l.x?l.y*2/n.y+i:l.x*2/n.x+i;}},{key:"defaultIndex",get:function get(){var _this331=this;return this.SCALE_LEVELS.findIndex(function(e){return e===_this331.defaultScale;});}},{key:"getPositionWithOffset",value:function getPositionWithOffset(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;var t=this.position;return{x:t.x-e.x,y:t.y-e.y};}},{key:"scaleRender",value:function scaleRender(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this.editor.scale.getPositionWithOffset(),i=e?this.defaultScale:this.scale,o={x:i,y:i};this.editor.engineMediator.preview.container.setScale(o),this.editor.engineMediator.preview.container.setPosition(t),this.editor.engineMediator.preview.savePreviewTransform({scale:o,position:t,rotation:0}),e||this.editor.render();}},{key:"scale",get:function get(){var e=this.state.scaleIndex;return e!==-1?this.SCALE_LEVELS[e]:this.defaultScale;}},{key:"zoomLevel",get:function get(){var e=Math.max(window.devicePixelRatio||1,1);return(this.scale/e*100).toFixed(1);}},{key:"canDrag",get:function get(){return this.defaultScale<this.scale;}},{key:"canZoomOut",get:function get(){var e=this.editor.configStore.config.restrictZoomOutToDefault;return e?this.state.scaleIndex>this.defaultIndex:this.state.scaleIndex!==0;}},{key:"canZoomIn",get:function get(){return this.SCALE_LEVELS.length-1>this.state.scaleIndex;}},{key:"position",get:function get(){return this.state.position;}},{key:"scaledSize",get:function get(){var e=this.state.scaleIndex,t=e!==-1?this.SCALE_LEVELS[e]:this.defaultScale,i=this.previewSize;return{width:i.width*t/this.defaultScale,height:i.height*t/this.defaultScale};}},{key:"previewSize",get:function get(){return this.editor.getPreviewSize();}}]);return di;}();f([le],di.prototype,"state",2),f([T],di.prototype,"in",2),f([T],di.prototype,"out",2),f([T],di.prototype,"setInitialTransform",1),f([T],di.prototype,"resetScale",1),f([T],di.prototype,"resetPosition",1),f([T],di.prototype,"setPosition",1),f([T],di.prototype,"savePosition",1),f([T],di.prototype,"setDefaultScale",1),f([T],di.prototype,"setScaleToDefault",1),f([k],di.prototype,"scale",1),f([k],di.prototype,"zoomLevel",1),f([k],di.prototype,"canDrag",1),f([k],di.prototype,"canZoomOut",1),f([k],di.prototype,"canZoomIn",1),f([k],di.prototype,"position",1),f([k],di.prototype,"scaledSize",1);});var pae,hae,fae,gae,bae,_ae,yae,xae,vae,Cae,Sae,wae,kae,Tae,Dae,pN,mN=d(function(){pae="@photoeditorsdk/root",hae="5.15.0",fae="The most comprehensive photo editor SDK for HTML5",gae="http://github.com/imgly/pesdk-html5",bae="PhotoEditorSDK (img.ly GmbH) <contact@img.ly>",_ae="SEE LICENSE IN LICENSE.md",yae=!0,xae={},vae={start:"yarn workspace @example/react start",build:"yarn sdk-script build","build:rollup":"yarn sdk-script build rollup","package:release":"cd dist/photoeditorsdk && npm publish","package:pre-release":"cd dist/photoeditorsdk && npm publish --tag next","lint:css":"stylelint './packages/**/*.tsx'","lint:ts":"eslint ./packages/**/*.{ts,tsx}","lint:ts-engine":"eslint ./engine/**/*.ts","lint:types":"tsc --noEmit -p tsconfig.json --skipLibCheck","lint:types-engine":"tsc --noEmit -p engine/tsconfig.json --skipLibCheck",lint:"run-p lint:*",test:"$(npm bin)/jest",e2e:"cypress open","e2e:server":"sdk-script ui -P 3000 -D build","e2e:ci":"CYPRESS_RETRIES=2 cypress run --browser chrome --headless",deploy:"yarn workspace examp run deploy:pages",docs:"rm -rf ./docs && typedoc",postinstall:"yarn sdk-script server:build"},Cae={"@elv1n/cypress-plugin-snapshots":"1.4.4","@types/jest":"^24.0.11","@types/pixelmatch":"^5.2.2","@types/pngjs":"^3.4.2","@types/react":"^16.8.13","@types/react-dom":"^16.8.4","@types/styled-components":"4.4.0","@typescript-eslint/eslint-plugin":"4.6.0","@typescript-eslint/parser":"4.6.0",autoprefixer:"^9.7.4","cross-env":"^7.0.2",cypress:"6.6.0",eslint:"7.10.0","eslint-config-airbnb":"18.2.0","eslint-config-prettier":"6.12.0","eslint-import-resolver-typescript":"^2.3.0","eslint-plugin-cypress":"^2.11.2","eslint-plugin-import":"2.22.1","eslint-plugin-jsx-a11y":"6.3.1","eslint-plugin-no-only-tests":"^2.4.0","eslint-plugin-prettier":"3.1.4","eslint-plugin-react":"7.21.3",husky:"4.3.0",jest:"24.9.0",jsdoc:"^3.6.3","lint-staged":"10.4.0","lodash.defaults":"^4.2.0","mobx-react-devtools":"^6.1.1","native-url":"0.3.4","npm-run-all":"^4.1.5",prettier:"^2.0.5",react:"16.8.6","react-dom":"16.8.6","start-server-and-test":"1.11.5","styled-components":"4.4.1",stylelint:"^13.7.2","stylelint-config-recommended":"^3.0.0","stylelint-config-standard":"^20.0.0","stylelint-config-styled-components":"^0.1.1","stylelint-processor-styled-components":"^1.10.0","ts-jest":"24.3.0",typedoc:"^0.17.8",typescript:"3.8.3","utility-types":"^3.10.0"},Sae={"@juggle/resize-observer":"3.2.0","@reach/portal":"^0.13.0","can-use-dom":"0.1.0","lodash.debounce":"4.0.8","lodash.memoize":"4.1.2","lodash.throttle":"4.1.1",mobx:"4.15.7","mobx-react":"6.3.1",photoeditorsdk:"1.0.0","react-app-polyfill":"1.0.6","react-transition-group":"^4.4.1"},wae={node:"10.x || 11.x || 12.x || 13.x || 14.x || 15.x"},kae={eslint:"7.10.0"},Tae=["examples/server","examples/material-ui","examples/ssr","examples/react","packages/*","!packages/ui","packages/ui/*","!packages/ui/components","packages/ui/components/*","engine/*","test/*","scripts"],Dae={hooks:{"pre-commit":"lint-staged","pre-push":"true"}},pN={name:pae,version:hae,description:fae,repository:gae,author:bae,license:_ae,"private":yae,bin:xae,scripts:vae,devDependencies:Cae,dependencies:Sae,devEngines:wae,resolutions:kae,workspaces:Tae,husky:Dae};});var _Ed,s2,hN=d(function(){H();fa();mN();_Ed=/*#__PURE__*/function(){function Ed(e,t,i,o,s,n){var _this332=this;_classCallCheck(this,Ed);this.mapImagePointToRelativeCropPoint=function(e){var t=ge.pointFromSpaceToSpace(e,_this332.imageSpace,_this332.cropSpace,!1);return ge.absoluteToRelativePoint(t,_this332.cropSpace,!1);};this.mapSizeToRelativeUnscaledCropSize=function(e){return e/Math.min(_this332.outputSize.height,_this332.outputSize.width);};this.mapSizeToRelativeScaledCropSize=function(e){return e/Math.min(_this332.outputSize.height*_this332.outputScale.x,_this332.outputSize.width*_this332.outputScale.y);};this.getPointInDirection=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var o=Math.tan(t),s=Math.sqrt(Math.pow(o,2)+1);return{x:e.x+i/s,y:e.y+i*o/s};};this.previewPosition=e,this.previewSize=t,this.outputSize=i,this.imageSize=o,this.imageSpace=s,this.cropSpace=n,this.outputScale=n.getScale();}_createClass(Ed,[{key:"serialise",value:function serialise(e,t,i){var _this333=this;var o=_Ed.serializeMetaData(),s={width:this.imageSize.width,height:this.imageSize.height};t&&(s.type=i,s.data=t);var n=[],a=[],l=e.adjustment;Object.keys(l).map(function(v){return l[v];}).filter(Boolean).length&&n.push(_Ed.serializeAdjustments(l));var c=e.filter;c.identifier!=="identity"&&n.push(_Ed.serializeFilters(c));var u=e.overlay;if(u.identifier!=="identity"&&a.push(_Ed.serializeOverlay(u)),e.transform){var _this$serializeTransf=this.serializeTransform(e.transform),v=_this$serializeTransf.transform,S=_this$serializeTransf.orientation,_=[v.options.start.x!==0,v.options.start.y!==0,v.options.end.x!==1,v.options.end.y!==1,v.options.rotation!==0],I=[S.options.rotation!==0,S.options.flipVertically!==!1,S.options.flipHorizontally!==!1];_.some(function(E){return E;})&&n.push(v),I.some(function(E){return E;})&&n.push(S);}var p=e.frame;p.identifier!=="identity"&&a.push(this.serialzeFrame(p));var m=e.focus;if(m.identifier!=="identity"&&n.push(this.serializeFocus(m)),e.sprite&&e.sprite.spriteIdList.forEach(function(v){var S=e.sprite.common[v];switch(S.tool){case"sticker":var _16=e.sprite.sticker[v];a.push(_this333.serializeSticker(_16,S,e.transform));break;case"text":var _I3=e.sprite.text[v];a.push(_this333.serializeText(_I3,S));break;case"textdesign":var E=e.sprite.textdesign[v];a.push(_this333.serializeTextDesign(E,S));break;}}),e.brush.strokes.length&&a.push({type:"brush",options:{paths:e.brush.strokes.map(function(v){return{points:v.path.controlPoints.map(_this333.mapImagePointToRelativeCropPoint),brush:{color:{rgba:v.brush.color},size:v.brush.size,hardness:v.brush.hardness}};})}}),a.length){var _v7={type:"sprite",options:{sprites:a}};n.push(_v7);}var g={assets:{stickers:e.customStickers}};return{version:_Ed.version,meta:o,image:s,operations:n,assetLibrary:g};}},{key:"serialzeFrame",value:function serialzeFrame(e){return{type:"frame",options:{identifier:e.identifier,alpha:e.opacity,tintColor:{rgba:e.color},size:this.mapSizeToRelativeUnscaledCropSize(e.width)}};}},{key:"serializeFocus",value:function serializeFocus(e){var t=Math.sqrt(Math.pow(this.previewSize.width,2)+Math.pow(this.previewSize.height,2));switch(e.identifier){case Ue.LINEAR:return{type:"focus",options:{type:"linear",options:{start:this.mapImagePointToRelativeCropPoint(e.linear.start),end:this.mapImagePointToRelativeCropPoint(e.linear.end),blurRadius:this.mapSizeToRelativeScaledCropSize(e.linear.blurRadius)}}};case Ue.RADIAL:return{type:"focus",options:{type:"radial",options:{start:this.mapImagePointToRelativeCropPoint(e.radial.center),end:this.mapImagePointToRelativeCropPoint(this.getPointInDirection(e.radial.center,0,e.radial.radius)),blurRadius:this.mapSizeToRelativeScaledCropSize(e.radial.blurRadius),gradientRadius:.1}}};case Ue.MIRRORED:var i=e.mirrored;return{type:"focus",options:{type:"mirrored",options:{start:this.mapImagePointToRelativeCropPoint(this.getPointInDirection(i.origin,i.rotation,t/2)),end:this.mapImagePointToRelativeCropPoint(this.getPointInDirection(i.origin,i.rotation,-t/2)),size:this.mapSizeToRelativeScaledCropSize(e.mirrored.size),blurRadius:this.mapSizeToRelativeScaledCropSize(e.mirrored.blurRadius),gradientSize:.1}}};default:return{type:"focus",options:{type:"gaussian",options:{blurRadius:this.mapSizeToRelativeScaledCropSize(e.gaussian.blurRadius)}}};}}},{key:"serializeSticker",value:function serializeSticker(e,t,i){return{type:"sticker",options:{position:this.mapImagePointToRelativeCropPoint(t.position),dimensions:{x:this.mapSizeToRelativeScaledCropSize(t.size.width),y:this.mapSizeToRelativeScaledCropSize(t.size.height)},rotation:t.rotation,flipVertically:(t.flipVertically||!1)!==(i.flipVertically||!1),flipHorizontally:(t.flipHorizontally||!1)!==(i.flipHorizontally||!1),identifier:e.identifier,alpha:e.opacity,tintColor:{rgba:e.tintColor},tintMode:e.tintMode}};}},{key:"serializeText",value:function serializeText(e,t){return{type:"text",options:{position:this.mapImagePointToRelativeCropPoint(t.position),rotation:t.rotation,flipVertically:!1,flipHorizontally:!1,fontIdentifier:e.identifier,fontSize:this.mapSizeToRelativeScaledCropSize(e.fontSize),maxWidth:this.mapSizeToRelativeScaledCropSize(e.width),text:e.text,lineHeight:e.lineHeight,color:{rgba:e.textColor},backgroundColor:{rgba:e.backgroundColor},alignment:e.alignment}};}},{key:"serializeTextDesign",value:function serializeTextDesign(e,t){return{type:"textdesign",options:{position:this.mapImagePointToRelativeCropPoint(t.position),rotation:t.rotation,flipVertically:!1,flipHorizontally:!1,identifier:e.identifier,inverted:e.isInverted,text:e.text,seed:e.seed,width:this.mapSizeToRelativeScaledCropSize(e.width),padding:this.mapSizeToRelativeScaledCropSize(e.padding),color:{rgba:e.color}}};}},{key:"serializeTransform",value:function serializeTransform(e){var t=e.start,i=e.end,o={type:"transform",options:{start:t,end:i,rotation:e.rotation,meta:{identifier:e.identifier}}},s={type:"orientation",options:{rotation:e.outputRotation,flipHorizontally:e.flipHorizontally,flipVertically:e.flipVertically}};return{transform:o,orientation:s};}}],[{key:"serializeFilters",value:function serializeFilters(e){return{type:"filter",options:{intensity:e.intensity,identifier:e.identifier}};}},{key:"serializeAdjustments",value:function serializeAdjustments(e){return{type:"adjustments",options:e};}},{key:"serializeOverlay",value:function serializeOverlay(e){return{type:"overlay",options:{identifier:e.identifier,intensity:e.opacity,blendMode:e.blendMode.replace(/[A-Z]/g,function(t){return" ".concat(t.toLowerCase());})}};}},{key:"serializeMetaData",value:function serializeMetaData(){return{platform:"html5",version:pN.version,createdAt:new Date().toISOString()};}}]);return Ed;}(),s2=_Ed;s2.version="3.9.0";});var fN,_ji,n2,gN=d(function(){H();fa();$();fN=function fN(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:li.PNG;return"data:".concat(r,";base64,");},_ji=/*#__PURE__*/function(){function ji(e){var _this334=this;_classCallCheck(this,ji);this.spriteOrder=0;this.mapRelativeCropPointToImageSpace=function(e){var t=ge.relativeToAbsolutePoint(e,_this334.cropSpace,!1);return ge.pointFromSpaceToSpace(t,_this334.cropSpace,_this334.imageSpace,!1);};this.mapRelativeCropSizeToScaledImageSize=function(e){return e*Math.min(_this334.outputSize.height*_this334.outputScale.x,_this334.outputSize.width*_this334.outputScale.y);};this.mapRelativeCropSizeToUnscaledImageSize=function(e){return e*Math.min(_this334.outputSize.height,_this334.outputSize.width);};this.editor=e;}_createClass(ji,[{key:"deserializeTransformation",value:function deserializeTransformation(e){var t={},i=e.operations.find(function(n){return n.type==="orientation";}),o=e.operations.find(function(n){return n.type==="transform";}),_this$editor$engine$g=this.editor.engine.getRootContainers(),_this$editor$engine$g2=_slicedToArray(_this$editor$engine$g,1),s=_this$editor$engine$g2[0];return this.previewPosition=this.editor.transformToolStore.defaultCropMaskPosition,this.previewSize=this.editor.transformToolStore.maxCropMaskSize,this.imageSpace=s,t.transform=_ji.initializeEmptyTransform(),i!=null&&(t.transform.outputRotation=i.options.rotation,t.transform.flipHorizontally=i.options.flipHorizontally||!1,t.transform.flipVertically=i.options.flipVertically||!1),o&&(t.transform.start=o.options.start,t.transform.end=o.options.end,t.transform.rotation=o.options.rotation||0,t.transform.identifier=o.options.meta?o.options.meta.identifier:""),t;}},{key:"deserialize",value:function deserialize(e){var _this335=this;var s,n;var t={};(e.meta?!_ji.checkIfPlatformHTML(e.meta.platform):!1)&&console.warn("Read serialisation from another Platform");var i=this.editor.engineMediator.output.container.getResolution(),_this$editor$engineMe=this.editor.engineMediator.image.container.getBounds(),o=_this$editor$engineMe.size;return this.outputSize=i,this.imageSize=o,this.cropSpace=this.editor.engine.getOutputContainer(),this.outputScale=this.cropSpace.getScale(),e.operations.forEach(function(a){switch(a.type){case"filter":t.filter=_ji.deserializeFilter(a.options);break;case"adjustments":t.adjustment=_ji.deserializeAdjustments(a.options);break;case"focus":t.focus=_this335.deserializeFocus(a.options);break;case"sprite":var l=a.options.sprites;l.forEach(function(c){var _t$brush$strokes;switch(c.type){case"frame":t.frame=_this335.deserializeFrame(c.options);break;case"overlay":t.overlay=_ji.deserializeOverlay(c.options);break;case"brush":t.brush?(_t$brush$strokes=t.brush.strokes).push.apply(_t$brush$strokes,_toConsumableArray(_this335.deserializeBrush(c.options).strokes)):t.brush=_this335.deserializeBrush(c.options);break;case"sticker":case"text":case"textdesign":t.sprite||(t.sprite={spriteIdList:[],sticker:{},text:{},textdesign:{},common:{}});var u=ot();t.sprite.spriteIdList.push(u),t.sprite.common[u]={order:_this335.spriteOrder,position:_this335.mapRelativeCropPointToImageSpace(c.options.position),tool:C.STICKER,rotation:c.options.rotation||0,flipHorizontally:c.options.flipHorizontally,flipVertically:c.options.flipVertically},_this335.spriteOrder+=1,c.type===C.STICKER?(t.sprite.common[u].tool=C.STICKER,t.sprite.common[u].size={width:_this335.mapRelativeCropSizeToScaledImageSize(c.options.dimensions.x),height:_this335.mapRelativeCropSizeToScaledImageSize(c.options.dimensions.y)},t.sprite.sticker[u]=_ji.deserializeStickers(c.options)):c.type===C.TEXT?(t.sprite.common[u].tool=C.TEXT,t.sprite.text[u]=_this335.deserializeTexts(c.options)):c.type===C.TEXT_DESIGN&&(t.sprite.common[u].tool=C.TEXT_DESIGN,t.sprite.textdesign[u]=_this335.deserializeTextDesign(c.options));break;default:break;}});break;default:break;}}),e.assetLibrary&&(t.customStickers=((n=(s=e.assetLibrary)==null?void 0:s.assets)==null?void 0:n.stickers)||[]),t;}},{key:"deserializeFrame",value:function deserializeFrame(e){return{identifier:e.identifier,opacity:e.alpha,width:this.mapRelativeCropSizeToUnscaledImageSize(e.size),color:_ji.deserialzeColor(e.tintColor)};}},{key:"deserializeFocus",value:function deserializeFocus(e){switch(e.type){case"linear":return{identifier:"linear",linear:this.deserializeLinearFocus(e.options)};case"gaussian":return{identifier:"gaussian",gaussian:this.deserializeGaussianFocus(e.options)};case"radial":return{identifier:"radial",radial:this.deserializeRadialFocus(e.options)};case"mirrored":return{identifier:"mirrored",mirrored:this.deserializeMirroredFocus(e.options)};}}},{key:"deserializeRadialFocus",value:function deserializeRadialFocus(e){return{center:this.mapRelativeCropPointToImageSpace(e.start),radius:new B(this.mapRelativeCropPointToImageSpace(e.start)).subtract(new B(this.mapRelativeCropPointToImageSpace(e.end))).magnitude,blurRadius:this.mapRelativeCropSizeToScaledImageSize(e.blurRadius)};}},{key:"deserializeLinearFocus",value:function deserializeLinearFocus(e){return{start:this.mapRelativeCropPointToImageSpace(e.start),end:this.mapRelativeCropPointToImageSpace(e.end),blurRadius:this.mapRelativeCropSizeToScaledImageSize(e.blurRadius)};}},{key:"deserializeGaussianFocus",value:function deserializeGaussianFocus(e){return{blurRadius:this.mapRelativeCropSizeToScaledImageSize(e.blurRadius)};}},{key:"deserializeMirroredFocus",value:function deserializeMirroredFocus(e){var t=new B(this.mapRelativeCropPointToImageSpace(e.start)).subtract(new B(this.mapRelativeCropPointToImageSpace(e.end)));return{origin:new B(this.mapRelativeCropPointToImageSpace(e.start)).add(new B(this.mapRelativeCropPointToImageSpace(e.end))).divide(2),rotation:Math.atan2(t.y,t.x),size:this.mapRelativeCropSizeToScaledImageSize(e.size),blurRadius:this.mapRelativeCropSizeToScaledImageSize(e.blurRadius)};}},{key:"deserializeTexts",value:function deserializeTexts(e){return{identifier:Ga(e.fontIdentifier),fontSize:this.mapRelativeCropSizeToScaledImageSize(e.fontSize),width:this.mapRelativeCropSizeToScaledImageSize(e.maxWidth),alignment:e.alignment,textColor:_ji.deserialzeColor(e.color),backgroundColor:_ji.deserialzeColor(e.backgroundColor),lineHeight:e.lineHeight,text:e.text};}},{key:"deserializeTextDesign",value:function deserializeTextDesign(e){return{identifier:e.identifier,width:this.mapRelativeCropSizeToScaledImageSize(e.width),padding:this.mapRelativeCropSizeToScaledImageSize(e.padding),color:_ji.deserialzeColor(e.color),seed:e.seed,text:e.text,isInverted:e.inverted};}},{key:"deserializeBrush",value:function deserializeBrush(e){var _this336=this;return{strokes:e.paths.map(function(t){return{path:{controlPoints:t.points.map(_this336.mapRelativeCropPointToImageSpace)},brush:{id:"imgly_brush_radial",color:_ji.deserialzeColor(t.brush.color),size:t.brush.size,hardness:t.brush.hardness}};})};}}],[{key:"deserializeFilter",value:function deserializeFilter(e){return{intensity:e.intensity,identifier:e.identifier};}},{key:"deserializeAdjustments",value:function deserializeAdjustments(e){return w({},e);}},{key:"deserializeOverlay",value:function deserializeOverlay(e){return{identifier:e.identifier,opacity:e.intensity,blendMode:e.blendMode.replace(/([ _][a-z])/g,function(t){return t.toUpperCase().replace(" ","").replace("_","");})};}},{key:"initializeEmptyTransform",value:function initializeEmptyTransform(){return{outputRotation:0,flipHorizontally:!1,flipVertically:!1,start:{x:0,y:0},end:{x:1,y:1},rotation:0};}},{key:"deserialzeColor",value:function deserialzeColor(e){return e&&e.rgba?e.rgba:[0,0,0,0];}},{key:"validateVersion",value:function validateVersion(e){return _ji.version===e;}},{key:"checkIfPlatformHTML",value:function checkIfPlatformHTML(e){return e==="html5";}},{key:"deserializeStickers",value:function deserializeStickers(e){return{identifier:e.identifier,opacity:e.alpha||0,tintMode:e.tintMode||"none",tintColor:_ji.deserialzeColor(e.tintColor)};}},{key:"checkIsSerialisationValid",value:function checkIsSerialisationValid(e){if(typeof e!="string"&&_ji.validateVersion(e.version))return!0;if(typeof e=="string")throw new Error("Invalid input of type string, please provide an object");return!1;}},{key:"deserializeImage",value:function deserializeImage(e){var t={};return e.image&&(t.image={width:e.image.width,height:e.image.height,data:e.image.data?e.image.data.replace(fN(),""):""},t.image.data=t.image.data?fN()+t.image.data:""),t;}}]);return ji;}(),n2=_ji;n2.version="3.9.0";});var a2={};It(a2,{Deserializer:function Deserializer(){return n2;},Serializer:function Serializer(){return s2;}});var l2=d(function(){hN();gN();});var bN,Eae,Iae,Fae,_mf,_N=d(function(){Le();H();bN=/^data:image\/(.+?);base64,/,Eae=function Eae(r){return bN.test(r);},Iae=function Iae(r){return r.match(/^data:([^;]+)/)[1];},Fae=function Fae(r){return r.replace(bN,"");},_mf=/*#__PURE__*/function(){function mf(e){var _this337=this;_classCallCheck(this,mf);this.applySerialization=function(e,t,i,o){return ie(_this337,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee26(){var s,n,a,l,p,c,u;return regeneratorRuntime.wrap(function _callee26$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:this.editor.resetToolStates();s=this.editor.activeStore.tool===C.TRANSFORM;s||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.reset(),s||this.editor.transformToolStore.onLeave();n=new t(this.editor),a="Unexpected error occured",l=t.deserializeImage(e);if(!(l.image&&l.image.data)){_context27.next=20;break;}p=l.image.data;_context27.next=8;return this.editor.setImage(p);case 8:this.editor.scale.defaultScale=1;this.editor.scale.resetOffset();this.editor.transformToolStore.reset();this.editor.activeStore.setImage(p);_context27.next=14;return this.editor.engineMediator.image.addImageToContainer();case 14:this.editor.engineMediator.output.applyNewImageTransform();this.editor.engineMediator.preview.updateTransform();this.editor.scale.setInitialTransform();this.editor.transformToolStore.setCropDefaults();this.editor.historyStore.addInitialSnapshot();this.editor.transformToolStore.saveTransforms();case 20:c=n.deserializeTransformation(e);if(c){_context27.next=24;break;}o(a);return _context27.abrupt("return");case 24:_context27.next=26;return this.applyStateOnUI(c);case 26:u=n.deserialize(e);if(u){_context27.next=30;break;}o(a);return _context27.abrupt("return");case 30:_context27.next=32;return this.applyStateOnUI(u);case 32:this.editor.historyStore.addInitialSnapshot();_context27.next=35;return this.editor.render();case 35:this.editor.modalStore.identifier==="loading"&&this.editor.modalStore.hideModal();i();case 37:case"end":return _context27.stop();}}},_callee26,this);}));};this.editor=e;}_createClass(mf,[{key:"serialize",value:function serialize(){var _this338=this;var _ref118=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{image:!1},e=_ref118.image;var t=this.editor.activeStore.tool===C.TRANSFORM,i=this.editor.configStore.config.displaySerializationModal;return i&&this.editor.modalStore.showInfoModal("saving"),new Promise(function(o,s){Promise.resolve().then(function(){return l2(),a2;}).then(function(a){return ie(_this338,[a],/*#__PURE__*/regeneratorRuntime.mark(function _callee27(_ref119){var n,_m5,_this$editor$imageCon,l,c,u,p,m,_yield$this$editor$sp,h,g,v,S,_;return regeneratorRuntime.wrap(function _callee27$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:n=_ref119.Serializer;_context28.prev=1;t&&this.editor.transformToolStore.onLeave();_context28.next=5;return this.editor.wait();case 5:this.editor.transformToolStore.applyDefaultCrop(!1);_this$editor$imageCon=this.editor.imageContainer.getData();l=_this$editor$imageCon.originalImage;c=this.editor.engineMediator.output.container.getResolution();u={width:l.width,height:l.height};p=new n(this.editor.transformToolStore.defaultCropMaskPosition,this.editor.transformToolStore.maxCropMaskSize,c,u,this.editor.engine.getRootContainers()[0],this.editor.engine.getOutputContainer());m=(_m5={},_defineProperty(_m5,C.ADJUSTMENT,fe(this.editor.adjustmentsToolStore.state)),_defineProperty(_m5,C.FILTER,fe(this.editor.filterToolStore.state)),_defineProperty(_m5,C.FOCUS,fe(this.editor.focusToolStore.serializableState)),_defineProperty(_m5,C.OVERLAY,fe(this.editor.overlayToolStore.state)),_defineProperty(_m5,C.FRAME,fe(this.editor.frameToolStore.state)),_defineProperty(_m5,C.BRUSH,this.editor.brushToolStore.strokes||{strokes:[]}),_m5);_context28.next=14;return this.editor.spriteStore.serializableState();case 14:_yield$this$editor$sp=_context28.sent;h=_yield$this$editor$sp.sprite;g=_yield$this$editor$sp.customStickers;h.spriteIdList=h.spriteIdList.sort(function(_,I){var E=h.common[_].order,O=h.common[I].order;return E-O;}),m.sprite=h,m.customStickers=g,m.transform=this.editor.transformToolStore.serializableState;if(e){_=_mf.getDataURL(l);S=Iae(_),v=Fae(_);}i&&this.editor.modalStore.hideModal(),o(p.serialise(m,v,S)),t&&this.editor.transformToolStore.onEnter();_context28.next=25;break;case 22:_context28.prev=22;_context28.t0=_context28["catch"](1);i&&this.editor.modalStore.hideModal(),s(_context28.t0);case 25:case"end":return _context28.stop();}}},_callee27,this,[[1,22]]);}));});});}},{key:"deserialize",value:function deserialize(e){var _this339=this;return this.editor.modalStore.showInfoModal("loading"),new Promise(function(t,i){try{Promise.resolve().then(function(){return l2(),a2;}).then(function(_ref120){var o=_ref120.Deserializer;o.checkIsSerialisationValid(e)?_this339.applySerialization(e,o,t,i):(_this339.editor.modalStore.hideModal(),_this339.editor.modalStore.showActionModal({type:ct.WARNING,identifier:"unsupportedSerializationVersion",handleConfirm:function handleConfirm(){return _this339.applySerialization(e,o,t,i);}}));});}catch(o){_this339.editor.modalStore.identifier==="loading"&&_this339.editor.modalStore.hideModal(),i(o);}});}},{key:"applyStateOnUI",value:function applyStateOnUI(e){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee28(){var t;return regeneratorRuntime.wrap(function _callee28$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:t=this.editor.activeStore.tool===C.TRANSFORM;_context29.prev=1;_context29.t0=e.transform;if(!_context29.t0){_context29.next=15;break;}t||this.editor.transformToolStore.onEnter();this.editor.transformToolStore.updateStateFromSerialization(e.transform);_context29.next=8;return this.editor.wait();case 8:_context29.t1=t;if(_context29.t1){_context29.next=15;break;}this.editor.transformToolStore.onLeave();this.editor.transformToolStore.onEnter();_context29.next=14;return this.editor.wait();case 14:this.editor.transformToolStore.onLeave();case 15:_context29.t2=e.filter;if(!_context29.t2){_context29.next=19;break;}_context29.next=19;return this.editor.filterToolStore.updateStateFromSerialization(e.filter);case 19:e.adjustment&&this.editor.adjustmentsToolStore.updateStateFromSerialization(e.adjustment);_context29.t3=e.focus;if(!_context29.t3){_context29.next=24;break;}_context29.next=24;return this.editor.focusToolStore.updateStateFromSerialization(e.focus);case 24:_context29.t4=e.overlay;if(!_context29.t4){_context29.next=28;break;}_context29.next=28;return this.editor.overlayToolStore.updateStateFromSerialization(e.overlay);case 28:_context29.t5=e.sprite;if(!_context29.t5){_context29.next=33;break;}e.sprite.spriteIdList=e.sprite.spriteIdList.sort(function(i,o){var s=e.sprite.common[i].order,n=e.sprite.common[o].order;return s-n;});_context29.next=33;return this.editor.spriteStore.updateStateFromSerialization(e.sprite,e.customStickers);case 33:e.brush&&this.editor.brushToolStore.updateStateFromHistory(e.brush);_context29.t6=e.frame;if(!_context29.t6){_context29.next=38;break;}_context29.next=38;return this.editor.frameToolStore.updateStateFromSerialization(e.frame);case 38:this.editor.outputContainer.updateChildrenContainers();_context29.next=44;break;case 41:_context29.prev=41;_context29.t7=_context29["catch"](1);console.error(_context29.t7),this.editor.modalStore.showActionModal({type:ct.ERROR,identifier:"unexpectedError",error:_context29.t7,handleConfirm:function handleConfirm(){window.location.reload();}});case 44:case"end":return _context29.stop();}}},_callee28,this,[[1,41]]);}));}}],[{key:"getDataURL",value:function getDataURL(e){if(e instanceof HTMLImageElement){var o=e.src;if(Eae(o))return o;}if(e instanceof HTMLCanvasElement)return e.toDataURL(li.PNG);var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t.toDataURL(li.PNG);}}]);return mf;}();});var rn,yv=d(function(){eo();rn={identifier:"identity",opacity:1,width:0,color:Or.white};});var Oae,_a,yN=d(function(){Le();af();yv();Oae=new ba(0,1),_a=/*#__PURE__*/function(){function _a(e){var _this340=this;_classCallCheck(this,_a);this.changeIdentifier=function(e){_this340.state.identifier=e;};this.changeOpacity=function(e){var t=Oae.clamp(e);_this340.state.opacity=t;};this.changeWidth=function(e){_this340.state.width=e;};this.changeColor=function(e){_this340.state.color=e;};this.reset=function(){_this340.indexInContainer===-1&&(_this340.state.identifier=rn.identifier,_this340.state.opacity=rn.opacity,_this340.state.width=rn.width,_this340.state.color=rn.color,_this340.removeIndex());};this.removeFrameEffect=function(){_this340.effect&&(_this340.engine.removeEffect(_this340.effect),_this340.effect=void 0);};this.setEffectProperties=function(e){return _this340.effect?(_this340.removeIndex(),_this340.effect.setProperties(e),_this340.effect.getProperties()):null;};this.setFrameEffect=function(_ref121){var e=_ref121.identifier,t=_ref121.width,i=_ref121.opacity,o=_ref121.color;var s=w({},_this340.state);_this340.changeIdentifier(e),_this340.changeWidth(t),_this340.changeOpacity(i),_this340.changeColor(o),_this340.removeFrameEffect();var n=_this340.engineMediator.orderHelper.addSprite(e);return new Promise(function(a,l){_this340.engine.addFrameFromAssets(e,_this340.engineMediator.image.container,n).then(function(c){_this340.effect=c,_this340.effect.setProperties({tintColor:o,opacity:i,width:t}),a();})["catch"](function(c){_this340.changeIdentifier(s.identifier),_this340.changeOpacity(s.opacity),_this340.changeWidth(s.width),_this340.changeColor(s.color),s.identifier==="identity"&&_this340.removeIndex(),l(c);});});};this.removeIndex=function(){_this340.engineMediator.orderHelper.removeSprite(_this340.state.identifier);};this.engineMediator=e,this.state=rn;}_createClass(_a,[{key:"engine",get:function get(){return this.engineMediator.engine;}},{key:"imageContainer",get:function get(){return this.engineMediator.image.container;}},{key:"indexInContainer",get:function get(){return this.effect?this.effect.getIndexInParent():-1;}}]);return _a;}();f([le],_a.prototype,"state",2),f([T],_a.prototype,"changeIdentifier",2),f([T],_a.prototype,"changeOpacity",2),f([T],_a.prototype,"changeWidth",2),f([T],_a.prototype,"changeColor",2),f([T],_a.prototype,"reset",2);});var Kt,xN=d(function(){Le();H();$();ls();tn();en();eo();yv();yN();Kt=/*#__PURE__*/function(){function Kt(e){var _this341=this;_classCallCheck(this,Kt);this.colorList=St.defaultColors;this.selectFrame=function(e){return ie(_this341,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee29(){var _t14;return regeneratorRuntime.wrap(function _callee29$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:if(!(e!==this.identifier)){_context30.next=6;break;}_t14=.1*this.editor.shortestOutputSide;_context30.next=4;return this.frameStore.setFrameEffect({identifier:e,width:_t14,opacity:1,color:rn.color});case 4:this.editor.render();this.addSnapshot(Ee.ADD,C.FRAME);case 6:case"end":return _context30.stop();}}},_callee29,this);}));};this.changeOpacity=function(e){var t=_this341.frameStore.setEffectProperties({opacity:e});t&&(_this341.frameStore.changeOpacity(t.opacity),_this341.editor.render());};this.changeWidth=function(e){var t=_this341.frameStore.setEffectProperties({width:e});t&&(_this341.frameStore.changeWidth(t.width),_this341.editor.render());};this.changeColor=function(e){var t=_this341.frameStore.setEffectProperties({tintColor:e});t&&(_this341.frameStore.changeColor(t.tintColor),_this341.editor.render());};this.colorSnapshot=function(){_this341.addSnapshot(Ee.EDIT,_this341.locale.controls.selectColor);};this.toolSnapshot=function(e){_this341.addSnapshot(Ee.EDIT,e);};this.addSnapshot=function(e,t){_this341.editor.addSnapshot(void 0,e,t);};this.pureReset=function(){_this341.frameStore.removeFrameEffect(),_this341.frameStore.reset();};this.reset=function(){_this341.pureReset(),_this341.addSnapshot(Ee.DELETE,_this341.locale.controls.buttonReset),_this341.editor.render();};this.updateStateFromHistory=function(e){return e.identifier==="identity"?(_this341.pureReset(),new Promise(function(t){t();})):_this341.frameStore.setFrameEffect(e);};this.updateStateFromSerialization=function(e){return ie(_this341,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){var _this342=this;return regeneratorRuntime.wrap(function _callee30$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:return _context31.abrupt("return",this.entityManager.items.find(function(i){return i.identifier===e.identifier;})?this.frameStore.setFrameEffect(e).then(function(){_this342.editor.transformToolStore.setFrameOpacity(e.opacity);}):new Promise(function(i,o){o(new Error("Frame Asset doesn't exist"));}));case 1:case"end":return _context31.stop();}}},_callee30,this);}));};this.editor=e,this.frameStore=new _a(this.editor.engineMediator);var t=this.editor.assetProvider.getAssets("frame"),i=this.config;this.entityManager=new _ei(t,L(w({},i),{flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("frame")})),rn.color=fe($o(this.config,"defaultColor",rn.color)),this.config.colors&&this.config.colors.length>0&&(this.colorList=as(fe(this.config.colors)));}_createClass(Kt,[{key:"state",get:function get(){return this.frameStore.state;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"color",get:function get(){return this.state.color;}},{key:"size",get:function get(){return this.state.width;}},{key:"tintable",get:function get(){var _this343=this;var e=this.entityManager.items.find(function(t){return t.identifier===_this343.identifier;});return e&&e.tintable||!1;}},{key:"opacity",get:function get(){return this.state.opacity;}},{key:"minSize",get:function get(){return this.editor.shortestOutputSide*.05;}},{key:"maxSize",get:function get(){return this.editor.shortestOutputSide*.3;}},{key:"config",get:function get(){return this.editor.configStore.config[C.FRAME];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.FRAME];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}}]);return Kt;}();f([T],Kt.prototype,"selectFrame",2),f([T],Kt.prototype,"changeOpacity",2),f([T],Kt.prototype,"changeWidth",2),f([T],Kt.prototype,"changeColor",2),f([T],Kt.prototype,"pureReset",2),f([T],Kt.prototype,"reset",2),f([T],Kt.prototype,"updateStateFromHistory",2),f([T],Kt.prototype,"updateStateFromSerialization",2),f([k],Kt.prototype,"state",1),f([k],Kt.prototype,"identifier",1),f([k],Kt.prototype,"color",1),f([k],Kt.prototype,"size",1),f([k],Kt.prototype,"tintable",1),f([k],Kt.prototype,"opacity",1),f([k],Kt.prototype,"minSize",1),f([k],Kt.prototype,"maxSize",1),f([k],Kt.prototype,"config",1),f([k],Kt.prototype,"locale",1),f([k],Kt.prototype,"localeColor",1),f([k],Kt.prototype,"items",1),f([k],Kt.prototype,"isOptionSelected",1);});var c2=d(function(){yv();xN();});var Rae,oo,d2=d(function(){Le();H();Rae={categories:[],query:""},oo=/*#__PURE__*/function(){function oo(e){var _this344=this;_classCallCheck(this,oo);this.initProvider=function(e){e&&(_this344.libraryProvider=new e());};this.fetchImages=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return ie(_this344,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee31(){var _this345=this;var t,i,o;return regeneratorRuntime.wrap(function _callee31$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!this.libraryProvider){_context32.next=16;break;}t=null;_context32.prev=2;_context32.next=5;return this.libraryProvider.getCategories();case 5:i=_context32.sent;_context32.next=8;return this.libraryProvider.searchImages(e);case 8:o=_context32.sent;t=i.map(function(s,n){var a=o.filter(function(l){return l.category===s.name;});return{identifier:s.name,name:s.name,thumbnailURI:s.coverImageUrl,items:a.map(function(l){return{name:l.title||"image".concat(n),identifier:"".concat(s.name,"-").concat(l.title,"-").concat(n),thumbnailURI:l.thumbUrl,rawUrl:l.rawUrl,authorName:l.authorName,authorAvatar:l.authorAvatar};})};}).filter(function(s){return s.items.length;});_context32.next=15;break;case 12:_context32.prev=12;_context32.t0=_context32["catch"](2);console.log(_context32.t0);case 15:oi(function(){_this345.state.query=e,_this345.state.categories=t;});case 16:case"end":return _context32.stop();}}},_callee31,this,[[2,12]]);}));};this.toggleCategorySelection=function(e){_this344.selectedCategory=_this344.selectedCategory!==e?e:"";};this.getRawUrl=function(e){var t=_this344.items.findIndex(function(i){return i.identifier===e;});return t!==-1?_this344.items[t].rawUrl:e;};this.configStore=e.configStore,this.state=le(Rae),this.selectedCategory="";}_createClass(oo,[{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"categories",get:function get(){return this.state.categories;}},{key:"items",get:function get(){return this.state.categories.map(function(e){return e.items;}).reduce(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t));},[]);}},{key:"query",get:function get(){return this.state.query;}},{key:"config",get:function get(){return this.configStore.config[C.LIBRARY];}},{key:"locale",get:function get(){return this.configStore.locale[C.LIBRARY];}}]);return oo;}();f([le],oo.prototype,"selectedCategory",2),f([T],oo.prototype,"initProvider",2),f([T],oo.prototype,"fetchImages",2),f([T],oo.prototype,"toggleCategorySelection",2),f([k],oo.prototype,"selectedCategoryIdentifier",1),f([k],oo.prototype,"categories",1),f([k],oo.prototype,"items",1),f([k],oo.prototype,"query",1),f([k],oo.prototype,"config",1),f([k],oo.prototype,"locale",1);});var pf,u2=d(function(){H();pf={identifier:"identity",opacity:1,blendMode:Ie.LIGHTEN};});var Aae,ya,vN=d(function(){Le();H();af();u2();Aae=new ba(0,1),ya=/*#__PURE__*/function(){function ya(e,t){var _this346=this;_classCallCheck(this,ya);this.changeIdentifier=function(e){_this346.state.identifier=e;};this.changeOpacity=function(e){var t=Aae.clamp(e);_this346.state.opacity=t;};this.changeBlendMode=function(e){_this346.state.blendMode=e;};this.reset=function(){_this346.indexInContainer===-1&&(_this346.state.identifier=pf.identifier,_this346.state.opacity=pf.opacity,_this346.state.blendMode=pf.blendMode,_this346.removeIndex());};this.correctOverlayFlip=function(){var _this346$editor$outpu=_this346.editor.outputContainer.getData(),e=_this346$editor$outpu.flipHorizontally,t=_this346$editor$outpu.flipVertically;_this346.effect&&(_this346.effect.setFlipHorizontally(e),_this346.effect.setFlipVertically(t));};this.removeOverlayEffect=function(){_this346.effect&&(_this346.engineMediator.engine.removeEffect(_this346.effect),_this346.removeIndex(),_this346.effect=void 0);};this.setEffectProperties=function(e){return _this346.effect?(_this346.effect.setProperties(e),_this346.effect.getProperties()):null;};this.setOverlayEffect=function(_ref122){var e=_ref122.identifier,t=_ref122.blendMode,i=_ref122.opacity;var o=w({},_this346.state);_this346.removeOverlayEffect();var s=_this346.engineMediator.orderHelper.addIndex(C.OVERLAY);return new Promise(function(n,a){_this346.engineMediator.engine.addOverlayFromAssets(e,_this346.engineMediator.image.container,s).then(function(l){_this346.changeIdentifier(e),_this346.changeOpacity(i),_this346.changeBlendMode(t),_this346.effect=l,_this346.effect.setProperties({blendMode:t,opacity:i}),_this346.correctOverlayFlip(),n();})["catch"](function(l){_this346.changeIdentifier(o.identifier),_this346.changeOpacity(o.opacity),_this346.changeBlendMode(o.blendMode),o.identifier==="identity"&&_this346.removeIndex(),a(l);});});};this.removeIndex=function(){_this346.engineMediator.orderHelper.removeIndex(C.OVERLAY);};this.engineMediator=e,this.editor=t,this.state=pf;}_createClass(ya,[{key:"indexInContainer",get:function get(){return this.effect?this.effect.getIndexInParent():-1;}}]);return ya;}();f([le],ya.prototype,"state",2),f([T],ya.prototype,"changeIdentifier",2),f([T],ya.prototype,"changeOpacity",2),f([T],ya.prototype,"changeBlendMode",2),f([T],ya.prototype,"reset",2),f([T],ya.prototype,"correctOverlayFlip",2);});var ui,CN=d(function(){Le();H();ls();en();vN();ui=/*#__PURE__*/function(){function ui(e){var _this347=this;_classCallCheck(this,ui);this.selectOverlay=function(e){return ie(_this347,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee32(){var _t15;return regeneratorRuntime.wrap(function _callee32$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:if(!(e!==this.identifier)){_context33.next=6;break;}_t15=this.defaultBlendModeForIdentifier(e);_context33.next=4;return this.overlayStore.setOverlayEffect({identifier:e,opacity:1,blendMode:_t15});case 4:this.addSnapshot(Ee.ADD,C.OVERLAY);this.editor.render();case 6:case"end":return _context33.stop();}}},_callee32,this);}));};this.changeOpacity=function(e){var t=_this347.overlayStore.setEffectProperties({opacity:e});t&&(_this347.overlayStore.changeOpacity(t.opacity),_this347.editor.render());};this.toolSnapshot=function(){_this347.addSnapshot(Ee.EDIT,_this347.locale.controls.sliderOpacity);};this.addSnapshot=function(e,t){_this347.editor.addSnapshot(void 0,e,t);};this.changeBlendMode=function(e){var t=_this347.overlayStore.setEffectProperties({blendMode:e});t&&(_this347.overlayStore.changeBlendMode(t.blendMode),_this347.addSnapshot(Ee.EDIT,_this347.locale.controls.carouselBlendMode),_this347.editor.render());};this.pureReset=function(){_this347.overlayStore.removeOverlayEffect(),_this347.overlayStore.reset();};this.reset=function(){_this347.pureReset(),_this347.addSnapshot(Ee.DELETE,_this347.locale.controls.buttonReset),_this347.editor.render();};this.updateStateFromSerialization=function(e){return ie(_this347,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee33(){var _this348=this;return regeneratorRuntime.wrap(function _callee33$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:return _context34.abrupt("return",this.entityManager.items.find(function(i){return i.identifier===e.identifier;})?this.overlayStore.setOverlayEffect(e).then(function(){_this348.editor.transformToolStore.setOverlayOpacity(e.opacity);}):new Promise(function(i,o){o(new Error("Overlay Asset ".concat(e.identifier," doesn't exist")));}));case 1:case"end":return _context34.stop();}}},_callee33,this);}));};this.updateStateFromHistory=function(e){return ie(_this347,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee34(){return regeneratorRuntime.wrap(function _callee34$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:return _context35.abrupt("return",e.identifier==="identity"?(this.pureReset(),new Promise(function(t){t();})):this.overlayStore.setOverlayEffect(e));case 1:case"end":return _context35.stop();}}},_callee34,this);}));};this.correctOverlayFlip=function(){_this347.overlayStore.correctOverlayFlip();};this.defaultBlendModeForIdentifier=function(e){var t=_this347.entityManager.items.findIndex(function(i){return i.identifier===e;});return t!==-1?_this347.entityManager.items[t].defaultBlendMode:Ie.LIGHTEN;};this.editor=e,this.overlayStore=new ya(this.editor.engineMediator,e);var t=this.editor.assetProvider.getAssets("overlay"),i=this.config;this.entityManager=new _ei(t,L(w({},i),{flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("overlay")}));}_createClass(ui,[{key:"state",get:function get(){return this.overlayStore.state;}},{key:"identifier",get:function get(){return this.overlayStore.state.identifier;}},{key:"opacity",get:function get(){return this.overlayStore.state.opacity;}},{key:"blendMode",get:function get(){return this.overlayStore.state.blendMode;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"config",get:function get(){return this.editor.configStore.config[C.OVERLAY];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.OVERLAY];}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"allBlendModes",get:function get(){var e=this.locale.controls;return Object.keys(Ie).map(function(t){var i=Ie[t],o="blendMode".concat(i.charAt(0).toUpperCase()).concat(i.slice(1));return{identifier:i,value:e[o]};});}}]);return ui;}();f([T],ui.prototype,"selectOverlay",2),f([T],ui.prototype,"changeOpacity",2),f([T],ui.prototype,"changeBlendMode",2),f([T],ui.prototype,"pureReset",2),f([T],ui.prototype,"reset",2),f([T],ui.prototype,"updateStateFromSerialization",2),f([T],ui.prototype,"updateStateFromHistory",2),f([T],ui.prototype,"correctOverlayFlip",2),f([k],ui.prototype,"state",1),f([k],ui.prototype,"identifier",1),f([k],ui.prototype,"opacity",1),f([k],ui.prototype,"blendMode",1),f([k],ui.prototype,"isOptionSelected",1),f([k],ui.prototype,"config",1),f([k],ui.prototype,"locale",1),f([k],ui.prototype,"items",1),f([k],ui.prototype,"allBlendModes",1);});var m2=d(function(){CN();u2();});var Pae,p2,SN=d(function(){Pae=function Pae(r){var e=atob(r.split(",")[1]),t=r.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),o=new Uint8Array(i);for(var s=0;s<e.length;s+=1){o[s]=e.charCodeAt(s);}return new Blob([i],{type:t});},p2=Pae;});var wN,kN,TN=d(function(){H();wN=function wN(r){return r.split(",")[0].split(":")[1].split(";")[0];},kN=function kN(r){return typeof r=="string"?wN(r):r.src.includes(".svg")?Ki.SVG:r.src?wN(r.src):Ki.JPEG;};});var xv,_hf,DN=d(function(){of();xv=y(pu());H();fa();_hf=/*#__PURE__*/function(){function hf(_ref123){var e=_ref123.license,t=_ref123.assetProvider,i=_ref123.crossOrigin;_classCallCheck(this,hf);this.crossOrigin=i,this.engine=new Fm({license:e,crossOrigin:i,assetProvider:t,downscaleOptions:{maxDimensions:{width:100,height:100}}});}_createClass(hf,[{key:"getAllFilterPreviewThumbnails",value:function getAllFilterPreviewThumbnails(e){var _this349=this;return new Promise(function(t,i){var o=[],s=[];e.forEach(function(n){n.isDuotone?o.push(n.identifier):s.push(n.identifier);}),_this349.getAllDuotonePreview(o).then(function(n){_this349.getAllLutPreview(s).then(function(a){t(Object.assign(n,a));});})["catch"](function(n){i(n);});});}},{key:"getAllDuotonePreview",value:function getAllDuotonePreview(e){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee36(){var _this350=this;var t,i;return regeneratorRuntime.wrap(function _callee36$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:t={};if(e.length){_context37.next=3;break;}return _context37.abrupt("return",t);case 3:_context37.next=5;return this.engine.addDuoToneFilterFromAssets(e[0],this.container);case 5:i=_context37.sent;_context37.next=8;return(0,xv["default"])(e,function(o){return ie(_this350,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee35(){var s,a;return regeneratorRuntime.wrap(function _callee35$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:s=this.engine.assetProvider.getDuotoneFilterAsset(o);i.filterOperation.getFilter().set({intensity:.5,lightColor:pe.Color.fromHex(s.lightColor),darkColor:pe.Color.fromHex(s.darkColor)});_context36.next=4;return this.engine["export"](Oi.DATA_URL,li.PNG);case 4:a=_context36.sent;t[o]=a;case 6:case"end":return _context36.stop();}}},_callee35,this);}));},{concurrency:1});case 8:this.engine.removeEffect(i);return _context37.abrupt("return",t);case 10:case"end":return _context37.stop();}}},_callee36,this);}));}},{key:"loadLutAssets",value:function loadLutAssets(e){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee38(){var _this351=this;var t;return regeneratorRuntime.wrap(function _callee38$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:t={};_context39.next=3;return(0,xv["default"])(e,function(i){return ie(_this351,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee37(){return regeneratorRuntime.wrap(function _callee37$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:_context38.next=2;return this.engine.getLutFilterImage(i);case 2:t[i]=_context38.sent;case 3:case"end":return _context38.stop();}}},_callee37,this);}));});case 3:return _context39.abrupt("return",t);case 4:case"end":return _context39.stop();}}},_callee38);}));}},{key:"getAllLutPreview",value:function getAllLutPreview(e){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee40(){var _this352=this;var t,i,o;return regeneratorRuntime.wrap(function _callee40$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:t={};if(e.length){_context41.next=3;break;}return _context41.abrupt("return",t);case 3:_context41.next=5;return this.loadLutAssets(e);case 5:i=_context41.sent;_context41.next=8;return this.engine.addLUTFilterFromAssets(e[0],this.container);case 8:o=_context41.sent;_context41.next=11;return(0,xv["default"])(e,function(s){return ie(_this352,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee39(){var n,a,l,c;return regeneratorRuntime.wrap(function _callee39$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:n=this.engine.assetProvider.getLUTFilterAsset(s),a=o.filterOperation.getFilter(),l={horizontalTileCount:n.horizontalTileCount||5,verticalTileCount:n.verticalTileCount||5,image:i[s]};a.set(L(w({},l),{intensity:n.defaultIntensity||1})),o.setProperties({intensity:1}),a._lutPrimitive.set(l);_context40.next=4;return this.engine["export"](Oi.DATA_URL,li.PNG);case 4:c=_context40.sent;t[s]=c;case 6:case"end":return _context40.stop();}}},_callee39,this);}));},{concurrency:1});case 11:this.engine.removeEffect(o);return _context41.abrupt("return",t);case 13:case"end":return _context41.stop();}}},_callee40,this);}));}},{key:"addImageToContainer",value:function addImageToContainer(e){var _this353=this;return new Promise(function(t,i){var o;_hf.isImageElement(e)?(o=e,_this353.setBackgroundImage(o),t()):_this353.getImageElement(e).then(function(s){o=s,_this353.setBackgroundImage(o),t();})["catch"](function(s){i({identifier:"imageLoading",message:s.message});});});}},{key:"getImageElement",value:function getImageElement(e){var _this354=this;return new Promise(function(t,i){var o=new Image();o.addEventListener("load",function(){t(o);}),o.addEventListener("error",function(s){i(s);}),o.crossOrigin=_this354.crossOrigin,o.src=e;});}},{key:"setBackgroundImage",value:function setBackgroundImage(e){this.container?this.container.setData({image:e}):this.container=this.engine.addImage({image:e,blendMode:Ie.NORMAL,opacity:1});var _this$container$getBo=this.container.getBounds(),t=_this$container$getBo.size;this.engine.getOutputContainer().setResolution(t);}}],[{key:"isImageElement",value:function isImageElement(e){return e instanceof HTMLImageElement;}}]);return hf;}();});var ff,h2=d(function(){eo();ff={size:0,color:Or.white,hardness:0,maximumSize:.125,minimumSize:0,maximumHardness:1,minimumHardness:0};});var Nt,f2=d(function(){Le();H();$();ls();tn();eo();h2();Nt=/*#__PURE__*/function(){function Nt(e){var _this355=this;_classCallCheck(this,Nt);this.strokes={strokes:[]};this.colorList=St.defaultColors;this.dirty=le.box(!1);this.id="";this.containerId=function(){return _this355.id;};this.initSize=function(){var _this355$state=_this355.state,e=_this355$state.minimumSize,t=_this355$state.maximumSize,i=_this355.size;i===0&&_this355.changeSize(qC(_this355.config,"defaultSize",[e,t]));};this.changeColor=function(e){_this355.state.color=e;};this.changeSize=function(e){_this355.state.size=e;};this.changeRelativeSize=function(e){var _this355$state2=_this355.state,t=_this355$state2.maximumSize,i=_this355$state2.minimumSize;_this355.state.size=(t-i)*e/100+i;};this.changeHardness=function(e){_this355.state.hardness=e;};this.reset=function(){_this355.pureReset(),_this355.addSnapshot(Ee.DELETE,_this355.locale.controls.buttonReset),_this355.editor.render();};this.editor=e,this.state=L(w({},ff),{hardness:qC(this.config,"defaultHardness",[ff.minimumHardness,ff.maximumHardness]),color:fe($o(this.config,"defaultColor",ff.color))}),this.config.colors&&this.config.colors.length>0&&(this.colorList=as(fe(this.config.colors)));}_createClass(Nt,[{key:"addSnapshot",value:function addSnapshot(e,t){this.editor.addSnapshot(void 0,e,t);}},{key:"clickableCanvas",value:function clickableCanvas(e){this.editor.clickableCanvas(e);}},{key:"beginStroke",value:function beginStroke(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!this.drawingContainer){var t=this.editor.orderHelper.addSprite(C.BRUSH);this.drawingContainer=this.editor.engine.addDrawing({strokes:e},this.editor.imageContainer,t);}this.id=this.drawingContainer.getID(),this.drawingContainer.beginStroke({id:"imgly_brush_radial",color:fe(this.state.color),size:this.state.size,hardness:this.state.hardness});}},{key:"strokePosition",value:function strokePosition(e){if(this.drawingContainer){var t=this.editor.previewToWorld(e,!1);this.drawingContainer.addPointToCurrentStroke(t),this.editor.render();}}},{key:"endStroke",value:function endStroke(){this.drawingContainer&&(this.drawingContainer.endStroke(),this.editor.render(),this.strokes=this.drawingContainer.getData(),this.addSnapshot(Ee.EDIT,this.locale.history.brushStroke),this.dirty.set(!0));}},{key:"updateStateFromHistory",value:function updateStateFromHistory(e){if(!(0,fi["default"])(e,this.strokes)){if((0,fi["default"])(e,{strokes:[]})||!e){this.pureReset();return;}if(this.drawingContainer){if(this.strokes&&this.strokes.strokes.length===e.strokes.length){this.dirty.set(!1);return;}this.strokes=e,this.drawingContainer.setData(this.strokes);}else{var t=this.editor.orderHelper.addSprite(C.BRUSH);this.drawingContainer=this.editor.engine.addDrawing({strokes:e.strokes},this.editor.imageContainer,t),this.strokes=this.drawingContainer.getData();}this.dirty.set(this.strokes.strokes.length!==0),this.id=this.drawingContainer.getID();}}},{key:"pureReset",value:function pureReset(){this.dirty.set(!1),this.strokes={strokes:[]},this.drawingContainer&&(this.editor.engine.removeContainer(this.drawingContainer),this.drawingContainer=void 0);}},{key:"config",get:function get(){return this.editor.configStore.config[C.BRUSH];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.BRUSH];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"color",get:function get(){return this.state.color;}},{key:"size",get:function get(){return this.state.size;}},{key:"relativeSize",get:function get(){var _this$state5=this.state,e=_this$state5.size,t=_this$state5.maximumSize,i=_this$state5.minimumSize;return(e-i)*100/(t-i);}},{key:"sizeOnScreenSpace",get:function get(){var e=this.editor.engineMediator.engine.getSmallerOutputSide();return this.editor.worldToPreview(this.state.size*e);}},{key:"hardness",get:function get(){return this.state.hardness;}},{key:"isDirty",get:function get(){return this.dirty.get();}}]);return Nt;}();f([le],Nt.prototype,"state",2),f([le],Nt.prototype,"dirty",2),f([T],Nt.prototype,"initSize",2),f([T],Nt.prototype,"changeColor",2),f([T],Nt.prototype,"changeSize",2),f([T],Nt.prototype,"changeRelativeSize",2),f([T],Nt.prototype,"changeHardness",2),f([T],Nt.prototype,"clickableCanvas",1),f([T],Nt.prototype,"beginStroke",1),f([T],Nt.prototype,"strokePosition",1),f([T],Nt.prototype,"endStroke",1),f([T],Nt.prototype,"updateStateFromHistory",1),f([T],Nt.prototype,"reset",2),f([k],Nt.prototype,"config",1),f([k],Nt.prototype,"locale",1),f([k],Nt.prototype,"localeColor",1),f([k],Nt.prototype,"color",1),f([k],Nt.prototype,"size",1),f([k],Nt.prototype,"relativeSize",1),f([k],Nt.prototype,"sizeOnScreenSpace",1),f([k],Nt.prototype,"hardness",1),f([k],Nt.prototype,"isDirty",1);});var cs,Bae,on,g2=d(function(){Le();$();tn();(function(i){i.LEADING="leading",i.CENTER="center",i.TRAILING="trailing";})(cs||(cs={}));Bae={horizontalGuides:[],verticalGuides:[],rotationGuides:[]},on=/*#__PURE__*/function(){function on(e){var _this356=this;_classCallCheck(this,on);this.previewTopLeftPosition={x:0,y:0};this.getGuideValue=function(e,t){var _this356$editor$getPr=_this356.editor.getPreviewSize(),i=_this356$editor$getPr.height,o=_this356$editor$getPr.width,_this356$configStore$=_this356.configStore.config.snapping.position,s=_this356$configStore$.snapToLeft,n=_this356$configStore$.snapToRight,a=_this356$configStore$.snapToTop,l=_this356$configStore$.snapToBottom,c=Math.min(i,o),u=0;return t==="bottom"?u=Math.round(i-c*l):t==="top"?u=Math.round(c*a):t==="right"?u=Math.round(o-c*n):t==="left"?u=Math.round(c*s):e==="vertical"&&t==="center"?u=Math.round(o/2):e==="horizontal"&&t==="center"&&(u=Math.round(i/2)),u;};this.getVerticalGuidesFromConfig=function(){var _this356$configStore$2=_this356.configStore.config.snapping.position,e=_this356$configStore$2.snapToVerticalCenter,t=_this356$configStore$2.snapToLeft,i=_this356$configStore$2.snapToRight,o=[];return e&&o.push({value:_this356.getGuideValue("vertical","center"),edge:cs.CENTER,isVisible:!1,direction:"vertical"}),t&&o.push({value:_this356.getGuideValue("vertical","left"),edge:cs.LEADING,isVisible:!1,direction:"vertical"}),i&&o.push({value:_this356.getGuideValue("vertical","right"),edge:cs.TRAILING,isVisible:!1,direction:"vertical"}),o;};this.getHorizontalGuidesFromConfig=function(){var _this356$configStore$3=_this356.configStore.config.snapping.position,e=_this356$configStore$3.snapToHorizontalCenter,t=_this356$configStore$3.snapToTop,i=_this356$configStore$3.snapToBottom,o=[];return e&&o.push({value:_this356.getGuideValue("horizontal","center"),edge:cs.CENTER,isVisible:!1,direction:"horizontal"}),t&&o.push({value:_this356.getGuideValue("horizontal","top"),edge:cs.LEADING,isVisible:!1,direction:"horizontal"}),i&&o.push({value:_this356.getGuideValue("horizontal","bottom"),edge:cs.TRAILING,isVisible:!1,direction:"horizontal"}),o;};this.getRotationGuidesFromConfig=function(){var e=_this356.configStore.config.snapping.rotation.angles,t=[];return e.forEach(function(o){t.push(o),t.push(o+360),t.push(o-360);}),t.filter(function(o,s){return t.indexOf(o)===s;}).map(function(o){return{value:o*Math.PI/180,edge:cs.CENTER,isVisible:!1,position:{x:0,y:0}};});};this.getSpriteDimensions=function(_ref124){var e=_ref124.leftTop,t=_ref124.leftBottom,i=_ref124.rightTop,o=_ref124.rightBottom;var s=Math.min(e.y,i.y,t.y,o.y),n=Math.max(e.y,i.y,t.y,o.y),a=Math.min(e.x,i.x,t.x,o.x),l=Math.max(e.x,i.x,t.x,o.x);return{height:Math.round(n-s),width:Math.round(l-a)};};this.mapRange=function(_ref125){var e=_ref125.value,t=_ref125.fromMin,i=_ref125.fromLength,o=_ref125.toMin,s=_ref125.toLength;return(e-t)*s/i+o;};this.updateGuides=function(){_this356.state.horizontalGuides=_this356.getHorizontalGuidesFromConfig(),_this356.state.verticalGuides=_this356.getVerticalGuidesFromConfig();};this.mapToSnapSystem=function(e,t,i,o){if(t.length===0)return e;if(t[0]>e)return e-i;for(var s=0;s<t.length-1;s+=1){var n=t[s],a=t[s+1],l=n+i,c=a-i,u=0;o&&(u=s*i*2,l+=u,c+=u+i*2);var p=1e-5;if(n<=e&&e<=a)return e<=n+p?n+u:e>=a-p?a+u+(o?i*2:0):_this356.mapRange({value:e,fromMin:n,fromLength:a-n,toMin:l,toLength:c-l});}return o?e+(t.length-1)*i*2+i:e;};this.mapFromSnapSystem=function(e,t,i,o){if(t.length===0)return e;if(t[0]>e)return e>=t[0]-i?t[0]:e+i;var s=e;for(var a=0;a<t.length-1;a+=1){var l=t[a],c=t[a+1],u=l+i,p=c-i,m=c;if(o&&(p+=i*2,m+=i*2,s=e-a*i*2),l<=s&&s<=m)return u<=s&&s<=p?_this356.mapRange({value:s,fromMin:u,fromLength:p-u,toMin:l,toLength:c-l}):s<u?l:c;}s-=i*3;var n=t[t.length-1];return s<=n?n:s;};this.centerSnapValue=function(e,t){var i=t*.5,o=e.value,s=e.edge,n=o;return s===cs.LEADING?n+=i:s===cs.TRAILING&&(n-=i),n;};this.mapSnappingGuidesToCenter=function(e,t){var i=[];return e.forEach(function(o){i.push(_this356.centerSnapValue(o,t));}),i;};this.calcSnapThresholdInRadians=function(e,t){return e===0?0:t/e;};this.calculatePreviewTopLeftPosition=function(){var e=_this356.editor.engineMediator.preview.container.getPosition(),t=_this356.editor.getPreviewSize(),i=St.devicePixelRatio;_this356.previewTopLeftPosition={x:e.x/i-t.width/2,y:e.y/i-t.height/2};};this.snapToRotation=function(e,t,i){var o=_this356.state.rotationGuides,_this356$configStore$4=_this356.configStore.config.snapping.rotation,s=_this356$configStore$4.enabled,n=_this356$configStore$4.threshold,_this356$previewTopLe=_this356.previewTopLeftPosition,a=_this356$previewTopLe.x,l=_this356$previewTopLe.y,_this356$editor$getPr2=_this356.editor.getPreviewSize(),c=_this356$editor$getPr2.width,u=(e+Math.PI*2)%(Math.PI*2);if(s){var p=new B(t).magnitude,m=o.map(function(v){return v.value;}).sort(function(v,S){return v-S;}),h=_this356.calcSnapThresholdInRadians(p,n);if(!_this356.rotationOffset){var v=_this356.mapToSnapSystem(e,m,h,!1);_this356.rotationOffset=v-u;}u=_this356.mapFromSnapSystem(u+_this356.rotationOffset,m,h,!1);var g={x:i.position.x-a-c,y:i.position.y-l};return o.forEach(function(v){v.isVisible=v.value===u,v.position=g;}),u;}return e;};this.snapToPosition=function(e,t){var _this356$state=_this356.state,i=_this356$state.horizontalGuides,o=_this356$state.verticalGuides,_this356$configStore$5=_this356.configStore.config.snapping.position,s=_this356$configStore$5.enabled,n=_this356$configStore$5.threshold,a=new B(_this356.previewTopLeftPosition),_this356$getSpriteDim=_this356.getSpriteDimensions(t),l=_this356$getSpriteDim.height,c=_this356$getSpriteDim.width,_B$subtract=new B(e).subtract(a),u=_B$subtract.x,p=_B$subtract.y;if(s){var m=_this356.mapSnappingGuidesToCenter(i,l).sort(function(S,_){return S-_;}),h=_this356.mapSnappingGuidesToCenter(o,c).sort(function(S,_){return S-_;});if(!_this356.positionOffset){var S=_this356.mapToSnapSystem(u,h,n,!0),_=_this356.mapToSnapSystem(p,m,n,!0);_this356.positionOffset=new B(S,_).subtract(new B(u,p));}var g=_this356.mapFromSnapSystem(u+_this356.positionOffset.x,h,n,!0),v=_this356.mapFromSnapSystem(p+_this356.positionOffset.y,m,n,!0);return g=Math.round(g),v=Math.round(v),i.forEach(function(S){var _=Math.round(_this356.centerSnapValue(S,l));S.isVisible=_===v;}),o.forEach(function(S){var _=Math.round(_this356.centerSnapValue(S,c));S.isVisible=_===g;}),new B(g,v).add(a);}return{x:u,y:p};};this.editor=e,this.configStore=e.configStore,this.state=le(Bae),this.rotationOffset=null,this.positionOffset=null,this.state.horizontalGuides=this.getHorizontalGuidesFromConfig(),this.state.verticalGuides=this.getVerticalGuidesFromConfig(),this.state.rotationGuides=this.getRotationGuidesFromConfig();}_createClass(on,[{key:"hidePositionGuides",value:function hidePositionGuides(){this.positionOffset=null,this.state.verticalGuides=this.state.verticalGuides.map(function(e){return L(w({},e),{isVisible:!1});}),this.state.horizontalGuides=this.state.horizontalGuides.map(function(e){return L(w({},e),{isVisible:!1});});}},{key:"hideRotationGuides",value:function hideRotationGuides(){this.rotationOffset=null,this.state.rotationGuides=this.state.rotationGuides.map(function(e){return L(w({},e),{isVisible:!1});});}},{key:"positionGuides",get:function get(){var _this$state6=this.state,e=_this$state6.verticalGuides,t=_this$state6.horizontalGuides;return[].concat(_toConsumableArray(e),_toConsumableArray(t));}},{key:"rotationGuides",get:function get(){return this.state.rotationGuides;}}]);return on;}();f([le],on.prototype,"state",2),f([T],on.prototype,"snapToRotation",2),f([T],on.prototype,"snapToPosition",2),f([T],on.prototype,"hidePositionGuides",1),f([T],on.prototype,"hideRotationGuides",1),f([k],on.prototype,"positionGuides",1),f([k],on.prototype,"rotationGuides",1);});function vv(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return new Promise(function(t,i){var o=new Image();o.addEventListener("load",function(){var s=document.createElement("canvas"),n=s.getContext("2d");s.width=o.width,s.height=o.height,e&&(s.width=e,s.height=e*o.height/o.width),n.drawImage(o,0,0,s.width,s.height),t(s.toDataURL(Ki.PNG));}),o.addEventListener("error",function(){i();}),o.src=r;});}var EN,b2=d(function(){H();$();EN=function EN(r){return new Promise(function(e,t){var i=new FileReader();i.onload=function(o){return ie(void 0,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee41(){var s,n;return regeneratorRuntime.wrap(function _callee41$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:_context42.prev=0;s=o.target.result;_context42.next=4;return vv(s,150);case 4:n=_context42.sent;e({stickerURI:s,thumbnailURI:n,name:r.name||"",type:r.type,identifier:ot()});_context42.next=11;break;case 8:_context42.prev=8;_context42.t0=_context42["catch"](0);t(_context42.t0);case 11:case"end":return _context42.stop();}}},_callee41,null,[[0,8]]);}));},i.onerror=function(o){t(o);},i.readAsDataURL(r);});};});var Mae,so,_2,y2=d(function(){H();eo();Mae="white",so={identifier:"identity",opacity:1,tintColor:Or[Mae],tintMode:"none",resizeMode:"keepAspect"},_2={};});var IN,x2,Ke,v2=d(function(){Le();H();$();ls();tn();en();b2();eo();y2();IN="identity",x2="imgly_sticker_custom",Ke=/*#__PURE__*/function(){function Ke(e){var _this357=this;_classCallCheck(this,Ke);this.state=le.map(_2);this.customStickers=[];this.colorList=St.defaultColors;this.selectLast=function(){_this357.editor.spriteStore.selectHighestOrderSprite(Array.from(_this357.state.keys()));};this.doesStickerAssetExist=function(e){return _this357.entityManager.items.findIndex(function(t){return t.identifier===e;})!==-1;};this.add=function(e){var t=_this357.entityManager.items.find(function(s){return s.identifier===e;}),i=t?t.tintMode:so.tintMode,o=t?t.resizeMode:so.resizeMode;_this357.editor.spriteStore.addSticker({state:{identifier:e,tintMode:i,tintColor:so.tintColor,opacity:so.opacity,resizeMode:o}});};this.duplicate=function(){if(_this357.id){var _e13=_this357.editor.spriteStore.getDuplicateContainerTransform(_this357.id),_t16=_this357.editor.spriteStore.getDuplicateContainerFlip(_this357.id),_this357$editor$outpu=_this357.editor.outputContainer.getData(),_i27=_this357$editor$outpu.flipHorizontally,o=_this357$editor$outpu.flipVertically;_this357.editor.spriteStore.addSticker({state:{identifier:_this357.identifier,tintColor:fe(_this357.tintColor),tintMode:_this357.tintMode,resizeMode:_this357.resizeMode,opacity:_this357.opacity,flipHorizontally:_i27!==_t16.flipHorizontally,flipVertically:o!==_t16.flipVertically},transform:_e13});}};this.bringToFront=function(){_this357.id&&_this357.editor.spriteStore.bringToFront(_this357.id);};this.flipHorizontally=function(){_this357.id&&_this357.editor.spriteStore.flipHorizontally(_this357.id);};this["delete"]=function(){if(_this357.id){var _e14=_this357.id;_this357.editor.spriteStore.removeSprite(_e14),_this357.state["delete"](_e14),_this357.selectLast();}};this.updateStateFromHistory=function(e,t){(0,fi["default"])(t,_this357.state.get(e))||(_this357.setState(e,t),_this357.editor.spriteStore.setContainerProperties(e,t));};this.setState=function(e,t){var i=_this357.state.get(e);i?("opacity"in t&&(i.opacity=t.opacity),t.tintColor&&(i.tintColor=t.tintColor),t.tintMode&&(i.tintMode=t.tintMode),t.resizeMode&&(i.resizeMode=t.resizeMode),_this357.state.set(e,i)):_this357.state.set(e,{identifier:t.identifier,opacity:t.opacity,tintMode:t.tintMode,resizeMode:t.resizeMode,tintColor:t.tintColor?t.tintColor:so.tintColor});};this.changeOpacity=function(e){if(_this357.id){var _t17=_this357.state.get(_this357.id);if(_t17){_this357.editor.spriteStore.setContainerProperties(_this357.id,{opacity:e});var _i28=_this357.editor.spriteStore.getContainerProperties(_this357.id);_t17.opacity=_i28.opacity,_this357.state.set(_this357.id,_t17);}}};this.changeTintColor=function(e){if(_this357.id){var _t18=_this357.state.get(_this357.id);if(_t18){var _this357$entityManage=_this357.entityManager.items.find(function(s){return s.identifier===_this357.identifier;}),_i29=_this357$entityManage.tintMode;_this357.editor.spriteStore.setContainerProperties(_this357.id,{tintColor:e,tintMode:_i29});var o=_this357.editor.spriteStore.getContainerProperties(_this357.id);_t18.tintColor=o.tintColor,_t18.tintMode=o.tintMode||so.tintMode,_this357.state.set(_this357.id,_t18);}}};this.tintColorSnapshot=function(){_this357.addSnapshot(Ee.EDIT,_this357.locale.history.color);};this.addFiles=function(e){return ie(_this357,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){var _t19,_i30,o;return regeneratorRuntime.wrap(function _callee42$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:if(!(this.editor.modalStore.showInfoModal("loading"),e.length)){_context43.next=13;break;}_t19=0,_i30=[];for(_t19=0;_t19<e.length;_t19+=1){_i30.push(EN(e[_t19]));}_context43.prev=3;_context43.next=6;return Promise.all(_i30);case 6:o=_context43.sent;this.addCustomStickerAsset(o),this.editor.configStore.events.onStickerUploadedAdd(o.map(function(_ref126,a){var s=_ref126.identifier,n=_ref126.stickerURI;return{identifier:s,stickerURI:n,file:e[a]};}));_context43.next=13;break;case 10:_context43.prev=10;_context43.t0=_context43["catch"](3);this.editor.modalStore.hideModal(),this.editor.modalStore.showInfoModal("stickerLoading");case 13:case"end":return _context43.stop();}}},_callee42,this,[[3,10]]);}));};this.addCustomStickerAsset=function(e){return ie(_this357,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){var _this358=this;var t,i,o,s;return regeneratorRuntime.wrap(function _callee43$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:t=[];e.forEach(function(_ref127){var n=_ref127.stickerURI,a=_ref127.thumbnailURI,l=_ref127.name,c=_ref127.identifier,u=_ref127.type;t.push({stickerURI:n,thumbnailURI:a,name:l,tintMode:_this358.customStickerTintMode,resizeMode:_this358.customStickerResizeMode,identifier:c}),_this358.customStickers.push({identifier:c,type:u,stickerURI:n,name:l});});i=this.locale.categories[x2];this.editor.assetProvider.addCustomStickerAsset(t,x2,i);o=this.editor.assetProvider.getAssets("sticker"),s=this.config;this.entityManager=new _ei(o,L(w({},s),{itemFallbackKey:"stickerURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("sticker")})),this.selectedCategory=x2,this.editor.modalStore.hideModal();case 6:case"end":return _context44.stop();}}},_callee43,this);}));};this.toolSnapshot=function(){_this357.addSnapshot(Ee.EDIT,_this357.locale.history.opacity);};this.addSnapshot=function(e,t){var i=_this357.editor.historyStore.getCurrentSpritesState();(i==null?void 0:i.sticker)&&(0,fi["default"])(i.sticker,fe(_this357.state))||_this357.currentSticker&&_this357.editor.spriteStore.addSnapshot(e,t);};this.toggleCategorySelection=function(e){_this357.selectedCategory=_this357.selectedCategory===e?IN:e;};this.pureReset=function(){_this357.state=le.map(_2);};this.editor=e,this.selectedCategory=IN;var t=this.config,i=this.editor.assetProvider.getAssets("sticker");this.entityManager=new _ei(i,L(w({},t),{itemFallbackKey:"stickerURI",locale:w(w({},this.locale.items),this.locale.categories),getAssetPath:this.editor.getAssetPath("sticker")})),so.tintColor=fe($o(this.config,"defaultTintColor",so.tintColor)),this.config.colors&&this.config.colors.length>0&&(this.colorList=as(fe(this.config.colors)));}_createClass(Ke,[{key:"isStickerSelected",get:function get(){return this.editor.spriteStore.isSpriteSticker;}},{key:"isCustomStickerEnabled",get:function get(){return this.config.enableCustomUpload;}},{key:"customStickerTintMode",get:function get(){return this.config.customStickerTintMode;}},{key:"customStickerResizeMode",get:function get(){return this.config.customStickerResizeMode;}},{key:"currentSticker",get:function get(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e;}}},{key:"identifier",get:function get(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e.identifier;}return"none";}},{key:"id",get:function get(){if(this.isStickerSelected)return this.editor.spriteStore.id;}},{key:"opacity",get:function get(){return this.currentSticker?this.currentSticker.opacity:so.opacity;}},{key:"tintMode",get:function get(){return this.currentSticker?this.currentSticker.tintMode:so.tintMode;}},{key:"resizeMode",get:function get(){return this.currentSticker?this.currentSticker.resizeMode:so.resizeMode;}},{key:"tintable",get:function get(){return this.currentSticker?this.currentSticker.tintMode==="solid"||this.currentSticker.tintMode==="colorized":!1;}},{key:"tintColor",get:function get(){return this.currentSticker?this.currentSticker.tintColor:so.tintColor;}},{key:"config",get:function get(){return this.editor.configStore.config[C.STICKER];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.STICKER];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"categories",get:function get(){return this.entityManager.categories;}}]);return Ke;}();f([le],Ke.prototype,"selectedCategory",2),f([le],Ke.prototype,"entityManager",2),f([T],Ke.prototype,"selectLast",2),f([T],Ke.prototype,"add",2),f([T],Ke.prototype,"duplicate",2),f([T],Ke.prototype,"bringToFront",2),f([T],Ke.prototype,"flipHorizontally",2),f([T],Ke.prototype,"delete",2),f([T],Ke.prototype,"updateStateFromHistory",2),f([T],Ke.prototype,"setState",2),f([T],Ke.prototype,"changeOpacity",2),f([T],Ke.prototype,"changeTintColor",2),f([T],Ke.prototype,"addFiles",2),f([T],Ke.prototype,"addCustomStickerAsset",2),f([T],Ke.prototype,"toggleCategorySelection",2),f([T],Ke.prototype,"pureReset",2),f([k],Ke.prototype,"isStickerSelected",1),f([k],Ke.prototype,"isCustomStickerEnabled",1),f([k],Ke.prototype,"customStickerTintMode",1),f([k],Ke.prototype,"customStickerResizeMode",1),f([k],Ke.prototype,"currentSticker",1),f([k],Ke.prototype,"identifier",1),f([k],Ke.prototype,"id",1),f([k],Ke.prototype,"opacity",1),f([k],Ke.prototype,"tintMode",1),f([k],Ke.prototype,"resizeMode",1),f([k],Ke.prototype,"tintable",1),f([k],Ke.prototype,"tintColor",1),f([k],Ke.prototype,"config",1),f([k],Ke.prototype,"locale",1),f([k],Ke.prototype,"localeColor",1),f([k],Ke.prototype,"selectedCategoryIdentifier",1),f([k],Ke.prototype,"items",1),f([k],Ke.prototype,"categories",1);});var Lae,mt,C2,S2=d(function(){eo();Lae="imgly_font_open_sans_bold",mt={text:"Write Something",identifier:Lae,fontSize:73.3,defaultFontSize:73.3,fontFamily:"Open Sans",fontStyle:"",fontWeight:"bold",lineHeight:1,alignment:"center",textColor:Or.white,backgroundColor:Or.transparent||[0,0,0,0],width:0},C2={};});var FN,_Pm,ke,w2=d(function(){Le();H();fa();$();ls();tn();eo();S2();FN={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"SemiBold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular",lighter:"Lighter"},_Pm=/*#__PURE__*/function(){function Pm(e){var _this359=this;_classCallCheck(this,Pm);this.state=le.map(C2);this.colorList=St.defaultColors;this.backgroundColorList=St.defaultBackgroundColors;this.fontsLoadStatus=le.object({pending:!1,loaded:!1});this.doesTextAssetExist=function(e){return _this359.editor.assetProvider.getFontAssets().findIndex(function(t){return t.identifier===e;})!==-1;};this.validFontWithConfig=function(e){return _this359.fonts.find(function(t){return t.identifier===e;})||_this359.fonts[0];};this.addOrselect=function(){_this359.state.size?(_this359.selectLast(),_this359.loadFonts()):_this359.add();};this.selectLast=function(){_this359.editor.spriteStore.selectHighestOrderSprite(Array.from(_this359.state.keys()));};this.add=function(){return ie(_this359,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee44(){var _this360=this;var e,t,i;return regeneratorRuntime.wrap(function _callee44$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:e=this.fontsLoadStatus,t=function t(){_this360.editor.spriteStore.addText({state:{identifier:mt.identifier,text:mt.text,textColor:mt.textColor,backgroundColor:mt.backgroundColor,lineHeight:mt.lineHeight,alignment:mt.alignment,fontSize:0}});};if(!(!e.pending&&!e.loaded)){_context45.next=17;break;}this.fontsLoadStatus.pending=!0;i=this.editor.assetProvider.getFontManager();_context45.prev=4;_context45.next=7;return i.loadFontsWithIdentifiers([mt.identifier]);case 7:t();_context45.next=13;break;case 10:_context45.prev=10;_context45.t0=_context45["catch"](4);this.editor.modalStore.showActionModal({type:ct.ERROR,identifier:"fontLoading",error:mt.identifier});case 13:_context45.next=15;return this.loadFonts();case 15:_context45.next=18;break;case 17:t();case 18:case"end":return _context45.stop();}}},_callee44,this,[[4,10]]);}));};this.duplicate=function(){if(_this359.id){var _e15=_this359.editor.spriteStore.getDuplicateContainerTransform(_this359.id);_this359.editor.spriteStore.addText({state:{identifier:_this359.identifier,text:_this359.text,textColor:fe(_this359.textColor),lineHeight:_this359.lineHeight,alignment:_this359.alignment,fontSize:_this359.fontSize,backgroundColor:fe(_this359.backgroundColor),width:_this359.width},transform:_e15});}};this.bringToFront=function(){_this359.id&&_this359.editor.spriteStore.bringToFront(_this359.id);};this["delete"]=function(){if(_this359.id){var _e16=_this359.id;_this359.editor.spriteStore.removeSprite(_e16),_this359.state["delete"](_e16),_this359.selectLast();}};this.setEditMode=function(e){_this359.editor.spriteStore.setEditMode(e);};this.changeFont=function(e){var t=_this359.fonts.find(function(i){return i.identifier===e;});_this359.changeIdentifier(t,_this359.id),_this359.id&&_this359.addSnapshot(Ee.EDIT,_this359.locale.history.fontFamily);};this.changeIdentifier=function(e,t){oi(function(){if(e&&t){var i=_this359.state.get(t);if(i){_this359.editor.spriteStore.setContainerProperties(t,{fontIdentifier:e.identifier},!0);var o=_this359.editor.spriteStore.getContainerProperties(t);i.identifier=o.fontIdentifier,i.fontFamily=e.fontFamily,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=o.fontSize,i.width=o.width,i.defaultFontSize=i.fontSize,_this359.state.set(t,i);}}});};this.changeFontSize=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(_this359.id){var i=_this359.state.get(_this359.id);i&&(i.fontSize=e,t&&(i.defaultFontSize=e),_this359.state.set(_this359.id,i));}};this.updateDefaultFontSize=function(){if(_this359.id){var _e17=_this359.state.get(_this359.id);_e17&&(_e17.defaultFontSize=_e17.fontSize,_this359.state.set(_this359.id,_e17));}};this.changeSize=function(e,t){var i=_this359.state.get(e);i&&(i.width=t.width,i.fontSize=t.fontSize,i.defaultFontSize=t.fontSize,_this359.state.set(e,i));};this.changeWidth=function(e){if(_this359.id){var t=_this359.state.get(_this359.id);t&&(t.width=e,_this359.state.set(_this359.id,t));}};this.changeText=function(e){if(_this359.id){var t=_this359.state.get(_this359.id);if(t){_this359.editor.spriteStore.setContainerProperties(_this359.id,{text:e},!0);var i=_this359.editor.spriteStore.getContainerProperties(_this359.id),o=_this359.editor.outputContainer.getSizeInOutputSpace(),s=_this359.editor.spriteStore.getSize(_this359.id);_this359.config.disableAutoScaling||s.height>o.height&&_this359.editor.spriteStore.setContainerProperties(_this359.id,{fontSize:_this359.calculateFitFontSize(_this359.id,o.height)},!0),i=_this359.editor.spriteStore.getContainerProperties(_this359.id),t.text=i.text,t.fontSize=i.fontSize,t.defaultFontSize=i.fontSize,_this359.state.set(_this359.id,t),_this359.addSnapshot(Ee.EDIT,_this359.locale.history.edit);}}};this.calculateFitFontSize=function(e,t){if(!_Pm.measureContext){var h=document.createElement("canvas");_Pm.measureContext=h.getContext("2d");}var i=_this359.editor.spriteStore.getContainerProperties(e),o=_this359.editor.engine.assetProvider.getFontManager().getFontWithId(i.fontIdentifier),s=_this359.config.minFontSizeForAutoScaling,n=Cd(_Pm.measureContext,i.text,o,i.fontSize,i.lineHeight,i.width,o.textMetrics),a=Math.min(Math.floor(i.fontSize*(t/n.height)),1),l=Math.round(i.fontSize),c=0,u=l-a,p=Math.floor((l-a)*2),m=u;for(;c<=p;){u=c+Math.floor((p-c)/2);var _h14=Cd(_Pm.measureContext,i.text,o,u,i.lineHeight,i.width,o.textMetrics);if(t<_h14.height)p=u-1,m=u-1;else if(t>_h14.height){if(c=u+1,a+u>=l)return l;}else{m=u;break;}}return s&&m<s?s:m;};this.changeLineHeight=function(e){if(_this359.id){var t=_this359.state.get(_this359.id);if(t&&e){_this359.editor.spriteStore.setContainerProperties(_this359.id,{lineHeight:e},!0);var i=_this359.editor.spriteStore.getContainerProperties(_this359.id);t.lineHeight=i.lineHeight,_this359.state.set(_this359.id,t);}}};this.changeColor=function(e){if(_this359.id){var t=_this359.state.get(_this359.id);if(t){_this359.editor.spriteStore.setContainerProperties(_this359.id,{textColor:e});var i=_this359.editor.spriteStore.getContainerProperties(_this359.id);t.textColor=i.textColor,_this359.state.set(_this359.id,t);}}};this.changeBackgroundColor=function(e){if(_this359.id){var t=_this359.state.get(_this359.id);if(t){_this359.editor.spriteStore.setContainerProperties(_this359.id,{backgroundColor:e});var i=_this359.editor.spriteStore.getContainerProperties(_this359.id);t.backgroundColor=i.backgroundColor,_this359.state.set(_this359.id,t);}}};this.colorSnapshot=function(){_this359.addSnapshot(Ee.EDIT,_this359.locale.history.textColor);};this.backgroundColorSnapshot=function(){_this359.addSnapshot(Ee.EDIT,_this359.locale.history.backgroundColor);};this.changeAlignment=function(e){if(_this359.id){var t=_this359.state.get(_this359.id);if(t){_this359.editor.spriteStore.setContainerProperties(_this359.id,{alignment:e});var i=_this359.editor.spriteStore.getContainerProperties(_this359.id);t.alignment=i.alignment,_this359.state.set(_this359.id,t),_this359.addSnapshot(Ee.EDIT,_this359.locale.history.alignment);}}};this.toolSnapshot=function(){_this359.addSnapshot(Ee.EDIT,_this359.locale.history.lineSpacing);};this.addSnapshot=function(e,t){var i=_this359.editor.historyStore.getCurrentSpritesState();(i==null?void 0:i.text)&&(0,fi["default"])(i.text,fe(_this359.state))||_this359.currentText&&_this359.editor.spriteStore.addSnapshot(e,t);};this.updateStateFromHistory=function(e,t){(0,fi["default"])(t,_this359.state.get(e))||(_this359.setState(e,t),_this359.editor.spriteStore.setContainerProperties(e,t));};this.setState=function(e,t){var i=_this359.state.get(e);if(i)t.alignment&&(i.alignment=t.alignment),t.text&&(i.text=t.text),t.lineHeight&&(i.lineHeight=t.lineHeight),t.textColor&&(i.textColor=t.textColor),t.backgroundColor&&(i.backgroundColor=t.backgroundColor),t.fontIdentifier&&(i.identifier=t.fontIdentifier),t.fontSize&&(i.fontSize=t.fontSize,i.defaultFontSize=t.fontSize),t.width&&(i.width=t.width);else{var o=_this359.validFontWithConfig(t.fontIdentifier);o&&_this359.state.set(e,{text:t.text,identifier:o.identifier,alignment:t.alignment,textColor:t.textColor?t.textColor:mt.textColor,backgroundColor:t.backgroundColor?t.backgroundColor:mt.backgroundColor,fontFamily:o.fontFamily,fontStyle:o.fontStyle,fontSize:t.fontSize,fontWeight:o.fontWeight,lineHeight:t.lineHeight,width:t.width,defaultFontSize:t.fontSize});}};this.setFontSize=function(e){if(_this359.id){var t=_this359.state.get(_this359.id);if(t){_this359.editor.spriteStore.setContainerProperties(_this359.id,{fontSize:e},!0);var i=_this359.editor.spriteStore.getContainerProperties(_this359.id);t.fontSize=i.fontSize,t.defaultFontSize=i.fontSize,_this359.state.set(_this359.id,t);}}};this.pureReset=function(){_this359.state=le.map(C2);};this.editor=e,this.fonts.find(function(t){return t.identifier===mt.identifier;})||(mt.identifier=this.fonts[0].identifier),mt.textColor=fe($o(this.config,"defaultColor",mt.textColor)),mt.backgroundColor=fe($o(this.config,"defaultBackgroundColor",mt.backgroundColor)),mt.text=this.locale.canvasControls.placeholderText,this.config.colors&&this.config.colors.length>0&&(this.colorList=as(fe(this.config.colors))),this.config.backgroundColors&&this.config.backgroundColors.length>0&&(this.backgroundColorList=as(fe(this.config.backgroundColors)));}_createClass(Pm,[{key:"loadFonts",value:function loadFonts(){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee45(){var e,t,i,s;return regeneratorRuntime.wrap(function _callee45$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:e=this.fontsLoadStatus;if(!e.loaded){_context46.next=3;break;}return _context46.abrupt("return");case 3:t=this.editor.assetProvider.getFontManager(),i=this.editor.assetProvider.getFontAssetsForText().map(function(o){return o.identifier;});_context46.prev=4;_context46.next=7;return t.loadFontsWithIdentifiers(i);case 7:_context46.next=13;break;case 9:_context46.prev=9;_context46.t0=_context46["catch"](4);s=i.filter(function(n){return!t.isFontLoaded(n);}).join(", ");this.editor.modalStore.showActionModal({type:ct.ERROR,identifier:"fontLoading",error:s});case 13:e.loaded=!0;case 14:case"end":return _context46.stop();}}},_callee45,this,[[4,9]]);}));}},{key:"isEditMode",get:function get(){return this.editor.spriteStore.isEditMode;}},{key:"isTextSelected",get:function get(){return this.editor.spriteStore.isSpriteText;}},{key:"fontsLoaded",get:function get(){return this.fontsLoadStatus.loaded;}},{key:"currentText",get:function get(){if(this.isTextSelected){var e=this.state.get(this.id);if(e)return e;}}},{key:"text",get:function get(){return this.currentText?this.currentText.text:mt.text;}},{key:"fontSize",get:function get(){return this.currentText?this.currentText.fontSize:mt.fontSize;}},{key:"defaultFontSize",get:function get(){return this.currentText?this.currentText.defaultFontSize:mt.defaultFontSize;}},{key:"width",get:function get(){return this.currentText?this.currentText.width:mt.width;}},{key:"fontFamily",get:function get(){return this.currentText?this.currentText.fontFamily:mt.fontFamily;}},{key:"fontStyle",get:function get(){return this.currentText?this.currentText.fontStyle:mt.fontStyle;}},{key:"fontWeight",get:function get(){return this.currentText?this.currentText.fontWeight:mt.fontWeight;}},{key:"lineHeight",get:function get(){return this.currentText?this.currentText.lineHeight:mt.lineHeight;}},{key:"identifier",get:function get(){return this.currentText?this.currentText.identifier:mt.identifier;}},{key:"id",get:function get(){if(this.isTextSelected)return this.editor.spriteStore.id;}},{key:"alignment",get:function get(){return this.currentText?this.currentText.alignment:mt.alignment;}},{key:"textColor",get:function get(){return this.currentText?this.currentText.textColor:mt.textColor;}},{key:"backgroundColor",get:function get(){return this.currentText?this.currentText.backgroundColor:mt.backgroundColor;}},{key:"config",get:function get(){return this.editor.configStore.config[C.TEXT];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.TEXT];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"rawOptions",get:function get(){return this.editor.assetProvider.getFontAssetsForText();}},{key:"fonts",get:function get(){var _this361=this;return this.rawOptions.reduce(function(e,t){return _this361.rawOptions.find(function(i){return i.identifier===t.identifier;})?[].concat(_toConsumableArray(e),[{identifier:t.identifier,fontFamily:t.fontFamily,fontStyle:t.fontStyle||"",fontWeight:t.fontWeight||""}]):e;},[]);}},{key:"fontFamilies",get:function get(){return _toConsumableArray(new Set(this.fonts));}}],[{key:"defaultText",value:function defaultText(){return mt.text;}},{key:"getDisplayFontStyle",value:function getDisplayFontStyle(e){var t=e.fontWeight&&FN[e.fontWeight].toLowerCase()!=="regular"?FN[e.fontWeight]:"",i=e.fontStyle&&e.fontStyle.toLowerCase()!=="normal"?e.fontStyle:"";return"".concat(e.fontFamily.toLowerCase().includes(t.toLowerCase())?"":t," ").concat(i).trim();}}]);return Pm;}(),ke=_Pm;f([T],ke.prototype,"addOrselect",2),f([T],ke.prototype,"selectLast",2),f([T],ke.prototype,"add",2),f([T],ke.prototype,"duplicate",2),f([T],ke.prototype,"bringToFront",2),f([T],ke.prototype,"delete",2),f([T],ke.prototype,"setEditMode",2),f([T],ke.prototype,"changeFont",2),f([T],ke.prototype,"changeIdentifier",2),f([T],ke.prototype,"changeFontSize",2),f([T],ke.prototype,"updateDefaultFontSize",2),f([T],ke.prototype,"changeSize",2),f([T],ke.prototype,"changeWidth",2),f([T],ke.prototype,"changeText",2),f([T],ke.prototype,"changeLineHeight",2),f([T],ke.prototype,"changeColor",2),f([T],ke.prototype,"changeBackgroundColor",2),f([T],ke.prototype,"changeAlignment",2),f([T],ke.prototype,"updateStateFromHistory",2),f([T],ke.prototype,"setState",2),f([T],ke.prototype,"setFontSize",2),f([T],ke.prototype,"pureReset",2),f([k],ke.prototype,"isEditMode",1),f([k],ke.prototype,"isTextSelected",1),f([k],ke.prototype,"fontsLoaded",1),f([k],ke.prototype,"currentText",1),f([k],ke.prototype,"text",1),f([k],ke.prototype,"fontSize",1),f([k],ke.prototype,"defaultFontSize",1),f([k],ke.prototype,"width",1),f([k],ke.prototype,"fontFamily",1),f([k],ke.prototype,"fontStyle",1),f([k],ke.prototype,"fontWeight",1),f([k],ke.prototype,"lineHeight",1),f([k],ke.prototype,"identifier",1),f([k],ke.prototype,"id",1),f([k],ke.prototype,"alignment",1),f([k],ke.prototype,"textColor",1),f([k],ke.prototype,"backgroundColor",1),f([k],ke.prototype,"config",1),f([k],ke.prototype,"locale",1),f([k],ke.prototype,"localeColor",1),f([k],ke.prototype,"rawOptions",1),f([k],ke.prototype,"fonts",1),f([k],ke.prototype,"fontFamilies",1);});var zae,mi,k2,T2,D2=d(function(){eo();zae="imgly_text_design_blocks",mi={identifier:zae,color:Or.white,isInverted:!1,text:"Write Something With Style",seed:0,padding:0,width:0},k2={imgly_text_design_blocks:835,imgly_text_design_rotated:6,imgly_text_design_blocks_light:3,imgly_text_design_equal_width:727,imgly_text_design_masked:259,imgly_text_design_celebrate:579,imgly_text_design_sunshine:77,imgly_text_design_masked_badge:683,imgly_text_design_blocks_condensed:673,imgly_text_design_celebrate_simple:425,imgly_text_design_equal_width_fat:961,imgly_text_design_watercolor:671,imgly_text_design_particles:683,imgly_text_design_masked_speech_bubble:317,imgly_text_design_masked_speech_bubble_comic:229,imgly_text_design_multiline:831},T2={};});var Xe,E2=d(function(){Le();H();$();ls();tn();en();eo();D2();Xe=/*#__PURE__*/function(){function Xe(e){var _this362=this;_classCallCheck(this,Xe);this.state=le.map(T2);this.colorList=St.defaultColors;this.fontsLoaded=!1;this.doesTextDesignAssetExist=function(e){return _this362.entityManager.items.findIndex(function(t){return t.identifier===e;})!==-1;};this.addOrselect=function(){return ie(_this362,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee46(){return regeneratorRuntime.wrap(function _callee46$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:_context47.next=2;return this.loadFonts();case 2:this.state.size?this.selectLast():this.add();case 3:case"end":return _context47.stop();}}},_callee46,this);}));};this.selectLast=function(){_this362.editor.spriteStore.selectHighestOrderSprite(Array.from(_this362.state.keys()));};this.add=function(){_this362.editor.spriteStore.addTextDesign({state:{identifier:mi.identifier,text:mi.text,color:mi.color,isInverted:mi.isInverted,seed:k2[mi.identifier]||mi.seed,padding:0}});};this.updateStateFromHistory=function(e,t){if((0,fi["default"])(t,_this362.state.get(e)))return;var i=_this362.state.get(e);t.identifier===i.identifier?(_this362.setState(e,t),_this362.editor.spriteStore.setContainerProperties(e,t)):_this362.changeIdentifier(t.identifier,!1,t.seed,e);};this.setState=function(e,t){var i=_this362.state.get(e);i?(t.inverted&&(i.isInverted=t.inverted),t.seed&&(i.seed=t.seed),t.color&&(i.color=t.color),t.padding&&(i.padding=t.padding),t.width&&(i.width=t.width)):_this362.state.set(e,{width:t.width,text:t.text,isInverted:t.inverted,identifier:t.identifier,seed:t.seed,color:t.color?t.color:mi.color,padding:t.padding});};this.changeText=function(e){if(_this362.id){var _t20=_this362.state.get(_this362.id);if(_t20){_this362.editor.spriteStore.setContainerProperties(_this362.id,{text:e},!0);var i=_this362.editor.spriteStore.getContainerProperties(_this362.id);_t20.text=i.text,_this362.state.set(_this362.id,_t20),_this362.addSnapshot(Ee.EDIT,_this362.locale.history.edit);}}};this.setEditMode=function(e){_this362.editor.spriteStore.setEditMode(e);};this.duplicate=function(){if(_this362.id){var _e18=_this362.editor.spriteStore.getDuplicateContainerTransform(_this362.id);_this362.editor.spriteStore.addTextDesign({state:{identifier:_this362.identifier,text:_this362.text,color:fe(_this362.color),isInverted:_this362.isInverted,seed:_this362.seed,padding:_this362.padding,width:_this362.width},transform:_e18});}};this.bringToFront=function(){_this362.id&&_this362.editor.spriteStore.bringToFront(_this362.id);};this.addSnapshot=function(e,t){var i=_this362.editor.historyStore.getCurrentSpritesState();(i==null?void 0:i.textdesign)&&(0,fi["default"])(i.textdesign,fe(_this362.state))||_this362.currentTextDesign&&_this362.editor.spriteStore.addSnapshot(e,t);};this["delete"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this362.id;e&&(_this362.editor.spriteStore.removeSprite(e),_this362.state["delete"](e),_this362.selectLast());};this.changeSeed=function(){if(_this362.id){var _e19=_this362.state.get(_this362.id);if(_e19){_this362.editor.spriteStore.setContainerProperties(_this362.id,{seed:-1},!0);var _t21=_this362.editor.spriteStore.getContainerProperties(_this362.id);_e19.seed=_t21.seed,_this362.state.set(_this362.id,_e19),_this362.addSnapshot(Ee.EDIT,_this362.locale.history.shuffle);}}};this.changeIdentifier=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:_this362.id;if(o&&e!==_this362.identifier){var s=_this362.state.get(o),n=_this362.editor.spriteStore.getContainerTransform(o);_this362.editor.spriteStore.addTextDesign({spriteId:o,state:{identifier:e,text:s.text,color:fe(s.color),isInverted:s.isInverted,seed:i||k2[e]||s.seed,padding:s.padding,width:s.width},transform:n},t,!0);}};this.changeColor=function(e){if(_this362.id){var _t22=_this362.state.get(_this362.id);if(_t22){_this362.editor.spriteStore.setContainerProperties(_this362.id,{color:e});var i=_this362.editor.spriteStore.getContainerProperties(_this362.id);_t22.color=i.color,_this362.state.set(_this362.id,_t22);}}};this.colorSnapshot=function(){_this362.addSnapshot(Ee.EDIT,_this362.locale.history.color);};this.invertBackground=function(){if(_this362.id){var _e20=_this362.state.get(_this362.id);if(_e20){_this362.editor.spriteStore.setContainerProperties(_this362.id,{inverted:!_e20.isInverted},!0);var _t23=_this362.editor.spriteStore.getContainerProperties(_this362.id);_e20.isInverted=_t23.inverted,_this362.state.set(_this362.id,_e20),_this362.addSnapshot(Ee.EDIT,_this362.locale.history.invert);}}};this.changeWidth=function(e){if(_this362.id){var _t24=_this362.state.get(_this362.id);_t24&&(_t24.width=e,_this362.state.set(_this362.id,_t24));}};this.changePadding=function(e){if(_this362.id){var _t25=_this362.state.get(_this362.id);_t25&&(_t25.padding=e,_this362.state.set(_this362.id,_t25));}};this.pureReset=function(){_this362.state=le.map(T2);};this.editor=e;var t=this.editor.assetProvider.getAssets("textdesign");this.entityManager=new _ei(t,L(w({},this.config),{flattenCategories:!0,locale:{},getAssetPath:this.editor.getAssetPath("textdesign")})),this.entityManager.items.find(function(i){return i.identifier===mi.identifier;})||(mi.identifier=this.entityManager.items[0].identifier),mi.text=this.locale.canvasControls.placeholderText,mi.color=fe($o(this.config,"defaultColor",mi.color)),this.config.colors&&this.config.colors.length>0&&(this.colorList=as(fe(this.config.colors)));}_createClass(Xe,[{key:"loadFonts",value:function loadFonts(){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee47(){var e,t,o;return regeneratorRuntime.wrap(function _callee47$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:if(!this.fontsLoaded){_context48.next=2;break;}return _context48.abrupt("return");case 2:e=this.editor.assetProvider.getFontManager(),t=this.editor.assetProvider.getFontAssetsForTextDesign().map(function(i){return i.identifier;});_context48.prev=3;_context48.next=6;return e.loadFontsWithIdentifiers(t);case 6:_context48.next=12;break;case 8:_context48.prev=8;_context48.t0=_context48["catch"](3);o=t.filter(function(s){return!e.isFontLoaded(s);}).join(", ");this.editor.modalStore.showActionModal({type:ct.ERROR,identifier:"fontLoading",error:o});case 12:this.fontsLoaded=!0;case 13:case"end":return _context48.stop();}}},_callee47,this,[[3,8]]);}));}},{key:"isTextDesignSelected",get:function get(){return this.editor.spriteStore.isSpriteTextDesign;}},{key:"isEditMode",get:function get(){return this.editor.spriteStore.isEditMode;}},{key:"currentTextDesign",get:function get(){if(this.isTextDesignSelected&&this.id){var e=this.state.get(this.id);if(e)return e;}}},{key:"id",get:function get(){if(this.isTextDesignSelected)return this.editor.spriteStore.id;}},{key:"text",get:function get(){return this.currentTextDesign?this.currentTextDesign.text:mi.text;}},{key:"seed",get:function get(){return this.currentTextDesign?this.currentTextDesign.seed:mi.seed;}},{key:"padding",get:function get(){return this.currentTextDesign?this.currentTextDesign.padding:mi.padding;}},{key:"width",get:function get(){return this.currentTextDesign?this.currentTextDesign.width:mi.width;}},{key:"identifier",get:function get(){return this.currentTextDesign?this.currentTextDesign.identifier:null;}},{key:"isInverted",get:function get(){return this.currentTextDesign?this.currentTextDesign.isInverted:mi.isInverted;}},{key:"color",get:function get(){return this.currentTextDesign?this.currentTextDesign.color:mi.color;}},{key:"config",get:function get(){return this.editor.configStore.config[C.TEXT_DESIGN];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.TEXT_DESIGN];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"items",get:function get(){return this.entityManager.items;}}],[{key:"defaultText",value:function defaultText(){return mi.text;}}]);return Xe;}();f([T],Xe.prototype,"addOrselect",2),f([T],Xe.prototype,"selectLast",2),f([T],Xe.prototype,"add",2),f([T],Xe.prototype,"updateStateFromHistory",2),f([T],Xe.prototype,"setState",2),f([T],Xe.prototype,"changeText",2),f([T],Xe.prototype,"setEditMode",2),f([T],Xe.prototype,"duplicate",2),f([T],Xe.prototype,"bringToFront",2),f([T],Xe.prototype,"delete",2),f([T],Xe.prototype,"changeSeed",2),f([T],Xe.prototype,"changeIdentifier",2),f([T],Xe.prototype,"changeColor",2),f([T],Xe.prototype,"invertBackground",2),f([T],Xe.prototype,"changeWidth",2),f([T],Xe.prototype,"changePadding",2),f([T],Xe.prototype,"pureReset",2),f([k],Xe.prototype,"isTextDesignSelected",1),f([k],Xe.prototype,"isEditMode",1),f([k],Xe.prototype,"currentTextDesign",1),f([k],Xe.prototype,"id",1),f([k],Xe.prototype,"text",1),f([k],Xe.prototype,"seed",1),f([k],Xe.prototype,"padding",1),f([k],Xe.prototype,"width",1),f([k],Xe.prototype,"identifier",1),f([k],Xe.prototype,"isInverted",1),f([k],Xe.prototype,"color",1),f([k],Xe.prototype,"config",1),f([k],Xe.prototype,"locale",1),f([k],Xe.prototype,"localeColor",1),f([k],Xe.prototype,"items",1);});var ON,Uae,I2,Nae,_gf,me,F2=d(function(){Le();ON=y(pu());H();$();ls();Im();b2();v2();w2();E2();Uae={},I2="none",Nae={position:{x:0,y:0},rotation:0},_gf=/*#__PURE__*/function(){function gf(e){var _this363=this;_classCallCheck(this,gf);this.state=le.map(Uae);this.selectedId=le.box(I2);this.editMode=le.box(!1);this.dragMode=le.box(!1);this.minLength=0;this.counter=0;this.addSticker=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee48(){return regeneratorRuntime.wrap(function _callee48$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:_context49.next=2;return this.addStickerAsync(e,t);case 2:case"end":return _context49.stop();}}},_callee48,this);}));};this.addStickerAsync=function(s){for(var _len108=arguments.length,n=new Array(_len108>1?_len108-1:0),_key108=1;_key108<_len108;_key108++){n[_key108-1]=arguments[_key108];}return ie(_this363,[s].concat(n),/*#__PURE__*/regeneratorRuntime.mark(function _callee50(_ref128){var _this364=this;var e,t,i,o,_args51=arguments;return regeneratorRuntime.wrap(function _callee50$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:e=_ref128.spriteId,t=_ref128.state,i=_ref128.transform;o=_args51.length>1&&_args51[1]!==undefined?_args51[1]:!0;return _context51.abrupt("return",new Promise(function(a,l){i=_this364.getInitialTransform(i);var c=t.identifier,u=_this364.editor.orderHelper.addSprite(c);_this364.editor.engine.addStickerFromAssets(c,_this364.editor.engineMediator.image.container,u).then(function(p){return ie(_this364,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){var m,h,g,I,E,_this$editor$outputCo,v,S,_;return regeneratorRuntime.wrap(function _callee49$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:e&&p.setData({id:e});m=p.getID();this.container[m]=p,this.editor.orderHelper.renameSprite(c,m);h=this.getSize(m);h.width*=p.getScale().x,h.height*=p.getScale().y,p.setPivot(.5,.5);if(i.scale)g=i.scale;else if(i.size)g={x:i.size.width/h.width,y:i.size.height/h.height};else{I=this.editor.shortestOutputSide*.4,E=_gf.magnitude(I)/_gf.sizeMagnitude(p.getSizeInWorldSpace());g={x:E,y:E};}_this$editor$outputCo=this.editor.outputContainer.getData(),v=_this$editor$outputCo.flipHorizontally,S=_this$editor$outputCo.flipVertically;p.setFlipHorizontally(v),p.setFlipVertically(S),p.setTransform({position:i.position,scale:g,rotation:i.rotation}),t.flipHorizontally!==void 0&&p.setFlipHorizontally(t.flipHorizontally!==v),t.flipVertically!==void 0&&p.setFlipVertically(t.flipVertically!==S),this.setContainerProperties(m,w({},t));_=p.getData();this.setInitialSpriteState(m,C.STICKER);this.stickerToolStore.setState(m,L(w({},_),{identifier:c}));_context50.next=13;return this.editor.renderPromise();case 13:o&&(this.setId(m),this.addSnapshot(Ee.ADD,this.stickerLocale.add));a();case 15:case"end":return _context50.stop();}}},_callee49,this);}));})["catch"](function(p){console.error(p),l();});}));case 3:case"end":return _context51.stop();}}},_callee50);}));};this.addText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee51(){return regeneratorRuntime.wrap(function _callee51$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:_context52.next=2;return this.addTextAsync(e,t);case 2:case"end":return _context52.stop();}}},_callee51,this);}));};this.addTextAsync=function(_ref129){var e=_ref129.spriteId,t=_ref129.state,i=_ref129.transform;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(function(s,n){i=_this363.getInitialTransform(i);var a=_this363.editor.orderHelper.addSprite(t.identifier),l=_this363.editor.shortestOutputSide,c={fontIdentifier:t.identifier,text:t.text,width:t.width||l*.6,fontSize:t.fontSize||l*.1,lineHeight:t.lineHeight,alignment:t.alignment,textColor:t.textColor,backgroundColor:t.backgroundColor};_this363.editor.engine.addTextWithFontLoading(c,_this363.editor.engineMediator.image.container,a).then(function(u){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee52(){var p,_this$editor$outputCo2,m,h,g;return regeneratorRuntime.wrap(function _callee52$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:e&&u.setData({id:e});p=u.getID();this.container[p]=u,this.editor.orderHelper.renameSprite(t.identifier,this.id);_this$editor$outputCo2=this.editor.outputContainer.getData(),m=_this$editor$outputCo2.flipHorizontally,h=_this$editor$outputCo2.flipVertically;u.setFlipHorizontally(m),u.setFlipVertically(h),u.setPivot(.5,.5),u.setPosition(i.position),u.setRotation(i.rotation),this.setInitialSpriteState(p,C.TEXT);g=u.getData();this.textToolStore.setState(p,w({},g));_context53.next=9;return this.editor.renderPromise();case 9:o&&(this.setId(p),this.addSnapshot(Ee.ADD,this.textLocale.add));s();case 11:case"end":return _context53.stop();}}},_callee52,this);}));})["catch"](function(u){console.error(u),n();});});};this.addTextDesign=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee53(){return regeneratorRuntime.wrap(function _callee53$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:_context54.next=2;return this.addTextDesignAsync(e,t,i);case 2:case"end":return _context54.stop();}}},_callee53,this);}));};this.addTextDesignAsync=function(_ref130){var e=_ref130.spriteId,t=_ref130.state,i=_ref130.transform;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;return new Promise(function(n,a){i=_this363.getInitialTransform(i);var l=_this363.editor.orderHelper.addSprite(t.identifier),c=_this363.editor.shortestOutputSide,u={width:t.width||c*.6,text:t.text,color:t.color,inverted:t.isInverted,seed:t.seed,padding:t.padding};_this363.editor.engine.addTextDesignAsync(t.identifier,u,_this363.editor.engineMediator.image.container,l).then(function(p){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee54(){var m,_this$editor$outputCo3,h,g,v;return regeneratorRuntime.wrap(function _callee54$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:e&&(s&&(this.pureRemoveSprite(e),this.textDesignToolStore.state["delete"](e)),p.setData({id:e}));m=p.getID();this.container[m]=p,this.editor.orderHelper.renameSprite(t.identifier,this.id);_this$editor$outputCo3=this.editor.outputContainer.getData(),h=_this$editor$outputCo3.flipHorizontally,g=_this$editor$outputCo3.flipVertically;p.setFlipHorizontally(h),p.setFlipVertically(g),p.setPivot(.5,.5),p.setPosition(i.position),p.setRotation(i.rotation),this.setInitialSpriteState(m,C.TEXT_DESIGN);v=p.getData();this.textDesignToolStore.setState(m,L(w({},v),{identifier:t.identifier}));_context55.next=9;return this.editor.renderPromise();case 9:o&&(this.setId(m),this.addSnapshot(Ee.ADD,this.textDesignLocale.add));n();case 11:case"end":return _context55.stop();}}},_callee54,this);}));})["catch"](function(p){console.error(p),a();});});};this.spriteLocalTransform=function(){return{position:_this363.editor.previewToOutput(_this363.position),size:_this363.size,rotation:_this363.rotation};};this.clickableCanvas=function(e){_this363.editor.clickableCanvas(e);};this.setContainerProperties=function(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;_this363.container[e].setData(t),i&&_this363.updatePositionAndSize(),_this363.editor.render();};this.setContainerPosition=function(e,t){_this363.container[e].setPosition(t);};this.pureRemoveSprite=function(e){return _this363.editor.engine.removeContainer(_this363.container[e]),_this363.container[e].getIndexInParent()===-1?(delete _this363.container[e],_this363.state["delete"](e),_this363.editor.orderHelper.removeSprite(e),!0):!1;};this.deleteSprite=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this363.id;var t=_this363.state.get(e);t.tool===C.STICKER?_this363.stickerToolStore["delete"]():t.tool===C.TEXT?_this363.textToolStore["delete"]():t.tool===C.TEXT_DESIGN&&_this363.textDesignToolStore["delete"]();};this.removeSprite=function(e){_this363.pureRemoveSprite(e)&&(_this363.selectLast(),_this363.spriteSnapshot("delete"),_this363.editor.render());};this.addSnapshot=function(e,t){_this363.editor.addSnapshot(void 0,e,t);};this.spriteSnapshot=function(e){_this363.addSnapshot(Ee.EDIT,_this363.historyLocale[e]);};this.addNewText=function(e,t){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee55(){return regeneratorRuntime.wrap(function _callee55$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:if(!this.textToolStore.doesTextAssetExist(t.identifier)){_context56.next=5;break;}_context56.next=3;return this.addTextAsync(L(w({},e),{state:t}),!1);case 3:_context56.next=6;break;case 5:throw new Error("Text identifier ".concat(t.identifier," doesn't exist"));case 6:case"end":return _context56.stop();}}},_callee55,this);}));};this.addNewTextDesign=function(e,t){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee56(){return regeneratorRuntime.wrap(function _callee56$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:if(!this.textDesignToolStore.doesTextDesignAssetExist(t.identifier)){_context57.next=5;break;}_context57.next=3;return this.addTextDesignAsync(L(w({},e),{state:t}),!1);case 3:_context57.next=6;break;case 5:throw new Error("TextDesign identifier ".concat(t.identifier," doesn't exist"));case 6:case"end":return _context57.stop();}}},_callee56,this);}));};this.addNewSticker=function(e,t){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee57(){return regeneratorRuntime.wrap(function _callee57$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:if(!this.stickerToolStore.doesStickerAssetExist(t.identifier)){_context58.next=5;break;}_context58.next=3;return this.addStickerAsync(L(w({},e),{state:t}),!1);case 3:_context58.next=6;break;case 5:throw new Error("Sticker identifier ".concat(t.identifier," doesn't exist"));case 6:case"end":return _context58.stop();}}},_callee57,this);}));};this.getSpriteHistoryState=function(){var _i31;var e=fe(_this363.textToolStore.state),t=fe(_this363.textDesignToolStore.state),i=(_i31={common:fe(_this363.state)},_defineProperty(_i31,C.STICKER,fe(_this363.stickerToolStore.state)),_defineProperty(_i31,C.TEXT,e),_defineProperty(_i31,C.TEXT_DESIGN,t),_defineProperty(_i31,"spriteIdList",Object.keys(_this363.container)),_i31);return Object.keys(i.common).forEach(function(o){i.common[o].size=_this363.container[o].getSizeInWorldSpace(),i.common[o].position=_this363.container[o].getPosition(),i.common[o].order=_this363.container[o].getIndexInParent();}),i;};this.updateStateFromSerialization=function(e,t){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee59(){var _this365=this;var i;return regeneratorRuntime.wrap(function _callee59$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:if(!(t&&t.length)){_context60.next=12;break;}_context60.prev=1;_context60.next=4;return Promise.all(t.map(function(l){return ie(_this365,[l],/*#__PURE__*/regeneratorRuntime.mark(function _callee58(_ref131){var o,s,n,a,c,u,p;return regeneratorRuntime.wrap(function _callee58$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:o=_ref131.svg,s=_ref131.raster,n=_ref131.name,a=_ref131.identifier;c=(o==null?void 0:o.data)?Ki.SVG:s.type;u="data:".concat(c,";base64,").concat((o==null?void 0:o.data)||s.data);_context59.next=5;return vv(u,150);case 5:p=_context59.sent;return _context59.abrupt("return",{stickerURI:u,thumbnailURI:p,name:n,type:c,identifier:a});case 7:case"end":return _context59.stop();}}},_callee58);}));}));case 4:i=_context60.sent;_context60.next=7;return this.stickerToolStore.addCustomStickerAsset(i);case 7:_context60.next=12;break;case 9:_context60.prev=9;_context60.t0=_context60["catch"](1);this.editor.modalStore.hideModal(),this.editor.modalStore.showInfoModal("stickerLoading");case 12:_context60.next=14;return this.updateStateByHistoryState(e.spriteIdList,e);case 14:case"end":return _context60.stop();}}},_callee59,this,[[1,9]]);}));};this.updateStateFromHistory=function(e){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee60(){var _this366=this;return regeneratorRuntime.wrap(function _callee60$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:Object.keys(this.container).filter(function(o){return e.spriteIdList.indexOf(o)===-1;}).forEach(function(o){_this366.pureRemoveSprite(o);});_context61.next=3;return this.updateStateByHistoryState(e.spriteIdList,e);case 3:case"end":return _context61.stop();}}},_callee60,this);}));};this.serializableState=function(){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee62(){var _this367=this;var e,t;return regeneratorRuntime.wrap(function _callee62$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:e=this.editor.spriteStore.getSpriteHistoryState();Object.keys(e.common).forEach(function(i){var _this367$editor$outpu=_this367.editor.outputContainer.getData(),o=_this367$editor$outpu.flipHorizontally,s=_this367$editor$outpu.flipVertically,n=_this367.editor.outputContainer.getRotation(),a=s!==o?-e.common[i].rotation:e.common[i].rotation;e.common[i].rotation=s!==o?a+n:a-n;});_context63.next=4;return Promise.all(this.editor.spriteStore.stickerToolStore.customStickers.map(function(a){return ie(_this367,[a],/*#__PURE__*/regeneratorRuntime.mark(function _callee61(_ref132){var _s$split,_s$split2;var i,o,s,n,l,_c$split,_c$split2,c;return regeneratorRuntime.wrap(function _callee61$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:i=_ref132.identifier,o=_ref132.type,s=_ref132.stickerURI,n=_ref132.name;l={identifier:i,name:n,raster:{data:"",type:Ki.JPEG}};if(!(o===Ki.SVG&&(l.svg={data:s.split(",")[1]}),o===Ki.JPEG||o===Ki.PNG)){_context62.next=6;break;}(_s$split=s.split(","),_s$split2=_slicedToArray(_s$split,2),l.raster.data=_s$split2[1],_s$split),l.raster.type=o;_context62.next=10;break;case 6:_context62.next=8;return vv(s);case 8:c=_context62.sent;(_c$split=c.split(","),_c$split2=_slicedToArray(_c$split,2),l.raster.data=_c$split2[1],_c$split),l.raster.type=Ki.PNG;case 10:return _context62.abrupt("return",l);case 11:case"end":return _context62.stop();}}},_callee61);}));}));case 4:t=_context63.sent;return _context63.abrupt("return",{sprite:e,customStickers:t});case 6:case"end":return _context63.stop();}}},_callee62,this);}));};this.updateCanvasControls=function(){Object.keys(_this363.container).forEach(function(e){_this363.updatePositionAndSize(e,!0);var t=_this363.state.get(e);if(t){if(t.tool===C.TEXT){var i=_this363.getContainerProperties(e);_this363.textToolStore.changeSize(e,i);}else if(t.tool===C.TEXT_DESIGN){var _i32=_this363.getContainerProperties(e);_this363.textToolStore.changeWidth(_i32.width);}}});};this.setEditMode=function(e){_this363.currentSprite&&[C.TEXT,C.TEXT_DESIGN].indexOf(_this363.tool)!==-1&&(e?_this363.editor.modalStore.showTextEditModal():_this363.editor.modalStore.hideModal(),_this363.editMode.set(e));};this.setDragMode=function(e){_this363.dragMode.set(e);};this.setPosition=function(e){var t=_this363.currentSprite,i=_this363.container[_this363.id];if(t&&i){i.setPosition(_this363.editor.previewToWorld(e));var _this363$getSizePosit=_this363.getSizePositionFromContainer(),o=_this363$getSizePosit.position;t.position.x=o.x,t.position.y=o.y,_this363.state.set(_this363.id,t),_this363.editor.render();}};this.setSize=function(e){var t=_this363.currentSprite;t&&(t.size.width=e.width,t.size.height=e.height,_this363.state.set(_this363.id,t));};this.setRotation=function(e){var t=_this363.currentSprite;if(t){var _this363$editor$outpu=_this363.editor.outputContainer.getData(),i=_this363$editor$outpu.flipHorizontally,o=_this363$editor$outpu.flipVertically,s=_this363.editor.outputContainer.getRotation(),n=nf({rotation:e,outputRotation:s,flipHorizontally:i,flipVertically:o});_this363.container[_this363.id].setRotation(n),t.rotation=_this363.container[_this363.id].getRotation(),_this363.state.set(_this363.id,t),_this363.editor.render();}};this.onCanvasClick=function(e){_this363.isEditMode||_this363.selectHighestOrderSprite(e);};this.select=function(e){var t=_this363.state.get(e);t&&(_this363.editor.activeStore.tool!==t.tool&&_this363.editor.activeStore.selectTool(t.tool),_this363.setId(e));};this.selectLast=function(){var e=_this363.editor.orderHelper.getLastSpriteId();e&&_this363.select(e);};this.selectNext=function(){if(_this363.currentSprite){var t=_this363.container[_this363.id].getIndexInParent();if(t){var i=Object.keys(_this363.container).find(function(o){return _this363.container[o].getIndexInParent()===t-1;});i&&_this363.select(i);}}};this.deselect=function(){_this363.setId(I2);};this.bringToFront=function(e){return ie(_this363,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee63(){var t;return regeneratorRuntime.wrap(function _callee63$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:t=this.editor.orderHelper.bringToFront(e);this.container[e].setIndexInParent(t);this.spriteSnapshot("order");_context64.next=5;return this.editor.render();case 5:this.counter+=1;case 6:case"end":return _context64.stop();}}},_callee63,this);}));};this.flipHorizontally=function(e){var t=_this363.state.get(e),i=_this363.container[e];i.setFlipHorizontally(!i.getFlipHorizontally()),t.flipHorizontally=i.getFlipHorizontally(),_this363.spriteSnapshot("flip"),_this363.state.set(e,t),_this363.editor.render();};this.pureReset=function(){_this363.deselect(),Array.from(_this363.state.keys()).forEach(function(e){_this363.pureRemoveSprite(e);}),_this363.stickerToolStore.pureReset(),_this363.textToolStore.pureReset(),_this363.textDesignToolStore.pureReset();};this.selectHighestOrderSprite=function(e){var t=_this363.editor.brushToolStore.containerId();if(e=e.filter(function(s){return s!==t;}),e.length<1){_this363.deselect();return;}var i="",o=0;e.forEach(function(s){var n=_this363.container[s],a=n&&n.getIndexInParent()||0;a>=o&&(o=a,i=s);}),_this363.select(i);};this.onCornerDrag=function(_ref133){var e=_ref133.x,t=_ref133.y;if(_this363.currentSprite){var i=new B(_this363.currentSprite.position),o=new B(e,t),s=o.subtract(i).magnitude,n=_this363.getSize(),a=s*2/_gf.sizeMagnitude(n);if(s>_this363.minLength)if(_this363.isSpriteSticker){if(_this363.stickerToolStore.resizeMode!=="unrestricted")_this363.setStickerSize({width:n.width*a,height:n.height*a});else{var l=_this363.rotationWRTOutputRotation,c=o.subtract(i),u=Math.cos(l),p=Math.sin(l),m=Math.max(Math.abs(c.x*u*2+c.y*p*2),_this363.minLength),h=Math.max(Math.abs(c.x*-p*2+c.y*u*2),_this363.minLength);_this363.setStickerSize({width:m,height:h});}}else _this363.isSpriteText?_this363.setTextSize(n.width*a):_this363.isSpriteTextDesign&&_this363.setTextDesignScale(a);_this363.editor.render();}};this.onWidthDrag=function(_ref134){var e=_ref134.x,t=_ref134.y;var i=new B(_this363.currentSprite.position),s=new B(e,t).subtract(i).magnitude,n=_this363.editor.previewToWorld(2*s);if(n>_this363.minLength&&(_this363.setContainerProperties(_this363.id,{width:n},!0),_this363.isSpriteText)){var a=_this363.getContainerProperties(_this363.id);_this363.textToolStore.changeWidth(a.width);}};this.onPaddingDrag=function(_ref135){var e=_ref135.x,t=_ref135.y;if(_this363.isSpriteTextDesign){var i=_this363.getContainerProperties(_this363.id),o=new B(_this363.currentSprite.position),n=new B(e,t).subtract(o).magnitude,a=Math.max(_this363.editor.previewToWorld(n)-i.width/2,0);_this363.setContainerProperties(_this363.id,{padding:a},!0),_this363.isSpriteTextDesign&&(i=_this363.getContainerProperties(_this363.id),_this363.textDesignToolStore.changePadding(i.padding));}};this.correctTextFlip=function(){var _this363$editor$outpu2=_this363.editor.outputContainer.getData(),e=_this363$editor$outpu2.flipHorizontally,t=_this363$editor$outpu2.flipVertically;Object.values(_this363.container).forEach(function(i){(i.type==="text"||i.type==="text-design")&&(i.setFlipHorizontally(e),i.setFlipVertically(t));});};this.reverseTextHorizontally=function(e){Object.values(_this363.container).forEach(function(t){(t.type==="text"||t.type==="text-design")&&t.setFlipHorizontally(e);});};this.reverseTextVertically=function(e){Object.values(_this363.container).forEach(function(t){(t.type==="text"||t.type==="text-design")&&t.setFlipVertically(e);});};this.getOutputProperties=function(){return _this363.editor.outputContainer.getData();};this.getContainerProperties=function(e){return _this363.container[e].getData();};this.getContainerTransform=function(e){return _this363.container[e].getTransform();};this.getDuplicateContainerTransform=function(e){var t=_this363.container[e].getTransform(),i=_this363.editor.shortestOutputSide*.1,o=new B(t.position).add(new B(i,i));return L(w({},t),{position:o});};this.getDuplicateContainerFlip=function(e){var t=_this363.container[e].getFlipHorizontally(),i=_this363.container[e].getFlipVertically();return{flipHorizontally:t,flipVertically:i};};this.updatePositionAndSize=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this363.id;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var _this363$getSizePosit2=_this363.getSizePositionFromContainer(e),i=_this363$getSizePosit2.position,o=_this363$getSizePosit2.size,s=_this363.state.get(e);if(s){if(s.position.x=i.x,s.position.y=i.y,s.size.width=o.width,s.size.height=o.height,t){var n=_this363.container[e].getRotation();_this363.container[e].setRotation(n),s.rotation=_this363.container[e].getRotation();}_this363.state.set(e,s);}};this.getInitialTransform=function(e){var t=_this363.editor.outputToWorld(Nae.position);return e?w({position:t},e):{rotation:_this363.editor.outputContainer.getRotation(),position:t};};this.setInitialSpriteState=function(e,t){var i=_this363.container[e],_this363$getSizePosit3=_this363.getSizePositionFromContainer(e),o=_this363$getSizePosit3.position,s=_this363$getSizePosit3.size,n=i.getRotation(),a=t!==C.STICKER?!1:i.getFlipHorizontally(),l=t!==C.STICKER?!1:i.getFlipVertically();_this363.state.set(e,{tool:t,position:o,rotation:n,size:s,flipHorizontally:a,flipVertically:l});};this.setStickerSize=function(e){var t=_this363.container[_this363.id];t.setSizeInWorldSpace(_this363.editor.previewSizeToWorld(e));var i=_this363.currentSprite;i&&(i.size=_this363.editor.worldSizeToPreview(t.getSizeInWorldSpace()),_this363.state.set(_this363.id,i));};this.setTextSize=function(e){var t=_this363.getContainerProperties(_this363.id),i={width:_this363.editor.previewToWorld(e)},o=i.width/t.width,s={fontSize:Math.round(t.fontSize*o)},n=_this363.isSpriteText?w(w({},i),s):i;i.width>_this363.minLength&&s.fontSize&&(_this363.setContainerProperties(_this363.id,n,!0),t=_this363.getContainerProperties(_this363.id),_this363.textToolStore.changeFontSize(t.fontSize,!0),_this363.textToolStore.changeWidth(t.width));};this.setTextDesignScale=function(e){var t=_this363.getContainerProperties(_this363.id),i=t.width*e;if(i>_this363.minLength){_this363.setContainerProperties(_this363.id,{width:i},!0);var _this363$getContainer=_this363.getContainerProperties(_this363.id),o=_this363$getContainer.width;_this363.textDesignToolStore.changeWidth(o),t=_this363.getContainerProperties(_this363.id),_this363.textDesignToolStore.changePadding(t.padding);}};this.getSizePositionFromContainer=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this363.id;var t=_this363.container[e];if(t){var i=_this363.editor.worldToPreview(t.getPosition()),o=_this363.editor.worldSizeToPreview(t.getSizeInWorldSpace());return{position:i,size:o};}return{position:{x:0,y:0},size:{height:1,width:1}};};this.getSize=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this363.id;var t=_this363.container[e];return t?_this363.editor.worldSizeToPreview(t.getSizeInWorldSpace()):{width:0,height:0};};this.editor=e,this.container={},this.stickerToolStore=new Ke(e),this.textToolStore=new ke(e),this.textDesignToolStore=new Xe(e),this.rect=new Zt(this.editor,this),this.minLength=this.editor.configStore.measurements.canvasControls.sprite.minSize/Math.sqrt(2);}_createClass(gf,[{key:"updateStateByHistoryState",value:function updateStateByHistoryState(e,t){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee65(){var _this368=this;return regeneratorRuntime.wrap(function _callee65$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:_context66.next=2;return(0,ON["default"])(e,function(i){return ie(_this368,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee64(){var o;return regeneratorRuntime.wrap(function _callee64$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:o=t.common[i];if(o){_context65.next=3;break;}return _context65.abrupt("return");case 3:if(!this.state.get(i)){_context65.next=7;break;}this.updateExistingItem(i,t);_context65.next=9;break;case 7:_context65.next=9;return this.addNewItem(i,t);case 9:this.container[i].setIndexInParent(o.order);case 10:case"end":return _context65.stop();}}},_callee64,this);}));});case 2:this.counter+=1;case 3:case"end":return _context66.stop();}}},_callee65,this);}));}},{key:"addNewItem",value:function addNewItem(e,t){return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee66(){var i,o,_this$editor$outputCo4,s,n,a,l,c,u,p,m;return regeneratorRuntime.wrap(function _callee66$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:i=t.common[e],o=i.size?{width:this.editor.worldToPreview(i.size.width),height:this.editor.worldToPreview(i.size.height)}:void 0,_this$editor$outputCo4=this.editor.outputContainer.getData(),s=_this$editor$outputCo4.flipHorizontally,n=_this$editor$outputCo4.flipVertically,a=this.editor.outputContainer.getRotation(),l=n!==s?i.rotation-a:i.rotation+a,c=n!==s?-l:l,u={spriteId:e,transform:{size:o,position:new B(i.position),rotation:c}};if(!t.text[e]){_context67.next=6;break;}p=t.text[e],m=this.textToolStore.validFontWithConfig(p.identifier);p.identifier=m==null?void 0:m.identifier;_context67.next=6;return this.addNewText(u,p);case 6:_context67.t0=t.textdesign[e];if(!_context67.t0){_context67.next=10;break;}_context67.next=10;return this.addNewTextDesign(u,t.textdesign[e]);case 10:_context67.t1=t.sticker[e];if(!_context67.t1){_context67.next=14;break;}_context67.next=14;return this.addNewSticker(u,L(w({},t.sticker[e]),{flipHorizontally:i.flipHorizontally,flipVertically:i.flipVertically}));case 14:case"end":return _context67.stop();}}},_callee66,this);}));}},{key:"updateExistingItem",value:function updateExistingItem(e,t){var i=t.common[e],o=this.state.get(e);this.state.set(e,o);var s=this.container[e];if(s.setPosition(new B(i.position)),s.setRotation(i.rotation),o.rotation=s.getRotation(),i.flipHorizontally!==void 0&&s.setFlipHorizontally(i.flipHorizontally),i.flipVertically!==void 0&&s.setFlipVertically(i.flipVertically),t.text[e]){var n=t.text[e];this.textToolStore.updateStateFromHistory(e,L(w({},n),{fontIdentifier:n.identifier}));}if(t.textdesign[e]){var _n6=t.textdesign[e];this.textDesignToolStore.updateStateFromHistory(e,L(w({},_n6),{inverted:_n6.isInverted}));}t.sticker[e]&&(s.setSizeInWorldSpace(i.size),this.stickerToolStore.updateStateFromHistory(e,t.sticker[e])),this.updatePositionAndSize(e);}},{key:"currentSprite",get:function get(){if(this.isSpriteSelected)return this.state.get(this.id);}},{key:"padding",get:function get(){return this.textDesignToolStore.padding;}},{key:"isEditMode",get:function get(){return this.editMode.get();}},{key:"isDragMode",get:function get(){return this.dragMode.get();}},{key:"id",get:function get(){return this.selectedId.get();}},{key:"isSpriteSelected",get:function get(){return this.id!==I2;}},{key:"position",get:function get(){if(this.currentSprite)return this.currentSprite.position;}},{key:"tool",get:function get(){if(this.currentSprite)return this.currentSprite.tool;}},{key:"size",get:function get(){if(this.currentSprite)return this.currentSprite.size;}},{key:"rotation",get:function get(){if(this.currentSprite)return this.currentSprite.rotation;}},{key:"rotationWRTOutputRotation",get:function get(){if(this.currentSprite){var _this$editor$outputCo5=this.editor.outputContainer.getData(),e=_this$editor$outputCo5.flipHorizontally,t=_this$editor$outputCo5.flipVertically,i=this.editor.outputContainer.getRotation();return nf({rotation:this.currentSprite.rotation-i,flipHorizontally:e,flipVertically:t});}}},{key:"flipHorizontal",get:function get(){if(this.currentSprite)return this.currentSprite.flipHorizontally;}},{key:"isSpriteSticker",get:function get(){return this.tool===C.STICKER;}},{key:"isSpriteText",get:function get(){return this.tool===C.TEXT;}},{key:"isSpriteTextDesign",get:function get(){return this.tool===C.TEXT_DESIGN;}},{key:"isOnTop",get:function get(){var e=this.counter;return this.editor.engine.isSpriteTop(this.id);}},{key:"spritePosition",get:function get(){if(this.currentSprite){var _this$currentSprite$p=this.currentSprite.position,e=_this$currentSprite$p.x,t=_this$currentSprite$p.y,_this$currentSprite$s=this.currentSprite.size,i=_this$currentSprite$s.height,o=_this$currentSprite$s.width;return{x:Math.round(e-o/2),y:Math.round(t-i/2)};}}},{key:"currentRect",get:function get(){if(this.currentSprite)return this.rect;}},{key:"leftTopPosition",get:function get(){if(this.currentSprite)return this.rect.leftTop;}},{key:"leftBottomPosition",get:function get(){if(this.currentSprite)return this.rect.leftBottom;}},{key:"leftMidPosition",get:function get(){if(this.currentSprite)return this.rect.leftMid;}},{key:"leftMidPadPosition",get:function get(){if(this.currentSprite){var e=this.rect.leftMid;return{x:e.x-this.editor.worldToPreview(this.padding),y:e.y};}}},{key:"rightTopPosition",get:function get(){if(this.currentSprite)return this.rect.rightTop;}},{key:"rightBottomPosition",get:function get(){if(this.currentSprite)return this.rect.rightBottom;}},{key:"rightMidPosition",get:function get(){if(this.currentSprite)return this.rect.rightMid;}},{key:"rightMidPadPosition",get:function get(){if(this.currentSprite){var e=this.rect.rightMid;return{x:e.x+this.editor.worldToPreview(this.padding),y:e.y};}}},{key:"leftBottomHandlePosition",get:function get(){if(this.currentSprite)return this.rect.leftBottomHandle;}},{key:"rightBottomHandlePosition",get:function get(){if(this.currentSprite)return this.rect.rightBottomHandle;}},{key:"historyLocale",get:function get(){return this.isSpriteSticker?this.stickerLocale:this.isSpriteText?this.textDesignLocale:this.textLocale;}},{key:"stickerLocale",get:function get(){return this.editor.configStore.locale[C.STICKER].history;}},{key:"textLocale",get:function get(){return this.editor.configStore.locale[C.TEXT].history;}},{key:"textDesignLocale",get:function get(){return this.editor.configStore.locale[C.TEXT_DESIGN].history;}},{key:"setId",value:function setId(e){this.selectedId.set(e);}}],[{key:"magnitude",value:function magnitude(e,t){return new B(e,t||e).magnitude;}},{key:"sizeMagnitude",value:function sizeMagnitude(e){return Math.sqrt(e.width*e.width+e.height*e.height);}}]);return gf;}(),me=_gf;f([le],me.prototype,"counter",2),f([T],me.prototype,"addSticker",2),f([T],me.prototype,"addStickerAsync",2),f([T],me.prototype,"addText",2),f([T],me.prototype,"addTextAsync",2),f([T],me.prototype,"addTextDesign",2),f([T],me.prototype,"addTextDesignAsync",2),f([T],me.prototype,"clickableCanvas",2),f([T],me.prototype,"setContainerProperties",2),f([T],me.prototype,"setContainerPosition",2),f([T],me.prototype,"pureRemoveSprite",2),f([T],me.prototype,"deleteSprite",2),f([T],me.prototype,"removeSprite",2),f([T],me.prototype,"addSnapshot",2),f([T],me.prototype,"addNewText",2),f([T],me.prototype,"addNewTextDesign",2),f([T],me.prototype,"addNewSticker",2),f([T],me.prototype,"updateStateFromSerialization",2),f([T],me.prototype,"updateStateFromHistory",2),f([T],me.prototype,"updateCanvasControls",2),f([T],me.prototype,"setEditMode",2),f([T],me.prototype,"setDragMode",2),f([T],me.prototype,"setPosition",2),f([T],me.prototype,"setSize",2),f([T],me.prototype,"setRotation",2),f([T],me.prototype,"onCanvasClick",2),f([T],me.prototype,"select",2),f([T],me.prototype,"selectLast",2),f([T],me.prototype,"selectNext",2),f([T],me.prototype,"deselect",2),f([T],me.prototype,"bringToFront",2),f([T],me.prototype,"flipHorizontally",2),f([T],me.prototype,"pureReset",2),f([T],me.prototype,"onCornerDrag",2),f([T],me.prototype,"onWidthDrag",2),f([T],me.prototype,"onPaddingDrag",2),f([T],me.prototype,"correctTextFlip",2),f([T],me.prototype,"reverseTextHorizontally",2),f([T],me.prototype,"reverseTextVertically",2),f([k],me.prototype,"currentSprite",1),f([k],me.prototype,"padding",1),f([k],me.prototype,"isEditMode",1),f([k],me.prototype,"isDragMode",1),f([k],me.prototype,"id",1),f([k],me.prototype,"isSpriteSelected",1),f([k],me.prototype,"position",1),f([k],me.prototype,"tool",1),f([k],me.prototype,"size",1),f([k],me.prototype,"rotation",1),f([k],me.prototype,"rotationWRTOutputRotation",1),f([k],me.prototype,"flipHorizontal",1),f([k],me.prototype,"isSpriteSticker",1),f([k],me.prototype,"isSpriteText",1),f([k],me.prototype,"isSpriteTextDesign",1),f([k],me.prototype,"isOnTop",1),f([k],me.prototype,"spritePosition",1),f([k],me.prototype,"currentRect",1),f([k],me.prototype,"leftTopPosition",1),f([k],me.prototype,"leftBottomPosition",1),f([k],me.prototype,"leftMidPosition",1),f([k],me.prototype,"leftMidPadPosition",1),f([k],me.prototype,"rightTopPosition",1),f([k],me.prototype,"rightBottomPosition",1),f([k],me.prototype,"rightMidPosition",1),f([k],me.prototype,"rightMidPadPosition",1),f([k],me.prototype,"leftBottomHandlePosition",1),f([k],me.prototype,"rightBottomHandlePosition",1),f([k],me.prototype,"historyLocale",1),f([k],me.prototype,"stickerLocale",1),f([k],me.prototype,"textLocale",1),f([k],me.prototype,"textDesignLocale",1);});var ds,RN,O2=d(function(){Le();ds={position:{x:0,y:0},size:{height:0,width:0},lockResolution:!1,forceDimensions:!1,ratio:"*"},RN={identifier:"identity",outputRotation:0,rotationInDegrees:0,flipHorizontally:!1,flipVertically:!1,cropState:le.map({})};});var qe,AN=d(function(){Le();$();O2();qe=/*#__PURE__*/function(){function qe(e,t){_classCallCheck(this,qe);this.minCropSize=0;this.state=RN,this.configStore=e.configStore,this.minCropSize=this.configStore.measurements.crop.minSize,this.defaults=t;}_createClass(qe,[{key:"changeIdentifier",value:function changeIdentifier(e){this.state.identifier=e,this.state.cropState.get(e)||this.state.cropState.set(e,w({},ds));}},{key:"changeRatio",value:function changeRatio(e){var t=this.state.cropState.get(this.identifier);t&&this.state.cropState.set(this.identifier,L(w({},t),{ratio:e}));}},{key:"changeSize",value:function changeSize(e){var t=this.state.cropState.get(this.identifier);t&&(e.width&&e.width>0&&(t.size.width=Math.round(e.width)),e.height&&e.height>0&&(t.size.height=Math.round(e.height)),this.state.cropState.set(this.identifier,t));}},{key:"changeHeight",value:function changeHeight(e){var t=this.state.cropState.get(this.identifier);t&&e&&(t.size.height=Math.round(e),this.state.cropState.set(this.identifier,t));}},{key:"changeWidth",value:function changeWidth(e){var t=this.state.cropState.get(this.identifier);t&&e&&(t.size.width=Math.round(e),this.state.cropState.set(this.identifier,t));}},{key:"changePositionX",value:function changePositionX(e,t){var i=this.state.cropState.get(this.identifier);return i&&e<=t-this.minCropSize&&e>=0?(i.position.x=Math.round(e),this.state.cropState.set(this.identifier,i),!0):!1;}},{key:"changePositionY",value:function changePositionY(e,t){var i=this.state.cropState.get(this.identifier);return i&&e<=t-this.minCropSize&&e>=0?(i.position.y=Math.round(e),this.state.cropState.set(this.identifier,i),!0):!1;}},{key:"changePosition",value:function changePosition(e,t){var i=this.state.cropState.get(this.identifier);return i&&e.x<=t.width-this.minCropSize&&e.x>=0&&e.y<=t.height-this.minCropSize&&e.y>=0?(i.position.x=Math.round(e.x),i.position.y=Math.round(e.y),this.state.cropState.set(this.identifier,i),!0):!1;}},{key:"changeLockResolution",value:function changeLockResolution(e){var t=this.state.cropState.get(this.identifier);t&&(t.lockResolution=e!==void 0?e:!t.lockResolution,this.state.cropState.set(this.identifier,t));}},{key:"changeForceDimensions",value:function changeForceDimensions(e){var t=this.state.cropState.get(this.identifier);t&&(t.forceDimensions=e,this.state.cropState.set(this.identifier,t));}},{key:"setRotation",value:function setRotation(e){this.state.rotationInDegrees=e;}},{key:"resetRotation",value:function resetRotation(){this.state.rotationInDegrees=0;}},{key:"resetOutputRotation",value:function resetOutputRotation(){this.state.outputRotation=0;}},{key:"resetFlip",value:function resetFlip(){this.state.flipHorizontally=!1,this.state.flipVertically=!1;}},{key:"updateFlip",value:function updateFlip(_ref136){var e=_ref136.flipHorizontally,t=_ref136.flipVertically;this.state.flipHorizontally=e,this.state.flipVertically=t;}},{key:"setOutputRotation",value:function setOutputRotation(e){this.state.outputRotation=e;}},{key:"flipHorizontally",value:function flipHorizontally(){this.state.flipHorizontally=!this.state.flipHorizontally;}},{key:"flipVertically",value:function flipVertically(){this.state.flipVertically=!this.state.flipVertically;}},{key:"flipCenter",get:function get(){var _this$defaults$maxCro=this.defaults.maxCropMaskSize,e=_this$defaults$maxCro.width,t=_this$defaults$maxCro.height;return new B(e/2,t/2);}},{key:"isFlippedHorizontal",get:function get(){return this.state.flipHorizontally;}},{key:"isFlippedVertical",get:function get(){return this.state.flipVertically;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"height",get:function get(){return this.selectedCrop?this.selectedCrop.size.height:ds.size.height;}},{key:"width",get:function get(){return this.selectedCrop?this.selectedCrop.size.width:ds.size.width;}},{key:"position",get:function get(){return this.selectedCrop?this.selectedCrop.position:ds.position;}},{key:"ratio",get:function get(){return this.selectedCrop?this.selectedCrop.ratio:ds.ratio;}},{key:"size",get:function get(){return this.selectedCrop?this.selectedCrop.size:ds.size;}},{key:"x",get:function get(){return this.selectedCrop?this.selectedCrop.position.x:ds.position.x;}},{key:"y",get:function get(){return this.selectedCrop?this.selectedCrop.position.y:ds.position.y;}},{key:"lockResolution",get:function get(){return this.selectedCrop?this.selectedCrop.lockResolution:ds.lockResolution;}},{key:"forceDimensions",get:function get(){return this.selectedCrop?this.selectedCrop.forceDimensions:ds.forceDimensions;}},{key:"selectedCrop",get:function get(){return this.state.cropState.get(this.identifier);}},{key:"rotationInDegrees",get:function get(){return this.state.rotationInDegrees;}},{key:"outputRotation",get:function get(){return this.state.outputRotation;}}]);return qe;}();f([le],qe.prototype,"state",2),f([T],qe.prototype,"changeIdentifier",1),f([T],qe.prototype,"changeRatio",1),f([T],qe.prototype,"changeSize",1),f([T],qe.prototype,"changeHeight",1),f([T],qe.prototype,"changeWidth",1),f([T],qe.prototype,"changePositionX",1),f([T],qe.prototype,"changePositionY",1),f([T],qe.prototype,"changePosition",1),f([T],qe.prototype,"changeLockResolution",1),f([T],qe.prototype,"changeForceDimensions",1),f([T],qe.prototype,"setRotation",1),f([T],qe.prototype,"resetRotation",1),f([T],qe.prototype,"resetOutputRotation",1),f([T],qe.prototype,"resetFlip",1),f([T],qe.prototype,"updateFlip",1),f([T],qe.prototype,"setOutputRotation",1),f([T],qe.prototype,"flipHorizontally",1),f([T],qe.prototype,"flipVertically",1),f([k],qe.prototype,"flipCenter",1),f([k],qe.prototype,"isFlippedHorizontal",1),f([k],qe.prototype,"isFlippedVertical",1),f([k],qe.prototype,"identifier",1),f([k],qe.prototype,"height",1),f([k],qe.prototype,"width",1),f([k],qe.prototype,"position",1),f([k],qe.prototype,"ratio",1),f([k],qe.prototype,"size",1),f([k],qe.prototype,"x",1),f([k],qe.prototype,"y",1),f([k],qe.prototype,"lockResolution",1),f([k],qe.prototype,"forceDimensions",1),f([k],qe.prototype,"selectedCrop",1),f([k],qe.prototype,"rotationInDegrees",1),f([k],qe.prototype,"outputRotation",1);});var R2,PN=d(function(){Le();$();Im();R2=/*#__PURE__*/function(){function R2(e){var _this369=this;_classCallCheck(this,R2);this.transforms={output:JSON.stringify(_ft.IDENTITY),preview:JSON.stringify(_ft.IDENTITY)};this.setFrameOpacity=function(e){_this369.frameOpacity=e,_this369.entered&&_this369.editor.frameToolStore.identifier!=="identity"&&_this369.editor.frameToolStore.changeOpacity(0);};this.setOverlayOpacity=function(e){_this369.overlayOpacity=e,_this369.entered&&_this369.editor.overlayToolStore.identifier!=="identity"&&_this369.editor.overlayToolStore.changeOpacity(0);};this.editor=e,this.overlayOpacity=0,this.frameOpacity=0,this.entered=!1;}_createClass(R2,[{key:"onLeave",value:function onLeave(){var _this$transformToolSt=this.transformToolStore.rotateFlipState,e=_this$transformToolSt.flipHorizontally,t=_this$transformToolSt.flipVertically,i=_this$transformToolSt.rotation,o=_this$transformToolSt.outputRotation;this.entered=!1,this.editor.overlayToolStore.identifier!=="identity"&&this.editor.overlayToolStore.changeOpacity(this.overlayOpacity),this.editor.frameToolStore.identifier!=="identity"&&this.editor.frameToolStore.changeOpacity(this.frameOpacity),this.editor.engine.setWatermarkOpacity(1);var s=this.editor.previewToWorld(new B(this.transformToolStore.leftTopRespectFlip).add(new B(this.transformToolStore.rightBottomRespectFlip)).divide(2).add(new B(this.transformToolStore.unRotatedDefaults.cropMaskPosition)),!0),n=this.engineMediator.preview.container,a=this.editor.outputContainer;a.setResolution(fe(this.transformToolStore.localOutputImageSize)),a.setData({flipVertically:t,flipHorizontally:e});var l=n.getScale();this.editor.overlayToolStore.correctOverlayFlip(),this.saveTransforms();var c=1;if(this.transformToolStore.lockResolution){var _this$transformToolSt2=this.transformToolStore,g=_this$transformToolSt2.cropMaskSize,v=_this$transformToolSt2.defaultImageSize,S=this.transformToolStore.maxCropMaskSize;c={height:g.height*v.height/S.height,width:g.width*v.width/S.width}.width/this.transformToolStore.localOutputImageSize.width;}var u=Math.abs(l.x),p=c/(u/this.transformToolStore.defaultScale),m={x:p,y:p},h=-(i-o);a.setTransform({scale:m,position:s,rotation:h}),this.editor.engineMediator.preview.updateTransform(0,!1),this.editor.scale.setInitialTransform(),this.editor.spriteStore.updateCanvasControls(),this.editor.focusToolStore.updateCanvasControls();}},{key:"resetTransforms",value:function resetTransforms(e){this.transforms=e;}},{key:"onEnter",value:function onEnter(){this.entered=!0,this.editor.overlayToolStore.identifier!=="identity"&&(this.overlayOpacity=this.editor.overlayToolStore.opacity,this.editor.overlayToolStore.changeOpacity(0)),this.editor.frameToolStore.identifier!=="identity"&&(this.frameOpacity=this.editor.frameToolStore.opacity,this.editor.frameToolStore.changeOpacity(0)),this.editor.engine.setWatermarkOpacity(0),this.editor.scale.setScaleToDefault();var e=this.engineMediator.preview.container,t=this.editor.outputContainer,i=JSON.parse(this.transforms.preview);t.setResolution(fe(this.transformToolStore.defaultImageSize)),e.setTransform(i),t.setTransform(JSON.parse(this.transforms.output));var o=i.scale;t.setData({flipVertically:!1,flipHorizontally:!1}),this.transformToolStore.transformStore.updateFlip({flipVertically:o.y<0,flipHorizontally:o.x<0}),this.engineMediator.preview.savePreviewTransform(i);var _this$engineMediator$=this.engineMediator.preview.calculateTransform(),s=_this$engineMediator$.scale;this.editor.scale.setInitialTransform(s.x);}},{key:"rotateOutputContainer",value:function rotateOutputContainer(e){var _this370=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _this$editor$engineMe2=this.editor.engineMediator.image.container.getBounds(),i=_this$editor$engineMe2.width,o=_this$editor$engineMe2.height,s=VR(e)?{width:o,height:i}:{width:i,height:o};this.editor.outputContainer.rotate(e,s),this.transformToolStore.transformStore.setOutputRotation(this.editor.outputContainer.getRotation());var n=this.transformToolStore.rotateFlipState.rotation;this.engineMediator.preview.updateTransform(n),oi(function(){_this370.editor.scale.setInitialTransform();var a=_this370.getScaleWithFlip(n);_this370.engineMediator.preview.container.setScale(a),_this370.transformToolStore.setCropDefaults(!0),_this370.transformToolStore.updateCropMask();}),t&&this.editor.render();}},{key:"applyPreviewTransform",value:function applyPreviewTransform(){var _this$transformToolSt3=this.transformToolStore.rotateFlipState,e=_this$transformToolSt3.rotation,t=_this$transformToolSt3.flipHorizontally,i=_this$transformToolSt3.flipVertically,o=this.editor.scale.getPositionWithOffset(),s=this.getScaleWithFlip(),n=e;t&&(n=Em(n)),i&&(n=Em(n));var a={position:o,rotation:n,scale:s};this.engineMediator.preview.savePreviewTransform(a),this.engineMediator.preview.container.setTransform(a);}},{key:"getScaleWithFlip",value:function getScaleWithFlip(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.transformToolStore.rotateFlipState.rotation;var _this$transformToolSt4=this.transformToolStore.rotateFlipState,t=_this$transformToolSt4.flipHorizontally,i=_this$transformToolSt4.flipVertically,o=t?-1:1,s=i?-1:1,n=this.editor.scale.calculateScale(e);return{x:n*o,y:n*s};}},{key:"saveTransforms",value:function saveTransforms(){var e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:e,output:t};}},{key:"saveTransformsBasedOnFlip",value:function saveTransformsBasedOnFlip(){var e=this.engineMediator.preview.container.getTransform(),t=e.scale,_this$editor$outputCo6=this.editor.outputContainer.getData(),i=_this$editor$outputCo6.flipVertically,o=_this$editor$outputCo6.flipHorizontally,s=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:JSON.stringify(L(w({},e),{scale:{x:o?-t.x:t.x,y:i?-t.y:t.y}})),output:s};}},{key:"engineMediator",get:function get(){return this.editor.engineMediator;}},{key:"transformToolStore",get:function get(){return this.editor.transformToolStore;}}]);return R2;}();});var A2,BN=d(function(){$();A2=/*#__PURE__*/function(){function A2(e){_classCallCheck(this,A2);this.store=e;this.initialState={};this.state={};}_createClass(A2,[{key:"init",value:function init(){this.initialState=this.store.serializableState,this.state=w({},this.initialState);}},{key:"trackChanges",value:function trackChanges(){this.state=this.store.serializableState;}},{key:"isEqual",value:function isEqual(){return(0,fi["default"])(this.state,this.initialState);}},{key:"hasChanges",value:function hasChanges(){return!this.isEqual();}}]);return A2;}();});var MN,_Id,ce,P2=d(function(){Le();H();$();ls();en();AN();PN();BN();MN="identity",_Id=/*#__PURE__*/function(){function Id(e){var _this371=this;_classCallCheck(this,Id);this.unRotatedDefaults={cropMaskPosition:{x:0,y:0},scale:1};this.defaultAngle=0;this.dragMode=le.box(!1);this.minCropSize=0;this.transformHistory=new A2(this);this.defaults={cropMaskPosition:{x:0,y:0},maxCropMaskSize:{width:0,height:0},imageSize:{width:0,height:0},scale:1};this.localOutputSize={width:0,height:0};this.checkIfTransformThumbnailExits=function(e){if(!e.trim())return!1;var t=_this371.editor.configStore.config.assetBaseUrl,_t26=t,i=_t26.length;if(t[i-1]!=="/"&&(t+="/"),"".concat(t,"transform")===e)return!1;var o=new Image();try{return o.src=e,!0;}catch(s){return!1;}};this.reset=function(){_this371.transformStore.resetRotation(),_this371.transformStore.resetOutputRotation(),_this371.transformStore.resetFlip(),_this371.resetCrop(),_this371.editor.spriteStore.correctTextFlip(),_this371.editor.overlayToolStore.correctOverlayFlip(),_this371.setDefaultAngle(0),_this371.editor.outputContainer.getRotation()!==0&&_this371.engineMediator.output.applyNewImageTransform(),_this371.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),_this371.engineMediator.preview.updateTransform(),_this371.editor.scale.setInitialTransform(),_this371.setCropDefaults(),_this371.applyInitialCrop(),_this371.editor.render(),_this371.trackChanges();};this.changeLocalOutputSize=function(e){_this371.localOutputSize.height=Math.round(e.height),_this371.localOutputSize.width=Math.round(e.width),_this371.editor.configStore.events.onCropDimensionsChanged({width:Math.round(e.width),height:Math.round(e.height)});};this.changeDefaultScale=function(e){_this371.defaults.scale=e;};this.changeLocalOutputHeight=function(e){_this371.localOutputSize.height=Math.round(e);};this.changeLocalOutputWidth=function(e){_this371.localOutputSize.width=Math.round(e);};this.changeLockResolution=function(){_this371.transformStore.changeLockResolution(),_this371.trackChanges();};this.rotateClockwise=function(){var e=_this371.editor.outputContainer.getRotation(),t=_this371.isFlippedVertical?iS:rS;_this371.rotateOutputContainer(t(e));};this.rotateAntiClockwise=function(){var e=_this371.editor.outputContainer.getRotation(),t=_this371.isFlippedVertical?rS:iS;_this371.rotateOutputContainer(t(e));};this.flipHorizontally=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;_this371.transformStore.flipHorizontally(),_this371.editor.spriteStore.reverseTextHorizontally(_this371.transformStore.isFlippedHorizontal),_this371.transformRender(e),e&&_this371.trackChanges();};this.flipVertically=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;_this371.transformStore.flipVertically(),_this371.editor.spriteStore.reverseTextVertically(_this371.transformStore.isFlippedVertical),_this371.transformRender(e),e&&_this371.trackChanges();};this.applyDefaultCrop=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;if(_this371.identifier==="identity"){var _this371$getMatchingI=_this371.getMatchingItem(),_t27=_this371$getMatchingI.identifier;_this371.changeIdentifier(_t27,e);}};this.updateCropMask=function(){_this371.changeIdentifier(_this371.identifier,!0);};this.onLeftTop=function(_ref137){var e=_ref137.x,t=_ref137.y;var i=_this371.getRatio(),o=_this371.rightBottom,s=_this371.minCropMaskSize,n=_this371.maxCropMaskSize,a=Math.min(Math.max(0,e),o.x-s.width),l=Math.min(Math.max(0,t),o.y-s.height),c=o.x-a,u=o.y-l,p={width:Math.max(_this371.minCropSize,Math.min(c,n.width-a)),height:Math.max(_this371.minCropSize,Math.min(u,n.height-l))};if(i==="*")_this371.changePosition({x:a,y:l})&&_this371.changeCropAndOutputSize(p);else{var m=_this371.proportionalSize(i,p),h=new B(o).subtract({x:m.width,y:m.height});_this371.changePosition(h)&&_this371.changeCropAndOutputSize(m,i);}};this.onLeftBottom=function(_ref138){var e=_ref138.x,t=_ref138.y;var i=_this371.getRatio(),o=_this371.rightTop,s=_this371.minCropMaskSize,n=_this371.maxCropMaskSize,a=Math.min(Math.max(0,e),o.x-s.width),l=Math.max(0,t,o.y+s.height),c=o.x-a,u=l-o.y,p={width:Math.max(1,Math.min(c,n.width-a)),height:Math.max(1,Math.min(u,n.height-o.y))};if(i==="*")_this371.changePositionX(a)&&_this371.changeCropAndOutputSize(p);else{var m=_this371.proportionalSize(i,p);_this371.changePositionX(o.x-m.width)&&_this371.changeCropAndOutputSize(m,i);}};this.onRightTop=function(_ref139){var e=_ref139.x,t=_ref139.y;var i=_this371.getRatio(),o=_this371.leftBottom,s=_this371.minCropMaskSize,n=_this371.maxCropMaskSize,a=Math.max(0,e,o.x+s.width),l=Math.min(Math.max(0,t),o.y-s.height),c=a-o.x,u=o.y-l,p={width:Math.max(1,Math.min(c,n.width-o.x)),height:Math.max(1,Math.min(u,n.height-l))};if(i==="*")_this371.changePositionY(l)&&_this371.changeCropAndOutputSize(p);else{var m=_this371.proportionalSize(i,p);_this371.changePositionY(o.y-m.height)&&_this371.changeCropAndOutputSize(m,i);}};this.onRightBottom=function(_ref140){var e=_ref140.x,t=_ref140.y;var i=_this371.getRatio(),o=_this371.leftTop,s=_this371.minCropMaskSize,n=_this371.maxCropMaskSize,a=Math.max(0,e,o.x+s.width),l=Math.max(0,t,o.y+s.height),c=a-o.x,u=l-o.y,p={width:Math.max(1,Math.min(c,n.width-o.x)),height:Math.max(1,Math.min(u,n.height-o.y))};if(i==="*")_this371.changeCropAndOutputSize(p);else{var m=_this371.proportionalSize(i,p);_this371.changeCropAndOutputSize(m,i);}};this.onPixelWidth=function(e){var t=JSON.stringify(fe(_this371.localOutputSize)),i=_this371.entityManager.items.find(function(s){return s.identifier===_this371.identifier;}),o=_this371.defaults.imageSize;if(i&&i.ratio){var _s7=e,_n7=_this371.localOutputSize.height,a=i.ratio;if(a==="*"&&_this371.lockResolution&&(a=_this371.localOutputSize.width/_this371.localOutputSize.height),a==="*"&&!_this371.lockResolution)_s7=Math.max(Math.min(e,o.width),_this371.minCropSize),_this371.changeLocalOutputWidth(_s7),_this371.editor.configStore.events.onCropDimensionsChanged({width:Math.round(_s7),height:Math.round(_n7)});else{var l=_Id.placeCropMask(a,o);_s7=Math.max(Math.min(_s7,l.width),_this371.minCropSize),_n7=_s7/a,_this371.changeLocalOutputSize({height:_n7,width:_s7});}return _this371.lockResolution||_this371.updatePreviewSizeWRTImageSize(),_this371.checkAndAddSnapshot(JSON.parse(t)),Math.round(_s7);}return e;};this.onPixelHeight=function(e){var t=JSON.stringify(fe(_this371.localOutputSize)),i=_this371.entityManager.items.find(function(s){return s.identifier===_this371.identifier;}),o=_this371.defaults.imageSize;if(i&&i.ratio){var _s8=e,_n8=_this371.localOutputSize.width,a=i.ratio;if(a==="*"&&_this371.lockResolution&&(a=_this371.localOutputSize.width/_this371.localOutputSize.height),a==="*"&&!_this371.lockResolution)_s8=Math.max(Math.min(e,o.height),_this371.minCropSize),_this371.changeLocalOutputHeight(_s8),_this371.editor.configStore.events.onCropDimensionsChanged({width:Math.round(_n8),height:Math.round(_s8)});else{var l=_Id.placeCropMask(a,o);_s8=Math.max(Math.min(_s8,l.height),_this371.minCropSize),_n8=_s8*a,_this371.changeLocalOutputSize({height:_s8,width:_n8});}return _this371.lockResolution||_this371.updatePreviewSizeWRTImageSize(),_this371.checkAndAddSnapshot(JSON.parse(t)),Math.round(_s8);}return e;};this.setFrameOpacity=function(e){_this371.transformations.setFrameOpacity(e);};this.setOverlayOpacity=function(e){_this371.transformations.setOverlayOpacity(e);};this.closestRatioReducer=function(e){return function(t,i){return i===null||Math.abs(e-t.ratio)<Math.abs(e-i.ratio)?-1:1;};};this.closestDimensionsReducer=function(e){return function(t,i){if(i===null)return-1;var o=Math.abs(t.dimensions.x/t.dimensions.y),s=Math.abs(i.dimensions.x/i.dimensions.y);return o===s?t.dimensions.x*t.dimensions.y>i.dimensions.x*i.dimensions.y?-1:1:Math.abs(e-o)<Math.abs(e-s)?-1:1;};};this.getMatchingItem=function(){var e=_this371.entityManager.items.findIndex(function(l){return l.identifier==="imgly_transform_common_custom";});if(e!==-1)return _this371.entityManager.items[e];var t=_this371.entityManager.items.findIndex(function(l){return l.ratio==="*";});if(t!==-1)return _this371.entityManager.items[t];var i=fe(_this371.editor.outputContainer.getResolution()),o=Math.abs(i.width/i.height),_this371$entityManage=_this371.entityManager.items.filter(function(l){return l.ratio&&typeof l.ratio=="number";}).sort(_this371.closestRatioReducer(o)),_this371$entityManage2=_slicedToArray(_this371$entityManage,1),s=_this371$entityManage2[0],_this371$entityManage3=_this371.entityManager.items.filter(function(l){return l.dimensions&&!l.ratio;}).sort(_this371.closestDimensionsReducer(o)),_this371$entityManage4=_slicedToArray(_this371$entityManage3,1),n=_this371$entityManage4[0];if(!s||!n||!s.ratio&&!n.dimensions)return _this371.entityManager.items[0];if(!n||!n.dimensions)return s;if(!s||!s.ratio)return n;var a=Math.abs(n.dimensions.x/n.dimensions.y);return a===s.ratio||Math.abs(o-s.ratio)<Math.abs(o-a)?s:n;};this.getTransform=function(e){var t=_this371.entityManager.items.find(function(i){return i.identifier===e;});return t||(t=_this371.getMatchingItem()),t;};this.editor=e,this.selectedCategory=MN,this.transformStore=new qe(e,this.defaults),this.transformations=new R2(e);var n=this.config,t=n.enableRotation,i=n.enableFlip,o=pr(n,["enableRotation","enableFlip"]),s=this.editor.assetProvider.getAssets("transform");this.entityManager=new _ei(s,L(w({},o),{locale:w(w({},this.locale.items),this.locale.categories),getAssetPath:this.editor.getAssetPath("transform")})),this.rect=new Zt(this.editor,this.transformStore,"topLeft",!1,!1),this.rectForUi=new Zt(this.editor,this.transformStore,"topLeft",!1,!0),this.minCropSize=this.editor.configStore.measurements.crop.minSize;}_createClass(Id,[{key:"changeIdentifier",value:function changeIdentifier(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;this.transformStore.changeIdentifier(e);var i=this.getCropMask(e,this.defaults.imageSize);i&&(this.transformStore.changeRatio(i.ratio),this.changeLocalOutputSize(i),this.updatePreviewSizeWRTImageSize(),i.yChanged!==void 0&&this.updateInitialCropMaskPosition(i.yChanged),i.dimensions&&this.changeLocalOutputSize({width:i.dimensions.x,height:i.dimensions.y}),t&&this.trackChanges());}},{key:"setDragMode",value:function setDragMode(e){this.dragMode.set(e);}},{key:"getCropMask",value:function getCropMask(e,t){var i=this.getTransform(e);if(i){var o=i.ratio,s=i.forceDimensions,n=i.lockDimensions,_i$dimensions=i.dimensions,a=_i$dimensions===void 0?null:_i$dimensions;if(s&&this.transformStore.changeForceDimensions(s),n&&this.transformStore.changeLockResolution(n),o)switch(o){case"*":return this.changePosition({x:0,y:0}),L(w({},t),{yChanged:void 0,ratio:"*",dimensions:a});default:return L(w({},_Id.placeCropMask(i.ratio,t)),{ratio:i.ratio,dimensions:a});}else{var _i$dimensions2=i.dimensions,l=_i$dimensions2.x,c=_i$dimensions2.y;return L(w({},_Id.placeCropMask(l/c,t)),{ratio:null,dimensions:a});}}return null;}},{key:"setCropDefaults",value:function setCropDefaults(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var t=this.editor.outputContainer.getResolution();this.setDefaultImageSize(t);var i=this.editor.getPreviewSize(),o=this.editor.engineMediator.preview.previewTransformWithoutDpr.position;this.setMaxCropSize(i),this.setDefaultCropPosition({x:o.x-i.width/2,y:o.y-i.height/2}),this.changeDefaultScale(this.editor.scale.defaultScale),e||(this.unRotatedDefaults.cropMaskPosition=this.defaultCropMaskPosition,this.unRotatedDefaults.scale=this.defaultScale);}},{key:"setDefaultImageSize",value:function setDefaultImageSize(e){this.defaults.imageSize=w({},fe(e)),this.lockResolution||(this.localOutputSize=w({},fe(e)));}},{key:"setMaxCropSize",value:function setMaxCropSize(e){this.defaults.maxCropMaskSize.height=e.height,this.defaults.maxCropMaskSize.width=e.width;}},{key:"setDefaultCropPosition",value:function setDefaultCropPosition(e){this.defaults.cropMaskPosition.x=e.x,this.defaults.cropMaskPosition.y=e.y;}},{key:"resetCrop",value:function resetCrop(){this.state.cropState.clear(),this.transformStore.changeIdentifier("identity");}},{key:"toggleCategorySelection",value:function toggleCategorySelection(e){this.selectedCategory=this.selectedCategory===e?MN:e;}},{key:"pureReset",value:function pureReset(){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.editor.spriteStore.correctTextFlip(),this.editor.overlayToolStore.correctOverlayFlip(),this.setDefaultAngle(0),this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop();var e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transformations.resetTransforms({preview:e,output:t});}},{key:"changePosition",value:function changePosition(e){return this.transformStore.changePosition(e,this.defaults.maxCropMaskSize);}},{key:"changePositionX",value:function changePositionX(e){return this.transformStore.changePositionX(e,this.defaults.maxCropMaskSize.width);}},{key:"changePositionY",value:function changePositionY(e){return this.transformStore.changePositionY(e,this.defaults.maxCropMaskSize.height);}},{key:"changeCropAndOutputSize",value:function changeCropAndOutputSize(_ref141,i){var e=_ref141.width,t=_ref141.height;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;if(this.transformStore.changeWidth(e),this.transformStore.changeHeight(t),!this.lockResolution){var _this$defaults$maxCro2=this.defaults.maxCropMaskSize,s=_this$defaults$maxCro2.height,n=_this$defaults$maxCro2.width,_this$defaults$imageS=this.defaults.imageSize,a=_this$defaults$imageS.height,l=_this$defaults$imageS.width,c=a/s*t,u=l/n*e;i&&(c=u/i),o&&this.editor.configStore.events.onCropDimensionsChanged({width:Math.round(u),height:Math.round(c)}),t>=this.minCropSize&&this.changeLocalOutputHeight(c),e>=this.minCropSize&&this.changeLocalOutputWidth(u);}}},{key:"transformRender",value:function transformRender(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.transformations.applyPreviewTransform(),e&&this.editor.render();}},{key:"addSnapshot",value:function addSnapshot(){this.transformHistory.isEqual()||this.editor.addSnapshot(_defineProperty({},C.TRANSFORM,this.serializableState),Ee.EDIT,"Transform edit");}},{key:"trackChanges",value:function trackChanges(){this.transformHistory.trackChanges();}},{key:"serializableState",get:function get(){var _this$rotateFlipState=this.rotateFlipState,e=_this$rotateFlipState.flipHorizontally,t=_this$rotateFlipState.flipVertically,i=this.identifier,o=this.rotationInDegrees,s=lc(o),n=tS(Bb(this.editor.engineMediator.output.container.getRotation())+o),_this$convertUIToOper=this.convertUIToOperationOptions(s,n),a=_this$convertUIToOper.start,l=_this$convertUIToOper.end;return{flipHorizontally:e,flipVertically:t,rotation:s,start:a,end:l,identifier:i,outputRotation:n};}},{key:"getStartEndForOperation",value:function getStartEndForOperation(e){var t=this.leftTop,i=this.rightBottom,o=this.maxCropMaskSize,s=t.y,n=t.x,a=i.x,l=i.y;switch(e){case 270:return{leftTop:{x:o.height-l,y:n},rightBottom:{x:o.height-s,y:a}};case 180:return{leftTop:{x:o.width-a,y:o.height-l},rightBottom:{x:o.width-n,y:o.height-s}};case 90:return{leftTop:{x:s,y:o.width-a},rightBottom:{x:l,y:o.width-n}};default:return{leftTop:{x:n,y:s},rightBottom:{x:a,y:l}};}}},{key:"getStartEndForUI",value:function getStartEndForUI(e,t,i){var o=this.maxCropMaskSize,s=t.y,n=t.x,a=i.x,l=i.y;switch(e){case 90:return{leftTop:{x:o.width-l,y:n},rightBottom:{x:o.width-s,y:a}};case 180:return{leftTop:{x:o.width-a,y:o.height-l},rightBottom:{x:o.width-n,y:o.height-s}};case 270:return{leftTop:{x:s,y:o.height-a},rightBottom:{x:l,y:o.height-n}};default:return{leftTop:{x:n,y:s},rightBottom:{x:a,y:l}};}}},{key:"convertOperationOptionsToUI",value:function convertOperationOptionsToUI(_ref142){var e=_ref142.start,t=_ref142.end,i=_ref142.rotation,o=_ref142.outputRotation;var s=o===90||o===270,n=s?B.fromSize(this.defaultImageSize).swapped:B.fromSize(this.defaultImageSize),a=Math.cos(i),l=Math.sin(i),c=this.calculateScale(i),u=new B(Math.min(e.x,t.x),Math.min(e.y,t.y)),m=new B(Math.max(e.x,t.x),Math.max(e.y,t.y)).subtract(u).divide(2),g=u.add(m).multiply(n).subtract(n.multiply(.5)),v=new B(g.x*a-g.y*l,g.x*l+g.y*a).multiply(c),_=n.multiply(.5).add(v).divide(n),I=_.subtract(m.multiply(c)),E=_.add(m.multiply(c)),O=s?B.fromSize(this.maxCropMaskSize).swapped:B.fromSize(this.maxCropMaskSize),V=I.multiply(O),F=E.multiply(O),_this$getStartEndForU=this.getStartEndForUI(o,V,F),P=_this$getStartEndForU.leftTop,ae=_this$getStartEndForU.rightBottom;return{start:new B(P),end:new B(ae)};}},{key:"convertUIToOperationOptions",value:function convertUIToOperationOptions(e,t){var i=t===90||t===270,o=i?B.fromSize(this.defaultImageSize).swapped:B.fromSize(this.defaultImageSize),s=i?B.fromSize(this.maxCropMaskSize).swapped:B.fromSize(this.maxCropMaskSize),n=Math.cos(-e),a=Math.sin(-e),l=this.calculateScale(e,i),_this$getStartEndForO=this.getStartEndForOperation(t),c=_this$getStartEndForO.leftTop,u=_this$getStartEndForO.rightBottom,p=new B(c).divide(s),h=new B(u).divide(s).subtract(p).divide(2),v=p.add(h).multiply(o).subtract(o.multiply(.5)),S=new B(v.x*n-v.y*a,v.x*a+v.y*n).divide(l),I=o.multiply(.5).add(S).divide(o),E=I.subtract(h.divide(l)),O=I.add(h.divide(l));return{start:E,end:O};}},{key:"calculateScale",value:function calculateScale(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t?B.fromSize(this.defaultImageSize).swapped:B.fromSize(this.defaultImageSize),o=new B(Math.abs(i.x*Math.cos(e))+Math.abs(i.y*Math.sin(e)),Math.abs(i.x*Math.sin(e))+Math.abs(i.y*Math.cos(e))),s=i.subtract(o.clone()).divide(2).abs;return s.y>s.x?s.y*2/i.y+1:s.x*2/i.x+1;}},{key:"updateStateFromSerialization",value:function updateStateFromSerialization(e){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.setDefaultAngle(0),this.editor.outputContainer.getRotation()!==0&&this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop();var t=Math.round(Bb(e.rotation));if(this.transformStore.setRotation(t>180?t-360:t),this.transformations.rotateOutputContainer(lc(tS(e.outputRotation||yr.Top))),e.identifier&&this.transformStore.changeIdentifier(e.identifier),e.start&&e.end){(e.end.x===0||e.end.y===0)&&(e.end.x=1,e.end.y=1);var _this$convertOperatio=this.convertOperationOptionsToUI({start:new B(e.start),end:new B(e.end),rotation:e.rotation,outputRotation:e.outputRotation}),i=_this$convertOperatio.start,o=_this$convertOperatio.end;this.changePositionX(i.x),this.changePositionY(i.y);var s=o.x-i.x,n=o.y-i.y;this.transformStore.changeSize({width:s,height:n});var _this$defaults=this.defaults,a=_this$defaults.maxCropMaskSize,l=_this$defaults.imageSize,c={height:n*l.height/a.height,width:s*l.width/a.width};this.changeLocalOutputSize(c);}e.flipHorizontally&&this.flipHorizontally(!1),e.flipVertically&&this.flipVertically(!1),this.editor.overlayToolStore.correctOverlayFlip();}},{key:"setDefaultAngle",value:function setDefaultAngle(e){this.defaultAngle=e;}},{key:"updateCanvasControls",value:function updateCanvasControls(e){var t=fe(this.cropMaskPosition),i=fe(this.cropMaskSize),o=fe(this.defaults.maxCropMaskSize);this.changeCropAndOutputSize({height:o.height*i.height/e.height,width:o.width*i.width/e.width},void 0,!1),this.changePosition({y:o.height*t.y/e.height,x:o.width*t.x/e.width});}},{key:"onLeave",value:function onLeave(){this.transformations.onLeave();}},{key:"onEnter",value:function onEnter(){this.transformations.onEnter(),this.transformHistory.init();}},{key:"saveTransforms",value:function saveTransforms(){this.transformations.saveTransforms();}},{key:"saveTransformsBasedOnFlip",value:function saveTransformsBasedOnFlip(){this.transformations.saveTransformsBasedOnFlip();}},{key:"setRotation",value:function setRotation(e){this.transformStore.setRotation(e),this.transformRender();}},{key:"rotateOutputContainer",value:function rotateOutputContainer(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return ie(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee67(){return regeneratorRuntime.wrap(function _callee67$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:this.setDragMode(!0);this.transformations.rotateOutputContainer(e,t);_context68.next=4;return this.editor.wait();case 4:this.setDragMode(!1);case 5:case"end":return _context68.stop();}}},_callee67,this);}));}},{key:"applyInitialCrop",value:function applyInitialCrop(){var _this$getMatchingItem=this.getMatchingItem(),e=_this$getMatchingItem.identifier;this.changeIdentifier(e,!1);}},{key:"clickableCanvas",value:function clickableCanvas(e){this.editor.clickableCanvas(e);}},{key:"proportionalSize",value:function proportionalSize(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.defaults.maxCropMaskSize;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.minCropSize;var s=t.height*e,n=t.height;return(s>i.width||s<o||n<o)&&(s=t.width,n=t.width/e),{width:Math.round(s),height:Math.round(n)};}},{key:"checkAndAddSnapshot",value:function checkAndAddSnapshot(e){var t=fe(this.localOutputSize);(e.width!==t.width||e.height!==t.height)&&this.trackChanges();}},{key:"updateInitialCropMaskPosition",value:function updateInitialCropMaskPosition(e){var t=this.cropMaskSize,i=this.defaults.maxCropMaskSize;e?this.changePosition({x:0,y:Math.abs(i.height-t.height)/2}):this.changePosition({x:Math.abs(i.width-t.width)/2,y:0});}},{key:"updatePreviewSizeWRTImageSize",value:function updatePreviewSizeWRTImageSize(){var e=fe(this.localOutputSize),t=fe(this.defaults.imageSize),i=fe(this.defaults.maxCropMaskSize),o={height:i.height*e.height/t.height,width:i.width*e.width/t.width};this.transformStore.changeSize(o);}},{key:"getScaleWithFlip",value:function getScaleWithFlip(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.rotateFlipState.rotation;return this.transformations.getScaleWithFlip(e);}},{key:"cropState",get:function get(){return this.transformStore.selectedCrop;}},{key:"identifier",get:function get(){return this.transformStore.identifier;}},{key:"ratio",get:function get(){return this.transformStore.ratio;}},{key:"height",get:function get(){return this.transformStore.height;}},{key:"width",get:function get(){return this.transformStore.width;}},{key:"localOutputImageSize",get:function get(){return this.localOutputSize;}},{key:"localOutputHeight",get:function get(){return this.localOutputSize.height;}},{key:"localOutputWidth",get:function get(){return this.localOutputSize.width;}},{key:"lockResolution",get:function get(){return this.transformStore.lockResolution;}},{key:"forceDimensions",get:function get(){return this.transformStore.forceDimensions;}},{key:"rotationInDegrees",get:function get(){return this.transformStore.rotationInDegrees;}},{key:"outputRotation",get:function get(){return this.transformStore.outputRotation;}},{key:"isDragMode",get:function get(){return this.dragMode.get();}},{key:"rotateFlipState",get:function get(){var _this$transformStore$=this.transformStore.state,e=_this$transformStore$.flipHorizontally,t=_this$transformStore$.flipVertically,i=_this$transformStore$.rotationInDegrees,o=_this$transformStore$.outputRotation;return{flipHorizontally:e,flipVertically:t,rotation:_Id.inRadians(i),outputRotation:o};}},{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"categories",get:function get(){return this.entityManager.categories;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"config",get:function get(){return this.editor.configStore.config[C.TRANSFORM];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.TRANSFORM];}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"leftTop",get:function get(){return this.rect.leftTop;}},{key:"leftBottom",get:function get(){return this.rect.leftBottom;}},{key:"rightTop",get:function get(){return this.rect.rightTop;}},{key:"rightBottom",get:function get(){return this.rect.rightBottom;}},{key:"isFlippedHorizontal",get:function get(){return this.transformStore.isFlippedHorizontal;}},{key:"isFlippedVertical",get:function get(){return this.transformStore.isFlippedVertical;}},{key:"leftTopRespectFlip",get:function get(){return this.rectForUi.leftTop;}},{key:"leftBottomRespectFlip",get:function get(){return this.rectForUi.leftBottom;}},{key:"rightTopRespectFlip",get:function get(){return this.rectForUi.rightTop;}},{key:"rightBottomRespectFlip",get:function get(){return this.rectForUi.rightBottom;}},{key:"cropMaskPosition",get:function get(){return this.transformStore.position;}},{key:"cropMaskSize",get:function get(){return this.transformStore.size;}},{key:"state",get:function get(){return this.transformStore.state;}},{key:"defaultImageSize",get:function get(){return this.defaults.imageSize;}},{key:"maxCropMaskSize",get:function get(){return this.defaults.maxCropMaskSize;}},{key:"minCropMaskSize",get:function get(){var e=this.getRatio();return e==="*"||e===1?{width:this.minCropSize,height:this.minCropSize}:e>1?{width:this.minCropSize*e,height:this.minCropSize}:{width:this.minCropSize,height:this.minCropSize*e};}},{key:"defaultCropMaskPosition",get:function get(){return this.defaults.cropMaskPosition;}},{key:"defaultScale",get:function get(){return this.defaults.scale;}},{key:"engineMediator",get:function get(){return this.editor.engineMediator;}},{key:"getRatio",value:function getRatio(){var e=this.getTransform(this.identifier);if(e){if(Object.prototype.hasOwnProperty.call(e,"ratio"))return this.lockResolution?this.localOutputWidth/this.localOutputHeight:e.ratio;var _e$dimensions=e.dimensions,t=_e$dimensions.x,i=_e$dimensions.y;return t/i;}return"*";}}],[{key:"inRadians",value:function inRadians(e){return e*Math.PI/180;}},{key:"placeCropMask",value:function placeCropMask(e,t){if(t.height*e>t.width)return{height:t.width/e,width:t.width,yChanged:!0};var i=t.height*e;return{height:t.height,width:i,yChanged:!1};}}]);return Id;}(),ce=_Id;f([le],ce.prototype,"selectedCategory",2),f([le],ce.prototype,"defaults",2),f([le],ce.prototype,"localOutputSize",2),f([T],ce.prototype,"changeIdentifier",1),f([T],ce.prototype,"setDragMode",1),f([T],ce.prototype,"setCropDefaults",1),f([T],ce.prototype,"setDefaultImageSize",1),f([T],ce.prototype,"setMaxCropSize",1),f([T],ce.prototype,"setDefaultCropPosition",1),f([T],ce.prototype,"resetCrop",1),f([T],ce.prototype,"toggleCategorySelection",1),f([T],ce.prototype,"pureReset",1),f([T],ce.prototype,"reset",2),f([T],ce.prototype,"changePosition",1),f([T],ce.prototype,"changePositionX",1),f([T],ce.prototype,"changePositionY",1),f([T],ce.prototype,"changeCropAndOutputSize",1),f([T],ce.prototype,"onLeave",1),f([T],ce.prototype,"onEnter",1),f([T],ce.prototype,"changeLocalOutputSize",2),f([T],ce.prototype,"changeDefaultScale",2),f([T],ce.prototype,"changeLocalOutputHeight",2),f([T],ce.prototype,"changeLocalOutputWidth",2),f([T],ce.prototype,"changeLockResolution",2),f([T],ce.prototype,"setRotation",1),f([T],ce.prototype,"rotateClockwise",2),f([T],ce.prototype,"rotateAntiClockwise",2),f([T],ce.prototype,"rotateOutputContainer",1),f([T],ce.prototype,"flipHorizontally",2),f([T],ce.prototype,"flipVertically",2),f([T],ce.prototype,"applyDefaultCrop",2),f([T],ce.prototype,"applyInitialCrop",1),f([T],ce.prototype,"updateCropMask",2),f([T],ce.prototype,"clickableCanvas",1),f([T],ce.prototype,"onLeftTop",2),f([T],ce.prototype,"onLeftBottom",2),f([T],ce.prototype,"onRightTop",2),f([T],ce.prototype,"onRightBottom",2),f([T],ce.prototype,"proportionalSize",1),f([T],ce.prototype,"onPixelWidth",2),f([T],ce.prototype,"onPixelHeight",2),f([T],ce.prototype,"updateInitialCropMaskPosition",1),f([T],ce.prototype,"updatePreviewSizeWRTImageSize",1),f([k],ce.prototype,"cropState",1),f([k],ce.prototype,"identifier",1),f([k],ce.prototype,"ratio",1),f([k],ce.prototype,"height",1),f([k],ce.prototype,"width",1),f([k],ce.prototype,"localOutputImageSize",1),f([k],ce.prototype,"localOutputHeight",1),f([k],ce.prototype,"localOutputWidth",1),f([k],ce.prototype,"lockResolution",1),f([k],ce.prototype,"forceDimensions",1),f([k],ce.prototype,"rotationInDegrees",1),f([k],ce.prototype,"outputRotation",1),f([k],ce.prototype,"isDragMode",1),f([k],ce.prototype,"rotateFlipState",1),f([k],ce.prototype,"selectedCategoryIdentifier",1),f([k],ce.prototype,"categories",1),f([k],ce.prototype,"items",1),f([k],ce.prototype,"config",1),f([k],ce.prototype,"locale",1),f([k],ce.prototype,"isOptionSelected",1),f([k],ce.prototype,"leftTop",1),f([k],ce.prototype,"leftBottom",1),f([k],ce.prototype,"rightTop",1),f([k],ce.prototype,"rightBottom",1),f([k],ce.prototype,"isFlippedHorizontal",1),f([k],ce.prototype,"isFlippedVertical",1),f([k],ce.prototype,"leftTopRespectFlip",1),f([k],ce.prototype,"leftBottomRespectFlip",1),f([k],ce.prototype,"rightTopRespectFlip",1),f([k],ce.prototype,"rightBottomRespectFlip",1),f([k],ce.prototype,"cropMaskPosition",1),f([k],ce.prototype,"cropMaskSize",1),f([k],ce.prototype,"state",1),f([k],ce.prototype,"defaultImageSize",1),f([k],ce.prototype,"maxCropMaskSize",1),f([k],ce.prototype,"minCropMaskSize",1),f([k],ce.prototype,"defaultCropMaskPosition",1),f([k],ce.prototype,"defaultScale",1);});var St,tn=d(function(){Le();H();fa();$();fv();gv();hv();M2();Rm();bv();_v();_N();NT();WT();L2();c2();d2();m2();SN();TN();DN();eo();f2();g2();F2();P2();St=/*#__PURE__*/function(){function St(e){var _this372=this;_classCallCheck(this,St);this.checkImageResize=function(){_this372.engine.on(pa.BEGAN_IMAGE_DOWNSCALING,function(){_this372.modalStore.showInfoModal("resizing");}),_this372.engine.on(pa.IMAGE_DOWNSCALED,function(_ref143){var e=_ref143.width,t=_ref143.height;var i=_this372.configStore.config.engine.downscaleOptions.maxMegaPixels,o=Ob.isMobile()?i.mobile:i.desktop;_this372.modalStore.hideModal(),_this372.modalStore.showActionModal({type:ct.WARNING,identifier:"imageResized",handleConfirm:function handleConfirm(){_this372.modalStore.hideModal();},error:{megapixels:"".concat(o),width:"".concat(e),height:"".concat(t)}});});};this.init=function(e){_this372.historyStore.isDirty()?_this372.modalStore.showActionModal({type:ct.WARNING,identifier:"discardChanges",handleConfirm:function handleConfirm(){_this372.setImage(e),_this372.resetToolStates();},handleDismiss:function handleDismiss(){_this372.setImage(e,!0);}}):(_this372.historyStore.reset(),_this372.setImage(e,!0).then(function(){var _this372$configStore$=_this372.configStore.config,i=_this372$configStore$.engine,o=_this372$configStore$.displayCanvasRendererWarning;i.preferredRenderer==="canvas"&&o&&_this372.modalStore.showActionModal({type:ct.WARNING,identifier:"unsupportedWebGLRenderer",handleConfirm:function handleConfirm(){_this372.modalStore.hideModal();}});})),_this372.libraryStore.fetchImages();};this.setImage=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return ie(_this372,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee68(){var _this$transformToolSt5,i,o,s;return regeneratorRuntime.wrap(function _callee68$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:_context69.prev=0;this.activeStore.setImageLoadedToEngine(!1);this.modalStore.showInfoModal(this.configStore.config.displayResizeWarning?"resizing":"loading");this.scale.defaultScale=1;this.scale.resetOffset();_context69.next=7;return this.activeStore.setImage(e);case 7:_context69.next=9;return this.engineMediator.image.addImageToContainer();case 9:this.canvasStore.resizeCanvas();this.engineMediator.output.applyNewImageTransform();this.engineMediator.preview.updateTransform();this.scale.setInitialTransform();this.transformToolStore.setCropDefaults();_this$transformToolSt5=this.transformToolStore.rotateFlipState,i=_this$transformToolSt5.flipHorizontally,o=_this$transformToolSt5.flipVertically,s=_this$transformToolSt5.outputRotation;this.outputContainer.setData({flipVertically:o,flipHorizontally:i});_context69.next=18;return this.transformToolStore.rotateOutputContainer(Pp(s),!1);case 18:t?(this.focusToolStore.updateCanvasControls(),this.spriteStore.updateCanvasControls(),this.transformToolStore.resetCrop(),this.transformToolStore.applyDefaultCrop(),this.transformToolStore.saveTransforms(),this.transformToolStore.onEnter(),this.transformToolStore.setRotation(this.transformToolStore.rotationInDegrees),this.transformToolStore.onLeave(),this.transformToolStore.onEnter(),this.transformToolStore.onLeave()):this.transformToolStore.saveTransforms();this.snappingStore.calculatePreviewTopLeftPosition();this.historyStore.addInitialSnapshot();_context69.next=23;return this.renderPromise();case 23:this.configStore.config.filter.enablePreviewThumbnails&&this.configStore.config.engine.preferredRenderer==="webgl"&&this.filterToolStore.setImageAndGetPreviews();this.activeStore.tool?this.configStore.events.onImageLoaded():this.onReady();this.modalStore.identifier!=="imageResized"&&this.modalStore.hideModal();this.activeStore.setImageLoadedToEngine(!0);this.resize();_context69.next=33;break;case 30:_context69.prev=30;_context69.t0=_context69["catch"](0);this.configStore.events.onErrorImageLoading(_context69.t0),this.modalStore.hideModal(),this.modalStore.showActionModal({type:ct.ERROR,identifier:_context69.t0.identifier?_context69.t0.identifier:"rendering",error:_context69.t0,handleConfirm:function handleConfirm(){window.location.reload();}});case 33:case"end":return _context69.stop();}}},_callee68,this,[[0,30]]);}));};this.onToolChange=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;e!==t&&_this372.engineMediator.preview.container&&([e,t].indexOf(C.TRANSFORM)!==-1?(e===C.TRANSFORM?(_this372.transformToolStore.onLeave(),_this372.transformToolStore.addSnapshot(),_this372.snappingStore.calculatePreviewTopLeftPosition()):t===C.TRANSFORM&&_this372.transformToolStore.onEnter(),_this372.resize(t)):(_this372.scale.resetOffset(),_this372.scale.resetPosition(),_this372.scale.setScaleToDefault(),_this372.scale.scaleRender(!0)),i&&_this372.render());};this.resize=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;try{var _t28=_this372.activeStore.tool,i=e===C.TRANSFORM||!e&&_t28===C.TRANSFORM;_this372.canvasStore.resizeCanvas(e),_this372.transformToolStore.applyDefaultCrop();var o=fe(_this372.transformToolStore.maxCropMaskSize);i||_this372.transformToolStore.onEnter();var s=_this372.engineMediator.preview.container.getRotation();if(_this372.engineMediator.preview.updateTransform(s)){_this372.scale.setInitialTransform(),_this372.transformToolStore.setCropDefaults(),_this372.transformToolStore.updateCanvasControls(o),_this372.focusToolStore.updateCanvasControls(),_this372.spriteStore.updateCanvasControls();var a=_this372.transformToolStore.getScaleWithFlip(s);_this372.engineMediator.preview.container.setScale(a),i||(_this372.transformToolStore.onLeave(),_this372.transformToolStore.onEnter(),_this372.transformToolStore.onLeave()),_this372.snappingStore.calculatePreviewTopLeftPosition(),_this372.render();}}catch(t){_this372.configStore.events.onErrorImageLoading(t),_this372.modalStore.showActionModal({type:ct.ERROR,identifier:"rendering",handleConfirm:function handleConfirm(){window.location.reload();}});}};this["export"]=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var o=i,e=o.preventExportEvent,t=pr(o,["preventExportEvent"]);return new Promise(function(s,n){_this372.modalStore.showInfoModal("exporting");var a=_this372.activeStore.tool===C.TRANSFORM;a&&_this372.transformToolStore.onLeave();var l=_this372.configStore.config,c=w(w({},l["export"].image),t),u=c.exportType,p=c.format,m=c.quality,h=c.enableDownload;_this372.engineMediator.engine["export"](u,p,m).then(function(g){h&&_this372.triggerFileDownload(l["export"].filename,p,u,g),e||_this372.configStore.events.onExport(g),_this372.historyStore.isDirtySinceSave=!1,s(g);})["catch"](function(g){n(g);})["finally"](function(){a&&(_this372.transformToolStore.onEnter(),_this372.render()),_this372.modalStore.hideModal();});});};this.serialize=function(){var _ref144=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{image:!0},e=_ref144.image;return _this372.serializationMediator.serialize({image:e});};this.deserialize=function(e){return _this372.serializationMediator.deserialize(e);};this.close=function(){_this372.historyStore.isDirtySinceSave&&_this372.configStore.config.displayCloseWarning?_this372.modalStore.showActionModal({type:ct.WARNING,identifier:"unsavedChanges",handleConfirm:function handleConfirm(){_this372.configStore.events.onClose();}}):_this372.configStore.events.onClose();};this.hasChanges=function(){return _this372.historyStore.isDirtySinceSave;};this.getImageDimensions=function(){var _this372$engine$getOu=_this372.engine.getOutputDimensions(),e=_this372$engine$getOu.width,t=_this372$engine$getOu.height;return{width:e,height:t};};this.wait=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e);});};this.clickableCanvas=function(e){return ie(_this372,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee69(){return regeneratorRuntime.wrap(function _callee69$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:if(!e){_context70.next=6;break;}_context70.next=3;return new Promise(function(t){return setTimeout(t,0);});case 3:this.canvasStore.enableCanvasClick();_context70.next=7;break;case 6:this.canvasStore.disableCanvasClick();case 7:case"end":return _context70.stop();}}},_callee69,this);}));};this.onReady=function(){return ie(_this372,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee70(){var e,_t29,i,o;return regeneratorRuntime.wrap(function _callee70$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:e=this.configStore.config.forceCrop;if(this.activeStore.selectTool(this.configStore.defaultTool),e){_t29=this.transformToolStore.localOutputImageSize,i=_t29.width/_t29.height,o=this.transformToolStore.entityManager.items.map(function(s){return s.ratio?s.ratio:s.dimensions.x/s.dimensions.y;});o.indexOf("*")!==-1?console.error('ForceCrop will not work if "*" is one of the ratios'):o.indexOf(parseFloat(i.toFixed(2)))===-1&&this.activeStore.selectTool(C.TRANSFORM);}this.configStore.events.onEditorReady();case 3:case"end":return _context71.stop();}}},_callee70,this);}));};this.addSnapshot=function(e,t,i){_this372.historyStore.addSnapshot(e,t,i);};this.resetToolStates=function(){_this372.transformToolStore.pureReset(),_this372.filterToolStore.pureReset(),_this372.focusToolStore.pureReset(),_this372.adjustmentsToolStore.pureReset(),_this372.overlayToolStore.pureReset(),_this372.frameToolStore.pureReset(),_this372.brushToolStore.pureReset(),_this372.spriteStore.pureReset(),_this372.historyStore.reset(),_this372.render();};this.getAssetPath=function(e){return _this372.assetProvider.getPathForCategory(e);};this.render=function(){return ie(_this372,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee71(){return regeneratorRuntime.wrap(function _callee71$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:_context72.next=2;return this.renderPromise();case 2:case"end":return _context72.stop();}}},_callee71,this);}));};this.applyFlipToPreview=function(e){return _this372.engineMediator.previewSpaceToFlippedPreviewSpace(e);};this.getPreviewSize=function(){var _this372$engine$getOu2=_this372.engine.getOutputDimensions(),e=_this372$engine$getOu2.width,t=_this372$engine$getOu2.height;return e&&t?{width:Math.round(_this372.worldToPreview(_this372.outputToWorld(e))),height:Math.round(_this372.worldToPreview(_this372.outputToWorld(t)))}:{height:t,width:e};};this.getImageMimeType=function(){return kN(_this372.activeStore.image);};this.triggerFileDownload=function(e,t,i,o){var s=t===li.JPEG&&i!==Oi.MSBLOB?".jpeg":".png",n=e+s,a=_this372.blobFromExportData(o);_this372.triggerBlobDownload(n,a);};this.triggerBlobDownload=function(e,t){if(navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{var i=document.createElement("a"),o=URL.createObjectURL(t);i.href=o,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),uF()||URL.revokeObjectURL(o);}};this.blobFromExportData=function(e){return typeof e=="string"?p2(e):e instanceof HTMLImageElement?p2(e.src):e;};this.configStore=new io();var t=this.configStore.saveConfig(e);if(this.engineMediator=new B2(this),this.serializationMediator=new _mf(this),this.spriteStore=new me(this),this.scale=new di(this),this.filterToolStore=new ti(this),this.adjustmentsToolStore=new dt(this),this.focusToolStore=new $e(this),this.overlayToolStore=new ui(this),this.frameToolStore=new Kt(this),this.brushToolStore=new Nt(this),this.transformToolStore=new ce(this),this.libraryStore=new oo(this),this.modalStore=new Po(this),this.snappingStore=new on(this),this.activeStore=new ro(this),this.canvasStore=new lr(this),this.historyStore=new kd(this),this.modalStore.showInfoModal("loading"),this.libraryStore.initProvider(t),this.configStore.config.displayResizeWarning&&this.checkImageResize(),this.configStore.config.filter.enablePreviewThumbnails&&this.configStore.config.engine.preferredRenderer==="webgl"){var i=this.configStore.config.engine;this.previewThumbnails=new _hf(L(w({},i),{license:this.configStore.config.license,assetProvider:this.configStore.assetProvider}));}this.engine.pesdk.on(pa.WEBGL_CONTEXT_LOST,function(){_this372.configStore.events.onErrorWebGLContextLost();});}_createClass(St,[{key:"shortestOutputSide",get:function get(){var e=this.outputContainer.getBounds();return Math.min(e.width,e.height);}},{key:"assetProvider",get:function get(){return this.configStore.assetProvider;}},{key:"engine",get:function get(){return this.engineMediator.engine;}},{key:"imageContainer",get:function get(){return this.engineMediator.image.container;}},{key:"orderHelper",get:function get(){return this.engineMediator.orderHelper;}},{key:"renderPromise",value:function renderPromise(){return this.engineMediator.render(this.engineMediator.preview.container);}},{key:"previewToWorld",value:function previewToWorld(e,t){return _o(e)?this.engineMediator.previewSpaceToWorldSpace(e,t):this.engineMediator.previewSpaceToWorldSpace(e,t);}},{key:"worldToPreview",value:function worldToPreview(e){return _o(e)?this.engineMediator.worldSpaceToPreviewSpace(e):this.engineMediator.worldSpaceToPreviewSpace(e);}},{key:"worldSizeToPreview",value:function worldSizeToPreview(e){return{width:this.engineMediator.worldSpaceToPreviewSpace(e.width),height:this.engineMediator.worldSpaceToPreviewSpace(e.height)};}},{key:"previewSizeToWorld",value:function previewSizeToWorld(e,t){return{width:this.engineMediator.previewSpaceToWorldSpace(e.width,t),height:this.engineMediator.previewSpaceToWorldSpace(e.height,t)};}},{key:"outputToWorld",value:function outputToWorld(e){return _o(e)?this.engineMediator.outputSpaceToWorldSpace(e):this.engineMediator.outputSpaceToWorldSpace(e);}},{key:"previewToOutput",value:function previewToOutput(e){return _o(e)?this.engineMediator.previewSpaceToOutputSpace(e):this.engineMediator.previewSpaceToOutputSpace(e);}},{key:"outputContainer",get:function get(){return this.engineMediator.output.container;}}],[{key:"defaultColors",get:function get(){return Object.keys(Or).map(function(e){var t=Or[e];return{identifier:e,color:t,colorString:ga(t)};});}},{key:"defaultBackgroundColors",get:function get(){return Object.keys(zT).map(function(e){var t=zT[e];return{identifier:e,color:t,colorString:ga(t)};});}},{key:"devicePixelRatio",get:function get(){return Math.max(window.devicePixelRatio||1,1);}}]);return St;}();f([T],St.prototype,"resize",2),f([T],St.prototype,"export",2),f([T],St.prototype,"clickableCanvas",2);});function bf(r,e){var t=r.width/r.height,i=e.width/e.height;return t>i?r.height/e.height:r.width/e.width;}var LN=d(function(){});var Hae,xa,z2=d(function(){Le();$();tn();LN();Hae={transform:_ft.IDENTITY},xa=/*#__PURE__*/function(){function xa(e){_classCallCheck(this,xa);this.initialTransform=_ft.IDENTITY;this.editor=e,this.state=le(Hae);}_createClass(xa,[{key:"createPreview",value:function createPreview(e){this.container=this.editor.engine.createPreview(e);}},{key:"updateTransform",value:function updateTransform(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=this.calculateTransform(e);return i.scale.x?(t?this.saveInitialTransform(i):this.savePreviewTransform(i),this.container.setTransform(this.state.transform),!0):!1;}},{key:"saveInitialTransform",value:function saveInitialTransform(e){this.initialTransform=e,this.savePreviewTransform(e);}},{key:"savePreviewTransform",value:function savePreviewTransform(e){var _this373=this;oi(function(){_this373.state.transform.position=e.position,_this373.state.transform.scale=e.scale,_this373.state.transform.rotation=e.rotation;var t=St.devicePixelRatio,i=new B(e.scale).divide(t);_this373.previewTransformWithoutDpr={position:new B(e.position).divide(t),scale:i,rotation:e.rotation};});}},{key:"transform",get:function get(){return this.state.transform;}},{key:"position",get:function get(){return this.state.transform.position;}},{key:"scale",get:function get(){return this.state.transform.scale;}},{key:"rotation",get:function get(){return this.state.transform.rotation;}},{key:"calculateTransform",value:function calculateTransform(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=St.devicePixelRatio,i=this.editor.configStore.config.scaleImageToFit,_this$editor$canvasSt2=this.editor.canvasStore.canvasSize,o=_this$editor$canvasSt2.width,s=_this$editor$canvasSt2.height,n=this.editor.engine.getOutputDimensions(),a=bf({width:o,height:s},n),l=i?a:Math.min(1,a),c=s-n.height*l,u=this.editor.configStore.measurements.mainCanvasActionBar.height*2;c<u&&(l=bf({width:o,height:s-u},n));var p=.95;n.height*l>s*p&&(l=bf({width:o,height:s*p},n)),n.width*l>o*p&&(l=bf({width:o*p,height:s},n)),l*=t;var m={x:o*t/2,y:s*t/2},h={x:l,y:l};return new _ft(m,h,e);}}]);return xa;}();f([T],xa.prototype,"updateTransform",1),f([T],xa.prototype,"savePreviewTransform",1),f([k],xa.prototype,"transform",1),f([k],xa.prototype,"position",1),f([k],xa.prototype,"scale",1),f([k],xa.prototype,"rotation",1);});var _Wl,Cv,U2=d(function(){var _Cv$IMAGE_CONTAINER_I;H();_Wl=/*#__PURE__*/function(){function Wl(){_classCallCheck(this,Wl);this.imageContainerOrder=[];this.spriteContainerOrder=[];}_createClass(Wl,[{key:"addIndex",value:function addIndex(e){_Wl.checkTool(e);var _Wl$indexForOrder=_Wl.indexForOrder(_Wl.IMAGE_CONTAINER_INDEX,this.imageContainerOrder,e),t=_Wl$indexForOrder.index,i=_Wl$indexForOrder.order;return this.imageContainerOrder=i,t;}},{key:"removeIndex",value:function removeIndex(e){_Wl.checkTool(e),_Wl.remove(e,this.imageContainerOrder);}},{key:"addSprite",value:function addSprite(e){return this.spriteContainerOrder.push(e),this.imageContainerOrder.length+this.spriteContainerOrder.length-1;}},{key:"removeSprite",value:function removeSprite(e){_Wl.remove(e,this.spriteContainerOrder);}},{key:"renameSprite",value:function renameSprite(e,t){var i=this.spriteContainerOrder.findIndex(function(o){return o===e;});i!==-1&&(this.spriteContainerOrder[i]=t);}},{key:"bringToFront",value:function bringToFront(e){var t=this.spriteContainerOrder.findIndex(function(i){return i===e;});return t!==-1&&(this.spriteContainerOrder.splice(t,1),this.spriteContainerOrder.push(e)),this.getLastSpriteIndex();}},{key:"getLastSpriteId",value:function getLastSpriteId(){var e=this.spriteContainerOrder.length;return this.spriteContainerOrder[e-1];}},{key:"getSpriteIndex",value:function getSpriteIndex(e){return this.spriteContainerOrder.findIndex(function(i){return i===e;})+this.imageContainerOrder.length-1;}},{key:"getLastSpriteIndex",value:function getLastSpriteIndex(){return this.imageContainerOrder.length+this.spriteContainerOrder.length-1;}}],[{key:"checkTool",value:function checkTool(e){if([C.STICKER,C.TEXT,C.TEXT_DESIGN,C.BRUSH,C.FRAME].indexOf(e)!==-1)throw new Error("addIndex is used for non sprites, for sprites use addSprite");}},{key:"remove",value:function remove(e,t){var i=t.findIndex(function(o){return o===e;});i!==-1&&t.splice(i,1);}},{key:"indexForOrder",value:function indexForOrder(e,t,i){var o=e[i],s=t.findIndex(function(a){return a===i;});if(s!==-1)return{index:s,order:t};var _t30=t,n=_t30.length;if(n){var a;for(a=0;a<n;a+=1){var l=t[a],c=e[l];if(o<c)return t=[].concat(_toConsumableArray(t.slice(0,a)),[i],_toConsumableArray(t.slice(a))),{index:a,order:t};}}return t.push(i),{index:t.length-1,order:t};}}]);return Wl;}(),Cv=_Wl;Cv.IMAGE_CONTAINER_INDEX=(_Cv$IMAGE_CONTAINER_I={},_defineProperty(_Cv$IMAGE_CONTAINER_I,C.FILTER,0),_defineProperty(_Cv$IMAGE_CONTAINER_I,C.ADJUSTMENT,1),_defineProperty(_Cv$IMAGE_CONTAINER_I,C.FOCUS,2),_defineProperty(_Cv$IMAGE_CONTAINER_I,C.OVERLAY,3),_Cv$IMAGE_CONTAINER_I);});var B2,M2=d(function(){fa();$();QT();t2();z2();U2();B2=/*#__PURE__*/function(){function B2(e){_classCallCheck(this,B2);this.orderHelper=new Cv();var t=e.configStore.config.engine;this.engine=new Fm(L(w({},t),{license:e.configStore.config.license,assetProvider:e.configStore.assetProvider,watermark:e.configStore.config.watermark})),this.image=new ZT(e),this.output=new e2(e),this.preview=new xa(e),this.editor=e;}_createClass(B2,[{key:"render",value:function render(e){return this.engine.render(e);}},{key:"previewSpaceToWorldSpace",value:function previewSpaceToWorldSpace(e,t){var i=this.preview.previewTransformWithoutDpr;if(_o(e)){var o=this.editor.engine.convertPointFromPreviewIntoWorldSpace(B.ZERO,i,t),s=this.editor.engine.convertPointFromPreviewIntoWorldSpace({x:e,y:0},i,t);return B.distance(new B(o),new B(s));}return this.editor.engine.convertPointFromPreviewIntoWorldSpace(e,i,t);}},{key:"worldSpaceToPreviewSpace",value:function worldSpaceToPreviewSpace(e){var t=this.preview.previewTransformWithoutDpr;if(_o(e)){var i=this.editor.engine.convertPointFromWorldIntoPreviewSpace(B.ZERO,t),o=this.editor.engine.convertPointFromWorldIntoPreviewSpace({x:e,y:0},t);return B.distance(new B(i),new B(o));}return this.editor.engine.convertPointFromWorldIntoPreviewSpace(e,t);}},{key:"outputSpaceToWorldSpace",value:function outputSpaceToWorldSpace(e){return _o(e)?ge.getScalarInWorldSpace(e,this.editor.engine.getOutputContainer()):ge.getPointInWorldSpace(e,this.editor.engine.getOutputContainer());}},{key:"previewSpaceToOutputSpace",value:function previewSpaceToOutputSpace(e){var t=this.preview.previewTransformWithoutDpr;if(_o(e)){var i=this.editor.engine.convertPointFromPreviewIntoOutputSpace(B.ZERO,t),o=this.editor.engine.convertPointFromPreviewIntoOutputSpace({x:e,y:0},t);return B.distance(new B(i),new B(o));}return this.editor.engine.convertPointFromPreviewIntoOutputSpace(e,t);}},{key:"previewSpaceToFlippedPreviewSpace",value:function previewSpaceToFlippedPreviewSpace(e){return this.editor.engine.convertPointFromPreviewIntoFlippedPreviewSpace(e);}}]);return B2;}();});var zN,Wae,_sn,Zt,UN=d(function(){Le();$();zN=[[0,0],[0,1],[1,0],[1,1]],Wae=[[0,1,2,3],[2,3,0,1],[1,0,3,2],[3,2,1,0]],_sn=/*#__PURE__*/function(){function sn(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"center";var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!1;_classCallCheck(this,sn);this.considerRotation=!0;this.considerFlip=!0;this.store=t,this.m=i==="center"?_sn.movePivotTo([.5,.5]):zN,this.considerRotation=o,this.considerFlip=s,this.configStore=e.configStore;}_createClass(sn,[{key:"position",get:function get(){return this.store.position;}},{key:"size",get:function get(){return this.store.size;}},{key:"rotation",get:function get(){return this.considerRotation?this.store.rotationWRTOutputRotation:0;}},{key:"flipHorizontally",get:function get(){return this.considerFlip?this.store.isFlippedHorizontal:!1;}},{key:"flipVertically",get:function get(){return this.considerFlip?this.store.isFlippedVertical:!1;}},{key:"flipCenter",get:function get(){return this.considerFlip?this.store.flipCenter:null;}},{key:"handleOrigin",value:function handleOrigin(e,t,i){var o=_sn.getFlippedEdgeIndex(e,t,i),s=this.m[o][0]*this.size.width,n=this.m[o][1]*this.size.height;return{width:s,height:n};}},{key:"leftTop",get:function get(){var e=this.position,t=this.flipHorizontally,i=this.flipVertically,o=this.handleOrigin(0,t,i);return _sn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e);}},{key:"leftBottom",get:function get(){var e=this.position,t=this.flipHorizontally,i=this.flipVertically,o=this.handleOrigin(1,t,i);return _sn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e);}},{key:"rightTop",get:function get(){var e=this.position,t=this.flipHorizontally,i=this.flipVertically,o=this.handleOrigin(2,t,i);return _sn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e);}},{key:"rightBottom",get:function get(){var e=this.position,t=this.flipHorizontally,i=this.flipVertically,o=this.handleOrigin(3,t,i);return _sn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e);}},{key:"leftBottomHandle",get:function get(){var e=this.position,t=this.flipHorizontally,i=this.flipVertically,o=this.handleOrigin(1,t,i);return o.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,_sn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e);}},{key:"rightBottomHandle",get:function get(){var e=this.position,t=this.flipHorizontally,i=this.flipVertically,o=this.handleOrigin(3,t,i);return o.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,_sn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e);}},{key:"leftMid",get:function get(){var e=new B(this.leftTop),t=new B(this.leftBottom);return e.add(t).divide(2);}},{key:"rightMid",get:function get(){var e=new B(this.rightTop),t=new B(this.rightBottom);return e.add(t).divide(2);}}],[{key:"getFlippedEdgeIndex",value:function getFlippedEdgeIndex(e,t,i){return Wae[(t?1:0)+(i?2:0)][e];}},{key:"movePivotTo",value:function movePivotTo(e){return zN.map(function(t){return[t[0]-e[0],t[1]-e[1]];});}}]);return sn;}(),Zt=_sn;Zt.coordinatesWithRotation=function(_ref145,i,o,s,n,a){var e=_ref145.width,t=_ref145.height;var l=e*Math.cos(i)-t*Math.sin(i)+a.x,c=e*Math.sin(i)+t*Math.cos(i)+a.y;return o&&(l=n.x*2-l),s&&(c=n.y*2-c),new B({x:l,y:c}).rounded;},f([k],Zt.prototype,"position",1),f([k],Zt.prototype,"size",1),f([k],Zt.prototype,"rotation",1),f([k],Zt.prototype,"flipHorizontally",1),f([k],Zt.prototype,"flipVertically",1),f([k],Zt.prototype,"flipCenter",1),f([k],Zt.prototype,"leftTop",1),f([k],Zt.prototype,"leftBottom",1),f([k],Zt.prototype,"rightTop",1),f([k],Zt.prototype,"rightBottom",1),f([k],Zt.prototype,"leftBottomHandle",1),f([k],Zt.prototype,"rightBottomHandle",1),f([k],Zt.prototype,"leftMid",1),f([k],Zt.prototype,"rightMid",1);});var ls=d(function(){hv();lf();uf();cf();M2();U2();QT();t2();z2();Rm();fv();gv();bv();_v();UN();});var Bm,NN=d(function(){Bm=function Bm(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var i=Math.tan(e),o=Math.sqrt(Math.pow(i,2)+1);return{x:r.x+t/o,y:r.y+t*i/o};};});var Sv,Gae,Vae,jae,$ae,Fd,wv=d(function(){Sv={blurRadius:40,gradientSize:.2},Gae=w({start:{x:0,y:0},end:{x:0,y:0}},Sv),Vae=w({center:{x:0,y:0},radius:0},Sv),jae=w({origin:{x:0,y:0},rotation:0,size:0},Sv),$ae=Sv,Fd={identifier:"identity",linear:Gae,radial:Vae,mirrored:jae,gaussian:$ae};});var $i,HN=d(function(){Le();H();$();wv();$i=/*#__PURE__*/function(){function $i(e){var _this374=this;_classCallCheck(this,$i);this.selectFocus=function(e,t){oi(function(){_this374.state.identifier=e,t&&(_this374.state[e].blurRadius=t);});};this.changeBlurRadius=function(e,t){e!=="identity"&&(_this374.state[e].blurRadius=t);};this.reset=function(){_this374.indexInContainer===-1&&(_this374.state.identifier=Fd.identifier,_this374.state.identifier!=="identity"&&(_this374.state[_this374.state.identifier].blurRadius=Fd[_this374.state.identifier].blurRadius));};this.setLinear=function(_ref146){var e=_ref146.start,t=_ref146.end;_this374.state.linear.start.x=e.x,_this374.state.linear.start.y=e.y,_this374.state.linear.end.x=t.x,_this374.state.linear.end.y=t.y;};this.setLinearStart=function(e){_this374.state.linear.start.x=e.x,_this374.state.linear.start.y=e.y;};this.setLinearEnd=function(e){_this374.state.linear.end.x=e.x,_this374.state.linear.end.y=e.y;};this.setRadialCenter=function(e){_this374.state.radial.center.x=e.x,_this374.state.radial.center.y=e.y;};this.setRadialRadius=function(e){_this374.state.radial.radius=e;};this.setMirroredOrigin=function(e){_this374.state.mirrored.origin.x=e.x,_this374.state.mirrored.origin.y=e.y;};this.setMirroredRotation=function(e){_this374.state.mirrored.rotation=e;};this.setMirroredSize=function(e){_this374.state.mirrored.size=e;};this.getEffectProperties=function(){return _this374.effect?_this374.effect.getProperties():null;};this.setLinearFocus=function(e){_this374.effect=_this374.engineMediator.engine.addLinearBlur(e,_this374.imageContainer,_this374.order),_this374.updateLinearState(_this374.effect.getProperties());};this.setGaussianFocus=function(e){_this374.effect=_this374.engineMediator.engine.addGaussianBlur(e,_this374.imageContainer,_this374.order),_this374.updateGaussianState(_this374.effect.getProperties());};this.setRadialFocus=function(e){_this374.effect=_this374.engineMediator.engine.addRadialBlur(e,_this374.imageContainer,_this374.order),_this374.updateRadialState(_this374.effect.getProperties());};this.setMirroredFocus=function(e){_this374.effect=_this374.engineMediator.engine.addMirroredBlur(e,_this374.imageContainer,_this374.order),_this374.updateMirroredState(_this374.effect.getProperties());};this.updateFromEngineState=function(e){var t=_this374.getEffectProperties();if(t&&e!=="identity")switch(e){case Ue.LINEAR:_this374.updateLinearState(t);break;case Ue.RADIAL:_this374.updateRadialState(t);break;case Ue.MIRRORED:_this374.updateMirroredState(t);break;default:break;}};this.updateGaussianState=function(e){_this374.changeBlurRadius(Ue.GAUSSIAN,e.blurRadius);};this.updateMirroredState=function(e){var t=_this374.editor.worldToPreview(e.mirrorAxisOrigin),o=new B(_this374.editor.worldToPreview(e.mirrorAxisDirection)).subtract(t),s=Math.atan2(o.y,o.x);_this374.setMirroredOrigin(_this374.editor.worldToPreview(e.mirrorAxisOrigin)),_this374.setMirroredRotation(s),_this374.setMirroredSize(_this374.editor.worldToPreview(e.clearAreaWidth)),_this374.changeBlurRadius(Ue.MIRRORED,e.blurRadius);};this.updateRadialState=function(e){_this374.setRadialCenter(_this374.editor.worldToPreview(e.center)),_this374.setRadialRadius(_this374.editor.worldToPreview(e.radius)),_this374.changeBlurRadius(Ue.RADIAL,e.blurRadius);};this.updateLinearState=function(e){_this374.setLinearStart(_this374.editor.worldToPreview(e.start)),_this374.setLinearEnd(_this374.editor.worldToPreview(e.end)),_this374.changeBlurRadius(Ue.LINEAR,e.blurRadius);};this.setEffectProperties=function(e){return _this374.effect?(_this374.effect.setProperties(e),_this374.effect.getProperties()):null;};this.removeFocus=function(){_this374.effect&&(_this374.engineMediator.engine.removeEffect(_this374.effect),_this374.engineMediator.orderHelper.removeIndex(C.FOCUS));};this.editor=e,this.engineMediator=this.editor.engineMediator,this.state=Fd;}_createClass($i,[{key:"indexInContainer",get:function get(){return this.effect?this.effect.getIndexInParent():-1;}},{key:"order",get:function get(){return this.engineMediator.orderHelper.addIndex(C.FOCUS);}},{key:"imageContainer",get:function get(){return this.engineMediator.image.container;}}]);return $i;}();f([le],$i.prototype,"state",2),f([T],$i.prototype,"selectFocus",2),f([T],$i.prototype,"changeBlurRadius",2),f([T],$i.prototype,"reset",2),f([T],$i.prototype,"setLinear",2),f([T],$i.prototype,"setLinearStart",2),f([T],$i.prototype,"setLinearEnd",2),f([T],$i.prototype,"setRadialCenter",2),f([T],$i.prototype,"setRadialRadius",2),f([T],$i.prototype,"setMirroredOrigin",2),f([T],$i.prototype,"setMirroredRotation",2),f([T],$i.prototype,"setMirroredSize",2),f([T],$i.prototype,"updateFromEngineState",2);});var _Od,$e,WN=d(function(){Le();H();$();ls();Im();en();NN();wv();HN();_Od=/*#__PURE__*/function(){function Od(e){var _this375=this;_classCallCheck(this,Od);this.selectFocus=function(e){if(e!==_this375.identifier){_this375.focusStore.removeFocus();var _t31=_this375.maxIntensity*.2,_this375$editor$engin=_this375.editor.engine.getOutputContainer().getBounds(),i=_this375$editor$engin.width,o=_this375.editor.shortestOutputSide*.2;switch(e){case Ue.LINEAR:var s=_this375.editor.outputToWorld({x:-i/2,y:0}),n=_this375.editor.outputToWorld({x:i/2,y:0});_this375.setLinearFocus({start:s,end:n,blurRadius:_t31});break;case Ue.RADIAL:var a=_this375.editor.outputToWorld({x:0,y:0});_this375.setRadialFocus({center:a,radius:o,blurRadius:_t31});break;case Ue.MIRRORED:var l=_this375.editor.outputToWorld({x:0,y:0}),c=o,u=_this375.editor.outputToWorld(Bm({x:0,y:0},0));_this375.setMirroredFocus({mirrorAxisOrigin:l,clearAreaWidth:c,blurRadius:_t31,mirrorAxisDirection:u});break;case Ue.GAUSSIAN:_this375.setGaussianFocus({blurRadius:_t31});break;default:break;}_this375.focusStore.selectFocus(e,_t31),_this375.editor.render(),_this375.addSnapshot(Ee.ADD,C.FOCUS);}};this.changeIntensity=function(e){var t=_this375.focusStore.setEffectProperties({blurRadius:e});t&&(_this375.focusStore.changeBlurRadius(_this375.identifier,t.blurRadius),_this375.editor.render());};this.changeRelativeIntensity=function(e){var t=(_this375.maxIntensity-_Od.minIntensity)*e/100+_Od.minIntensity,i=_this375.focusStore.setEffectProperties({blurRadius:t});i&&(_this375.focusStore.changeBlurRadius(_this375.identifier,i.blurRadius),_this375.editor.render());};this.toolSnapshot=function(e){_this375.addSnapshot(Ee.EDIT,e);};this.addSnapshot=function(e,t){_this375.editor.addSnapshot(void 0,e,t);};this.clickableCanvas=function(e){_this375.editor.clickableCanvas(e);};this.pureReset=function(){_this375.focusStore.removeFocus(),_this375.focusStore.reset();};this.reset=function(){_this375.pureReset(),_this375.editor.render(),_this375.addSnapshot(Ee.DELETE,_this375.locale.controls.buttonReset);};this.setStart=function(e){var t=_this375.focusStore.setEffectProperties({start:_this375.editor.previewToWorld(e)});t&&(_this375.focusStore.setLinearStart(_this375.editor.worldToPreview(t.start)),_this375.editor.render());};this.setEnd=function(e){var t=_this375.focusStore.setEffectProperties({end:_this375.editor.previewToWorld(e)});t&&(_this375.focusStore.setLinearEnd(_this375.editor.worldToPreview(t.end)),_this375.editor.render());};this.setCenter=function(e){var t=_this375.focusStore.setEffectProperties({center:_this375.editor.previewToWorld(e)});t&&(_this375.focusStore.setRadialCenter(_this375.editor.worldToPreview(t.center)),_this375.editor.render());};this.setRadius=function(e){var t=_this375.focusStore.setEffectProperties({radius:_this375.editor.previewToWorld(e)});t&&(_this375.focusStore.setRadialRadius(_this375.editor.worldToPreview(t.radius)),_this375.editor.render());};this.setOrigin=function(e){var t=_this375.focusStore.setEffectProperties({mirrorAxisOrigin:_this375.editor.previewToWorld(e),mirrorAxisDirection:_this375.editor.previewToWorld(Bm(e,_this375.rotation))});t&&(_this375.focusStore.setMirroredOrigin(_this375.editor.worldToPreview(t.mirrorAxisOrigin)),_this375.editor.render());};this.setSize=function(e){var t=_this375.focusStore.setEffectProperties({clearAreaWidth:_this375.editor.previewToWorld(e)});t&&(_this375.focusStore.setMirroredSize(_this375.editor.worldToPreview(t.clearAreaWidth)),_this375.editor.render());};this.setRotation=function(e){_this375.focusStore.setEffectProperties({mirrorAxisDirection:_this375.editor.previewToWorld(Bm(_this375.origin,e))}),_this375.focusStore.setMirroredRotation(e),_this375.editor.render();};this.updateStateFromHistory=function(e,t){_this375.focusStore.removeFocus();var i=t.magnitude;oi(function(){switch(_this375.focusStore.selectFocus(e.identifier),e.identifier){case Ue.LINEAR:_this375.setLinearFocus({start:_this375.editor.previewToWorld(new B(e.linear.start).multiply(t)),end:_this375.editor.previewToWorld(new B(e.linear.end).multiply(t)),blurRadius:e.linear.blurRadius});break;case Ue.GAUSSIAN:_this375.setGaussianFocus({blurRadius:e.gaussian.blurRadius});break;case Ue.RADIAL:_this375.setRadialFocus({center:_this375.editor.previewToWorld(new B(e.radial.center).multiply(t)),radius:_this375.editor.previewToWorld(e.radial.radius*i),blurRadius:e.radial.blurRadius});break;case Ue.MIRRORED:{var o=new B(e.mirrored.origin).multiply(t);_this375.setMirroredFocus({mirrorAxisOrigin:_this375.editor.previewToWorld(o),mirrorAxisDirection:_this375.editor.previewToWorld(Bm(o,e.mirrored.rotation)),clearAreaWidth:_this375.editor.previewToWorld(e.mirrored.size*i),blurRadius:e.mirrored.blurRadius});break;}case"identity":_this375.pureReset();break;default:break;}});};this.updateStateFromSerialization=function(e){return ie(_this375,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee72(){var _this376=this;return regeneratorRuntime.wrap(function _callee72$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:if(!_Od.doesFocusIdentifierExist(e.identifier)){_context73.next=4;break;}this.focusStore.removeFocus(),oi(function(){switch(_this376.focusStore.selectFocus(e.identifier),e.identifier){case Ue.LINEAR:_this376.setLinearFocus(e.linear);break;case Ue.GAUSSIAN:_this376.setGaussianFocus(e.gaussian);break;case Ue.RADIAL:_this376.setRadialFocus(e.radial);break;case Ue.MIRRORED:_this376.setMirroredFocus({mirrorAxisOrigin:e.mirrored.origin,clearAreaWidth:e.mirrored.size,blurRadius:e.mirrored.blurRadius,mirrorAxisDirection:Bm(e.mirrored.origin,e.mirrored.rotation)});break;default:break;}});_context73.next=5;break;case 4:throw new Error("Focus identifier ".concat(e.identifier," doesn't exist"));case 5:case"end":return _context73.stop();}}},_callee72,this);}));};this.updateCanvasControls=function(){_this375.focusStore.updateFromEngineState(_this375.identifier);};this.getFocusStateForHistory=function(){var e=_this375.editor.canvasStore.sizeVector,t=_this375.focusStore.state.linear,i=_this375.focusStore.state.radial,o=_this375.focusStore.state.mirrored,s=e,n=s.magnitude;return L(w({},_this375.focusStore.state),{linear:L(w({},t),{start:new B(t.start).divide(s),end:new B(t.end).divide(s)}),radial:L(w({},i),{center:new B(i.center).divide(s),radius:i.radius/n}),mirrored:L(w({},o),{origin:new B(o.origin).divide(s),size:o.size/n}),gaussian:w({},_this375.focusStore.state.gaussian)});};this.editor=e,this.focusStore=new $i(this.editor);var t=this.editor.assetProvider.getAssets("focus");this.entityManager=new _ei(t,L(w({},this.config),{flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("focus")}));}_createClass(Od,[{key:"state",get:function get(){return this.focusStore.state;}},{key:"serializableState",get:function get(){switch(this.identifier){case Ue.LINEAR:return{identifier:this.identifier,linear:this.focusStore.getEffectProperties()};case Ue.RADIAL:return{identifier:this.identifier,radial:this.focusStore.getEffectProperties()};case Ue.MIRRORED:var e=this.focusStore.getEffectProperties();return{identifier:this.identifier,mirrored:{blurRadius:e.blurRadius,origin:e.mirrorAxisOrigin,rotation:fe(this.state.mirrored.rotation),size:e.clearAreaWidth}};case Ue.GAUSSIAN:return{identifier:this.identifier,gaussian:this.focusStore.getEffectProperties()};default:return Fd;}}},{key:"start",get:function get(){return this.focusStore.state.linear.start;}},{key:"startOnPreview",get:function get(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.start);return{x:Math.abs(e.x),y:Math.abs(e.y)};}},{key:"end",get:function get(){return this.focusStore.state.linear.end;}},{key:"endOnPreview",get:function get(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.end);return{x:Math.abs(e.x),y:Math.abs(e.y)};}},{key:"center",get:function get(){return this.focusStore.state.radial.center;}},{key:"radius",get:function get(){return this.focusStore.state.radial.radius;}},{key:"origin",get:function get(){return this.focusStore.state.mirrored.origin;}},{key:"rotation",get:function get(){return this.focusStore.state.mirrored.rotation;}},{key:"rotationOnPreview",get:function get(){var _this$editor$outputCo7=this.editor.outputContainer.getData(),e=_this$editor$outputCo7.flipHorizontally,t=_this$editor$outputCo7.flipVertically;return nf({rotation:this.focusStore.state.mirrored.rotation,flipHorizontally:e,flipVertically:t});}},{key:"size",get:function get(){return this.focusStore.state.mirrored.size;}},{key:"mirroredAreaWidth",get:function get(){var _this$editor$canvasSt3=this.editor.canvasStore.canvasSize,e=_this$editor$canvasSt3.width,t=_this$editor$canvasSt3.height;return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))*2;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"intensity",get:function get(){return this.identifier==="identity"?Fd.gaussian.blurRadius:this.state[this.identifier].blurRadius;}},{key:"relativeIntensity",get:function get(){var _ref147=this.identifier==="identity"?this.state.gaussian:this.state[this.identifier],e=_ref147.blurRadius;return(e-_Od.minIntensity)*100/(this.maxIntensity-_Od.minIntensity);}},{key:"maxIntensity",get:function get(){return this.editor.shortestOutputSide/10;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"config",get:function get(){return this.editor.configStore.config[C.FOCUS];}},{key:"locale",get:function get(){return this.editor.configStore.locale[C.FOCUS];}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"setGaussianFocus",value:function setGaussianFocus(_ref148){var e=_ref148.blurRadius;this.focusStore.setGaussianFocus({blurRadius:e});}},{key:"setLinearFocus",value:function setLinearFocus(_ref149){var e=_ref149.start,t=_ref149.end,i=_ref149.blurRadius;this.focusStore.setLinearFocus({start:e,end:t,blurRadius:i});}},{key:"setRadialFocus",value:function setRadialFocus(_ref150){var e=_ref150.center,t=_ref150.radius,i=_ref150.blurRadius;this.focusStore.setRadialFocus({center:e,radius:t,blurRadius:i});}},{key:"setMirroredFocus",value:function setMirroredFocus(_ref151){var e=_ref151.mirrorAxisOrigin,t=_ref151.clearAreaWidth,i=_ref151.blurRadius,o=_ref151.mirrorAxisDirection;this.focusStore.setMirroredFocus({mirrorAxisOrigin:e,clearAreaWidth:t,blurRadius:i,mirrorAxisDirection:o});}}],[{key:"minIntensity",get:function get(){return 0;}},{key:"doesFocusIdentifierExist",value:function doesFocusIdentifierExist(e){return Object.keys(Ue).map(function(t){return Ue[t];}).findIndex(function(t){return t===e;})!==-1;}}]);return Od;}(),$e=_Od;f([T],$e.prototype,"selectFocus",2),f([T],$e.prototype,"changeIntensity",2),f([T],$e.prototype,"changeRelativeIntensity",2),f([T],$e.prototype,"clickableCanvas",2),f([T],$e.prototype,"pureReset",2),f([T],$e.prototype,"reset",2),f([T],$e.prototype,"setStart",2),f([T],$e.prototype,"setEnd",2),f([T],$e.prototype,"setCenter",2),f([T],$e.prototype,"setRadius",2),f([T],$e.prototype,"setOrigin",2),f([T],$e.prototype,"setSize",2),f([T],$e.prototype,"setRotation",2),f([T],$e.prototype,"updateStateFromHistory",2),f([T],$e.prototype,"updateStateFromSerialization",2),f([T],$e.prototype,"updateCanvasControls",2),f([k],$e.prototype,"state",1),f([k],$e.prototype,"start",1),f([k],$e.prototype,"startOnPreview",1),f([k],$e.prototype,"end",1),f([k],$e.prototype,"endOnPreview",1),f([k],$e.prototype,"center",1),f([k],$e.prototype,"radius",1),f([k],$e.prototype,"origin",1),f([k],$e.prototype,"rotation",1),f([k],$e.prototype,"rotationOnPreview",1),f([k],$e.prototype,"size",1),f([k],$e.prototype,"mirroredAreaWidth",1),f([k],$e.prototype,"identifier",1),f([k],$e.prototype,"intensity",1),f([k],$e.prototype,"relativeIntensity",1),f([k],$e.prototype,"maxIntensity",1),f([k],$e.prototype,"isOptionSelected",1),f([k],$e.prototype,"config",1),f([k],$e.prototype,"locale",1),f([k],$e.prototype,"items",1);});var L2=d(function(){WN();wv();});var GN=d(function(){y2();v2();});var VN=d(function(){S2();w2();});var jN=d(function(){D2();E2();});var $N=d(function(){h2();f2();});var qN=d(function(){O2();P2();});var KN=d(function(){F2();});var XN=d(function(){d2();});var nt=d(function(){$();eo();lv();G7();NT();WT();L2();m2();GN();VN();jN();c2();$N();qN();KN();XN();_v();Rm();tn();qT();hv();fv();gv();bv();g2();lf();uf();cf();Td();en();Im();});var _f,YN,JN,ZN,qae,QN,eH=d(function(){_f=y(x("react"));U();YN=y(x("styled-components"));H();nt();$();ni();JN=_e.Button.TextSecondary,ZN=YN["default"].span(_templateObject184||(_templateObject184=_taggedTemplateLiteral(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  letter-spacing: ","px;\n  display: flex;\n  align-self: center;\n"])),function(r){return r.theme.canvasActionBar.foreground;},function(r){return r.theme.measurements.fontSystem.button2.letterSpacing;}),qae=function qae(_ref152){var r=_ref152.scale,e=_ref152.active;var t=r.canZoomIn,i=r.canZoomOut,o=r.zoomLevel;return[C.TRANSFORM,C.BRUSH,C.FOCUS,C.STICKER,C.TEXT,C.TEXT_DESIGN].indexOf(e.tool)!==-1?null:_f["default"].createElement(_e.Bar.ButtonGroup,null,_f["default"].createElement(JN,{"data-test":j.MainBarButtonZoom,ariaLabel:"Zoom out",isDisabled:!i,onClick:r.out},"-"),_f["default"].createElement(ZN,{"data-test":j.ZoomLevel},o," %"),_f["default"].createElement(JN,{ariaLabel:"Zoom in",isDisabled:!t,onClick:r["in"]},"+"));},QN=ne("scale","active")(D(qae));ZN.defaultProps={theme:to};});var no,tH,iH,Kae,Mm,rH=d(function(){no=y(x("react"));U();tH=y(x("styled-components"));H();Lt();$();ni();eH();iH=(0,tH["default"])(_e.Bar.ButtonGroup)(_templateObject185||(_templateObject185=_taggedTemplateLiteral(["\n  > :last-child {\n    margin-left: 10px;\n  }\n  > :first-child {\n    margin-left: 0;\n  }\n"]))),Kae=function Kae(_ref153){var r=_ref153.config,e=_ref153.editor,t=_ref153.history,i=_ref153.custom;var o=r.locale.mainCanvasActions,s=t.canUndo,n=t.canRedo,a=r.config.mainCanvasActions,l=function l(){e["export"]();},c=function c(){if(e.activeStore.tool===C.TRANSFORM)return null;var g=i.getButton("mainCanvasActionUndo");return no["default"].createElement(g,{key:"mainCanvasActionUndo","data-test":j.MainBarButtonUndo,onClick:t.undo,isDisabled:!s,label:o.buttonUndo,ariaLabel:o.buttonUndo,icon:no["default"].createElement(ah.undo,null)});},u=function u(){if(e.activeStore.tool===C.TRANSFORM)return null;var g=i.getButton("mainCanvasActionRedo");return no["default"].createElement(g,{key:"mainCanvasActionRedo","data-test":j.MainBarButtonRedo,onClick:t.redo,isDisabled:!n,label:o.buttonRedo,ariaLabel:o.buttonRedo,icon:no["default"].createElement(ah.redo,null)});},p=function p(){var g=i.getButton("mainCanvasActionExport");return no["default"].createElement(g,{key:"mainCanvasActionExport","data-test":j.MainBarButtonExport,onClick:l,label:o.buttonExport,ariaLabel:o.buttonExport,icon:no["default"].createElement(ah["export"],null)});},m=function m(){if(!r.displayCloseButton)return null;var g=i.getButton("mainCanvasActionClose");return no["default"].createElement(g,{key:"mainCanvasActionClose","data-test":j.MainBarButtonClose,onClick:e.close,label:o.buttonClose,ariaLabel:o.buttonClose,icon:no["default"].createElement(ah.close,null)});},h=a.map(function(g){switch(g){case Be.UNDO:return c;case Be.REDO:return u;case Be.EXPORT:return p;case Be.CLOSE:return m;default:return null;}});return no["default"].createElement(_e.Bar.Index,null,no["default"].createElement(iH,null,h[0]&&h[0]()||null,h[1]&&h[1]()||null),r.config.enableZoom?no["default"].createElement(QN,null):null,no["default"].createElement(iH,null,h[2]&&h[2]()||null,h[3]&&h[3]()||null));},Mm=ne("config","editor","history","custom")(D(Kae));});function Xae(r){return typeof r=="string"&&r.includes("%");}function Yae(r){return typeof r=="string"&&r.includes(".")&&parseFloat(r)===1;}function xi(r,e){Yae(r)&&(r="100%");var t=Xae(r);return r=e===360?r:Math.min(e,Math.max(0,parseFloat(r))),t&&(r=parseInt(String(r*e),10)/100),Math.abs(r-e)<1e-6?1:(e===360?r=(r<0?r%e+e:r%e)/parseFloat(String(e)):r=r%e/parseFloat(String(e)),r);}function kv(r){return r=parseFloat(r),(Number.isNaN(r)||r<0||r>1)&&(r=1),r;}function yf(r){return r<=1?"".concat(Number(r)*100,"%"):r;}function Gl(r){return r.length===1?"0".concat(r):String(r);}var Tv=d(function(){});function N2(r,e,t){return{r:xi(r,255)*255,g:xi(e,255)*255,b:xi(t,255)*255};}function H2(r,e,t){r=xi(r,255),e=xi(e,255),t=xi(t,255);var i=Math.max(r,e,t),o=Math.min(r,e,t),s=0,n=0,a=(i+o)/2;if(i===o)n=0,s=0;else{var l=i-o;switch(n=a>.5?l/(2-i-o):l/(i+o),i){case r:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-r)/l+2;break;case t:s=(r-e)/l+4;break;default:break;}s/=6;}return{h:s,s:n,l:a};}function oH(r,e,t){var i,o,s;r=xi(r,360),e=xi(e,100),t=xi(t,100);function n(a,l,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(l-a)*(6*c):c<1/2?l:c<2/3?a+(l-a)*(2/3-c)*6:a;}if(e===0)o=t,s=t,i=t;else{var a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=n(l,a,r+1/3),o=n(l,a,r),s=n(l,a,r-1/3);}return{r:i*255,g:o*255,b:s*255};}function W2(r,e,t){r=xi(r,255),e=xi(e,255),t=xi(t,255);var i=Math.max(r,e,t),o=Math.min(r,e,t),s=0,n=i,a=i-o,l=i===0?0:a/i;if(i===o)s=0;else{switch(i){case r:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-r)/a+2;break;case t:s=(r-e)/a+4;break;default:break;}s/=6;}return{h:s,s:l,v:n};}function sH(r,e,t){r=xi(r,360)*6,e=xi(e,100),t=xi(t,100);var i=Math.floor(r),o=r-i,s=t*(1-e),n=t*(1-o*e),a=t*(1-(1-o)*e),l=i%6,c=[t,n,s,s,a,t][l],u=[a,t,t,n,s,s][l],p=[s,s,a,t,t,n][l];return{r:c*255,g:u*255,b:p*255};}function G2(r,e,t,i){var o=[Gl(Math.round(r).toString(16)),Gl(Math.round(e).toString(16)),Gl(Math.round(t).toString(16))];return i&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("");}function Jae(r){return Math.round(parseFloat(r)*255).toString(16);}function Ar(r){return parseInt(r,16);}function V2(r){return Ar(r)/255;}function nH(r,e,t,i,o){var s=[Gl(Math.round(r).toString(16)),Gl(Math.round(e).toString(16)),Gl(Math.round(t).toString(16)),Gl(Jae(i))];return o&&s[0].charAt(0)===s[0].charAt(1)&&s[1].charAt(0)===s[1].charAt(1)&&s[2].charAt(0)===s[2].charAt(1)&&s[3].charAt(0)===s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("");}var j2=d(function(){Tv();});var Lm,$2=d(function(){Lm={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};});function Bo(r){return Boolean(us.CSS_UNIT.exec(String(r)));}function ele(r){if(r=r.trim().toLowerCase(),r.length===0)return!1;var e=!1;if(Lm[r])r=Lm[r],e=!0;else if(r==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=us.rgb.exec(r);return t?{r:t[1],g:t[2],b:t[3]}:(t=us.rgba.exec(r),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=us.hsl.exec(r),t?{h:t[1],s:t[2],l:t[3]}:(t=us.hsla.exec(r),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=us.hsv.exec(r),t?{h:t[1],s:t[2],v:t[3]}:(t=us.hsva.exec(r),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=us.hex8.exec(r),t?{r:Ar(t[1]),g:Ar(t[2]),b:Ar(t[3]),a:V2(t[4]),format:e?"name":"hex8"}:(t=us.hex6.exec(r),t?{r:Ar(t[1]),g:Ar(t[2]),b:Ar(t[3]),format:e?"name":"hex"}:(t=us.hex4.exec(r),t?{r:Ar(t[1]+t[1]),g:Ar(t[2]+t[2]),b:Ar(t[3]+t[3]),a:V2(t[4]+t[4]),format:e?"name":"hex8"}:(t=us.hex3.exec(r),t?{r:Ar(t[1]+t[1]),g:Ar(t[2]+t[2]),b:Ar(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))));}function aH(r){var e={r:0,g:0,b:0},t=1,i=null,o=null,s=null,n=!1,a=!1;if(typeof r=="string"&&(r=ele(r)),Array.isArray(r)){var _r5=r,_r6=_slicedToArray(_r5,3),l=_r6[0],c=_r6[1],u=_r6[2];Bo(l)&&Bo(c)&&Bo(u)&&(e=N2(l*255,c*255,u*255),n=!0,a="rgb"),r.length===4&&(t=r[3]);}return _typeof(r)=="object"&&(Bo(r.r)&&Bo(r.g)&&Bo(r.b)?(e=N2(r.r,r.g,r.b),n=!0,a=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Bo(r.h)&&Bo(r.s)&&Bo(r.v)?(i=yf(r.s),o=yf(r.v),e=sH(r.h,i,o),n=!0,a="hsv"):Bo(r.h)&&Bo(r.s)&&Bo(r.l)&&(i=yf(r.s),s=yf(r.l),e=oH(r.h,i,s),n=!0,a="hsl"),Object.prototype.hasOwnProperty.call(r,"a")&&(t=r.a)),t=kv(t),{ok:n,format:r.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t};}var Zae,Qae,Vl,q2,K2,us,lH=d(function(){j2();$2();Tv();Zae="[-\\+]?\\d+%?",Qae="[-\\+]?\\d*\\.\\d+%?",Vl="(?:".concat(Qae,")|(?:").concat(Zae,")"),q2="[\\s|\\(]+(".concat(Vl,")[,|\\s]+(").concat(Vl,")[,|\\s]+(").concat(Vl,")\\s*\\)?"),K2="[\\s|\\(]+(".concat(Vl,")[,|\\s]+(").concat(Vl,")[,|\\s]+(").concat(Vl,")[,|\\s]+(").concat(Vl,")\\s*\\)?"),us={CSS_UNIT:new RegExp(Vl),rgb:new RegExp("rgb".concat(q2)),rgba:new RegExp("rgba".concat(K2)),hsl:new RegExp("hsl".concat(q2)),hsla:new RegExp("hsla".concat(K2)),hsv:new RegExp("hsv".concat(q2)),hsva:new RegExp("hsva".concat(K2)),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};});var _ao,X2=d(function(){j2();$2();lH();Tv();_ao=/*#__PURE__*/function(){function ao(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,ao);if(e instanceof _ao)return e;this.originalInput=e;var i=aH(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=t.format||i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok;}_createClass(ao,[{key:"getAlpha",value:function getAlpha(){return this.a;}},{key:"setAlpha",value:function setAlpha(e){return this.a=kv(e),this.roundA=Math.round(100*this.a)/100,this;}},{key:"toHsv",value:function toHsv(){var e=W2(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a};}},{key:"toHsvString",value:function toHsvString(){var e=W2(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(o,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")");}},{key:"toHsl",value:function toHsl(){var e=H2(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a};}},{key:"toHslString",value:function toHslString(){var e=H2(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(o,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(o,"%, ").concat(this.roundA,")");}},{key:"toHex",value:function toHex(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return G2(this.r,this.g,this.b,e);}},{key:"toHexString",value:function toHexString(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return"#".concat(this.toHex(e));}},{key:"toHex8",value:function toHex8(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return nH(this.r,this.g,this.b,this.a,e);}},{key:"toHex8String",value:function toHex8String(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return"#".concat(this.toHex8(e));}},{key:"toRgb",value:function toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a};}},{key:"toRgbArray",value:function toRgbArray(){return[Math.round(this.r),Math.round(this.g),Math.round(this.b),this.a];}},{key:"toRgbString",value:function toRgbString(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")");}},{key:"toPercentageRgb",value:function toPercentageRgb(){var e=function e(t){return"".concat(Math.round(xi(t,255)*100),"%");};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a};}},{key:"toPercentageRgbString",value:function toPercentageRgbString(){var e=function e(t){return Math.round(xi(t,255)*100);};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")");}},{key:"toName",value:function toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;var e="#".concat(G2(this.r,this.g,this.b,!1));for(var _i33=0,_Object$keys=Object.keys(Lm);_i33<_Object$keys.length;_i33++){var t=_Object$keys[_i33];if(Lm[t]===e)return t;}return!1;}},{key:"toString",value:function toString(e){var t=Boolean(e);e=e||this.format;var i=this.a<1&&this.a>=0;if(!t&&i&&e&&(e.startsWith("hex")||e==="name"))return e==="name"&&this.a===0?this.toName():this.toRgbString();switch(e){case"rgb":return this.toRgbString();case"prgb":return this.toPercentageRgbString();case"hex":case"hex6":return this.toHexString();case"hex3":return this.toHexString(!0);case"hex4":return this.toHex8String(!0);case"hex8":return this.toHex8String();case"hsl":return this.toHslString();case"hsv":return this.toHsvString();case"name":return this.toName();default:return this.toHexString();}}},{key:"clone",value:function clone(){return new _ao(this.toString());}}]);return ao;}();});var Rd,tle,cH,dH=d(function(){Rd=y(x("styled-components")),tle=Rd["default"].div(_templateObject186||(_templateObject186=_taggedTemplateLiteral(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  pointer-events: none;\n  ","\n  left: ","px;\n  :after {\n    content: '';\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: 50%;\n    ","\n    background-color: ",";\n    pointer-events: none;\n  }\n"])),function(r){return r.theme.measurements.color.colorPicker.arrow.width;},function(r){return r.theme.measurements.color.colorPicker.arrow.width/2;},function(r){return r.direction==="bottom"?Rd.css(_templateObject187||(_templateObject187=_taggedTemplateLiteral(["\n          bottom: 100%;\n        "]))):Rd.css(_templateObject188||(_templateObject188=_taggedTemplateLiteral(["\n          top: 100%;\n        "])));},function(r){return r.arrowOffset;},function(r){return r.theme.measurements.color.colorPicker.arrow.width/2;},function(r){return r.theme.measurements.color.colorPicker.arrow.width/2;},function(r){return r.direction==="bottom"?Rd.css(_templateObject189||(_templateObject189=_taggedTemplateLiteral(["\n            transform: translate(-50%, 50%) rotate(45deg);\n          "]))):Rd.css(_templateObject190||(_templateObject190=_taggedTemplateLiteral(["\n            transform: translate(-50%, -50%) rotate(45deg);\n          "])));},function(r){return r.theme.colorPicker.listBackground;}),cH=tle;});var Dv,Y2,ile,rle,ole,Ev,uH=d(function(){Dv=y(x("react")),Y2=y(x("styled-components"));re();ile=Y2["default"].div(_templateObject191||(_templateObject191=_taggedTemplateLiteral(["\n  text-align: center;\n  width: 28px;\n  padding-left: 4px;\n"]))),rle=(0,Y2["default"])(M.Input.Text)(_templateObject192||(_templateObject192=_taggedTemplateLiteral(["\n  input {\n    text-align: center;\n    border-bottom: 1px solid\n      ",";\n  }\n"])),function(r){return r.theme.colorPicker.inputBorderColor;}),ole=function ole(_ref154){var r=_ref154.value,e=_ref154.label,t=_ref154.onChange;return Dv["default"].createElement(ile,null,Dv["default"].createElement(M.Input.Label,{label:e}),Dv["default"].createElement(rle,{min:0,max:255,value:r,onChange:t}));},Ev=ole;});var Iv,J2,sle,nle,ale,mH,pH=d(function(){Iv=y(x("react")),J2=y(x("styled-components"));re();sle=J2["default"].div(_templateObject193||(_templateObject193=_taggedTemplateLiteral(["\n  text-align: left;\n  width: 62px;\n"]))),nle=(0,J2["default"])(M.Input.Text)(_templateObject194||(_templateObject194=_taggedTemplateLiteral(["\n  input {\n    text-align: left;\n    border-bottom: 1px solid\n      ",";\n  }\n"])),function(r){return r.theme.colorPicker.inputBorderColor;}),ale=function ale(_ref155){var r=_ref155.value,e=_ref155.label,t=_ref155.onChange;return Iv["default"].createElement(sle,null,Iv["default"].createElement(M.Input.Label,{label:e}),Iv["default"].createElement(nle,{value:r.toUpperCase(),onChange:t}));},mH=ale;});function R(){return(0,hH.useContext)(yp);}var hH,J=d(function(){hH=y(x("react"));U();});var fH,Ad,Fv=d(function(){fH=y(x("styled-components"));nt();Ad=fH["default"].div.attrs(function(r){return{style:{left:r.position[0]||"".concat(0,"px"),top:r.position[1]||"".concat(0,"px")}};})(_templateObject195||(_templateObject195=_taggedTemplateLiteral(["\n  &&& {\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    box-sizing: border-box;\n    cursor: pointer;\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.11), 0 1px 3px 0 rgba(0, 0, 0, 0.46);\n    z-index: 2;\n    pointer-events: none;\n  }\n"])),function(r){return r.theme.measurements.color.colorPicker.thumb.size;},function(r){return r.theme.measurements.color.colorPicker.thumb.size;},function(r){return r.theme.colorPicker.controlsColor;});Ad.defaultProps={theme:to};});var lo,gH,bH,lle,cle,zm,Ov=d(function(){lo=y(x("react")),gH=y(rb()),bH=y(x("styled-components"));re();J();lle=bH["default"].div(_templateObject196||(_templateObject196=_taggedTemplateLiteral(["\n  position: relative;\n  height: 14px;\n  width: 100%;\n"]))),cle=function cle(r){return function(e){r.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e);});};},zm=(0,lo.forwardRef)(function(_ref156,o){var r=_ref156.surface,e=_ref156.onChange,t=_ref156.className,i=_ref156.children;var s=(0,lo.useRef)(null),n=(0,lo.useRef)(null),_R2=R(),a=_R2.config,_ref157=(0,lo.useState)(!1),_ref158=_slicedToArray(_ref157,2),l=_ref158[0],c=_ref158[1],u=function u(g){var v=a.measurements.color.colorPicker.thumb.size/2,S=a.measurements.color.colorPicker.thumb.size,_=0,I=0;_=g.clientX,I=g.clientY;var _s$current$getBoundin=s.current.getBoundingClientRect(),E=_s$current$getBoundin.top,O=_s$current$getBoundin.left,V=_s$current$getBoundin.width,F=_s$current$getBoundin.height,P=_-O-v,ae=I-E-v;P=Math.max(0,Math.min(V-S,P)),ae=Math.max(0,Math.min(F-S,ae)),e&&e([P,ae]);},p=function p(g){c(!0),u(g);},m=(0,lo.useCallback)((0,gH["default"])(function(g){l&&u(g);},10),[l]),h=function h(){l&&c(!1);};return lo["default"].createElement(lle,{ref:cle([s,o]),className:t},lo["default"].createElement(M.DraggableCore,{nodeRef:n,onStart:p,onDrag:m,onStop:h},lo["default"].createElement("div",{ref:n},r)),i);});});var _H,dle,Pd,Rv=d(function(){_H=y(x("styled-components")),dle=_H.css(_templateObject197||(_templateObject197=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 3px;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n"]))),Pd=dle;});var nn,yH,ule,xH,vH=d(function(){nn=y(x("react")),yH=y(x("styled-components"));J();Fv();Ov();Rv();ule=yH["default"].div(_templateObject198||(_templateObject198=_taggedTemplateLiteral(["\n  ","\n  background: linear-gradient(90deg, #F00 0%, #FF0 16.66%, #0F0 33.33%, #0FF 50%, #00F 66.66%, #F0F 83.33%, #F00 100%);\n  height: 8px;\n"])),Pd),xH=function xH(_ref159){var r=_ref159.hue,e=_ref159.onChange;var _ref160=(0,nn.useState)(0),_ref161=_slicedToArray(_ref160,2),t=_ref161[0],i=_ref161[1],o=(0,nn.useRef)(null),_R3=R(),s=_R3.config,n=function n(a){if(o.current){var _a5=_slicedToArray(a,1),l=_a5[0],c=o.current.offsetWidth,u=c-s.measurements.color.colorPicker.thumb.size,p=l*c/u,m=Math.max(0,Math.min(360,p/c*360));e(m),i(l);}};return(0,nn.useEffect)(function(){if(o.current){var a=o.current.offsetWidth,l=0,c=a-s.measurements.color.colorPicker.thumb.size;l=r*a/360,i(l*c/a);}},[r]),nn["default"].createElement(zm,{surface:nn["default"].createElement(ule,null),ref:o,onChange:n},nn["default"].createElement(Ad,{position:[t,0]}));};});var ms,Z2,mle,ple,CH,SH=d(function(){ms=y(x("react")),Z2=y(x("styled-components"));J();Fv();Ov();Rv();mle=Z2["default"].div.attrs(function(r){return{style:{background:"linear-gradient(to left, ".concat(r.transparentColor," 0%, ").concat(r.opaqueColor," 100%)")}};})(_templateObject199||(_templateObject199=_taggedTemplateLiteral(["\n  ","\n  z-index: 1;\n"])),Pd),ple=Z2["default"].div.attrs(function(r){return{style:{backgroundImage:"url(".concat(r.url,")")}};})(_templateObject200||(_templateObject200=_taggedTemplateLiteral(["\n  ","\n  z-index: 0;\n  background-repeat: repeat-x;\n  background-size: contain;\n  background-position: left;\n"])),Pd),CH=function CH(_ref162){var r=_ref162.color,e=_ref162.opaqueColor,t=_ref162.transparentColor,i=_ref162.onChange;var _R4=R(),o=_R4.config,_ref163=(0,ms.useState)(0),_ref164=_slicedToArray(_ref163,2),s=_ref164[0],n=_ref164[1],a=(0,ms.useRef)(null),l=o.assetProvider.getPath("controls","/tiled-background.png"),c=function c(u){if(a.current){var p=a.current.offsetWidth,_u9=_slicedToArray(u,1),m=_u9[0],h=p-o.measurements.color.colorPicker.thumb.size,g=m*p/h,v=(p-g)/p,S=Math.round((v+Number.EPSILON)*100)/100,_=Math.min(1,Math.max(0,S));i(_),n(m);}};return(0,ms.useEffect)(function(){if(a.current){var u=a.current.offsetWidth,p=0,m=u-o.measurements.color.colorPicker.thumb.size;p=(1-r.toHsv().a)*u,n(p*m/u);}},[r.toString()]),ms["default"].createElement(zm,{ref:a,surface:ms["default"].createElement(mle,{opaqueColor:e,transparentColor:t}),onChange:c},ms["default"].createElement(ple,{url:l}),ms["default"].createElement(Ad,{position:[s,0]}));};});var an,Q2,hle,fle,wH,kH=d(function(){an=y(x("react")),Q2=y(x("styled-components"));J();Fv();Ov();Rv();hle=Q2["default"].div.attrs(function(r){return{style:{backgroundColor:"hsl(".concat(r.hue,", 100%, 50%)")}};})(_templateObject201||(_templateObject201=_taggedTemplateLiteral(["\n  ","\n  background: linear-gradient(to top, rgb(0, 0, 0), rgba(0, 0, 0, 0)),\n   linear-gradient(to right, rgb(255, 255, 255), rgba(255, 255, 255, 0));\n  height: ","px;\n  top: 0px;\n"])),Pd,function(r){return r.theme.measurements.color.colorPicker.saturationSlider.height;}),fle=(0,Q2["default"])(zm)(_templateObject202||(_templateObject202=_taggedTemplateLiteral(["\n  height: ","px;\n  margin-top: 0px;\n"])),function(r){return r.theme.measurements.color.colorPicker.saturationSlider.height;}),wH=function wH(_ref165){var r=_ref165.color,e=_ref165.hue,t=_ref165.onChange;var _ref166=(0,an.useState)([0,0]),_ref167=_slicedToArray(_ref166,2),i=_ref167[0],o=_ref167[1],s=(0,an.useRef)(null),_R5=R(),n=_R5.config;return(0,an.useEffect)(function(){var _r$toHsv=r.toHsv(),l=_r$toHsv.s,c=_r$toHsv.v;if(s.current){var _s$current=s.current,u=_s$current.offsetWidth,p=_s$current.offsetHeight,m=u-n.measurements.color.colorPicker.thumb.size,h=p-n.measurements.color.colorPicker.thumb.size,g=l*u,v=(1-c)*p;o([g*m/u,v*h/p]);}},[r.toString()]),an["default"].createElement(fle,{ref:s,surface:an["default"].createElement(hle,{hue:e}),onChange:function onChange(l){if(s.current){var _l9=_slicedToArray(l,2),c=_l9[0],u=_l9[1],_s$current2=s.current,p=_s$current2.offsetHeight,m=_s$current2.offsetWidth,h=m-n.measurements.color.colorPicker.thumb.size,g=p-n.measurements.color.colorPicker.thumb.size,v=c*m/h,S=u*p/g,_=Math.min(1,Math.max(0,v/m)),I=Math.min(1,Math.max(0,(p-S)/p));t(_,I),o([c,u]);}}},an["default"].createElement(Ad,{position:i}));};});var pi,ln,gle,TH,ble,_le,yle,xle,xf,DH=d(function(){pi=y(x("react")),ln=y(x("styled-components"));re();nt();X2();dH();uH();pH();vH();SH();kH();gle=ln["default"].div(_templateObject203||(_templateObject203=_taggedTemplateLiteral(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  z-index: ",";\n  display: none;\n  opacity: 0;\n  transition: opacity 0.3s ease-out;\n  ","\n"])),function(r){return r.leftOffset;},function(r){return r.topOffset;},function(r){return r.theme.measurements.zIndex.input.list;},function(r){return r.show&&ln.css(_templateObject204||(_templateObject204=_taggedTemplateLiteral(["\n      display: block;\n      opacity: 1;\n      transition: opacity 0.3s ease-out;\n    "])));}),TH=ln["default"].div(_templateObject205||(_templateObject205=_taggedTemplateLiteral(["\n  &&& {\n    position: absolute;\n    ","\n    padding: 16px;\n    box-sizing: border-box;\n    box-shadow: ",";\n    background: ",";\n    border-radius: ","px;\n    width: ","px;\n    height: ","px;\n    left: 8px;\n    z-index: 1;\n  }\n"])),function(r){return r.direction==="top"&&ln.css(_templateObject206||(_templateObject206=_taggedTemplateLiteral(["\n        transform: translate(0, -100%);\n      "])));},function(r){return r.theme.colorPicker.listShadow;},function(r){return r.theme.colorPicker.listBackground;},function(r){return r.theme.shape.radiusMedium;},function(r){return r.theme.measurements.color.colorPicker.width;},function(r){return r.theme.measurements.color.colorPicker.height;}),ble=(0,ln["default"])(xH)(_templateObject207||(_templateObject207=_taggedTemplateLiteral(["\n  margin-top: 8px;\n"]))),_le=(0,ln["default"])(CH)(_templateObject208||(_templateObject208=_taggedTemplateLiteral(["\n  margin-top: 8px;\n"]))),yle=ln["default"].div(_templateObject209||(_templateObject209=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 30px;\n"]))),xle=ln["default"].div(_templateObject210||(_templateObject210=_taggedTemplateLiteral(["\n  display: flex;\n"]))),xf=/*#__PURE__*/function(_pi$default$Component){_inherits(xf,_pi$default$Component);var _super234=_createSuper(xf);function xf(e){var _this377;_classCallCheck(this,xf);_this377=_super234.call(this,e);_this377.node=pi["default"].createRef();_this377.checkId=function(e,t,i){var o=e,s=0;for(;o.parentElement&&s<i;){if(o=o.parentElement,s+=1,o.id===t)return!0;}return!1;};_this377.handleOutsideClick=function(e){var n;var _this377$props=_this377.props,t=_this377$props.onRequestClose,i=_this377$props.onAddSnapshot,o=_this377$props.show,s=_this377.state.color;if(o){if((n=_this377.node.current)==null?void 0:n.contains(e.target))return;_this377.setState({hexInputValue:s.toHexString()}),t&&t(),i&&i();}};_this377.onChange=function(e){var t=_this377.props.onChange;t({color:e.toRgbArray(),colorString:e.toRgbString()});};_this377.onHexValueChange=function(e){if(e.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i)){var _t32=new _ao(e);_this377.onChange(_t32),_this377.setState({color:_t32,hue:_t32.toHsl().h});}_this377.setState({hexInputValue:e});};_this377.onAlphaChange=function(e){var t=_this377.state.color,i=t.setAlpha(e);_this377.onChange(i),_this377.setState({color:i,hexInputValue:i.toHexString()});};_this377.onHueChange=function(e){var t=_this377.state.color,_t$toHsv=t.toHsv(),i=_t$toHsv.s,o=_t$toHsv.v,s=_t$toHsv.a,n=new _ao({h:e,s:i,v:o,a:s});_this377.onChange(n),_this377.setState({color:n,hexInputValue:n.toHexString(),hue:e});};_this377.onSaturationBrightnessChange=function(e,t){var _this377$state=_this377.state,i=_this377$state.color,o=_this377$state.hue,_i$toHsv=i.toHsv(),s=_i$toHsv.a,n=new _ao({h:o,s:e,v:t,a:s});_this377.onChange(n),_this377.setState({color:n,hexInputValue:n.toHexString()});};_this377.onInputChange=function(e){return function(t){var i=_this377.state.color;if(t.match(/0*([0-9]|[1-8][0-9]|9[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/g)||!t.trim()){var o=i.toRgb();o[e]=parseInt(t,10)||0;var s=new _ao(o);_this377.onChange(s),_this377.setState({color:s,hexInputValue:s.toHexString(),hue:s.toHsl().h});}};};var t=_this377.props.color,i=new _ao(t);_this377.state={color:i,hue:i.toHsl().h,hexInputValue:i.toHexString()};return _this377;}_createClass(xf,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,!1),document.addEventListener("touchstart",this.handleOutsideClick,!1),document.addEventListener("keydown",this.handleOutsideClick,!1);}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var _this$props11=this.props,t=_this$props11.color,i=_this$props11.show;if(i&&!e.show){var o=new _ao(t);this.setState({color:o,hue:o.toHsl().h,hexInputValue:o.toHexString()});}}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1),document.removeEventListener("keydown",this.handleOutsideClick,!1);}},{key:"render",value:function render(){var _this$props12=this.props,e=_this$props12.show,t=_this$props12.showArrow,i=_this$props12.direction,o=_this$props12.arrowOffset,s=_this$props12.topOffset,n=_this$props12.leftOffset,a=_this$props12.labelHex,l=_this$props12.labelR,c=_this$props12.labelG,u=_this$props12.labelB,p=_this$props12.labelSliderHue,m=_this$props12.labelSliderOpacity,_this$state7=this.state,h=_this$state7.color,g=_this$state7.hexInputValue,v=_this$state7.hue,_h$toRgb=h.toRgb(),S=_h$toRgb.r,_=_h$toRgb.g,I=_h$toRgb.b,E=h.clone().setAlpha(1).toRgbString(),O=h.clone().setAlpha(0).toRgbString();return pi["default"].createElement("div",{ref:this.node},pi["default"].createElement(gle,{show:e,direction:i,leftOffset:n,topOffset:s},pi["default"].createElement(TH,{direction:i},t&&pi["default"].createElement(cH,{direction:i,arrowOffset:o}),pi["default"].createElement(wH,{color:h,hue:v,onChange:this.onSaturationBrightnessChange}),pi["default"].createElement(M.Spacer,{count:2}),pi["default"].createElement(M.Input.Label,{label:p}),pi["default"].createElement(ble,{hue:v,onChange:this.onHueChange}),pi["default"].createElement(M.Spacer,{count:2}),pi["default"].createElement(M.Input.Label,{label:m}),pi["default"].createElement(_le,{color:h,opaqueColor:E,transparentColor:O,onChange:this.onAlphaChange}),pi["default"].createElement(yle,null,pi["default"].createElement(mH,{value:g,label:a,onChange:this.onHexValueChange}),pi["default"].createElement(xle,null,pi["default"].createElement(Ev,{value:S,label:l,onChange:this.onInputChange("r")}),pi["default"].createElement(Ev,{value:_,label:c,onChange:this.onInputChange("g")}),pi["default"].createElement(Ev,{value:I,label:u,onChange:this.onInputChange("b")}))))));}}]);return xf;}(pi["default"].Component);xf.defaultProps={direction:"bottom",showArrow:!0};TH.defaultProps={theme:to};});var EH=d(function(){X2();DH();});var Um,IH,vle,eD,FH,OH=d(function(){Um=y(x("react"));Le();U();IH=y(x("styled-components"));EH();nt();$();vle=IH["default"].div(_templateObject211||(_templateObject211=_taggedTemplateLiteral(["\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n"]))),eD=/*#__PURE__*/function(_Um$default$Component){_inherits(eD,_Um$default$Component);var _super235=_createSuper(eD);function eD(e){var _this378;_classCallCheck(this,eD);_this378=_super235.call(this,e);_this378.containerRef=null;_this378.onClick=function(e){return function(t){var _this378$props=_this378.props,i=_this378$props.onAddSnapshot,o=_this378$props.config,s=_this378$props.onChange,n=_this378$props.colorPickerDirection,a=_this378$props.rect,_this378$state=_this378.state,l=_this378$state.activeIdentifier,c=_this378$state.showColorPicker,u=_this378$state.colorList,p=u.find(function(m){return m.identifier===e;});if(l===p.identifier&&!c){var _t$currentTarget$getB=t.currentTarget.getBoundingClientRect(),m=_t$currentTarget$getB.left,h=_t$currentTarget$getB.width,g=_t$currentTarget$getB.top,v=_t$currentTarget$getB.height,_this378$containerRef=_this378.containerRef.current.getBoundingClientRect(),S=_this378$containerRef.left,_=_this378$containerRef.top,I=o.measurements.color.colorPicker,E=I.arrow.width/2,O=m-S+h/2-2,V=n==="bottom"?g-_+v+E:g-_-E,F=-24,P=I.width-I.arrow.width-12;O>P&&(F+=O-P,O-=F);var ae=!0;if(n==="bottom"&&a){var de=a.height,ye=a.top,Te=g-ye,Ce=de-(Te+v),xe=o.measurements.color.colorPicker.height+E;Ce<xe&&(V=Ce-xe),Te+V<Te+v/2&&(V+=E,ae=!1);}_this378.setState({showColorPicker:!0,showColorPickerArrow:ae,arrowOffset:O,topOffset:V,leftOffset:F});}else c?_this378.setState({showColorPicker:!1}):(s(p.color),_this378.setState({activeIdentifier:e}),i&&i());};};_this378.onChange=function(_ref168){var e=_ref168.color,t=_ref168.colorString;var i=_this378.props.onChange,_this378$state2=_this378.state,o=_this378$state2.activeIdentifier,s=_this378$state2.colorList,n=s.findIndex(function(a){return a.identifier===o;});if(n!==-1){var a=_toConsumableArray(s);a[n]={identifier:s[n].identifier,colorString:t,color:e},_this378.setState({colorList:a});}i(e);};_this378.onChangeColorPicker=function(_ref169){var e=_ref169.color,t=_ref169.colorString;_this378.onChange({color:[e[0]/255,e[1]/255,e[2]/255,e[3]],colorString:t});};_this378.closeColorPicker=function(){_this378.setState({showColorPicker:!1});};_this378.getColorPicker=function(){var _this378$props2=_this378.props,e=_this378$props2.activeColor,t=_this378$props2.labelsColor,i=_this378$props2.colorPickerDirection,o=_this378$props2.onAddSnapshot,_this378$state3=_this378.state,s=_this378$state3.showColorPicker,n=_this378$state3.showColorPickerArrow,a=_this378$state3.arrowOffset,l=_this378$state3.leftOffset,c=_this378$state3.topOffset;return Um["default"].createElement(xf,{color:fe(e),show:s,showArrow:n,direction:i,arrowOffset:a,leftOffset:l,topOffset:c,labelHex:t.hex,labelR:t.r,labelG:t.g,labelB:t.b,labelSliderOpacity:t.sliderOpacity,labelSliderHue:t.sliderHue,onChange:_this378.onChangeColorPicker,onRequestClose:_this378.closeColorPicker,onAddSnapshot:o});};var t=_this378.props.colors;_this378.containerRef=Um["default"].createRef(),_this378.state={activeIdentifier:"",activeSprite:"",colorList:_toConsumableArray(t),showColorPicker:!1,showColorPickerArrow:!1,arrowOffset:0,leftOffset:0,topOffset:0};return _this378;}_createClass(eD,[{key:"render",value:function render(){var _this379=this;var _this$props13=this.props,e=_this$props13.tool,t=_this$props13.isDisabled,i=_this$props13.custom,o=_this$props13.config,_this$state8=this.state,s=_this$state8.activeIdentifier,n=_this$state8.colorList,a=i.getColorItem(),l=o.assetProvider.getPath("controls","/tiled-background.png"),c=n.map(function(u){return Um["default"].createElement(a,{tool:e,key:"".concat(u.colorString,"-item-").concat(u.identifier),isActive:u.identifier===s,isDisabled:t,onClick:_this379.onClick(u.identifier),color:u.colorString,label:u.identifier,tiledBackgroundUrl:l});});return Um["default"].createElement(vle,{"data-test":j.ColorList,ref:this.containerRef},c,this.getColorPicker());}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref170,_ref171){var e=_ref170.activeSprite,t=_ref170.activeColor;var i=_ref171.activeSprite,o=_ref171.colorList;if(e!==i||!e){var s=ga(fe(t)),n=o.find(function(_ref172){var a=_ref172.colorString;return a===s;});return{activeSprite:e,activeIdentifier:n?n.identifier:""};}return null;}}]);return eD;}(Um["default"].Component);eD.defaultProps={colorPickerDirection:"bottom",isDisabled:!1};FH=ne("config","custom")(D(eD));});var tD,Ht,RH=d(function(){tD=y(x("react"));wC();OH();Ht=function Ht(r){return tD["default"].createElement(ob.Consumer,null,function(_ref173){var e=_ref173.rect;return tD["default"].createElement(FH,L(w({},r),{rect:e}));});};});var vf,iD,Cle,Sle,AH,PH,BH=d(function(){vf=y(x("react"));U();iD=y(x("styled-components"));nt();$();ni();Cle=(0,iD["default"])(_e.Controls.Container)(_templateObject212||(_templateObject212=_taggedTemplateLiteral(["\n  cursor: none;\n"]))),Sle=iD["default"].div(_templateObject213||(_templateObject213=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n  color: ",";\n"])),function(r){return r.theme.foreground;}),AH=/*#__PURE__*/function(_vf$default$Component){_inherits(AH,_vf$default$Component);var _super236=_createSuper(AH);function AH(e){var _this380;_classCallCheck(this,AH);_this380=_super236.call(this,e);_this380.INITIAL_POSITION={x:void 0,y:void 0};_this380.state=L(w({},_this380.INITIAL_POSITION),{isDrawing:!1});_this380.containerElementRef=null;_this380.getCursorCoordinates=function(e){var t=0,i=0;if(e.type.indexOf("touch")!==-1){var a=e;if(!a.touches.length)return L(w({},_this380.INITIAL_POSITION),{height:0,width:0});t=a.touches[0].clientX,i=a.touches[0].clientY;}else{var _a6=e;t=_a6.clientX,i=_a6.clientY;}var o=_this380.containerElementRef.current.getBoundingClientRect(),s=t-o.left,n=i-o.top;return{x:s,y:n,height:o.height,width:o.width};};_this380.draw=function(e){e.preventDefault(),e.stopPropagation(),_this380.touchDraw(e);};_this380.touchDraw=function(e){var _this380$getCursorCoo=_this380.getCursorCoordinates(e),t=_this380$getCursorCoo.x,i=_this380$getCursorCoo.y;t!==void 0&&i!==void 0&&(_this380.setState({x:t,y:i}),_this380.state.isDrawing&&_this380.brushTool.strokePosition({x:t,y:i}));};_this380.touchStart=function(){_this380.brushTool.clickableCanvas(!1),_this380.setState({isDrawing:!0}),_this380.brushTool.beginStroke();};_this380.start=function(e){e.button===0?_this380.touchStart():_this380.stop(e);};_this380.stop=function(e){_this380.state.isDrawing&&(e.preventDefault(),e.stopPropagation(),_this380.setState({isDrawing:!1}),_this380.brushTool.endStroke(),_this380.brushTool.clickableCanvas(!0));};_this380.setInitialPosition=function(){_this380.setState(w({},_this380.INITIAL_POSITION));};_this380.mouseOut=function(e){var t=_this380.props.config;e.preventDefault(),e.stopPropagation();var i=_this380.brushTool.sizeOnScreenSpace/2,_this380$getCursorCoo2=_this380.getCursorCoordinates(e),o=_this380$getCursorCoo2.x,s=_this380$getCursorCoo2.y,n=_this380$getCursorCoo2.height,a=_this380$getCursorCoo2.width;o&&s&&(o<0||s<0||o>a-i||s>n-i||s<t.measurements.mainCanvasActionBar.height)&&_this380.setInitialPosition();};_this380.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var _this380$state=_this380.state,t=_this380$state.x,i=_this380$state.y;t&&i&&_this380.setInitialPosition();};_this380.getCursor=function(){var _this380$state2=_this380.state,e=_this380$state2.x,t=_this380$state2.y;if(e&&t){var i=ga(_this380.brushTool.color),o="".concat(_this380.brushTool.sizeOnScreenSpace,"px"),s={left:"".concat(_this380.state.x,"px"),top:"".concat(_this380.state.y,"px"),borderColor:i,height:o,width:o};return vf["default"].createElement(Sle,{style:s,"data-test":j.Cursor});}return null;};_this380.containerElementRef=vf["default"].createRef();return _this380;}_createClass(AH,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!1});}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1);}},{key:"brushTool",get:function get(){return this.props.brushTool;}},{key:"render",value:function render(){return vf["default"].createElement(Cle,{ref:this.containerElementRef,"data-test":j.CursorContainer,onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.touchStart,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor());}}]);return AH;}(vf["default"].Component),PH=ne("brushTool","config")(D(AH));});var Mo,Av=d(function(){Mo=function Mo(r,e){return r!==void 0&&e!==void 0&&!Number.isNaN(r)&&!Number.isNaN(e);};});var Lo,MH,rD,wle,LH,zH,UH=d(function(){var _e$Controls;Lo=y(x("react"));U();MH=y(x("styled-components"));re();nt();ni();Av();rD=(0,MH["default"])(_e.Controls.Knob)(_templateObject214||(_templateObject214=_taggedTemplateLiteral(["\n  margin-top: -","px;\n  margin-left: -","px;\n"])),function(r){return r.theme.measurements.canvasControls.knob.touchable.desktop/2;},function(r){return r.theme.measurements.canvasControls.knob.touchable.desktop/2;}),(_e$Controls=_e.Controls,wle=_e$Controls.Container,_e$Controls),LH=/*#__PURE__*/function(_Lo$default$Component){_inherits(LH,_Lo$default$Component);var _super237=_createSuper(LH);function LH(e){var _this381;_classCallCheck(this,LH);_this381=_super237.call(this,e);_this381.start=function(e,_ref174){var t=_ref174.x,i=_ref174.y;Mo(t,i)&&_this381.focusTool.setStart({x:t,y:i});};_this381.end=function(e,_ref175){var t=_ref175.x,i=_ref175.y;Mo(t,i)&&_this381.focusTool.setEnd({x:t,y:i});};_this381.onKnob1DragStart=function(e,t){_this381.focusTool.clickableCanvas(!1),_this381.start(e,t);};_this381.onKnob1DragStop=function(e,t){_this381.addSnapshot(t,_this381.historyLocale.focusPosition),_this381.start(e,t),_this381.focusTool.clickableCanvas(!0);};_this381.onKnob2DragStart=function(e,t){_this381.focusTool.clickableCanvas(!1),_this381.end(e,t);};_this381.onKnob2DragStop=function(e,t){_this381.addSnapshot(t,_this381.historyLocale.focusPosition),_this381.end(e,t),_this381.focusTool.clickableCanvas(!0);};_this381.addSnapshot=function(_ref176,i){var e=_ref176.x,t=_ref176.y;Mo(e,t)&&_this381.focusTool.toolSnapshot(i);};_this381.getLine=function(){var _this381$props$canvas=_this381.props.canvas.canvasSize,e=_this381$props$canvas.height,t=_this381$props$canvas.width,i=_this381.focusTool.startOnPreview,o=_this381.focusTool.endOnPreview;return Lo["default"].createElement("svg",{focusable:"false",height:e,width:t},Lo["default"].createElement("line",{x1:i.x,y1:i.y,x2:o.x,y2:o.y,strokeWidth:"2",stroke:"currentColor"}));};_this381.startRef=Lo["default"].createRef(),_this381.endRef=Lo["default"].createRef();return _this381;}_createClass(LH,[{key:"focusTool",get:function get(){return this.props.focusTool;}},{key:"historyLocale",get:function get(){return this.focusTool.locale.history;}},{key:"render",value:function render(){return Lo["default"].createElement(wle,null,Lo["default"].createElement(_e.Controls.Line,null,this.getLine()),Lo["default"].createElement(M.Draggable,{nodeRef:this.startRef,bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},Lo["default"].createElement(rD,{ref:this.startRef})),Lo["default"].createElement(M.Draggable,{nodeRef:this.endRef,bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},Lo["default"].createElement(rD,{ref:this.endRef})));}}]);return LH;}(Lo["default"].Component);rD.defaultProps={theme:to};zH=ne("canvas","focusTool")(D(LH));});var va,Cf,NH=d(function(){va=y(x("react"));U();re();nt();$();ni();Av();Cf=/*#__PURE__*/function(_va$default$Component){_inherits(Cf,_va$default$Component);var _super238=_createSuper(Cf);function Cf(e){var _this382;_classCallCheck(this,Cf);_this382=_super238.call(this,e);_this382.getKnobPosition=function(){var e=_this382.props.focusTool,t=e.origin,i=e.size,o=i/2,s=Math.PI/2+e.rotation;return{x:t.x+o*Math.cos(s),y:t.y+o*Math.sin(s)};};_this382.onArea=function(e,_ref177){var t=_ref177.x,i=_ref177.y;var o=_this382.props.editor,s=o.configStore.measurements.canvasControls.knob.size;if(Mo(t,i)){var _this382$props=_this382.props,n=_this382$props.canvas,a=_this382$props.focusTool,l=a.size,c=a.mirroredAreaWidth,u=t+c/2,p=i+l/2,m=new B(_this382.getKnobPosition()),g=new B({x:t,y:i}).subtract(new B(_this382.areaPosition)),v=m.add(g);v.x>s&&v.x<n.canvasSize.width-s&&v.y>s&&v.y<n.canvasSize.height-s&&a.setOrigin({x:u,y:p});}};_this382.onKnob=function(e,_ref178){var t=_ref178.x,i=_ref178.y;var o=_this382.props.focusTool;if(Mo(t,i)){o.clickableCanvas(!1);var s=new B(o.origin),n=new B(t,i),a=s.subtract(n),l=a.magnitude,c=Math.PI/2+Math.atan2(a.y,a.x);o.setSize(l*2),o.setRotation(c);}};_this382.onAreaDragStop=function(e,t){var i=_this382.props.focusTool;_this382.addSnapshot(t,i.locale.history.focusPosition),_this382.onArea(e,t),i.clickableCanvas(!0);};_this382.onKnobDragStop=function(e,t){var i=_this382.props.focusTool;_this382.addSnapshot(t,i.locale.history.focusSize),_this382.onKnob(e,t),i.clickableCanvas(!0);};_this382.addSnapshot=function(_ref179,i){var e=_ref179.x,t=_ref179.y;var o=_this382.props.focusTool;Mo(e,t)&&o.toolSnapshot(i);};_this382.knobRef=va["default"].createRef(),_this382.areaRef=va["default"].createRef();return _this382;}_createClass(Cf,[{key:"areaPosition",get:function get(){var e=this.props.focusTool,t=e.origin,i=e.size,o=e.mirroredAreaWidth;return{x:t.x-o/2,y:t.y-i/2};}},{key:"render",value:function render(){var _this$areaPosition=this.areaPosition,e=_this$areaPosition.x,t=_this$areaPosition.y,i=this.props.focusTool;return va["default"].createElement(_e.Controls.Container,null,va["default"].createElement(M.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},va["default"].createElement(_e.Controls.Knob,{ref:this.knobRef})),va["default"].createElement(M.Draggable,{nodeRef:this.areaRef,onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:e,y:t},rotation:i.rotation},va["default"].createElement(_e.Controls.Area,{ref:this.areaRef,"data-test":j.Focus,height:i.size,width:i.mirroredAreaWidth})));}}]);return Cf;}(va["default"].Component);Cf=f([ne("focusTool","canvas","editor"),D],Cf);});var Ca,Sf,HH=d(function(){Ca=y(x("react"));U();re();nt();$();ni();Av();Sf=/*#__PURE__*/function(_Ca$default$Component){_inherits(Sf,_Ca$default$Component);var _super239=_createSuper(Sf);function Sf(e){var _this383;_classCallCheck(this,Sf);_this383=_super239.call(this,e);_this383.state={knobAngle:2.35};_this383.onCircle=function(e,_ref180){var t=_ref180.x,i=_ref180.y;if(Mo(t,i)){var o=_this383.props.focusTool;o.setCenter({x:t+o.radius,y:i+o.radius});}};_this383.onKnob=function(e,_ref181){var t=_ref181.x,i=_ref181.y;if(Mo(t,i)){var o=_this383.props.focusTool,s=new B(t,i),a=new B(o.center.x,o.center.y).subtract(s),l=a.magnitude,c=-Math.atan2(a.y,a.x);_this383.setState({knobAngle:c}),o.setRadius(l);}};_this383.onCircleDragStart=function(e,t){var i=_this383.props.focusTool;i.clickableCanvas(!1),_this383.onCircle(e,t);};_this383.onCircleDragStop=function(e,t){var i=_this383.props.focusTool;_this383.addSnapshot(t,i.locale.history.focusPosition),_this383.onCircle(e,t),i.clickableCanvas(!0);};_this383.onKnobDragStart=function(e,t){var i=_this383.props.focusTool;i.clickableCanvas(!1),_this383.onKnob(e,t);};_this383.onKnobDragStop=function(e,t){var i=_this383.props.focusTool;_this383.addSnapshot(t,i.locale.history.focusSize),_this383.onKnob(e,t),i.clickableCanvas(!0);};_this383.addSnapshot=function(_ref182,i){var e=_ref182.x,t=_ref182.y;var o=_this383.props.focusTool;Mo(e,t)&&o.toolSnapshot(i);};_this383.knobRef=Ca["default"].createRef(),_this383.circleRef=Ca["default"].createRef();return _this383;}_createClass(Sf,[{key:"componentDidMount",value:function componentDidMount(){this.setState({knobAngle:2.35});}},{key:"render",value:function render(){var e=this.props.focusTool,t=this.state.knobAngle,i=e.center,o=e.radius,s={x:i.x-o,y:i.y-o},n=Math.PI-t,a={x:i.x+o*Math.cos(n),y:i.y+o*Math.sin(n)};return Ca["default"].createElement(_e.Controls.Container,null,Ca["default"].createElement(M.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:a},Ca["default"].createElement(_e.Controls.Knob,{ref:this.knobRef})),Ca["default"].createElement(M.Draggable,{nodeRef:this.circleRef,onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:s},Ca["default"].createElement(_e.Controls.Circle,{ref:this.circleRef,"data-test":j.Focus,radius:o})));}}]);return Sf;}(Ca["default"].Component);Sf=f([ne("focusTool","canvas"),D],Sf);});var WH,GH,VH=d(function(){WH=y(x("react"));U();H();J();UH();NH();HH();GH=D(function(){var _R6=R(),r=_R6.focusTool,e=r.state,i=function(){switch(e.identifier){case Ue.LINEAR:return zH;case Ue.RADIAL:return Sf;case Ue.MIRRORED:return Cf;default:return null;}}();return r.isOptionSelected&&i?WH["default"].createElement(i,null):null;});});var jH,$H,qH=d(function(){jH=y(x("react"));J();$H=function $H(_ref183){var r=_ref183.customButtonKey,e=_ref183.onClick,t=_ref183.label,i=_ref183.icon,o=_ref183.disabled;var _R7=R(),s=_R7.custom,n=s.getButton(r);return jH["default"].createElement(n,{onClick:e,label:t,ariaLabel:t,icon:i,isDisabled:o});};});var KH=d(function(){qH();});var oD,Nm,XH=d(function(){oD=y(x("react"));$();ni();KH();Nm=function Nm(_ref184){var r=_ref184.availableKeys,e=_ref184.actions;return oD["default"].createElement(_e.Bar.ButtonGroup,{onClick:lR},r.map(function(t){var i=e[t];return i?oD["default"].createElement($H,w({key:t},i)):null;}));};});var Pv=d(function(){XH();});var Hm,kle,YH,JH=d(function(){Hm=y(x("react"));U();H();Lt();Pv();kle=function kle(_ref185){var _i34;var r=_ref185.sprite,e=_ref185.stickerTool;var t=e.locale.canvasActions,i=(_i34={},_defineProperty(_i34,Be.BRING_TO_FRONT,{customButtonKey:"canvasActionBringToFront",onClick:e.bringToFront,label:t.buttonBringToFront,icon:Hm["default"].createElement(it.bringToFront,null),disabled:r.isOnTop}),_defineProperty(_i34,Be.FLIP,{customButtonKey:"canvasActionFlip",onClick:e.flipHorizontally,label:t.buttonFlipHorizontal,icon:Hm["default"].createElement(it.flipHorizontal,null)}),_defineProperty(_i34,Be.DUPLICATE,{customButtonKey:"canvasActionDuplicate",onClick:function onClick(){return e.duplicate();},label:t.buttonDuplicate,icon:Hm["default"].createElement(it.duplicate,null)}),_defineProperty(_i34,Be.DELETE,{customButtonKey:"canvasActionDelete",onClick:e["delete"],label:t.buttonDelete,icon:Hm["default"].createElement(it["delete"],null)}),_i34);return e.isStickerSelected?Hm["default"].createElement(Nm,{availableKeys:e.config.canvasActions,actions:i}):null;},YH=ne("sprite","stickerTool")(D(kle));});var Wm,Tle,ZH,QH=d(function(){Wm=y(x("react"));U();H();Lt();Pv();Tle=function Tle(_ref186){var _i35;var r=_ref186.textTool,e=_ref186.sprite;var t=r.locale.canvasActions,i=(_i35={},_defineProperty(_i35,Be.EDIT,{customButtonKey:"canvasActionEdit",onClick:function onClick(){return r.setEditMode(!0);},label:t.buttonEdit,icon:Wm["default"].createElement(it.edit,null)}),_defineProperty(_i35,Be.BRING_TO_FRONT,{customButtonKey:"canvasActionBringToFront",onClick:r.bringToFront,label:t.buttonBringToFront,icon:Wm["default"].createElement(it.bringToFront,null),disabled:e.isOnTop}),_defineProperty(_i35,Be.DUPLICATE,{customButtonKey:"canvasActionDuplicate",onClick:r.duplicate,label:t.buttonDuplicate,icon:Wm["default"].createElement(it.duplicate,null)}),_defineProperty(_i35,Be.DELETE,{customButtonKey:"canvasActionDelete",onClick:r["delete"],label:t.buttonDelete,icon:Wm["default"].createElement(it["delete"],null)}),_i35);return e.isSpriteText?Wm["default"].createElement(Nm,{availableKeys:r.config.canvasActions,actions:i}):null;},ZH=ne("textTool","sprite")(D(Tle));});var Bd,Dle,eW,tW=d(function(){Bd=y(x("react"));U();H();Lt();Pv();Dle=function Dle(_ref187){var _i36;var r=_ref187.sprite,e=_ref187.textDesignTool;var t=e.locale.canvasActions,i=(_i36={},_defineProperty(_i36,Be.EDIT,{customButtonKey:"canvasActionEdit",onClick:function onClick(){return e.setEditMode(!0);},label:t.buttonEdit,icon:Bd["default"].createElement(it.edit,null)}),_defineProperty(_i36,Be.BRING_TO_FRONT,{customButtonKey:"canvasActionBringToFront",onClick:e.bringToFront,label:t.buttonBringToFront,icon:Bd["default"].createElement(it.bringToFront,null),disabled:r.isOnTop}),_defineProperty(_i36,Be.INVERT,{customButtonKey:"canvasActionInvert",onClick:e.invertBackground,label:t.buttonInvert,icon:Bd["default"].createElement(it.flipHorizontal,null)}),_defineProperty(_i36,Be.DUPLICATE,{customButtonKey:"canvasActionDuplicate",onClick:e.duplicate,label:t.buttonDuplicate,icon:Bd["default"].createElement(it.duplicate,null)}),_defineProperty(_i36,Be.DELETE,{customButtonKey:"canvasActionDelete",onClick:function onClick(){return e["delete"]();},label:t.buttonDelete,icon:Bd["default"].createElement(it["delete"],null)}),_i36);return e.isTextDesignSelected?Bd["default"].createElement(Nm,{availableKeys:e.config.canvasActions,actions:i}):null;},eW=ne("sprite","textDesignTool")(D(Dle));});var Md,wf,iW=d(function(){Md=y(x("react"));U();H();$();ni();JH();QH();tW();wf=/*#__PURE__*/function(_Md$default$Component){_inherits(wf,_Md$default$Component);var _super240=_createSuper(wf);function wf(e){var _this384;_classCallCheck(this,wf);_this384=_super240.call(this,e);_this384.actionsRef=null;_this384.spriteControlPosition=function(){var _this384$props=_this384.props,e=_this384$props.config,t=_this384$props.sprite,i=_this384$props.canvas.canvasSize,_e$measurements$canva=e.measurements.canvasControls.sprite,o=_e$measurements$canva.controlPadding,s=_e$measurements$canva.controlOffset,_t$position=t.position,n=_t$position.x,a=_t$position.y,_t$currentSprite$size=t.currentSprite.size,l=_t$currentSprite$size.height,c=_t$currentSprite$size.width,u=t.rotationWRTOutputRotation,p=_this384.actionsRef.current,m=new B(0,0);if(p){var v=p.getBoundingClientRect();m=new B(v.width/2+s,v.height+s);}var h=Math.abs(c*Math.sin(u))+Math.abs(l*Math.cos(u)),g=new B(n,a-h/2-o-s).clamp(m,new B(i.width,i.height).subtract(m));return{left:g.x,top:g.y};};_this384.getSpriteControls=function(){var e=_this384.props.sprite;switch(e.tool){case C.TEXT:return Md["default"].createElement(ZH,null);case C.TEXT_DESIGN:return Md["default"].createElement(eW,null);case C.STICKER:return Md["default"].createElement(YH,null);default:return null;}};_this384.actionsRef=Md["default"].createRef(),_this384.state={isMounted:!1};return _this384;}_createClass(wf,[{key:"componentDidMount",value:function componentDidMount(){this.setState({isMounted:!0});}},{key:"render",value:function render(){var e=this.props.sprite,t=this.state.isMounted,i=!e.isDragMode&&!e.isEditMode,o=this.spriteControlPosition();return Md["default"].createElement(_e.Controls.SpriteActionsWrapper,{"data-test":j.SpriteActions,ref:this.actionsRef,show:i&&t,style:w({},o)},this.getSpriteControls());}}]);return wf;}(Md["default"].Component);wf=f([ne("sprite","config","editor","canvas"),D],wf);});var qi,Bv,Mv,sD,nD,rW,oW=d(function(){var _e$Controls2,_M2;qi=y(x("react"));U();re();nt();J();$();ni();(_e$Controls2=_e.Controls,Bv=_e$Controls2.Corner,_e$Controls2),(_M2=M,Mv=_M2.Draggable,_M2),sD=new B(0,0),nD=new B(0,0),rW=D(function(){var r=(0,qi.useRef)(null),e=(0,qi.useRef)(null),t=(0,qi.useRef)(null),i=(0,qi.useRef)(null),_R8=R(),o=_R8.config,s=_R8.sprite,n=s.leftTopPosition,a=s.leftBottomPosition,l=s.rightTopPosition,c=s.rightBottomPosition,u=o.measurements.canvasControls.corner.borderWidth,p=function p(_ref188){var v=_ref188.clientX,S=_ref188.clientY;v!==void 0&&S!==void 0&&s.onCornerDrag(nD.subtract(sD.subtract(new B(v,S))));},m=function m(v){switch(v){case"leftTop":return n;case"leftBottom":return a;case"rightTop":return l;case"rightBottom":return c;default:return n;}},h=function h(v,S){var _=v.clientX,I=v.clientY;sD=new B(_,I),nD=new B(m(S)),s.clickableCanvas(!1),s.setDragMode(!0);},g=function g(){s.clickableCanvas(!0),s.setDragMode(!1),s.spriteSnapshot("size"),sD=new B(0,0),nD=new B(0,0);};return qi["default"].createElement(qi["default"].Fragment,null,qi["default"].createElement(Mv,{nodeRef:r,onStop:g,onDrag:p,onStart:function onStart(v){return h(v,"leftTop");}},qi["default"].createElement(Bv,{ref:r,"data-test":j.SpriteTopLeft,vertical:"top",horizontal:"left",borderWidth:u})),qi["default"].createElement(Mv,{nodeRef:t,onStop:g,onDrag:p,onStart:function onStart(v){return h(v,"leftBottom");}},qi["default"].createElement(Bv,{ref:t,"data-test":j.SpriteBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:u})),qi["default"].createElement(Mv,{nodeRef:e,onStop:g,onDrag:p,onStart:function onStart(v){return h(v,"rightTop");}},qi["default"].createElement(Bv,{ref:e,"data-test":j.SpriteTopRight,vertical:"top",horizontal:"right",borderWidth:u})),qi["default"].createElement(Mv,{nodeRef:i,onStop:g,onDrag:p,onStart:function onStart(v){return h(v,"rightBottom");}},qi["default"].createElement(Bv,{ref:i,"data-test":j.SpriteBottomRight,vertical:"bottom",horizontal:"right",borderWidth:u})));});});var cn,aD,Ele,Ile,lD,cD,Fle,sW,nW=d(function(){cn=y(x("react"));U();aD=y(x("styled-components"));re();nt();Ele=aD["default"].img(_templateObject215||(_templateObject215=_taggedTemplateLiteral(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),Ile=aD["default"].img(_templateObject216||(_templateObject216=_taggedTemplateLiteral(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),lD=new B(0,0),cD=new B(0,0),Fle=function Fle(_ref189){var r=_ref189.sprite,e=_ref189.config;var t=(0,cn.useRef)(null),i=(0,cn.useRef)(null),o=r.leftMidPosition,s=r.rightMidPosition,n=e.assetProvider.getPath("controls","/arrow-left.png"),a=e.assetProvider.getPath("controls","/arrow-right.png"),l=function l(p,m){r.setDragMode(!0),r.clickableCanvas(!1);var h=p.clientX,g=p.clientY;lD=new B(h,g),cD=new B(m==="left"?o:s);},c=function c(){r.clickableCanvas(!0),r.setDragMode(!1),r.addSnapshot(Ee.EDIT,r.textDesignLocale.padding),lD=new B(0,0),cD=new B(0,0);},u=function u(_ref190){var p=_ref190.clientX,m=_ref190.clientY;if(p!==void 0&&m!==void 0){var h=cD.subtract(lD.subtract(new B(p,m)));r.onPaddingDrag(h);}};return cn["default"].createElement(cn["default"].Fragment,null,cn["default"].createElement(M.Draggable,{nodeRef:t,onStart:function onStart(p){return l(p,"left");},onDrag:u,onStop:c},cn["default"].createElement(Ele,{ref:t,src:n})),cn["default"].createElement(M.Draggable,{nodeRef:i,onStart:function onStart(p){return l(p,"right");},onDrag:u,onStop:c},cn["default"].createElement(Ile,{ref:i,src:a})));},sW=ne("sprite","config")(D(Fle));});var kf,aW,lW,dD,uD,Ole,cW,dW=d(function(){kf=y(x("react"));U();aW=y(x("styled-components"));re();nt();$();ni();lW=(0,aW["default"])(_e.Controls.Knob)(_templateObject217||(_templateObject217=_taggedTemplateLiteral(["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(\n      50% - ","px\n    );\n  }\n"])),function(r){return r.url;},function(r){return r.theme.measurements.canvasControls.knob.size/2;}),dD=new B(0,0),uD=new B(0,0),Ole=function Ole(_ref191){var r=_ref191.config,e=_ref191.sprite,t=_ref191.snapping;var i=(0,kf.useRef)(null),o=e.rightBottomHandlePosition,s=e.leftBottomHandlePosition,n={x:(o.x+s.x)/2,y:(o.y+s.y)/2},a=function a(_ref192){var m=_ref192.clientX,h=_ref192.clientY;dD=new B(m,h),uD=new B(n),e.setDragMode(!0),e.clickableCanvas(!1);},l=function l(){e.clickableCanvas(!0),e.setDragMode(!1),e.spriteSnapshot("rotation"),t.hideRotationGuides(),dD=new B(0,0),uD=new B(0,0);},c=function c(_ref193){var m=_ref193.clientX,h=_ref193.clientY;if(m!==void 0&&h!==void 0){var g=uD.subtract(dD.subtract(new B(m,h))),v=e.position,S=new B(v.x,v.y),_=g.subtract(S),I=Math.atan2(_.y,_.x)-Math.PI/2,E=t.snapToRotation(I,_,e.currentRect);e.setRotation(E);}},u=function u(m){c(m);},p=r.assetProvider.getPath("controls","/".concat(cF()?"rotate-windows":"rotate-osx",".png"));return kf["default"].createElement(M.Draggable,{nodeRef:i,onStart:a,onDrag:u,onStop:l},kf["default"].createElement(lW,{ref:i,url:p}));};lW.defaultProps={theme:to};cW=ne("sprite","snapping","config")(D(Ole));});var dn,Lv,uW,mW,pW,mD,pD,Rle,hW,fW=d(function(){dn=y(x("react"));U();Lv=y(x("styled-components"));re();nt();ni();uW=(0,Lv["default"])(_e.Controls.Width)(_templateObject218||(_templateObject218=_taggedTemplateLiteral(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"]))),mW=(0,Lv["default"])(uW)(_templateObject219||(_templateObject219=_taggedTemplateLiteral(["\n  left: -3px;\n  top: calc(\n    50% - ","px\n  );\n"])),function(r){return r.theme.measurements.canvasControls.width.size/2;}),pW=(0,Lv["default"])(uW)(_templateObject220||(_templateObject220=_taggedTemplateLiteral(["\n  right: -3px;\n  top: calc(\n    50% - ","px\n  );\n"])),function(r){return r.theme.measurements.canvasControls.width.size/2;}),mD=new B(0,0),pD=new B(0,0),Rle=function Rle(_ref194){var r=_ref194.sprite,e=_ref194.textTool;var t=(0,dn.useRef)(null),i=(0,dn.useRef)(null),o=r.leftMidPadPosition,s=r.rightMidPadPosition,n=function n(c,u){r.setDragMode(!0),r.clickableCanvas(!1);var p=c.clientX,m=c.clientY;mD=new B(p,m),pD=new B(u==="left"?o:s);},a=function a(){r.clickableCanvas(!0),r.setDragMode(!1),r.addSnapshot(Ee.EDIT,r.textLocale.width),e.updateDefaultFontSize(),mD=new B(0,0),pD=new B(0,0);},l=function l(_ref195){var c=_ref195.clientX,u=_ref195.clientY;if(c!==void 0&&u!==void 0){var p=pD.subtract(mD.subtract(new B(c,u)));r.onWidthDrag(p);}};return dn["default"].createElement(dn["default"].Fragment,null,dn["default"].createElement(M.Draggable,{nodeRef:t,onStart:function onStart(c){return n(c,"left");},onDrag:l,onStop:a},dn["default"].createElement(mW,{ref:t})),dn["default"].createElement(M.Draggable,{nodeRef:i,onStart:function onStart(c){return n(c,"right");},onDrag:l,onStop:a},dn["default"].createElement(pW,{ref:i})));};mW.defaultProps={theme:to};pW.defaultProps={theme:to};hW=ne("sprite","textTool")(D(Rle));});var zo,Ale,zv,hD,gW,bW=d(function(){var _M3;zo=y(x("react"));U();re();nt();J();$();ni();iW();oW();nW();dW();fW();(_M3=M,Ale=_M3.Draggable,_M3),zv=new B(0,0),hD=new B(0,0),gW=D(function(){var r=(0,zo.useRef)(),_R9=R(),e=_R9.active,t=_R9.config,i=_R9.snapping,o=_R9.sprite,s=function s(_ref196){var _=_ref196.clientX,I=_ref196.clientY;var E=hD.subtract(zv.subtract(new B(_,I))),_i$snapToPosition=i.snapToPosition({x:E.x,y:E.y},o.currentRect),O=_i$snapToPosition.x,V=_i$snapToPosition.y;o.setPosition({x:O,y:V});},n=function n(_){var I=_.clientX,E=_.clientY;zv=new B(I,E),hD=new B(o.position),o.setDragMode(!0),i.updateGuides();},a=function a(_){var I=_.clientX,E=_.clientY,_zv=zv,O=_zv.x,V=_zv.y;zv=new B(0,0),hD=new B(0,0),o.setDragMode(!1),O!==I&&V!==E&&o.spriteSnapshot("position"),i.hidePositionGuides();},l=function l(_){_.preventDefault(),_.stopPropagation(),o.setEditMode(!0);};if(!function(){var _=e.tool,I=o.tool;return o.isSpriteSelected&&_===I;}())return null;var u=o.isSpriteText,p=o.isSpriteTextDesign&&o.textDesignToolStore.isInverted,_o$size=o.size,m=_o$size.height,h=_o$size.width,g=o.spritePosition,v=o.rotationWRTOutputRotation,S=t.measurements.canvasControls.sprite.controlPadding;return zo["default"].createElement(_e.Controls.Container,null,zo["default"].createElement(Ale,{nodeRef:r,onStart:n,onDrag:s,onStop:a,rotation:v,position:g},zo["default"].createElement(_e.Controls.Sprite,{ref:r,"data-test":j.Sprite,onDoubleClick:l,height:m,width:h},u&&zo["default"].createElement(hW,null)||null,p&&zo["default"].createElement(sW,null)||null,zo["default"].createElement(rW,null),zo["default"].createElement(_e.Controls.RotateHandle,{x:h/2+S/2},zo["default"].createElement(cW,null)))),zo["default"].createElement(wf,null));});});var ii,Sa,Uv,Ple,Tf,jl,Ble,Mle,Lle,zle,Ule,_W,yW=d(function(){var _e$Crop,_M4;ii=y(x("react"));U();Sa=y(x("styled-components"));re();$();ls();ni();e1();(_e$Crop=_e.Crop,Uv=_e$Crop.GridLine,_e$Crop),Ple=_e.Crop.Mask,(_M4=M,Tf=_M4.Draggable,_M4),jl=3,Ble=(0,Sa["default"])(vc)(_templateObject221||(_templateObject221=_taggedTemplateLiteral(["\n  left: ","px;\n  top: ","px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 6px;\n    top: 6px;\n  }\n"])),jl,jl),Mle=(0,Sa["default"])(vc)(function(r){var e=r.theme.measurements.canvasControls.corner.touchable.desktop,t=e/4-r.borderWidth;return Sa.css(_templateObject222||(_templateObject222=_taggedTemplateLiteral(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: 6px;\n    }\n  "])),t-e,jl);}),Lle=(0,Sa["default"])(vc)(function(r){var e=r.theme.measurements.canvasControls.corner.touchable.desktop,t=e/4-r.borderWidth;return Sa.css(_templateObject223||(_templateObject223=_taggedTemplateLiteral(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: -30px;\n    }\n  "])),t-e,t-e);}),zle=(0,Sa["default"])(vc)(function(r){var e=r.theme.measurements.canvasControls.corner.touchable.desktop,t=e/4-r.borderWidth;return Sa.css(_templateObject224||(_templateObject224=_taggedTemplateLiteral(["\n    top: ","px;\n    left: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      top: -30px;\n      left: 6px;\n    }\n  "])),t-e,jl);}),Ule=function Ule(_ref197){var r=_ref197.transformTool;var e=(0,ii.useRef)(null),t=(0,ii.useRef)(null),i=(0,ii.useRef)(null),o=(0,ii.useRef)(null),s=(0,ii.useRef)(null),n=r.leftTopRespectFlip,a=r.leftBottomRespectFlip,l=r.rightTopRespectFlip,c=r.rightBottomRespectFlip,_r$cropMaskSize=r.cropMaskSize,u=_r$cropMaskSize.height,p=_r$cropMaskSize.width,m=r.maxCropMaskSize,h=r.defaultCropMaskPosition,g=r.isFlippedHorizontal,v=r.isFlippedVertical,S=m.width/2,_=m.height/2,I=L(w({},m),{left:h.x,top:h.y}),E={height:u,width:p},O=r.isDragMode?{transition:"unset"}:{},V=function V(ht){return g?S*2-ht:ht;},F=function F(ht){return v?_*2-ht:ht;},P=function P(ht,Ve,je){var Yd=V(ht),bg=F(Ve);switch(Zt.getFlippedEdgeIndex(je,g,v)){case 0:r.onLeftTop({x:Yd,y:bg});break;case 1:r.onLeftBottom({x:Yd,y:bg});break;case 2:r.onRightTop({x:Yd,y:bg});break;case 3:r.onRightBottom({x:Yd,y:bg});break;default:break;}},ae=function ae(ht,Ve,je){r.setDragMode(!0),r.clickableCanvas(!1),P(ht,Ve,je);},de=function de(ht,Ve,je){P(ht,Ve,je);},ye=function ye(ht,Ve,je){r.setDragMode(!1),P(ht,Ve,je),r.clickableCanvas(!0),r.trackChanges();},Te=function Te(ht,_ref198){var Ve=_ref198.x,je=_ref198.y;ae(Ve,je,0);},Ce=function Ce(ht,_ref199){var Ve=_ref199.x,je=_ref199.y;de(Ve,je,0);},xe=function xe(ht,_ref200){var Ve=_ref200.x,je=_ref200.y;ye(Ve,je,0);},ut=function ut(ht,_ref201){var Ve=_ref201.x,je=_ref201.y;ae(Ve,je,1);},Ii=function Ii(ht,_ref202){var Ve=_ref202.x,je=_ref202.y;de(Ve,je,1);},hi=function hi(ht,_ref203){var Ve=_ref203.x,je=_ref203.y;ye(Ve,je,1);},fo=function fo(ht,_ref204){var Ve=_ref204.x,je=_ref204.y;ae(Ve,je,2);},Pe=function Pe(ht,_ref205){var Ve=_ref205.x,je=_ref205.y;de(Ve,je,2);},Et=function Et(ht,_ref206){var Ve=_ref206.x,je=_ref206.y;ye(Ve,je,2);},yt=function yt(ht,_ref207){var Ve=_ref207.x,je=_ref207.y;ae(Ve,je,3);},pt=function pt(ht,_ref208){var Ve=_ref208.x,je=_ref208.y;de(Ve,je,3);},Ge=function Ge(ht,_ref209){var Ve=_ref209.x,je=_ref209.y;ye(Ve,je,3);},xt=function xt(ht,Ve){var je=V(ht+p/2)-p/2,Yd=F(Ve+u/2)-u/2;r.changePosition({x:je,y:Yd});},Si=function Si(ht,_ref210){var Ve=_ref210.x,je=_ref210.y;r.setDragMode(!0),r.clickableCanvas(!1),xt(Ve,je);},bs=function bs(ht,_ref211){var Ve=_ref211.x,je=_ref211.y;xt(Ve,je);},_s=function _s(ht,_ref212){var Ve=_ref212.x,je=_ref212.y;r.setDragMode(!1),xt(Ve,je),r.clickableCanvas(!0),r.trackChanges();};return ii["default"].createElement("div",{style:L(w({},I),{position:"absolute"})},ii["default"].createElement(Tf,{nodeRef:s,bounds:"parent",position:n,onStart:Si,onDrag:bs,onStop:_s},ii["default"].createElement(Ple,{ref:s,style:w(w({},E),O)})),ii["default"].createElement(Uv,{style:w({left:n.x+p/3,top:n.y,height:u,width:1},O)}),ii["default"].createElement(Uv,{style:w({left:n.x+p/3*2,top:n.y,height:u,width:1},O)}),ii["default"].createElement(Uv,{style:w({left:n.x,top:n.y+u/3,height:1,width:p},O)}),ii["default"].createElement(Uv,{style:w({left:n.x,top:n.y+u/3*2,height:1,width:p},O)}),ii["default"].createElement(Tf,{nodeRef:e,bounds:"parent",position:w({},n),onStart:Te,onDrag:Ce,onStop:xe},ii["default"].createElement(Ble,{ref:e,"data-test":j.CropTopLeft,vertical:"top",horizontal:"left",borderWidth:jl,style:O})),ii["default"].createElement(Tf,{nodeRef:i,bounds:"parent",position:a,onStart:ut,onDrag:Ii,onStop:hi},ii["default"].createElement(zle,{ref:i,"data-test":j.CropBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:jl,style:O})),ii["default"].createElement(Tf,{nodeRef:t,bounds:"parent",position:l,onStart:fo,onDrag:Pe,onStop:Et},ii["default"].createElement(Mle,{ref:t,"data-test":j.CropTopRight,vertical:"top",horizontal:"right",borderWidth:jl,style:O})),ii["default"].createElement(Tf,{nodeRef:o,bounds:"parent",position:c,onStart:yt,onDrag:pt,onStop:Ge},ii["default"].createElement(Lle,{ref:o,"data-test":j.CropBottomRight,vertical:"bottom",horizontal:"right",borderWidth:jl,style:O})));},_W=ne("transformTool")(D(Ule));});var ps,$l,xW,Nle,Hle,Wle,vW,CW,SW=d(function(){ps=y(x("react"));U();$l=y(x("styled-components"));re();Lt();$();xW=$l["default"].div(_templateObject225||(_templateObject225=_taggedTemplateLiteral(["\n  overflow: hidden;\n  display: none;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n  ","\n\n  svg {\n    color: ",";\n  }\n"])),function(r){return r.isVisible&&$l.css(_templateObject226||(_templateObject226=_taggedTemplateLiteral(["\n      display: inline-block;\n    "])));},function(r){return r.theme.foreground;}),Nle=$l["default"].div(_templateObject227||(_templateObject227=_taggedTemplateLiteral(["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"]))),Hle=$l["default"].div(_templateObject228||(_templateObject228=_taggedTemplateLiteral(["\n  font-size: 15px;\n  display: none;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n  ","\n"])),function(r){return r.theme.foreground;},function(r){return r.isVisible&&$l.css(_templateObject229||(_templateObject229=_taggedTemplateLiteral(["\n      display: inline-block;\n    "])));}),Wle=$l["default"].div(_templateObject230||(_templateObject230=_taggedTemplateLiteral(["\n  transform: translate(0, 0) !important;\n"]))),vW=/*#__PURE__*/function(_ps$default$Component){_inherits(vW,_ps$default$Component);var _super241=_createSuper(vW);function vW(e){var _this385;_classCallCheck(this,vW);_this385=_super241.call(this,e);_this385.SLIDER_WIDTH=213;_this385.MAX_ROTATION=45;_this385.DEGREES_PER_PIXEL=_this385.MAX_ROTATION*2/_this385.SLIDER_WIDTH;_this385.drag=function(e,_ref213){var t=_ref213.x;var _this385$transformToo=_this385.transformTool.rotateFlipState,i=_this385$transformToo.flipHorizontally,o=_this385$transformToo.flipVertically;i!==o&&(t*=-1);var s=_this385.transformTool.defaultAngle-t*_this385.DEGREES_PER_PIXEL,n=Math.min(_this385.MAX_ROTATION,Math.max(s,_this385.MAX_ROTATION*-1));_this385.transformTool.setRotation(parseInt("".concat(n),10));};_this385.stop=function(){_this385.transformTool.setDefaultAngle(_this385.transformTool.rotationInDegrees),_this385.transformTool.trackChanges();};_this385.rotateRef=ps["default"].createRef();return _this385;}_createClass(vW,[{key:"transformTool",get:function get(){return this.props.transformTool;}},{key:"render",value:function render(){var _this$props14=this.props,e=_this$props14.config,t=_this$props14.canvasWidth,i=_this$props14.transformTool,_this$transformTool$r=this.transformTool.rotateFlipState,o=_this$transformTool$r.flipHorizontally,s=_this$transformTool$r.flipVertically,n=!e.isLayoutAdvanced||e.isLayoutAdvanced&&t>e.measurements.canvas.transform.minSliderWidth,a=!e.isLayoutAdvanced||e.isLayoutAdvanced&&t>e.measurements.canvas.transform.minValueWidth,l=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle,c=o===s?l*-1:l,u=o!==s?i.rotationInDegrees*-1:i.rotationInDegrees;return ps["default"].createElement(Nle,{"data-test":j.RotateSlider},ps["default"].createElement(M.Draggable,{nodeRef:this.rotateRef,axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:!0,disabled:!n},ps["default"].createElement(Wle,{ref:this.rotateRef},ps["default"].createElement(xW,{isVisible:n},ps["default"].createElement(it.dots,{width:90,height:15,x:c})),ps["default"].createElement(Hle,{isVisible:a},u,"\xB0"),ps["default"].createElement(xW,{isVisible:n},ps["default"].createElement(it.dots,{width:90,height:15,x:c})))));}}]);return vW;}(ps["default"].Component),CW=ne("transformTool","config")(D(vW));});var ql,Gm,Gle,Vle,jle,$le,qle,Kle,Df,fD=d(function(){ql=y(x("react"));U();Gm=y(x("styled-components"));Lt();$();SW();Gle=(0,Gm["default"])(it.rotate)(_templateObject231||(_templateObject231=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"]))),Vle=(0,Gm["default"])(it.rotate)(_templateObject232||(_templateObject232=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n"]))),jle=(0,Gm["default"])(it.flipHorizontal)(_templateObject233||(_templateObject233=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n"]))),$le=(0,Gm["default"])(it.flipVertical)(_templateObject234||(_templateObject234=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n"]))),qle=Gm["default"].div(_templateObject235||(_templateObject235=_taggedTemplateLiteral(["\n  display: inline-flex;\n  transform: scale(0.9);\n\n  svg {\n    color: ",";\n  }\n"])),function(r){return r.theme.foreground;}),Kle=function Kle(_ref214){var r=_ref214.transformTool,e=_ref214.config,t=_ref214.custom,i=_ref214.canvas;var o=r.locale.transformActions,s=i.canvasSize.width,n=!e.isLayoutAdvanced||e.isLayoutAdvanced&&s>e.measurements.canvas.transform.minFlipWidth,a=function a(_ref215){var h=_ref215.customButtonKey,g=_ref215.onClick,v=_ref215.label,S=_ref215.icon;var _=t.getButton(h);return ql["default"].createElement(_,{key:v,onClick:g,label:v,ariaLabel:v,icon:S,style:{margin:"0 5px"}});},l=a({label:o.buttonFlipHorizontal,icon:ql["default"].createElement(jle,null),onClick:function onClick(){r.flipHorizontally();},customButtonKey:"transformActionFlipHorizontal"}),c=a({label:o.buttonFlipVertical,icon:ql["default"].createElement($le,null),onClick:function onClick(){r.flipVertically();},customButtonKey:"transformActionFlipVertical"}),u=a({label:o.buttonRotateClockwise,icon:ql["default"].createElement(Gle,null),onClick:r.rotateClockwise,customButtonKey:"transformActionRotateClockwise"}),p=a({label:o.buttonRotateAntiClockwise,icon:ql["default"].createElement(Vle,null),onClick:r.rotateAntiClockwise,customButtonKey:"transformActionRotateAntiClockwise"}),m=e.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return ql["default"].createElement(qle,{style:m,"data-test":j.FlipRotateControls},r.config.enableFlip&&n&&l||null,r.config.enableFlip&&n&&c||null,r.config.enableRotation&&ql["default"].createElement(CW,{canvasWidth:s})||null,r.config.enableRotation&&p||null,r.config.enableRotation&&u||null);},Df=ne("transformTool","config","custom","canvas")(D(Kle));});var wa,Xle,Nv,Yle,wW,kW=d(function(){var _e$Crop2;wa=y(x("react"));U();ni();yW();fD();Xle=_e.Bar.Index,(_e$Crop2=_e.Crop,Nv=_e$Crop2.Backdrop,_e$Crop2),Yle=function Yle(_ref216){var r=_ref216.transformTool,e=_ref216.canvas,t=_ref216.config;var i=r.leftTopRespectFlip,o=r.leftBottomRespectFlip,s=r.rightTopRespectFlip,n=r.cropMaskSize.height,_e$canvasSize=e.canvasSize,a=_e$canvasSize.height,l=_e$canvasSize.width,c=r.defaultCropMaskPosition,u=r.isDragMode?{transition:"unset"}:{};return wa["default"].createElement(_e.Controls.Container,null,wa["default"].createElement(Nv,{style:w({left:0,top:0,width:l,height:i.y+c.y},u)}),wa["default"].createElement(Nv,{style:w({left:0,top:i.y+c.y,width:c.x+i.x,height:n},u)}),wa["default"].createElement(Nv,{style:w({left:s.x+c.x,top:s.y+c.y,width:l-s.x-c.x,height:n},u)}),wa["default"].createElement(Nv,{style:w({left:0,top:o.y+c.y,width:l,height:a-o.y-c.y+t.measurements.basicToolControlBar.controlsBarHeight},u)}),wa["default"].createElement(_W,null),t.isLayoutAdvanced?wa["default"].createElement(Xle,{bottom:!0},wa["default"].createElement(Df,null)):null);},wW=ne("transformTool","canvas","config")(D(Yle));});var Hv,Wv,Jle,TW,DW,EW=d(function(){Hv=y(x("react"));U();Wv=y(x("styled-components"));ni();Jle=(0,Wv["default"])(_e.Controls.Container)(_templateObject236||(_templateObject236=_taggedTemplateLiteral(["\n  ","\n  z-index: ",";\n"])),function(r){return r.activeCursor?Wv.css(_templateObject237||(_templateObject237=_taggedTemplateLiteral(["\n          cursor: move;\n        "]))):"";},function(r){return r.theme.measurements.zIndex.canvas.crop.dragImage;}),TW=/*#__PURE__*/function(_Hv$default$Component){_inherits(TW,_Hv$default$Component);var _super242=_createSuper(TW);function TW(e){var _this386;_classCallCheck(this,TW);_this386=_super242.call(this,e);_this386.INITIAL_POSITION={x:void 0,y:void 0};_this386.state=L(w({},_this386.INITIAL_POSITION),{isDragging:!1});_this386.containerRef=null;_this386.getCursorCoordinates=function(e){var t=0,i=0;if(e.type.indexOf("touch")!==-1){var a=e;if(!a.touches.length)return _this386.INITIAL_POSITION;t=a.touches[0].clientX,i=a.touches[0].clientY;}else{var _a7=e;t=_a7.clientX,i=_a7.clientY;}var o=_this386.containerRef.current.getBoundingClientRect(),s=t-o.left,n=i-o.top;return{x:s,y:n};};_this386.move=function(e){if(_this386.scale.canDrag){var _this386$getCursorCoo=_this386.getCursorCoordinates(e),t=_this386$getCursorCoo.x,i=_this386$getCursorCoo.y;if(t!==void 0&&i!==void 0&&_this386.state.isDragging){var o={x:_this386.state.x-t,y:_this386.state.y-i};_this386.scale.setOffset(o);}}};_this386.touchDrag=function(e){if(_this386.scale.canDrag){var _this386$getCursorCoo2=_this386.getCursorCoordinates(e),t=_this386$getCursorCoo2.x,i=_this386$getCursorCoo2.y;t!==void 0&&i!==void 0&&_this386.setState({x:t,y:i,isDragging:!0});}};_this386.drag=function(e){e.preventDefault(),_this386.touchDrag(e);};_this386.stop=function(){_this386.scale.canDrag&&(_this386.scale.savePosition(),_this386.setState(L(w({},_this386.INITIAL_POSITION),{isDragging:!1})));};_this386.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var _this386$state=_this386.state,t=_this386$state.x,i=_this386$state.y;t&&i&&_this386.setState(L(w({},_this386.INITIAL_POSITION),{isDragging:!1}));};_this386.containerRef=Hv["default"].createRef();return _this386;}_createClass(TW,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!0});}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1);}},{key:"scale",get:function get(){return this.props.scale;}},{key:"render",value:function render(){return Hv["default"].createElement(Jle,{ref:this.containerRef,onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag});}}]);return TW;}(Hv["default"].Component),DW=ne("scale")(D(TW));});var un,IW,FW=d(function(){un=y(x("react"));U();H();J();BH();ni();VH();bW();kW();EW();IW=D(function(_ref217){var r=_ref217.children;var e=(0,un.useRef)(null),_R10=R(),t=_R10.active,i=_R10.sprite,o=_R10.canvas,s=function s(){switch(t.tool){case C.FOCUS:return un["default"].createElement(GH,null);case C.TEXT:case C.TEXT_DESIGN:case C.STICKER:return un["default"].createElement(gW,null);case C.BRUSH:return un["default"].createElement(PH,null);case C.TRANSFORM:return un["default"].createElement(wW,null);default:return un["default"].createElement(_e.Controls.Container,null,un["default"].createElement(DW,null));}},n=function n(c){if(c.preventDefault(),c.stopPropagation(),o.isCanvasClickable){var u=c.clientX,p=c.clientY;if(c.type.indexOf("touch")!==-1){var v=c;if(!v.touches.length)return;u=v.touches[0].clientX,p=v.touches[0].clientY;}var m=e.current.getBoundingClientRect(),h=u-m.left,g=p-m.top;o.getContainersAtPreviewPoint({x:h,y:g});}},a=function a(c){c.code==="Tab"&&i.selectLast();},l=o.canvasSize;return un["default"].createElement(_e.Controls.Wrapper,{"aria-hidden":!0,ref:e,onClick:n,onKeyDown:a,height:l.height,width:l.width},r,s());});});var OW,RW,Zle,Qle,gD,AW=d(function(){OW=y(x("react")),RW=y(x("styled-components")),Zle=RW["default"].div(_templateObject238||(_templateObject238=_taggedTemplateLiteral(["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"])),function(_ref218){var r=_ref218.isVisible;return r?"block":"none";},function(r){return r.theme.measurements.zIndex.canvas.snappingGuide;}),Qle=function Qle(_ref219){var r=_ref219.isVisible,e=_ref219.className;return OW["default"].createElement(Zle,{isVisible:r,className:e});},gD=Qle;});var Gv,Ld,ece,tce,ice,rce,PW,BW=d(function(){Gv=y(x("react"));U();Ld=y(x("styled-components"));$();AW();ece=(0,Ld["default"])(gD)(_templateObject239||(_templateObject239=_taggedTemplateLiteral(["\n  background: ",";\n  ","\n"])),function(r){return r.theme.snapping.positionGuideColor;},function(r){return r.direction==="horizontal"?Ld.css(_templateObject240||(_templateObject240=_taggedTemplateLiteral(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "])),function(){return r.position;}):Ld.css(_templateObject241||(_templateObject241=_taggedTemplateLiteral(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "])),function(){return r.position;});}),tce=(0,Ld["default"])(gD)(_templateObject242||(_templateObject242=_taggedTemplateLiteral(["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"])),function(r){return r.theme.snapping.rotationGuideColor;},function(_ref220){var r=_ref220.position;return r.x;},function(_ref221){var r=_ref221.position;return r.y;},function(_ref222){var r=_ref222.rotation;return r;}),ice=Ld["default"].div(_templateObject243||(_templateObject243=_taggedTemplateLiteral(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"])),function(_ref223){var r=_ref223.width;return r;},function(_ref224){var r=_ref224.height;return r;},function(_ref225){var r=_ref225.top;return r;},function(_ref226){var r=_ref226.left;return r;}),rce=function rce(_ref227){var r=_ref227.snapping,e=_ref227.editor;var _e$getPreviewSize=e.getPreviewSize(),t=_e$getPreviewSize.width,i=_e$getPreviewSize.height,_r$previewTopLeftPosi=r.previewTopLeftPosition,o=_r$previewTopLeftPosi.x,s=_r$previewTopLeftPosi.y,n=r.positionGuides.map(function(_ref228,p){var l=_ref228.direction,c=_ref228.value,u=_ref228.isVisible;return Gv["default"].createElement(ece,{key:"positionGuide-".concat(p),direction:l,position:c,isVisible:u});}),a=r.rotationGuides.find(function(_ref229){var l=_ref229.isVisible;return l;});return Gv["default"].createElement(ice,{"data-test":j.SnappingLine,width:t,height:i,left:o,top:s},n,Gv["default"].createElement(tce,{key:"rotationGuide",rotation:a?a.value:0,position:a?a.position:{x:0,y:0},isVisible:!!a}));},PW=ne("snapping","editor")(D(rce));});var MW,LW,oce,zW,UW=d(function(){MW=y(x("react")),LW=y(x("styled-components"));$();oce=LW["default"].img(_templateObject244||(_templateObject244=_taggedTemplateLiteral(["\n  z-index: 5;\n  position: absolute;\n  width: 100px;\n  bottom: 30px;\n  right: 30px;\n"]))),zW=function zW(){return MW["default"].createElement(oce,{alt:"watermark","data-test":j.Watermark,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAACMCAYAAAAzxN3aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABMZSURBVHgB7d1tbFTXmQfw4xTXJsZk4hc8LAYPNWDTxOvZJMITNSkInGaTdOUmRWsTdUsrJYvafsh+yDcUqft9VSkftlLYqMRqpJAVQbJ2SeRiU5NCPKAEm1rBr5BxYpKxwNjGJrZxovb+SaYi1Daee8+59zkz/59k0aoUv83c/32e89xzcl7av//XioiIKEA5OTnqLkVERCQAA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCTCCkWUhUYuXQoNJxJl45OToSuXL6+dn5/Pu379euiL+fn8mbm50EL/nxUrVszmfutbsytyc2dznY+CgoLJVYWF42vLypIlJSUTVVVVo4qIXGMgUVa4du1a/rsnT9YifJyPisVCZylffPFFPj7U3NzN/351fPzmn729vTf/RGCtLixMVkQifZsrKxMMKKL0WBFI//3b3+6d+fzztC8gi6n+7nfjP3zyydPL/ftnz56NHD9+vEEZdk8olHz+uefeVD5qa2ur7e7u3qEMa9qzp7l83boJ5aNUCDmVULUTHhFlGMIKnwcfXV1dauXKlROlxcWJWCwWz9ZwMvHe0fVa+v+3367rO38+pkzIyVEbv/Od7h8//fQJpZH296vzdZaWlib2/vSnLUoAKwLpuhNGcy7uaBczOzubr9I0o/HzL/o5RkdDuIiuXr16Vvnkk0uXIn58b35CO+7dP/2pbnh4OHqzognIzMxM6OORkejHhw9HC1etSt5fUxOv37nznMoyUl9f33/kkXM9PT07TL1GBgYGYs77+bTO93P/wEBU98/zusabfa841CAM7uiVj5LJZLXKEAiig83NDQdfe+2FCxcuxIIMo9tNTU+HOzs7f/Rfv/nNC23Hj/v6O6aFISgeevDBVmUIXn/H2tvrlCYjIyMhPyr9IDGQhEF7SfnkVGdnlaSLtluoKo8cObL996+/vs9500aVYKiaUsHU398fVhSox+rru1fm5RlrJX9dJWl5jznhtl1lOAaSMNempsK6XsB34rxZrK+OcFE/cODAvg97e3fYFK4Ipv89fHjfG4cOPe7X75sWVhuNal3nuRVek2fef79KeYTqyNTN1pYtW8S0kRlIwuh6AS+H7e26o0ePxnBRt3kNbMhpLR549dV9aDcqCoTxKqmvz3OQ9PX1VSgDMHjjrGt2KyEYSAL1a3gB3wmmn2xu16GyONvd/bjKAKiW0G48deqULzci9Pd27txpbMpszFn3wftNedBlaBJ248aNYsIIGEgC+dG2O9fTY+XCOn4ueAwAlYXKILg5ON7R0dTe3i56DSxTPfDAA4mie+9NKEPi8bjr9R+Mes8a6AKgOqrbtk3U1CcDSSA/2nZjly9HlGUQRr87eHBvJk8avRePNzCUgvFwLGZsLQlVktshFox6KwNQHfn9bOCdMJCEunjxorH1HbQPbFx3cdpajRifVhkOoeS1xUPpM10lfdDVlXZXwtSot8TqCBhIQo2NjUVMte1sbNdhzSjTn8G4VeuxY40cdPCfySoJD2qn+542NeotsToCBpJQaNsNDQ0ZqQZsa9e9deTIjkxbM7oT/P5bWlqMb1dF32SySkr3QVlTo95SqyNgIAnWY6CSsa1dhyrhfG9vxj8QuBBUhNzVwX8mq6R0HpQ1NeottToCBpJgnyaT1brbdja16/C9H3rjjb0qi2EjTT446y/TVdJyB5ZMjHpLro6Ax08Ilmrb4Q2iNLGpXXesrS3mZzWH4yNKSkqGCwoKxgsLCydX5uXNpP63iWvXQjdu3MgfHx8PX716NaJ8gmeUsL9hOrvTk3eoko6+805EGYAHZe+0ye7J996rMjHqLbk6AgaScGjb6QokjJ3a0q7zq1WHEKqoqOiu3rKlf7k/Z1Qsp8+cqT7X3b3dj5/n1/sbMpB8hNdCZzyeMDFIk3pQdqnXm/Pa0r5mKr06ArbshPtU4/Y+bsZOg+JUR8bDqLKyMv6rX/zi5WebmlrTCX3sEo3tZl588cWXY3V1LSa3nYGrGp70p/Q1NDQY271hqQdlTY16S6+OgIEkHNp2ui5Gn46MWLF3Hb5fk7t2407xqSeeaEYQeT2rBsGEA+PCa9b0K4MuJhJGFrhpcbh4l5eXG9laZ6kHZU2MettQHQEDyQJ9AwOed22wqV1ncvACb8ymxsZmnetyuHA9//zzh0w+VDmaTEYU+c654TA2cbdQxwLVkYlNj22ojoCBZAE8UKc8GhgaiigLYO3IVHWUCiNTb8x/+8lP3sSalDIA+xsq8h1eK2jtKgMWelAWo966Nz22pToCBpIFdLTtLly4YMX6EY4eV4aYDCNA+2/z5s1Ghg/wGuDODcH44ZNPnjBxo7HQg7ImRr1LS0oSNlRHwECyhJe2HS5kU5bcYZta59q6dWuHH2/KH9TXG7mbhuvT03weKQAmbzTwoGzqP5sa9d61a5extqNuHPu2xNdtu1blgnPXZcUwg6l1LrQsdj/zjC9vSly8Xtq//z8VZRTcaAwODtbpbqfh38NuHHguycSo94b1661YO0phhWQJL227j4eHrTj4refDD418nbW1tdbcIZJMJqskHMhpatTbpuoIGEgWcdO2Q7vOll2yTUySoTp6bNcuUadikp1QJZlYS8L78/BbbzUqzWyrjoCBFAC3L2o303Z9vb2unl/BhVz5zERwlhYXJxSRBiarJBPnfNlWHQEDKQBrw2FXD1G6adu5PW3S7wu5qZ0IampqrBh3JTuYqpJ0s7E6AgZSAMrXr//I7Ys6nSf23bbrCletShYUFvr6Yr702WdGpgB1PgBLZLJK0snG6ggYSAHBhp7KhUQiseyKx227bk1ZWUL5bGpq6h6lWVFRUUIRaSa9SrK1OgIGUkCwu7RyAccRLLe95bZd5/Zr82J6elr7uHdubq741grZR3qVZGt1BAykgGzatClpsm3ntl2HrymINtf8jRvaH/p0KqSkIjIAVZLpXd7dsLk6Aj4YGxDcZa0uLEy6CY2v23ZL3gW5bdcVBzSVdv3zz7VXSKFQSOsb88CrrzZem5gQt+MFjsFQ5Cu8f2uj0RPx06cblCA2V0fAQArQhoqKfjeBhLYdKqCl7oQufnWoW9o2btzoe7sOvvzyS/Hb4qCKs2XHdDIPR4/4dUjjctheHQFbdgHa/uijrh/YdO7MFt0sFTsIj46OugqkrdXVCRUA3VuyEPkBVZISwvbqCBhIAULZ7/YMnaV2NThz5oyrLXgw7m37HRaRn1AlmTwHa7kyoToCBlLAysLhYeUCWn2LHUfgtl0XxLg3ke0ejsUCr0wyoToCBlLAYnV12tt2Y2NjEeVCEOPeRLbDVGqQVVKmVEfAQAoYXkh5LsdHF2rbnersrHKzHhPUuHdKnoER2omJCQ4gkC+CrJIypToCBpIA5eXlfcoFtO1uPwJ5YGDAVbuuOAM3Ib0+NcVAIl8EVSVlUnUEDCQBvLTK3j158httu2QyadW4d0rB3Xdrf1Nddtm6JHIjFkCVlEnVETCQBMDdlesjKW4ZYMCWQm7Hp4Ma9065u6BAeyDhea3bK0giUx70uUrKtOoIGEhChMNhz227cz09tW7+DQnj3iUlJaPKgD/39EQUkU/8rJIyrToCBpIQtR7O7Um17cYuX44oFySMexcVFY0rA3p7e12FNJEbflVJmVgdAQNJCC+braJth3ad2y1MJIx7V2zYYKRCuuKsI7FtR37yo0rKxOoIGEhCpDZbVS6gbfdBV1edcgFHlUs4xM7L+PtSsKb2h7Y2Vz+b22GdCz+v5XyYOC8H/+ZCn0uRKKiSwmvWGLvJy9TqCLi5qiBuN1sFt9N1pYLGvUtLSxMjIyOuznBayuDgYMypkk4j9JUHP9+7t2W5f/dgc3OD7u/loYcean1s1y7XD1KTfyYmJ8uUIZlaHQErJEG8bLbq1j+Ul7vausiE9evWJZQBqJKOvv32duUTbOlkIlg3lJfzfCcLtLW11c4a2gE8k6sjYCAJ4mWzVbeCHve+1bZt2/pNHQ09dOFCrL29XXtILORYW5v28ENrrqqqykggYY0NIcq1Nj26urt3KEMyuToCtuyEwWarbtt26SoqKkpIutvycmjhcpx5//3Hy50qw9SFHU6dOlVlojrS3VrF13m+tzeKoY9bn13DDQF+B1XV1d31O3e6nvzMVqyOvGEgCYPNVnt7e31pL1VUVLh69skk7Al29J13IsoAXHj/7+jRxoJVq5pNvLFRZXR2dv6zMqDGw2MBt0IQ4WtcbCITPyPcEDh/J9Lt3OlHo9EOBtPysTryhi07YUxNmy1kc2WlmPWjFEz8rTT4/WP3ht+//vq+tuPHtT6fdLarqwL/ronTQ3VNQr5x6NDjxzs6mpb7NeJn5QTTj/4HR7eznXdHrI68Y4UkEDZbveCseSiDTK5JeIVTOOOnTzcoQ1AF4EJ76ZNPIrvq6094eaPjQo2BiSGDv6/a2lrPd8YII7dfY3J0tPp3Bw+G/uOFF15RArS0tGh5bfzql79sVhqxOvKOgSQQHlQ1HUiSxr1vh1M4z3V3b58xdLeZ8rGz1nPwtdeiG8rLu9ESS6cKQUWU+OijSP/gYMzk8eu4cfA6ePLWkSM7vAbm1PR0GKG2p6mpVQXMrzXWdLA60oOBJBAujK3Hjs2avNBVbtok+jC+2MMPt/6xo6NR+QDBhA/8zEucoL63qCiZn58/m//tb/9t4m/2xo18pxoKXZ+eDt0+CGBSJBLxdDHCutZ5TWuSCLWzZ8/2S3iQWhpWR3owkITCZqsmprVS/rGmJqEEe+R73+s7d+5cws+7YYQM2lP4UAKgOorV1XkaKNA9gt4Zj29nIH0TqyN9ONQg1JYtW4xNwGHc2+uuBX5oaGhoMfVckg2wduT1YuR2B4/FLHQoZLZjdaQPA0momvvuGzZ1MZY47r0QXIzvv//+rHpDpqA68rpNkJfzsZZy+6GQ2YzVkV4MJKG8bLZ6JxLHvRfzL089FS8vL8+q/dtwI9LU2Oh5AuzSZ5+FlQFYS1N0U//AgLG2erZVR8BAEgybrSrNJI97L+bHTz/dikMEVZZAVajjznhubi5PGTA/N8eWneMDpwI1tcaZjdURMJAEM7HZquRx78WgWty9e/ebK316YDhIW7du7UBVqEi8eDxubEeVbKyOgIEkmInNVqWPey8Gd4tNe/Y0Z3IoVVZWxnc/84y2C1FeXt6cMiA3Ly9rB01SWB2ZwUASDputKo2kj3svJZNDCetkz2p+6HTd2rVG2pylpaVGTve1CasjMxhIwtXcd5+2iThbxr2XkgqlTFpTQpsuncP/lmvTpk1JE5Oako4sCQKrI3MYSMJhAEHXZqu2jHvfCd6w2FcNLS5luWg02qqzTXcr3Hw4v3Ot65DSjiwJwp97eoyNvWdzdQQMJAtgs1WlgU3j3suBFlesrq7FxhYeph3/dffuV0wPMHz/0UdP66yS6nfuDHwvuyCNjIyETO2gUlxcnPVhz0CyADZbVR7ZOO69HNiIFS08m55Vclp0J/79uede8eP3ofPhYlSkmfgaSsex9nZja0exbduyujoCBpIFsHeY17tcG8e9lwsXXazBPPXEE6IHHtDu+vnPfvay06Lr8HMtT8fDxVize1bATt9BMl0dcY9Abq5qDa+brdo67p0OvKGdj5ePtbVFBwYHa69evRpRArg53kI3BPbhI0cm3ZxGjDDDw8kqy7E6Ms+KQCooKJi46y59xVy6z2c4n38WLS+lSb6L50M2O4EyNjYWUS6lO+6Nn5HO79lPaOPhA0cvYLfrscuXI6bPVrodqqGysrLhH9TXx6VMNqIyc34eE8s9awpVOdp9Xta5dL93gjI5OZmP95+J7+We1auTrI6+kvPS/v2/VkQZDhuN9g0MVI2Pj4dNVE64eK8Nh/uLS0qS/xSN9klfnEYVmRgerr5y5UrFrRuw4vtwAjS5YcOGfuwUYvtjAmSPnJwcBhJlHxyfMDQ0FMbmo1NTU/cgpObn5/NxYZ6ZmVmwcsCFOjc3dxZ/Onf9k7nOnwife0OhiUgkkrR5Ogo/j2tTU/mrCwtnGUAUFAQS15Ao6+Cie3O9SamEoq92lmcQkQCcsiMiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEiEFYqIKAvl5OQoEuUvfwUYvyPZHkPjVwAAAABJRU5ErkJggg=="});};});var ka,bD,NW,HW,WW=d(function(){ka=y(x("react"));U();H();re();ni();bD=24,NW=/*#__PURE__*/function(_ka$default$Component){_inherits(NW,_ka$default$Component);var _super243=_createSuper(NW);function NW(e){var _this387;_classCallCheck(this,NW);_this387=_super243.call(this,e);_this387.init=function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){_this387.video.srcObject=e;})["catch"](function(){_this387.props.modal.showActionModal({type:ct.ERROR,identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:function handleConfirm(){_this387.props.active.selectWebcam(!1);}});}):_this387.props.modal.showActionModal({type:ct.ERROR,identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:function handleConfirm(){_this387.props.active.selectWebcam(!1);}});};_this387.stop=function(){var e=_this387.props.active;_this387.video.srcObject.getTracks().forEach(function(o){o.stop();}),_this387.video.srcObject=null,e.selectWebcam(!1);};_this387.captureAndCloseWebcam=function(){_this387.canvas.width=_this387.video.videoWidth,_this387.canvas.height=_this387.video.videoHeight,_this387.canvas.getContext("2d").drawImage(_this387.video,0,0),_this387.props.active.newImage(_this387.canvas.toDataURL("image/webp")),_this387.stop();};_this387.videoRef=ka["default"].createRef();return _this387;}_createClass(NW,[{key:"componentDidMount",value:function componentDidMount(){this.canvas=document.createElement("canvas"),this.video=this.videoRef.current,this.init();}},{key:"render",value:function render(){var e=this.props.editor,_e$getPreviewSize2=e.getPreviewSize(),t=_e$getPreviewSize2.height,i=_e$getPreviewSize2.width,o=e.configStore.measurements,s=this.props.canvas.canvasSize.height,n=(s-t)/2,a=n<bD+o.buttons["float"].size?s-bD*2-o.buttons["float"].size/2:s-n+bD,l=this.props.active.webcamLabel;return ka["default"].createElement(_e.Wrapper,null,ka["default"].createElement(_e.Bar.Index,{transparentBackgound:!0,style:{justifyContent:"flex-end"}},ka["default"].createElement(_e.Bar.ButtonGroup,null,ka["default"].createElement(Xa,{ariaLabel:l,onClick:this.stop},l))),ka["default"].createElement(_e.Webcam,{style:{height:t,width:i},autoPlay:!0,ref:this.videoRef}),ka["default"].createElement(_e.Button.Float,{ariaLabel:"Click and Save",style:{top:a},onClick:this.captureAndCloseWebcam}));}}]);return NW;}(ka["default"].Component),HW=ne("active","canvas","modal","editor")(D(NW));});var GW,VW,jW=d(function(){GW=y(x("react"));$();ni();VW=function VW(_ref230){var r=_ref230.children;return GW["default"].createElement(_e.Container,{"data-test":j.CanvasContainer},r);};});var co,$W,Vm,qW=d(function(){co=y(x("react"));vC();$W=y(rb());U();nt();J();$();ni();FW();BW();UW();WW();jW();Vm=D(function(){var r=(0,co.useRef)(null),_R11=R(),e=_R11.canvas,t=_R11.active,i=_R11.config,o=function o(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(r==null?void 0:r.current){var _r$current=r.current,l=_r$current.clientWidth,c=_r$current.clientHeight,u=St.devicePixelRatio;r.current.width=l*u,r.current.height=c*u,e.saveDimensions({width:l,height:c,render:a});}},s=new wp((0,$W["default"])(function(){return o();},100,{trailing:!0}));(0,co.useEffect)(function(){var a=r.current;return e.setCanvasElement(a),function(){s.disconnect();};},[]),(0,co.useLayoutEffect)(function(){o(!1),s.observe(r.current);});var n=i.licenseChecker;return co["default"].createElement(VW,null,n&&n.isWhiteLabel()?null:co["default"].createElement(zW,null),t.isWebcam?co["default"].createElement(HW,null):null,co["default"].createElement(_e.Element,{ref:r,"aria-label":"Canvas","data-test":j.Canvas}),co["default"].createElement(IW,null,co["default"].createElement(PW,null)));});});var jm,KW=d(function(){re();nt();ni();jm=function jm(){var _this388=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,jm);this.getAdvancedCategoryCard=function(){return _this388.components.advancedUICategoryCard;};this.getAdvancedItemCard=function(){return _this388.components.advancedUIItemCard;};this.getAdvancedToolbarItem=function(){return _this388.components.advancedUIToolbarItem;};this.getDialog=function(){return _this388.components.dialog;};this.getButton=function(e){return _this388.components.buttons[e];};this.getColorItem=function(){return _this388.components.colorItem;};this.getCheckbox=function(){return _this388.components.checkbox;};var i={dialog:M.Dialog,colorItem:M.ColorItem,checkbox:M.Input.Checkbox,buttons:{mainCanvasActionUndo:_e.Button.TextSecondary,mainCanvasActionRedo:_e.Button.TextSecondary,mainCanvasActionExport:Qp,mainCanvasActionClose:Xa,canvasActionEdit:_e.Controls.SpriteActionButton,canvasActionBringToFront:_e.Controls.SpriteActionButton,canvasActionDuplicate:_e.Controls.SpriteActionButton,canvasActionDelete:_e.Controls.SpriteActionButton,canvasActionInvert:_e.Controls.SpriteActionButton,canvasActionFlip:_e.Controls.SpriteActionButton,transformActionFlipHorizontal:On,transformActionFlipVertical:On,transformActionRotateClockwise:On,transformActionRotateAntiClockwise:On,textAlignment:On,toolControlBarPrimaryButton:Zp,toolControlBarSecondaryButton:Xa}};this.components=Rr([i,t,e]);};});var Ta,sce,$m,XW=d(function(){Ta=y(x("react"));U();H();re();nt();sce=function sce(_ref231){var r=_ref231.modal,e=_ref231.textTool,t=_ref231.textDesignTool,i=_ref231.custom;var o=r.type,s=r.identifier,n=r.isVisible,a=r.modalProps,l=r.positionOffset,c=a.headerLabel,u=a.bodyLabel,p=a.confirmLabel,m=a.dismissLabel,h=a.handleClose,g=a.handleConfirm,v=a.handleDismiss,S=i.getDialog();if(o===ct.INFO)return Ta["default"].createElement(M.InfoModal,{headerLabel:c,bodyLabel:u},Ta["default"].createElement(S,{type:o,isVisible:n,identifier:s,position:l,handleClose:h,headerLabel:c,bodyLabel:u}));if(o===ct.TEXT_EDIT){var _e$locale$canvasContr=e.locale.canvasControls,_=_e$locale$canvasContr.buttonSave,I=_e$locale$canvasContr.buttonClose,E={type:o,isVisible:r.isVisible,confirmLabel:_,dismissLabel:I,headerLabel:e.locale.canvasControls.inputText};if(e.isTextSelected)return Ta["default"].createElement(M.TextEditModal,L(w({},E),{defaultText:ke.defaultText(),handleConfirm:e.changeText,handleDismiss:e.setEditMode,text:e.text,maxLength:e.config.maxCharacterLimit,allowEmojis:e.config.allowEmojis}),Ta["default"].createElement(S,{type:o,isVisible:n,identifier:s,position:l,handleClose:h,confirmLabel:_,dismissLabel:I,headerLabel:e.locale.canvasControls.inputText}));if(t.isTextDesignSelected)return Ta["default"].createElement(M.TextEditModal,L(w({},E),{defaultText:Xe.defaultText(),handleConfirm:t.changeText,handleDismiss:t.setEditMode,text:t.text,maxLength:t.config.maxCharacterLimit,allowEmojis:t.config.allowEmojis}),Ta["default"].createElement(S,{type:o,isVisible:n,identifier:s,position:l,handleClose:h,confirmLabel:_,dismissLabel:I,headerLabel:e.locale.canvasControls.inputText}));}return Ta["default"].createElement(M.ActionModal,{type:o,headerLabel:c,bodyLabel:u,confirmLabel:p,dismissLabel:m,handleClose:h,handleConfirm:g,handleDismiss:v},Ta["default"].createElement(S,{type:o,isVisible:n,identifier:s,position:l,confirmLabel:p,dismissLabel:m,headerLabel:c,bodyLabel:u,handleClose:h}));},$m=ne("textTool","textDesignTool","modal","custom")(D(sce));});var Ef,YW,nce,JW,_D,ZW=d(function(){Ef=y(x("react")),YW=y(x("styled-components"));re();$();nce=YW["default"].div(_templateObject245||(_templateObject245=_taggedTemplateLiteral(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]))),JW=/*#__PURE__*/function(_Ef$default$Component){_inherits(JW,_Ef$default$Component);var _super244=_createSuper(JW);function JW(e){var _this389;_classCallCheck(this,JW);_this389=_super244.call(this,e);_this389.onChange=function(e){_this389.setState({value:e.replace(/[^\d.,-]/g,""),isSubmitted:!1});};_this389.onSubmit=function(){var e=_this389.props.getCorrectValue,_this389$state=_this389.state,t=_this389$state.isSubmitted,i=_this389$state.value;t||_this389.setState({value:e(parseInt(i,10)||0).toString(),isSubmitted:!0});};_this389.state={isSubmitted:!1,value:e.value.toString()};return _this389;}_createClass(JW,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.value;e.value!==t&&this.setState({value:t.toString()});}},{key:"render",value:function render(){var _this$props15=this.props,e=_this$props15.id,t=_this$props15.isDisabled,i=_this$props15.label,o=this.state.value;return Ef["default"].createElement(M.Input.Text,{id:e,value:o,isDisabled:t,onChange:this.onChange,onBlur:this.onSubmit,onKeyUp:pR(this.onSubmit)},Ef["default"].createElement(nce,null,Ef["default"].createElement(M.Input.Label,{label:i,htmlFor:e})));}}]);return JW;}(Ef["default"].Component),_D=JW;});var zd,yD,ace,lce,cce,dce,uce,If,QW=d(function(){zd=y(x("react")),yD=y(x("styled-components"));re();ZW();ace=yD["default"].div(_templateObject246||(_templateObject246=_taggedTemplateLiteral(["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"])),function(r){return r.theme.measurements.advancedUIToolControlBar.width;}),lce=yD["default"].span(_templateObject247||(_templateObject247=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  margin-top: 10px;\n  margin-right: 13px;\n"])),function(r){return r.theme.measurements.fontSystem.body.size;},function(r){return r.theme.measurements.fontSystem.body.letterSpacing;},function(r){return r.theme.measurements.fontSystem.body["case"];},function(r){return r.theme.textInput.foreground;}),cce="photoeditorsdk-transformScaleWidth",dce="photoeditorsdk-transformScaleHeight",uce=function uce(_ref232){var _ref232$showLabel=_ref232.showLabel,r=_ref232$showLabel===void 0?!0:_ref232$showLabel,e=_ref232.label,t=_ref232.isDisabled,i=_ref232.valueHeight,o=_ref232.valueWidth,s=_ref232.labelWidth,n=_ref232.labelHeight,a=_ref232.onSubmitWidth,l=_ref232.onSubmitHeight;return zd["default"].createElement("div",null,zd["default"].createElement(M.Input.Label,{label:e,show:r}),zd["default"].createElement(ace,null,zd["default"].createElement(_D,{id:cce,value:o,getCorrectValue:a,label:s,isDisabled:t}),zd["default"].createElement(lce,null,"x"),zd["default"].createElement(_D,{id:dce,value:i,getCorrectValue:l,label:n,isDisabled:t})));},If=uce;});var ri=d(function(){T_();rH();RH();ZS();qW();KW();XW();fD();QW();});var pG=tt(function(Zat,mG){"use strict";var fce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";mG.exports=fce;});var bG=tt(function(Qat,gG){"use strict";var gce=pG();function hG(){}function fG(){}fG.resetWarningCache=hG;gG.exports=function(){function r(i,o,s,n,a,l){if(l!==gce){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c;}}r.isRequired=r;function e(){return r;}var t={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fG,resetWarningCache:hG};return t.PropTypes=t,t;};});var yG=tt(function(ilt,_G){_G.exports=bG()();var elt,tlt;});var zG=tt(function(Vlt,LG){"use strict";var Dce=!1,BG=function BG(){};Dce&&(MG=function MG(e,t){var i=arguments.length;t=new Array(i>1?i-1:0);for(var o=1;o<i;o++){t[o-1]=arguments[o];}var s=0,n="Warning: "+e.replace(/%s/g,function(){return t[s++];});typeof console!="undefined"&&console.error(n);try{throw new Error(n);}catch(a){}},BG=function BG(r,e,t){var i=arguments.length;t=new Array(i>2?i-2:0);for(var o=2;o<i;o++){t[o-2]=arguments[o];}if(e===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");r||MG.apply(null,[e].concat(t));});var MG;LG.exports=BG;});var Zv,RV,AV=d(function(){Zv=y(x("react")),RV=function RV(){var _ref233=(0,Zv.useState)([]),_ref234=_slicedToArray(_ref233,2),r=_ref234[0],e=_ref234[1];return(0,Zv.useEffect)(function(){var t;if((typeof window==="undefined"?"undefined":_typeof(window))!==void 0&&((t=window.navigator)==null?void 0:t.mediaDevices)){var i=!0,o=function o(){window.navigator.mediaDevices.enumerateDevices().then(function(s){i&&e(s.map(function(_ref235){var n=_ref235.deviceId,a=_ref235.groupId,l=_ref235.kind,c=_ref235.label;return{deviceId:n,groupId:a,kind:l,label:c};}));})["catch"](function(){return null;});};return window.navigator.mediaDevices.addEventListener("devicechange",o),o(),function(){i=!1,window.navigator.mediaDevices.removeEventListener("devicechange",o);};}return null;},[]),r;};});var PV,Qv,BV=d(function(){PV=y(x("react"));U();AV();J();$();Qv=D(function(_ref236){var r=_ref236.tool,_ref236$fullWidth=_ref236.fullWidth,e=_ref236$fullWidth===void 0?!1:_ref236$fullWidth,t=_ref236.icon,i=_ref236.label,o=_ref236.onClick;var _R12=R(),s=_R12.custom;if(!RV().some(function(_ref237){var l=_ref237.kind;return l==="videoinput";}))return null;var a=s.getButton("toolControlBarSecondaryButton");return PV["default"].createElement(a,{"data-test":j.LibraryWebcamButton,tool:r,label:i,ariaLabel:i,onClick:o,fullWidth:e,icon:t});});});var MV=d(function(){BV();});var ID=d(function(){MV();});var jj,$j,qj=d(function(){jj=y(x("styled-components"));re();$j=(0,jj["default"])(Wr)(_templateObject248||(_templateObject248=_taggedTemplateLiteral(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"])),function(r){return r.theme.measurements.basicCard.large.width;},function(r){return r.theme.measurements.basicCard.large.height;},function(r){return r.theme.card.foreground;});});var Kj,Xj,Yj=d(function(){Kj=y(x("styled-components"));re();Xj=(0,Kj["default"])(Wr)(_templateObject249||(_templateObject249=_taggedTemplateLiteral(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"])),function(r){return r.theme.measurements.basicCard.medium.width;},function(r){return r.theme.measurements.basicCard.medium.height;},function(r){return r.theme.card.foreground;});});var Jj,LD,Zj=d(function(){Jj=y(x("react"));H();qj();Yj();LD=function LD(r){var e=r.type===De.LARGE,t=Xj;return e&&(t=$j),Jj["default"].createElement(t,w({},r));};LD.defaultProps={type:De.MEDIUM};});var Qj,e$,t$=d(function(){Qj=y(x("styled-components"));re();$();e$=(0,Qj["default"])(Ko).attrs(function(){return{"data-test":j.CardContainer};})(_templateObject250||(_templateObject250=_taggedTemplateLiteral(["\n  transition-property: width;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n  height: ","px;\n"])),function(r){return r.theme.measurements.basicToolControlBar.itemsBarHeight;});});var i$,r$,o$=d(function(){i$=y(x("styled-components"));re();r$=(0,i$["default"])(Mt)(_templateObject251||(_templateObject251=_taggedTemplateLiteral(["\n  &&& {\n    min-height: 32px;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n  }\n"])),function(r){return r.theme.measurements.fontSystem.basicUICardLabel.size;},function(r){return r.theme.measurements.fontSystem.basicUICardLabel.letterSpacing;},function(r){return r.theme.measurements.fontSystem.basicUICardLabel["case"];});});var s$=d(function(){Zj();t$();o$();});var n$,a$,l$=d(function(){n$=y(x("styled-components")),a$=n$["default"].div(_templateObject252||(_templateObject252=_taggedTemplateLiteral(["\n  display: flex;\n  /* This fixes an IE11 issue where the items are behind the category */\n  flex: 1 0 auto;\n"])));});var eg,c$,d$,u$=d(function(){eg=y(x("styled-components")),c$=eg["default"].div(_templateObject253||(_templateObject253=_taggedTemplateLiteral(["\n  position: relative;\n  display: flex;\n  flex-shrink: 0;\n  height: auto;\n  transition: max-height 0.4s ease-in-out;\n  ","\n"])),function(r){return r.show?eg.css(_templateObject254||(_templateObject254=_taggedTemplateLiteral(["\n          max-height: 80px;\n        "]))):eg.css(_templateObject255||(_templateObject255=_taggedTemplateLiteral(["\n          max-height: 0px;\n        "])));}),d$=c$;c$.defaultProps={show:!0};});var m$,Xce,p$,h$=d(function(){m$=y(x("styled-components")),Xce=m$["default"].div(_templateObject256||(_templateObject256=_taggedTemplateLiteral(["\n  text-align: -moz-center;\n  text-align: center;\n  text-align: -webkit-center;\n  margin: 0 10vw;\n  height: auto;\n  box-shadow: ",";\n  @media all and (min-width: 0) and (max-width: 599px) {\n    margin: 0 5vw;\n  }\n"])),function(r){return r.theme.toolControlBar.shadow;}),p$=Xce;});var f$,Yce,g$,b$=d(function(){f$=y(x("styled-components")),Yce=f$["default"].div(_templateObject257||(_templateObject257=_taggedTemplateLiteral(["\n  width: 100px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: 42px;\n  }\n"]))),g$=Yce;});var i0,_$,y$=d(function(){i0=y(x("styled-components"));$();_$=i0["default"].div.attrs(function(){return{"data-test":j.ToolControlBarExpandableControls};})(_templateObject258||(_templateObject258=_taggedTemplateLiteral(["\n  position: absolute;\n  left: 0%;\n  transform: translateY(0%) scaleY(0);\n  justify-content: center;\n  padding: 0 5vw;\n  width: 90%;\n  height: ","px;\n  display: flex;\n  align-items: center;\n  transition: transform 0.4s ease-in-out;\n  z-index: ",";\n  background: ",";\n  color: ",";\n\n  ","\n"])),function(r){return r.theme.measurements.basicToolControlBar.controlsBarHeight;},function(r){return r.theme.measurements.zIndex.controlsBar;},function(r){return r.theme.toolControlBar.background;},function(r){return r.theme.toolControlBar.inputLabelForeground;},function(_ref238){var r=_ref238.show;return r&&i0.css(_templateObject259||(_templateObject259=_taggedTemplateLiteral(["\n      transform: translateY(-100%) scaleY(1);\n    "])));});});var x$,v$,Jce,Zce,Fa,C$=d(function(){x$=y(x("react")),v$=y(x("styled-components")),Jce=v$["default"].div(_templateObject260||(_templateObject260=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Zce=function Zce(_ref239){var r=_ref239.label,e=_ref239.className,t=_ref239.children;return x$["default"].createElement(Jce,{"aria-label":r,className:e},t);},Fa=Zce;});var S$,Qce,w$,k$=d(function(){S$=y(x("styled-components"));re();Qce=S$["default"].div(_templateObject261||(_templateObject261=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: "," 0.2s linear;\n  animation-fill-mode: both;\n  height: 40px;\n  min-width: 350px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    min-width: 280px;\n  }\n"])),U5.scale),w$=Qce;});var zD,r0,T$,ede,o0,D$=d(function(){zD=y(x("react")),r0=y(x("styled-components"));ri();T$=r0.css(_templateObject262||(_templateObject262=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n"])),function(r){return r.theme.tabTitle.activeBackground;},function(r){return r.theme.tabTitle.activeForeground;},function(r){return r.theme.tabTitle.activeBorderColor;}),ede=(0,r0["default"])(Ps)(_templateObject263||(_templateObject263=_taggedTemplateLiteral(["\n  display: inline-flex;\n  align-items: center;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  border-radius: 0px;\n  padding: 1px 12px 2px;\n  background: ",";\n\n  ","\n\n  &:active {\n    ","\n  }\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    max-width: 150px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])),function(r){return r.theme.measurements.fontSystem.basicUITabLabel.size;},function(r){return r.theme.measurements.fontSystem.basicUITabLabel.letterSpacing;},function(r){return r.theme.measurements.fontSystem.basicUITabLabel["case"];},function(r){return r.theme.tabTitle.foreground;},function(r){return r.theme.tabTitle.background;},function(_ref240){var r=_ref240.isActive;return r&&T$;},T$),o0=/*#__PURE__*/function(_zD$default$Component){_inherits(o0,_zD$default$Component);var _super245=_createSuper(o0);function o0(){var _this390;_classCallCheck(this,o0);_this390=_super245.apply(this,arguments);_this390.onClick=function(){var _this390$props=_this390.props,e=_this390$props.label,t=_this390$props.onClick;t(e);};return _this390;}_createClass(o0,[{key:"render",value:function render(){var _this$props16=this.props,e=_this$props16.activeTab,t=_this$props16.label;return zD["default"].createElement(ede,{ariaLabel:t,isActive:e===t,onClick:this.onClick},t);}}]);return o0;}(zD["default"].Component);});var dr,UD,tde,ide,E$,tg,I$=d(function(){dr=y(x("react")),UD=y(x("styled-components"));ri();re();k$();D$();tde=(0,UD["default"])(Xo)(_templateObject264||(_templateObject264=_taggedTemplateLiteral(["\n  display: inline-flex;\n  padding: 0 4px;\n  height: 20px;\n  font-size: 16px;\n"]))),ide=(0,UD["default"])(th)(_templateObject265||(_templateObject265=_taggedTemplateLiteral(["\n  display: inline-flex;\n  justify-content: center;\n  transform: translate(-100%, -100%);\n  @media all and (min-width: 0) and (max-width: 499px) {\n    left: 0;\n    right: 0;\n    transform: translateY(-120%);\n    background: transparent;\n    button {\n      &:first-child {\n        border-bottom-right-radius: 0;\n        border-top-right-radius: 0;\n      }\n      &:last-child {\n        border-bottom-left-radius: 0;\n        border-top-left-radius: 0;\n      }\n      &:not(:first-child):not(:last-child) {\n        border-radius: 0;\n      }\n    }\n  }\n"]))),E$=/*#__PURE__*/function(_dr$default$Component){_inherits(E$,_dr$default$Component);var _super246=_createSuper(E$);function E$(e){var _this391;_classCallCheck(this,E$);_this391=_super246.call(this,e);_this391.onTabClick=function(e){_this391.setState({activeTab:e,toggleExtend:!1});};_this391.getDropUp=function(){var e=_this391.props.length,t=_this391.state.toggleExtend,i=dr["default"].Children.toArray(_this391.props.children),o=dr["default"].Children.count(_this391.props.children),s=i.slice(e,o);return dr["default"].createElement(ide,{show:t},s.map(function(n){var a=n.props.label||"";return dr["default"].createElement(Ps,{onClick:function onClick(){return _this391.onTabClick(a);},key:a,ariaLabel:"More Options"},a);}));};_this391.extend=function(){_this391.setState(function(_ref241){var e=_ref241.toggleExtend;return{toggleExtend:!e};});};_this391.getExtension=function(){return dr["default"].createElement(tde,{onClick:_this391.extend,ariaLabel:"Select Next"},"...");};var t=dr["default"].Children.count(_this391.props.children),i=dr["default"].Children.toArray(_this391.props.children);_this391.state={activeTab:t&&i[0].props&&i[0].props.label||"",toggleExtend:!1};return _this391;}_createClass(E$,[{key:"render",value:function render(){var _this392=this;var e=this.props.length,_this$state9=this.state,t=_this$state9.activeTab,i=_this$state9.toggleExtend,o=dr["default"].Children.toArray(this.props.children).slice(0,e),s=dr["default"].Children.count(this.props.children)>e;return dr["default"].createElement("div",null,o.map(function(n){if(n){var a=n.props.label||"";return dr["default"].createElement(o0,{activeTab:t,key:a,label:a,onClick:_this392.onTabClick});}return null;}),s?this.getExtension():null,i?this.getDropUp():null,dr["default"].Children.map(this.props.children,function(n){return!n||n.props&&n.props.label!==t?null:dr["default"].createElement(w$,{key:n.props.label},n.props.children);}));}}]);return E$;}(dr["default"].Component),tg=E$;});var s0=d(function(){C$();I$();});var ip,F$,rde,_a8,n0,O$=d(function(){ip=y(x("react")),F$=y(x("styled-components"));s0();rde=F$["default"].div(_templateObject266||(_templateObject266=_taggedTemplateLiteral(["\n  position: relative;\n  white-space: nowrap;\n  display: flex;\n  transition: all 0.2s linear;\n"]))),_a8=/*#__PURE__*/function(_ip$default$Component){_inherits(a0,_ip$default$Component);var _super247=_createSuper(a0);function a0(e){var _this393;_classCallCheck(this,a0);_this393=_super247.call(this,e);_this393.updateLength=function(){var _this393$props=_this393.props,e=_this393$props.maxWidth,t=_this393$props.children,i=0;if(e)i=e;else{var n=window.innerWidth,a=n>600?300:200;i=n-a;}var o=ip["default"].Children.count(t),s=i-o*_a8.TAB_WIDTH;if(s<0){var _n9=Math.round(Math.abs(s/_a8.TAB_WIDTH));_this393.setState({length:o-_n9});}};_this393.state={length:ip["default"].Children.count(_this393.props.children)};return _this393;}_createClass(a0,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("resize",this.updateLength),this.updateLength();}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.updateLength);}},{key:"render",value:function render(){var e=this.props.children,t=this.state.length;return t?ip["default"].createElement(rde,null,ip["default"].createElement(tg,{length:t},e)):null;}}]);return a0;}(ip["default"].Component),n0=_a8;n0.TAB_WIDTH=120;});var l0,ode,R$,A$=d(function(){l0=y(x("styled-components")),ode=l0["default"].div(_templateObject267||(_templateObject267=_taggedTemplateLiteral(["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 1px solid ",";\n  }\n"])),function(r){return r.full?l0.css(_templateObject268||(_templateObject268=_taggedTemplateLiteral(["\n            left: -24px;\n            width: calc(100% + 48px);\n          "]))):"\n      left: 24px;\n      width: calc(100% - 48px);\n    ";},function(r){return r.theme.toolControlBar.separatorColor;}),R$=ode;});var P$,sde,B$,M$=d(function(){P$=y(x("styled-components"));re();sde=(0,P$["default"])(M.Input.Slider).attrs(function(){return{centerSlider:!0};})(_templateObject269||(_templateObject269=_taggedTemplateLiteral(["\n  max-width: 224px;\n"]))),B$=sde;});var c0,nde,L$,z$=d(function(){c0=y(x("styled-components"));$();nde=c0["default"].div.attrs(function(){return{"data-test":j.CategoryItemsContainer};})(_templateObject270||(_templateObject270=_taggedTemplateLiteral(["\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n\n  ","\n"])),function(_ref242){var r=_ref242.show;return r&&c0.css(_templateObject271||(_templateObject271=_taggedTemplateLiteral(["\n      opacity: 1;\n      visibility: visible;\n      display: flex;\n    "])));}),L$=nde;});var ig,ND,U$=d(function(){ig=y(x("styled-components")),ND=ig["default"].div(_templateObject272||(_templateObject272=_taggedTemplateLiteral(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  z-index: ",";\n\n  ","\n"])),function(r){return r.theme.measurements.zIndex.toolControlBar;},function(r){return r.show?ig.css(_templateObject273||(_templateObject273=_taggedTemplateLiteral(["\n          transition-timing-function: ease-in;\n          transition-duration: 0.3s;\n          transition-property: all;\n          padding: 2px 0px;\n          background: ",";\n          color: ",";\n        "])),r.theme.toolControlBar.background,r.theme.toolControlBar.inputLabelForeground):ig.css(_templateObject274||(_templateObject274=_taggedTemplateLiteral(["\n          max-height: 0px;\n        "])));});ND.defaultProps={show:!0};});var N$,ade,H$,W$=d(function(){N$=y(x("styled-components")),ade=N$["default"].div(_templateObject275||(_templateObject275=_taggedTemplateLiteral(["\n  height: ","px;\n  width: 2px;\n  margin: 0 10px;\n  display: inline-flex;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"])),function(r){return r.theme.measurements.basicToolControlBar.itemsBarHeight;},function(r){return r.theme.toolControlBar.separatorColor;}),H$=ade;});var Ql,G$,V$,d0,j$,u0,HD=d(function(){Ql=y(x("styled-components"));re();G$=Ql["default"].span(_templateObject276||(_templateObject276=_taggedTemplateLiteral(["\n  display: flex;\n  cursor: pointer;\n  z-index: ",";\n  transition: bottom 0.3s linear;\n\n  color: ",";\n  letter-spacing: ",";\n  font-size: ","px;\n\n  ","\n\n  &:active {\n    color: ",";\n  }\n"])),function(r){return r.theme.measurements.zIndex.label;},function(r){return r.theme.toolbar.foreground;},function(r){return r.theme.measurements.fontSystem.body.letterSpacing;},function(r){return r.theme.measurements.fontSystem.body.size;},function(_ref243){var r=_ref243.isActive;return r&&Ql.css(_templateObject277||(_templateObject277=_taggedTemplateLiteral(["\n      color: ",";\n    "])),function(e){return e.theme.toolbar.activeForeground;});},function(r){return r.theme.toolbar.activeForeground;}),V$=Ql.css(_templateObject278||(_templateObject278=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n"])),function(r){return r.theme.toolbar.activeBackground;},function(r){return r.theme.toolbar.activeForeground;},function(r){return r.theme.toolbar.activeForeground;}),d0=(0,Ql["default"])(Ai)(_templateObject279||(_templateObject279=_taggedTemplateLiteral(["\n  display: block;\n  height: 100%;\n  width: 100%;\n  color: ",";\n  background-color: ",";\n  border: unset;\n  box-shadow: unset;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: '","', sans-serif;\n\n  ","\n\n  &:active {\n    ","\n  }\n\n  svg {\n    display: flex;\n    transition: visibility 0s, opacity 0.5s linear;\n    visibility: visible;\n    opacity: 1;\n  }\n"])),function(r){return r.theme.toolbar.foreground;},function(r){return r.theme.toolbar.background;},function(r){return r.theme.measurements.fontSystem.label.size;},function(r){return r.theme.measurements.fontSystem.label.letterSpacing;},function(r){return r.theme.measurements.fontSystem.label["case"];},function(r){return r.theme.typography.fontFamily;},function(_ref244){var r=_ref244.isActive;return r&&V$;},V$),j$=Ql["default"].div(_templateObject280||(_templateObject280=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    color: ",";\n  }\n"])),function(r){return r.theme.toolbar.foreground;}),u0=Ql["default"].div.attrs({role:"none"})(_templateObject281||(_templateObject281=_taggedTemplateLiteral(["\n  display: flex;\n  height: ","px;\n  text-align: center;\n  min-width: 100px;\n  /* Allow the text to grow in this limit */\n  max-width: 150px;\n  position: relative;\n  /* Position inline-block box at the top of the line box */\n  vertical-align: top;\n  /* Allow text to wrap again, overwriting the Toolbar style */\n  white-space: normal;\n  margin: 1px;\n"])),function(r){return r.theme.measurements.basicUIToolbar.openHeight-2;});});var WD,rg,lde,$$,q$=d(function(){WD=y(x("react")),rg=y(x("styled-components"));re();$();HD();lde=rg["default"].div(_templateObject282||(_templateObject282=_taggedTemplateLiteral(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  transition: height 0.2s ease-out, display 0.1s fade-out;\n  background-color: ",";\n  color: ",";\n  z-index: ",";\n\n  ","\n"])),function(r){return r.theme.toolbar.background;},function(r){return r.theme.toolbar.foreground;},function(r){return r.theme.measurements.zIndex.toolbar;},function(r){return r.show?rg.css(_templateObject283||(_templateObject283=_taggedTemplateLiteral(["\n          height: ","px;\n          "," {\n            svg {\n              visibility: hidden;\n              opacity: 0;\n              height: 0;\n            }\n          }\n          "," {\n            height: ","px;\n          }\n        "])),r.theme.measurements.basicUIToolbar.closeHeight,d0,u0,r.theme.measurements.basicUIToolbar.closeHeight):rg.css(_templateObject284||(_templateObject284=_taggedTemplateLiteral(["\n          height: ","px;\n        "])),r.theme.measurements.basicUIToolbar.openHeight);}),$$=function $$(_ref245){var _ref245$show=_ref245.show,r=_ref245$show===void 0?!1:_ref245$show,e=_ref245.children;return WD["default"].createElement(lde,{"data-test":j.Toolbar,show:r},WD["default"].createElement(Ko,null,e));};});var og,K$,X$=d(function(){og=y(x("react"));$();HD();K$=function K$(_ref246){var r=_ref246.children,e=_ref246.label,t=_ref246.isActive,i=_ref246.onClick;return og["default"].createElement(u0,{"aria-haspopup":!0,"aria-expanded":t},og["default"].createElement(d0,{"data-test":j.ToolbarItem,ariaLabel:e,onClick:i,isActive:t},og["default"].createElement(j$,null,r,og["default"].createElement(G$,{isActive:t},e))));};});var sg,cde,Y$,J$=d(function(){sg=y(x("styled-components")),cde=sg["default"].li.attrs({role:"none"})(_templateObject285||(_templateObject285=_taggedTemplateLiteral(["\n  ","\n  width: 2px;\n  display: inline-block;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"])),function(r){return r.active?sg.css(_templateObject286||(_templateObject286=_taggedTemplateLiteral(["\n          height: ","px;\n        "])),r.theme.measurements.basicUIToolbar.closeHeight):sg.css(_templateObject287||(_templateObject287=_taggedTemplateLiteral(["\n          height: ","px;\n        "])),r.theme.measurements.basicUIToolbar.openHeight);},function(r){return r.theme.toolControlBar.separatorColor;}),Y$=cde;});var z,at=d(function(){re();s$();l$();u$();h$();b$();y$();O$();A$();M$();s0();z$();U$();W$();q$();X$();J$();z={CardContainer:e$,ExpandableContainer:L$,CategoryContainer:a$,Card:LD,CardAvatar:bc,CardLabel:r$,Toolbar:{Index:$$,Item:K$,Separator:Y$},BarSeparator:R$,ItemsSeparator:H$,Itemsbar:ND,Controlsbar:d$,ControlsbarContainer:_$,ResponsiveTabWrapper:n0,Slider:B$,TabWrapper:tg,Tab:Fa,Other:{ControlsWrapper:p$,EmptyDiv:g$}};});var rp,dde,Z$,Q$=d(function(){rp=y(x("react"));U();Lt();at();dde=function dde(_ref247){var r=_ref247.config,e=_ref247.active;var t=r.tools,i=e.tool,o=function o(a){var l=r.state.config[a];if("icon"in l){var u=l.icon;return rp["default"].createElement(u,null);}var c=I_[a];return rp["default"].createElement(c,null)||null;},s=function s(a){return r.locale[a].title;},n=function n(a,l){return a&&rp["default"].createElement(z.Toolbar.Item,{onClick:function onClick(){return e.selectTool(a);},key:a,label:s(a),isActive:i===a},o(a))||rp["default"].createElement(z.Toolbar.Separator,{key:a+l,active:!!i});};return rp["default"].createElement(z.Toolbar.Index,{show:!!i},t.map(n));},Z$=ne("config","active")(D(dde));});var uo,ude,eq,tq=d(function(){uo=y(x("react"));U();H();re();Lt();at();ude=function ude(_ref248){var r=_ref248.adjustmentsTool,e=_ref248.custom;var t=r.selectedAdjustmentType.toLowerCase(),i=r[t],o=(0,uo.useRef)(!1),s=(0,uo.useRef)(i),n=e.getButton("toolControlBarSecondaryButton"),a=function a(l){o.current&&l!==s.current&&(r.toolSnapshot(),o.current=!1,s.current=l);};return uo["default"].createElement(z.ControlsbarContainer,{show:Boolean(t)},uo["default"].createElement(n,{tool:C.ADJUSTMENT,ariaLabel:r.locale.controls.buttonReset,onClick:r.reset,icon:uo["default"].createElement(jt.reset,null),label:r.locale.controls.buttonReset}),uo["default"].createElement(z.Other.ControlsWrapper,null,uo["default"].createElement(M.Spacer,{count:2}),uo["default"].createElement(z.Slider,{"aria-hidden":!t,adjust:!0,style:{width:"280px"},label:r.selectedOptionLabel,value:i,onChange:function onChange(l){r.editAdjustments({type:t,value:l}),o.current=i!==l;},onMouseUp:a,onTouchEnd:a,snap:0}),uo["default"].createElement(M.Spacer,{count:2}),uo["default"].createElement(z.BarSeparator,null)),uo["default"].createElement(z.Other.EmptyDiv,null));},eq=ne("adjustmentsTool","custom")(D(ude));});var ng,iq,rq=d(function(){ng=y(x("react"));U();H();ri();re();J();iq=D(function(){var _R13=R(),r=_R13.brushTool,e=r.colorList,t=r.locale,i=r.localeColor,o=t.controls,s=i.colorPicker;return ng["default"].createElement(ng["default"].Fragment,null,ng["default"].createElement(M.Input.Selection,{showLabel:!1,label:o.selectColor},ng["default"].createElement(Ht,{tool:C.BRUSH,activeColor:r.color,colors:e,labelsColor:s,colorPickerDirection:"top",onChange:r.changeColor})));});});var oq=d(function(){rq();});var sq,nq,aq=d(function(){sq=y(x("react"));U();J();$();at();nq=D(function(){var _R14=R(),r=_R14.brushTool,e=r.locale,t=e.controls;return sq["default"].createElement(z.Slider,{"data-test":j.BrushHardness,style:{width:"280px"},showLabel:!1,label:t.sliderHardness,value:r.hardness,min:0,max:1,onChange:r.changeHardness});});});var lq=d(function(){aq();});var cq,dq,uq=d(function(){cq=y(x("react"));U();J();$();at();dq=D(function(){var _R15=R(),r=_R15.brushTool,e=r.locale,t=e.controls;return cq["default"].createElement(z.Slider,{"data-test":j.BrushSize,style:{width:"280px"},showLabel:!1,label:t.sliderSize,value:r.relativeSize,min:1,max:100,divider:1,onChange:r.changeRelativeSize});});});var mq=d(function(){uq();});var mo,mde,GD,pq,hq=d(function(){var _z2;mo=y(x("react"));U();H();re();J();Lt();at();oq();lq();mq();mde=z.TabWrapper,(_z2=z,GD=_z2.Tab,_z2),pq=D(function(){var _R16=R(),r=_R16.brushTool,e=_R16.custom,t=r.locale,i=r.config,o=i.basicUIToolControlBarTabsOrder,s=t.controls,n=e.getButton("toolControlBarSecondaryButton"),a=function a(l){switch(l){case Es.BrushColor:return mo["default"].createElement(GD,{key:l,label:s.tabColor},mo["default"].createElement(iq,null));case Es.BrushSize:return mo["default"].createElement(GD,{key:l,label:s.tabSize},mo["default"].createElement(dq,null));case Es.BrushHardness:return mo["default"].createElement(GD,{key:l,label:s.tabHardness},mo["default"].createElement(nq,null));default:return null;}};return mo["default"].createElement(z.ControlsbarContainer,{style:{justifyContent:"center"},show:!0},mo["default"].createElement(n,{tool:C.BRUSH,ariaLabel:s.buttonReset,onClick:r.reset,icon:mo["default"].createElement(jt.reset,null),isDisabled:!r.isDirty,label:s.buttonReset}),mo["default"].createElement(z.Other.ControlsWrapper,null,mo["default"].createElement(M.Input.Form,null,mo["default"].createElement(mde,null,o.map(function(l){return a(l);})))));});});var op,fq,gq=d(function(){op=y(x("react"));U();re();J();at();fq=D(function(){var _R17=R(),r=_R17.filterTool,e=r.state,t=r.locale.controls,i=function i(){r.toolSnapshot();};return op["default"].createElement(z.Other.ControlsWrapper,null,op["default"].createElement(M.Spacer,{count:2}),op["default"].createElement(z.Slider,{"aria-hidden":!r.isOptionSelected,style:{width:"280px"},label:t.sliderIntensity,value:e.intensity,min:0,max:1,onMouseUp:i,onTouchEnd:i,onChange:r.changeIntensity,snap:e.isDuotone?.5:null}),op["default"].createElement(M.Spacer,{count:2}),op["default"].createElement(z.BarSeparator,null));});});var bq=d(function(){gq();});var sp,_q,yq=d(function(){sp=y(x("react"));U();H();J();Lt();at();bq();_q=D(function(){var _R18=R(),r=_R18.filterTool,e=_R18.custom,t=r.config,i=t.basicUIToolControlBarTabsOrder,o=e.getButton("toolControlBarSecondaryButton"),s=function s(n){switch(n){case uu.FilterIntensity:return sp["default"].createElement(fq,{key:n});default:return null;}};return sp["default"].createElement(z.ControlsbarContainer,{show:r.isOptionSelected},sp["default"].createElement(o,{tool:C.FILTER,ariaLabel:r.locale.controls.buttonReset,onClick:r.reset,icon:sp["default"].createElement(jt.reset,null),label:r.locale.controls.buttonReset}),i.map(function(n){return s(n);}),sp["default"].createElement(z.Other.EmptyDiv,null));});});var mn,xq,vq=d(function(){mn=y(x("react"));U();H();re();J();Lt();at();xq=D(function(){var _R19=R(),r=_R19.focusTool,e=_R19.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.toolSnapshot(t.sliderIntensity);};return mn["default"].createElement(z.ControlsbarContainer,{show:r.isOptionSelected},mn["default"].createElement(i,{tool:C.FOCUS,ariaLabel:t.buttonReset,onClick:r.reset,icon:mn["default"].createElement(jt.reset,null),label:t.buttonReset}),mn["default"].createElement(z.Other.ControlsWrapper,null,mn["default"].createElement(M.Spacer,{count:2}),mn["default"].createElement(z.Slider,{"aria-hidden":!r.isOptionSelected,style:{width:"280px"},label:t.sliderIntensity,value:r.relativeIntensity,min:0,max:100,divider:1,onChange:r.changeRelativeIntensity,onMouseUp:o,onTouchEnd:o}),mn["default"].createElement(M.Spacer,{count:2}),mn["default"].createElement(z.BarSeparator,null)),mn["default"].createElement(z.Other.EmptyDiv,null));});});var VD,Cq,Sq=d(function(){VD=y(x("react"));U();H();ri();re();J();Cq=D(function(){var _R20=R(),r=_R20.frameTool,e=r.locale.controls,t=r.localeColor.colorPicker,i=r.colorList;return VD["default"].createElement(M.Input.Selection,{label:e.selectColor,showLabel:!1},VD["default"].createElement(Ht,{tool:C.FRAME,activeColor:r.color,colors:i,labelsColor:t,colorPickerDirection:"top",onChange:r.changeColor,onAddSnapshot:r.colorSnapshot}));});});var wq=d(function(){Sq();});var kq,Tq,Dq=d(function(){kq=y(x("react"));U();J();at();Tq=D(function(){var _R21=R(),r=_R21.frameTool,e=r.locale.controls,t=function t(){r.toolSnapshot(e.sliderOpacity);};return kq["default"].createElement(z.Slider,{"aria-hidden":!r.isOptionSelected,showLabel:!1,style:{width:"280px"},label:e.sliderOpacity,value:r.opacity,min:0,max:1,onChange:r.changeOpacity,onMouseUp:t,onTouchEnd:t});});});var Eq=d(function(){Dq();});var Iq,Fq,Oq=d(function(){Iq=y(x("react"));U();J();at();Fq=D(function(){var _R22=R(),r=_R22.frameTool,e=r.locale.controls,t=function t(){r.toolSnapshot(e.sliderSize);};return Iq["default"].createElement(z.Slider,{"aria-hidden":!r.isOptionSelected,showLabel:!1,style:{width:"280px"},label:e.sliderSize,value:r.size,min:r.minSize,max:r.maxSize,divider:1,onChange:r.changeWidth,onMouseUp:t,onTouchEnd:t});});});var Rq=d(function(){Oq();});var ur,pde,jD,Aq,Pq=d(function(){var _z3;ur=y(x("react"));U();H();re();J();Lt();at();wq();Eq();Rq();pde=z.TabWrapper,(_z3=z,jD=_z3.Tab,_z3),Aq=D(function(){var _R23=R(),r=_R23.frameTool,e=_R23.custom,t=r.locale.controls,i=r.tintable,o=r.config,s=o.basicUIToolControlBarTabsOrder,n=e.getButton("toolControlBarSecondaryButton"),a=function a(l){switch(l){case Ds.FrameOpacity:return ur["default"].createElement(jD,{key:l,label:t.tabOpacity},ur["default"].createElement(Tq,null));case Ds.FrameSize:return ur["default"].createElement(jD,{key:l,label:t.tabSize},ur["default"].createElement(Fq,null));case Ds.FrameColor:return i&&ur["default"].createElement(jD,{key:l,label:t.tabColor},ur["default"].createElement(Cq,null));default:return null;}};return ur["default"].createElement(z.ControlsbarContainer,{show:r.isOptionSelected},ur["default"].createElement(n,{tool:C.FRAME,ariaLabel:t.buttonReset,onClick:r.reset,icon:ur["default"].createElement(jt.reset,null),label:t.buttonReset}),ur["default"].createElement(z.Other.ControlsWrapper,null,ur["default"].createElement(M.Spacer,null),ur["default"].createElement(pde,null,s.map(function(l){return a(l);})),ur["default"].createElement(z.BarSeparator,null)),ur["default"].createElement(z.Other.EmptyDiv,null));});});var pn,m0,hde,fde,Bq,Mq=d(function(){pn=y(x("react"));U();m0=y(x("styled-components"));H();re();Lt();$();ID();at();hde=(0,m0["default"])(z.ControlsbarContainer)(_templateObject288||(_templateObject288=_taggedTemplateLiteral(["\n  ","\n"])),function(r){return r.firstChildMargin&&m0.css(_templateObject289||(_templateObject289=_taggedTemplateLiteral(["\n      > :first-child {\n        margin-right: 16px;\n      }\n    "])));}),fde=function fde(_ref249){var r=_ref249.library,e=_ref249.active,t=_ref249.custom;var i=r.locale.controls.placeholderSearch,o=r.config,s=t.getButton("toolControlBarPrimaryButton"),n=function n(u){r.fetchImages(u);},a=function a(u){var p=u.target.files;if(p.length){var m=new FileReader();m.onload=function(h){e.newImage(h.target.result);},m.readAsDataURL(p[0]);}},l=function l(){e.selectWebcam(!0);},c=function c(){var u=document.getElementById("fileUpload");u&&u.click();};return pn["default"].createElement(hde,{firstChildMargin:o.enableWebcam&&!r.libraryProvider,show:!0},o.enableUpload&&pn["default"].createElement(s,{tool:C.LIBRARY,"data-test":j.LibraryUploadButton,ariaLabel:r.locale.controls.buttonUpload,onClick:c,icon:pn["default"].createElement(jt.uploadImage,null),label:r.locale.controls.buttonUpload},pn["default"].createElement(M.Input.File,{onChange:a})),r.libraryProvider&&pn["default"].createElement(z.Other.ControlsWrapper,null,pn["default"].createElement(M.Input.Search,{onChange:n,placeholder:i})),o.enableWebcam&&pn["default"].createElement(Qv,{tool:C.LIBRARY,onClick:l,icon:pn["default"].createElement(jt.openWebcam,null),label:r.locale.controls.buttonWebcamOpen}),pn["default"].createElement(z.BarSeparator,null));},Bq=ne("library","active","custom")(D(fde));});var Lq,zq,Uq=d(function(){Lq=y(x("react"));U();re();J();zq=D(function(){var _R24=R(),r=_R24.overlayTool,e=r.locale.controls,t=r.blendMode,i=r.allBlendModes,o=function o(s){r.changeBlendMode(s);};return Lq["default"].createElement(M.Input.CarouselSlider,{showLabel:!1,label:e.carouselBlendMode,defaultIdentifier:t,onSelect:o,list:i});});});var Nq=d(function(){Uq();});var Hq,Wq,Gq=d(function(){Hq=y(x("react"));U();J();at();Wq=D(function(){var _R25=R(),r=_R25.overlayTool,e=r.locale.controls,t=r.state,i=function i(){r.toolSnapshot();};return Hq["default"].createElement(z.Slider,{"aria-hidden":!r.isOptionSelected,showLabel:!1,style:{width:"280px"},label:e.sliderOpacity,value:t.opacity,min:0,max:1,onChange:r.changeOpacity,onMouseUp:i,onTouchEnd:i});});});var Vq=d(function(){Gq();});var po,gde,jq,$q,qq=d(function(){var _z4;po=y(x("react"));U();H();re();J();Lt();at();Nq();Vq();gde=z.TabWrapper,(_z4=z,jq=_z4.Tab,_z4),$q=D(function(){var _R26=R(),r=_R26.overlayTool,e=_R26.custom,t=r.config,i=t.basicUIToolControlBarTabsOrder,o=r.locale.controls,s=e.getButton("toolControlBarSecondaryButton"),n=function n(a){switch(a){case Ha.OverlayBlendMode:return po["default"].createElement(jq,{key:a,label:o.tabBlendMode},po["default"].createElement(zq,null));case Ha.OverlayOpacity:return po["default"].createElement(jq,{key:a,label:o.tabOpacity},po["default"].createElement(Wq,null));default:return null;}};return po["default"].createElement(z.ControlsbarContainer,{show:r.isOptionSelected},po["default"].createElement(s,{tool:C.OVERLAY,ariaLabel:o.buttonReset,onClick:r.reset,icon:po["default"].createElement(jt.reset,null),label:o.buttonReset}),po["default"].createElement(z.Other.ControlsWrapper,null,po["default"].createElement(M.Spacer,null),po["default"].createElement(gde,null,i.map(function(a){return n(a);})),po["default"].createElement(z.BarSeparator,null)),po["default"].createElement(z.Other.EmptyDiv,null));});});var ag,Kq,Xq=d(function(){ag=y(x("react"));U();H();ri();re();J();Kq=D(function(){var _R27=R(),r=_R27.stickerTool,e=r.locale.controls,t=r.localeColor.colorPicker,i=r.colorList;return ag["default"].createElement(ag["default"].Fragment,null,ag["default"].createElement(M.Input.Selection,{isDisabled:!r.isStickerSelected,showLabel:!1,label:e.selectColor},ag["default"].createElement(Ht,{tool:C.STICKER,activeSprite:r.id,activeColor:r.tintColor,colors:i,labelsColor:t,isDisabled:!r.isStickerSelected,colorPickerDirection:"top",onChange:r.changeTintColor,onAddSnapshot:r.tintColorSnapshot})));});});var Yq=d(function(){Xq();});var Jq,Zq,Qq=d(function(){Jq=y(x("react"));U();J();at();Zq=D(function(){var _R28=R(),r=_R28.stickerTool,e=r.locale.controls,t=function t(){r.toolSnapshot();};return Jq["default"].createElement(z.Slider,{isDisabled:!r.isStickerSelected,showLabel:!1,style:{width:"280px"},label:e.sliderOpacity,value:r.opacity,min:0,max:1,onMouseUp:t,onTouchEnd:t,onChange:r.changeOpacity});});});var eK=d(function(){Qq();});var ho,tK,bde,iK,_de,rK,oK=d(function(){var _z5;ho=y(x("react"));U();tK=y(x("styled-components"));H();re();J();Lt();at();Yq();eK();bde=z.TabWrapper,(_z5=z,iK=_z5.Tab,_z5),_de=tK["default"].input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})(_templateObject290||(_templateObject290=_taggedTemplateLiteral(["\n  ","\n"])),w_.VisuallyHidden),rK=D(function(){var _R29=R(),r=_R29.stickerTool,e=_R29.custom,t=r.config,i=t.basicUIToolControlBarTabsOrder,o=r.locale.controls,s=e.getButton("toolControlBarPrimaryButton"),n=function n(){var u=document.getElementById("fileUpload");u&&(u.value=null,u.click());},a=function a(u){var p=u.target.files;r.addFiles(p);},l=function l(u){switch(u){case Wa.StickerColor:return r.tintable?ho["default"].createElement(iK,{key:u,label:o.tabColor},ho["default"].createElement(Kq,null)):null;case Wa.StickerOpacity:return ho["default"].createElement(iK,{key:u,label:o.tabOpacity},ho["default"].createElement(Zq,null));default:return null;}},c=function c(){return r.isCustomStickerEnabled?ho["default"].createElement(s,{tool:C.STICKER,ariaLabel:o.buttonUpload,onClick:n,icon:ho["default"].createElement(jt.uploadImage,null),label:o.buttonUpload},ho["default"].createElement(_de,{onChange:a})):null;};return ho["default"].createElement(z.ControlsbarContainer,{show:!0},c(),ho["default"].createElement(z.Other.ControlsWrapper,null,ho["default"].createElement(bde,null,i.map(function(u){return l(u);})),ho["default"].createElement(z.BarSeparator,null)),ho["default"].createElement(z.Other.EmptyDiv,null));});});var $D,sK,nK=d(function(){$D=y(x("react"));U();H();ri();re();J();sK=D(function(){var _R30=R(),r=_R30.textTool,e=r.backgroundColorList,t=r.locale.controls,i=r.localeColor.colorPicker;return $D["default"].createElement(M.Input.Selection,{isDisabled:!r.isTextSelected,showLabel:!1,label:t.selectBackgroundColor},$D["default"].createElement(Ht,{tool:C.TEXT,activeSprite:r.id,activeColor:r.backgroundColor,colors:e,labelsColor:i,colorPickerDirection:"top",isDisabled:!r.isTextSelected,onChange:r.changeBackgroundColor,onAddSnapshot:r.backgroundColorSnapshot}));});});var aK=d(function(){nK();});var lK,cK,yde,dK,uK=d(function(){lK=y(x("react"));U();cK=y(x("styled-components"));re();J();yde=(0,cK["default"])(M.Input.NumericInput)(_templateObject291||(_templateObject291=_taggedTemplateLiteral(["\n  max-width: 55px;\n  > div > input {\n    text-align: center;\n  }\n"]))),dK=D(function(){var _R31=R(),r=_R31.textTool,e=function e(t){var i=t?parseFloat(t):0;r.setFontSize(Math.max(10,Math.min(690,i)));};return lK["default"].createElement(yde,{value:r.fontSize.toFixed(0),onSubmit:e,isDisabled:!r.isTextSelected});});});var mK=d(function(){uK();});var pK,hK,fK=d(function(){pK=y(x("react"));U();J();at();hK=D(function(){var _R32=R(),r=_R32.textTool,e=r.locale.controls,t=function t(){r.toolSnapshot();};return pK["default"].createElement(z.Slider,{isDisabled:!r.isTextSelected,showLabel:!1,label:e.sliderLineSpacing,value:r.lineHeight,min:.5,max:3,onChange:r.changeLineHeight,onMouseUp:t,onTouchEnd:t,snap:1,divider:1,decimal:1});});});var gK=d(function(){fK();});var p0,bK,_K=d(function(){p0=y(x("react"));U();re();J();Lt();$();bK=D(function(){var _R33=R(),r=_R33.textTool,e=_R33.custom,t=r.locale.controls,i=["left","center","right"],o=e.getButton("textAlignment");return p0["default"].createElement(M.Input.Selection,{isDisabled:!r.isTextSelected,showLabel:!1,label:t.selectAlignment,"data-test":j.TextAlignment},i.map(function(s){var n=F_[s];return p0["default"].createElement(o,{tool:s,isDisabled:!r.isTextSelected,ariaLabel:"Align ".concat(s),isActive:s===r.alignment,key:s,icon:p0["default"].createElement(n,null),onClick:function onClick(){return r.changeAlignment(s);}});}));});});var yK=d(function(){_K();});var qD,xK,vK=d(function(){qD=y(x("react"));U();H();ri();re();J();xK=D(function(){var _R34=R(),r=_R34.textTool,e=r.colorList,t=r.locale.controls,i=r.localeColor.colorPicker;return qD["default"].createElement(M.Input.Selection,{isDisabled:!r.isTextSelected,showLabel:!1,label:t.selectFontColor},qD["default"].createElement(Ht,{tool:C.TEXT,activeSprite:r.id,activeColor:r.textColor,colors:e,labelsColor:i,colorPickerDirection:"top",isDisabled:!r.isTextSelected,onChange:r.changeColor,onAddSnapshot:r.colorSnapshot}));});});var CK=d(function(){vK();});var Ci,xde,SK,wK=d(function(){Ci=y(x("react"));U();H();re();J();Lt();at();s0();aK();mK();gK();yK();CK();xde=z.ResponsiveTabWrapper,SK=D(function(){var _R35=R(),r=_R35.textTool,e=_R35.custom,t=r.config,i=t.basicUIToolControlBarTabsOrder,o=r.locale.controls,s=e.getButton("toolControlBarPrimaryButton"),n=function n(a){switch(a){case gr.FontSize:return Ci["default"].createElement(Fa,{key:a,label:o.tabFontSize},Ci["default"].createElement(dK,null));case gr.TextAligment:return Ci["default"].createElement(Fa,{key:a,label:o.tabAlignment},Ci["default"].createElement(bK,null));case gr.TextColor:return Ci["default"].createElement(Fa,{key:a,label:o.tabColor},Ci["default"].createElement(xK,null));case gr.BackgroundColor:return Ci["default"].createElement(Fa,{key:a,label:o.tabBgColor},Ci["default"].createElement(sK,null));case gr.LineSpacing:return Ci["default"].createElement(Fa,{key:a,label:o.tabLineHeight},Ci["default"].createElement(hK,null));default:return null;}};return Ci["default"].createElement(z.ControlsbarContainer,{show:!0},Ci["default"].createElement(s,{tool:C.TEXT,ariaLabel:o.buttonNew,onClick:r.add,icon:Ci["default"].createElement(jt.addText,null),label:o.buttonNew}),Ci["default"].createElement(z.Other.ControlsWrapper,null,Ci["default"].createElement(M.Spacer,null),Ci["default"].createElement(xde,null,i.map(function(a){return n(a);})),Ci["default"].createElement(z.BarSeparator,null)),Ci["default"].createElement(z.Other.EmptyDiv,null));});});var hn,vde,kK,TK=d(function(){hn=y(x("react"));U();H();ri();re();Lt();at();vde=function vde(_ref250){var r=_ref250.textDesignTool,e=_ref250.custom;var t=r.locale.controls,i=r.localeColor.colorPicker,o=r.colorList,s=e.getButton("toolControlBarSecondaryButton"),n=e.getButton("toolControlBarPrimaryButton");return hn["default"].createElement(z.ControlsbarContainer,{show:!0},hn["default"].createElement(n,{tool:C.TEXT_DESIGN,ariaLabel:t.buttonNew,onClick:r.add,icon:hn["default"].createElement(jt.addText,null),label:t.buttonNew}),hn["default"].createElement(z.Other.ControlsWrapper,null,hn["default"].createElement(M.Input.Selection,{isDisabled:!r.isTextDesignSelected,label:t.selectColor},hn["default"].createElement(Ht,{tool:C.TEXT_DESIGN,activeSprite:r.id,activeColor:r.color,colors:o,labelsColor:i,colorPickerDirection:"top",isDisabled:!r.isTextDesignSelected,onChange:r.changeColor,onAddSnapshot:r.colorSnapshot}))),hn["default"].createElement(s,{tool:C.TEXT_DESIGN,ariaLabel:t.buttonShuffle,onClick:r.changeSeed,icon:hn["default"].createElement(jt.shuffle,null),label:t.buttonShuffle}),hn["default"].createElement(z.BarSeparator,null));},kK=ne("textDesignTool","custom")(D(vde));});var DK,EK,IK=d(function(){DK=y(x("react"));U();ri();J();EK=D(function(){var _R36=R(),r=_R36.transformTool,e=r.locale.controls,t=r.forceDimensions;return DK["default"].createElement(If,{isDisabled:t,showLabel:!1,valueHeight:r.localOutputHeight,valueWidth:r.localOutputWidth,onSubmitWidth:r.onPixelWidth,onSubmitHeight:r.onPixelHeight,label:e.inputCropSize,labelHeight:e.inputHeight,labelWidth:e.inputWidth});});});var FK=d(function(){IK();});var OK,RK,AK=d(function(){OK=y(x("react"));ri();RK=function RK(){return OK["default"].createElement(Df,null);};});var PK=d(function(){AK();});var BK,MK,LK=d(function(){BK=y(x("react"));U();H();J();MK=D(function(){var _R37=R(),r=_R37.transformTool,e=_R37.custom,t=r.locale.controls,i=r.forceDimensions,o=e.getCheckbox();return BK["default"].createElement(o,{tool:C.TRANSFORM,isDisabled:i,style:{paddingTop:"5px",justifyContent:"center"},value:r.lockResolution,checkMarkPosition:"left",label:t.checkboxKeepResolution,onClick:r.changeLockResolution});});});var zK=d(function(){LK();});var mr,Cde,KD,UK,NK=d(function(){var _z6;mr=y(x("react"));U();H();re();J();Lt();at();FK();PK();zK();Cde=z.ResponsiveTabWrapper,(_z6=z,KD=_z6.Tab,_z6),UK=D(function(){var _R38=R(),r=_R38.transformTool,e=_R38.custom,t=r.config,i=t.basicUIToolControlBarTabsOrder,o=r.locale.controls,s=e.getButton("toolControlBarSecondaryButton"),n=function n(a){switch(a){case Is.FlipRotate:return mr["default"].createElement(KD,{key:a,label:o.tabFlipAndRotate},mr["default"].createElement(RK,null));case Is.Resolution:return mr["default"].createElement(KD,{key:a,label:o.tabResolution},mr["default"].createElement(MK,null));case Is.CropSize:return mr["default"].createElement(KD,{key:a,label:o.tabCropSize},mr["default"].createElement(EK,null));default:return null;}};return mr["default"].createElement(z.ControlsbarContainer,{show:!0},mr["default"].createElement(s,{tool:C.TRANSFORM,ariaLabel:r.locale.controls.buttonReset,onClick:r.reset,icon:mr["default"].createElement(jt.reset,null),label:r.locale.controls.buttonReset}),mr["default"].createElement(z.Other.ControlsWrapper,null,mr["default"].createElement(M.Spacer,null),mr["default"].createElement(Cde,null,i.map(function(a){return n(a);})),mr["default"].createElement(z.BarSeparator,null)),mr["default"].createElement(z.Other.EmptyDiv,null));});});var Pt,lg,HK=d(function(){Pt=y(x("react"));U();H();re();at();tq();hq();yq();vq();Pq();Mq();qq();oK();wK();TK();NK();lg=/*#__PURE__*/function(_Pt$default$Component){_inherits(lg,_Pt$default$Component);var _super248=_createSuper(lg);function lg(){_classCallCheck(this,lg);return _super248.apply(this,arguments);}_createClass(lg,[{key:"render",value:function render(){var e=this.props.active,t=e.tool;return Pt["default"].createElement(z.Controlsbar,{show:!!t},Pt["default"].createElement(M.Switch.Index,{type:t},Pt["default"].createElement(M.Switch.Case,{value:C.FILTER},Pt["default"].createElement(_q,null)),Pt["default"].createElement(M.Switch.Case,{value:C.FOCUS},Pt["default"].createElement(xq,null)),Pt["default"].createElement(M.Switch.Case,{value:C.ADJUSTMENT},Pt["default"].createElement(eq,null)),Pt["default"].createElement(M.Switch.Case,{value:C.OVERLAY},Pt["default"].createElement($q,null)),Pt["default"].createElement(M.Switch.Case,{value:C.STICKER},Pt["default"].createElement(rK,null)),Pt["default"].createElement(M.Switch.Case,{value:C.TEXT},Pt["default"].createElement(SK,null)),Pt["default"].createElement(M.Switch.Case,{value:C.TEXT_DESIGN},Pt["default"].createElement(kK,null)),Pt["default"].createElement(M.Switch.Case,{value:C.LIBRARY},Pt["default"].createElement(Bq,null)),Pt["default"].createElement(M.Switch.Case,{value:C.FRAME},Pt["default"].createElement(Aq,null)),Pt["default"].createElement(M.Switch.Case,{value:C.BRUSH},Pt["default"].createElement(pq,null)),Pt["default"].createElement(M.Switch.Case,{value:C.TRANSFORM},Pt["default"].createElement(UK,null))));}}]);return lg;}(Pt["default"].Component);lg=f([ne("active","config"),D],lg);});var np,WK,Sde,wde,GK,VK=d(function(){np=y(x("react"));U();WK=y(x("styled-components"));H();Lt();$();at();Sde=WK["default"].div(_templateObject292||(_templateObject292=_taggedTemplateLiteral(["\n  position: relative;\n  top: -8px;\n  color: ",";\n"])),function(r){return r.theme.card.foreground;}),wde=function wde(_ref251){var r=_ref251.adjustmentsTool;var e=function e(t,i){var o=uM[t.identifier];return np["default"].createElement(z.Card,{"data-test":t.identifier,tool:C.ADJUSTMENT,type:De.MEDIUM,onClick:function onClick(){return r.toggleOptionSelection(t.identifier);},isActive:t.identifier===r.selectedAdjustmentType,key:"".concat(t.identifier,"-").concat(i),label:t.name,style:{animationDelay:"".concat(Ne(i),"s")}},np["default"].createElement(Sde,null,np["default"].createElement(o,null)),np["default"].createElement(z.CardLabel,null,r.locale.items[t.identifier]||t.name));};return np["default"].createElement(z.CardContainer,null,r.items.map(e));},GK=ne("adjustmentsTool")(D(wde));});var jK,$K,qK=d(function(){jK=y(x("react"));H();J();$K=function $K(){var _R39=R(),r=_R39.config,e=r.state.config[C.CUSTOM].toolControlBar;return jK["default"].createElement(e,{language:r.state.locale[C.CUSTOM]});};});var KK=d(function(){qK();});var fn,cg,XK=d(function(){fn=y(x("react"));U();H();$();at();cg=/*#__PURE__*/function(_fn$default$Component){_inherits(cg,_fn$default$Component);var _super249=_createSuper(cg);function cg(){var _this394;_classCallCheck(this,cg);_this394=_super249.apply(this,arguments);_this394.onCategoryClick=function(e){var t=_this394.props.filterTool;t.toggleCategorySelection(e);};_this394.renderItem=function(e,t){var i=_this394.props.filterTool;return fn["default"].createElement(z.Card,{tool:C.FILTER,type:De.MEDIUM,onClick:function onClick(){return i.selectFilter(e.identifier,e.defaultIntensity);},isActive:i.identifier===e.identifier,key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat(Ne(t),"s")}},fn["default"].createElement(z.CardLabel,{withBackground:!0},i.locale.categories[e.identifier]||i.locale.items[e.identifier]||e.name));};_this394.renderCategory=function(e,t){var i=_this394.props.filterTool,o=i.selectedCategoryIdentifier,s=o===e.identifier;return e.items?fn["default"].createElement(z.CategoryContainer,{key:e.identifier},fn["default"].createElement(z.Card,{tool:C.FILTER,type:De.LARGE,onClick:function onClick(){return _this394.onCategoryClick(e.identifier);},image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat(Ne(t),"s")}},fn["default"].createElement(z.CardLabel,{withBackground:!0},e.name)),fn["default"].createElement(z.ExpandableContainer,{show:s},e.items.map(_this394.renderItem))):null;};return _this394;}_createClass(cg,[{key:"render",value:function render(){var e=this.props.filterTool,t=e.categories,i=e.config,o=e.items;return i.flattenCategories?fn["default"].createElement(z.CardContainer,null,o.map(this.renderItem)):fn["default"].createElement(z.CardContainer,null,t.map(this.renderCategory));}}]);return cg;}(fn["default"].Component);cg=f([ne("filterTool","active"),D],cg);});var h0,kde,YK,JK=d(function(){h0=y(x("react"));U();H();$();at();kde=function kde(_ref252){var r=_ref252.focusTool;var e=function e(i){r.selectFocus(i);},t=function t(i,o){return h0["default"].createElement(z.Card,{isActive:i.identifier===r.identifier,tool:C.FOCUS,type:De.MEDIUM,onClick:function onClick(){return e(i.identifier);},key:"".concat(i.identifier,"-").concat(o),image:i.thumbnailURI,label:i.name,style:{animationDelay:"".concat(Ne(o),"s")}},h0["default"].createElement(z.CardLabel,{withBackground:!0},r.locale.items[i.identifier]||i.name));};return h0["default"].createElement(z.CardContainer,null,r.items.map(t));},YK=ne("focusTool")(D(kde));});var f0,Tde,ZK,QK=d(function(){f0=y(x("react"));U();H();$();at();Tde=function Tde(_ref253){var r=_ref253.frameTool;var e=r.identifier,t=function t(i,o){return f0["default"].createElement(z.Card,{tool:C.FRAME,type:De.MEDIUM,onClick:function onClick(){return r.selectFrame(i.identifier);},isActive:i.identifier===e,key:"".concat(i.identifier,"-").concat(o),image:i.thumbnailURI,label:i.name,style:{animationDelay:"".concat(Ne(o),"s"),backgroundSize:"60%"}}," ",f0["default"].createElement(z.CardLabel,{hidden:!0},r.locale.items[i.identifier]||i.name));};return f0["default"].createElement(z.CardContainer,null,r.items.map(t));},ZK=ne("frameTool")(D(Tde));});var eX,tX,iX=d(function(){eX=y(x("styled-components")),tX=eX["default"].p(_templateObject293||(_templateObject293=_taggedTemplateLiteral(["\n  height: ","px;\n"])),function(r){return r.theme.measurements.basicToolControlBar.itemsBarHeight;});});var rX=d(function(){iX();});var fs,dg,oX=d(function(){fs=y(x("react"));U();H();$();at();rX();dg=/*#__PURE__*/function(_fs$default$Component){_inherits(dg,_fs$default$Component);var _super250=_createSuper(dg);function dg(){var _this395;_classCallCheck(this,dg);_this395=_super250.apply(this,arguments);_this395.onCategoryClick=function(e){var t=_this395.props.library;t.toggleCategorySelection(e);};_this395.renderItem=function(e,t){var i=_this395.props.active;return fs["default"].createElement(z.Card,{tool:C.LIBRARY,type:De.MEDIUM,onClick:function onClick(){return i.newImage(e.rawUrl);},key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat(Ne(t),"s")}});};_this395.renderCategory=function(e,t){var i=_this395.props.library,o=i.selectedCategoryIdentifier,s=o===e.identifier;return e.items?fs["default"].createElement(z.CategoryContainer,{key:e.identifier},fs["default"].createElement(z.Card,{tool:C.LIBRARY,type:De.LARGE,onClick:function onClick(){return _this395.onCategoryClick(e.identifier);},image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat(Ne(t),"s")}},fs["default"].createElement(z.CardLabel,{withBackground:!0},e.name)),fs["default"].createElement(z.ExpandableContainer,{show:s},e.items.map(_this395.renderItem))):null;};return _this395;}_createClass(dg,[{key:"render",value:function render(){var e=this.props.library,t=e.query,i=e.categories,o=e.items,s=e.locale,n=e.config;return t?o.length?fs["default"].createElement(z.CardContainer,null,o.map(this.renderItem)):fs["default"].createElement(tX,{"data-test":j.NoResult},s.controls.noResults):n.flattenCategories?fs["default"].createElement(z.CardContainer,null,o.map(this.renderItem)):fs["default"].createElement(z.CardContainer,null,i.map(this.renderCategory));}}]);return dg;}(fs["default"].Component);dg=f([ne("library","active"),D],dg);});var g0,Dde,sX,nX=d(function(){g0=y(x("react"));U();H();$();at();Dde=function Dde(_ref254){var r=_ref254.overlayTool;var e=r.identifier,t=r.items,i=r.selectOverlay,o=r.locale,s=function s(n,a){return g0["default"].createElement(z.Card,{tool:C.OVERLAY,type:De.MEDIUM,onClick:function onClick(){return i(n.identifier);},isActive:n.identifier===e,key:"".concat(n.identifier,"-").concat(a),image:n.thumbnailURI,label:n.name,style:{animationDelay:"".concat(Ne(a),"s")}},g0["default"].createElement(z.CardLabel,{withBackground:!0},o.items[n.identifier]||n.name));};return g0["default"].createElement(z.CardContainer,null,t.map(s));},sX=ne("overlayTool")(D(Dde));});var gn,ug,aX=d(function(){gn=y(x("react"));U();H();$();at();ug=/*#__PURE__*/function(_gn$default$Component){_inherits(ug,_gn$default$Component);var _super251=_createSuper(ug);function ug(){var _this396;_classCallCheck(this,ug);_this396=_super251.apply(this,arguments);_this396.onCategoryClick=function(e){var t=_this396.props.stickerTool;t.toggleCategorySelection(e);};_this396.renderItem=function(e,t){var i=_this396.props.stickerTool;return gn["default"].createElement(z.Card,{tool:C.STICKER,type:De.MEDIUM,onClick:function onClick(){return i.add(e.identifier);},key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,style:{backgroundSize:"55%",animationDelay:"".concat(Pb(t),"s")}},gn["default"].createElement(z.CardLabel,{hidden:!0},i.locale.items[e.identifier]||e.name));};_this396.renderCategory=function(e,t){var i=_this396.props.stickerTool,o=i.selectedCategoryIdentifier,s=i.locale,n=o===e.identifier;return e.items?gn["default"].createElement(z.CategoryContainer,{key:e.identifier},gn["default"].createElement(z.Card,{tool:C.STICKER,type:De.LARGE,onClick:function onClick(){return _this396.onCategoryClick(e.identifier);},image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat(Ne(t),"s")}},gn["default"].createElement(z.CardLabel,{withBackground:!0},s.categories[e.identifier]||e.name)),gn["default"].createElement(z.ExpandableContainer,{show:n},e.items.map(_this396.renderItem))):null;};return _this396;}_createClass(ug,[{key:"render",value:function render(){var e=this.props.stickerTool,t=e.categories,i=e.items,o=e.config;return o.flattenCategories?gn["default"].createElement(z.CardContainer,null,i.map(this.renderItem)):gn["default"].createElement(z.CardContainer,null,t.map(this.renderCategory));}}]);return ug;}(gn["default"].Component);ug=f([ne("stickerTool","active"),D],ug);});var mg,lX,Ede,cX,dX,uX=d(function(){mg=y(x("react"));U();lX=y(x("styled-components"));H();nt();$();at();Ede=lX["default"].div(_templateObject294||(_templateObject294=_taggedTemplateLiteral(["\n  font-size: 20px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform-origin: left top;\n"]))),cX=/*#__PURE__*/function(_mg$default$Component){_inherits(cX,_mg$default$Component);var _super252=_createSuper(cX);function cX(){var _this397;_classCallCheck(this,cX);_this397=_super252.apply(this,arguments);_this397.getWidth=function(_ref255,o){var e=_ref255.fontFamily,t=_ref255.fontStyle,i=_ref255.fontWeight;var n=document.createElement("canvas").getContext("2d");return n.font="".concat(t," ").concat(i," 20px ").concat(e),n.fillText(o,0,0),n.measureText(o).width;};_this397.renderItem=function(e,t){var _this397$props=_this397.props,i=_this397$props.config,o=_this397$props.textTool,s=e.fontFamily,n=e.fontWeight,a=e.fontStyle,l=e.identifier,c="".concat(e.fontFamily," ").concat(ke.getDisplayFontStyle(e)),u=_this397.getWidth(e,c),p=(i.measurements.basicCard.medium.width-20)/u;return mg["default"].createElement(z.Card,{tool:C.TEXT,type:De.MEDIUM,onClick:function onClick(){return o.changeFont(l);},isDisabled:!_this397.textTool.isTextSelected,isActive:o.identifier===l,key:"".concat(e.identifier,"-").concat(t),label:c,style:{animationDelay:"".concat(Ne(t),"s")}},mg["default"].createElement(Ede,{style:{transform:"scale(".concat(p,") translate(-50%, -50%)"),fontFamily:s,fontStyle:a,fontWeight:n}},c));};return _this397;}_createClass(cX,[{key:"textTool",get:function get(){return this.props.textTool;}},{key:"render",value:function render(){var e=this.props.textTool,t=e.fontsLoaded,i=e.fontFamilies;return t?mg["default"].createElement(z.CardContainer,null,i.map(this.renderItem)):null;}}]);return cX;}(mg["default"].Component),dX=ne("textTool","config")(D(cX));});var b0,Ide,mX,pX=d(function(){b0=y(x("react"));U();H();$();at();Ide=function Ide(_ref256){var r=_ref256.textDesignTool;var e=r.items,t=r.changeIdentifier,i=r.isTextDesignSelected,o=r.identifier,s=function s(n,a){return b0["default"].createElement(z.Card,{tool:C.TEXT_DESIGN,type:De.MEDIUM,onClick:function onClick(){return t(n.identifier);},isDisabled:!i,isActive:o===n.identifier,key:"".concat(n.identifier,"-").concat(a),image:n.thumbnailURI,label:n.name,style:{animationDelay:"".concat(Ne(a),"s"),backgroundSize:"60%"}},b0["default"].createElement(z.CardLabel,{hidden:!0},n.name));};return b0["default"].createElement(z.CardContainer,null,e.map(s));},mX=ne("textDesignTool")(D(Ide));});var Pr,XD,Fde,Ode,pg,hX=d(function(){Pr=y(x("react"));U();XD=y(x("styled-components"));H();Lt();$();at();Fde=XD["default"].div(_templateObject295||(_templateObject295=_taggedTemplateLiteral(["\n  svg {\n    margin-bottom: 12px;\n  }\n"]))),Ode=XD["default"].div(_templateObject296||(_templateObject296=_taggedTemplateLiteral(["\n  svg {\n    width: ","px;\n    height: ","px;\n  }\n\n  "," {\n    width: ","px;\n    height: ","px;\n    padding: 6px 0px 24px;\n  }\n"])),function(r){return r.theme.measurements.basicCard.medium.height;},function(r){return r.theme.measurements.basicCard.medium.height;},Zi,function(r){return r.theme.measurements.basicCard.medium.width-32;},function(r){return r.theme.measurements.basicCard.medium.height-32;}),pg=/*#__PURE__*/function(_Pr$default$Component){_inherits(pg,_Pr$default$Component);var _super253=_createSuper(pg);function pg(){var _this398;_classCallCheck(this,pg);_this398=_super253.apply(this,arguments);_this398.onCategoryClick=function(e){var t=_this398.props.transformTool;t.toggleCategorySelection(e);};_this398.renderItem=function(e,t){var _this398$props=_this398.props,i=_this398$props.transformTool,o=_this398$props.config,s=i.locale,n=i.identifier,a=i.checkIfTransformThumbnailExits(e.thumbnailURI),l=it.crops[e.identifier]||it.crops.imgly_transform_common_custom,c=Pr["default"].createElement(z.CardLabel,null,s.items[e.identifier]||e.name),u=a?c:Pr["default"].createElement(Ode,null,Pr["default"].createElement(l,{main:o.theme.transform.crops.main,highlight:o.theme.transform.crops.highlight,shadow:o.theme.transform.crops.shadow}),c);return Pr["default"].createElement(z.Card,{tool:C.TRANSFORM,type:De.MEDIUM,onClick:function onClick(){return i.changeIdentifier(e.identifier,!0);},key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,isActive:e.identifier===n,style:{backgroundSize:"55%",animationDelay:"".concat(Ne(t),"s")}},u);};_this398.renderCategory=function(e,t){var i=_this398.props.transformTool,o=i.selectedCategoryIdentifier,s=i.locale,n=o===e.identifier;if(!e.items)return null;var a=i.checkIfTransformThumbnailExits(e.thumbnailURI),l=Pr["default"].createElement(z.CardLabel,null,s.categories[e.identifier]||e.name),c=a?l:Pr["default"].createElement(Fde,null,it.categories[e.identifier]&&Pr["default"].createElement(it.categories[e.identifier]),l);return Pr["default"].createElement(z.CategoryContainer,{key:e.identifier},Pr["default"].createElement(z.Card,{tool:C.TRANSFORM,type:De.LARGE,onClick:function onClick(){return _this398.onCategoryClick(e.identifier);},image:a?e.thumbnailURI:"",label:e.name,style:{animationDelay:"".concat(Ne(t),"s")}},c),Pr["default"].createElement(z.ExpandableContainer,{show:n},e.items.map(_this398.renderItem)));};return _this398;}_createClass(pg,[{key:"render",value:function render(){var e=this.props.transformTool,t=e.categories,i=e.config,o=e.items;return i.flattenCategories?Pr["default"].createElement(z.CardContainer,null,o.map(this.renderItem)):Pr["default"].createElement(z.CardContainer,null,t.map(this.renderCategory));}}]);return pg;}(Pr["default"].Component);pg=f([ne("transformTool","config"),D],pg);});var Br,hg,fX=d(function(){Br=y(x("react"));U();H();$();at();VK();KK();XK();JK();QK();oX();nX();aX();uX();pX();hX();hg=/*#__PURE__*/function(_Br$default$Component){_inherits(hg,_Br$default$Component);var _super254=_createSuper(hg);function hg(){var _this399;_classCallCheck(this,hg);_this399=_super254.apply(this,arguments);_this399.getToolItemsComponent=function(e){switch(e){case C.LIBRARY:return Br["default"].createElement(dg,null);case C.FILTER:return Br["default"].createElement(cg,null);case C.FOCUS:return Br["default"].createElement(YK,null);case C.ADJUSTMENT:return Br["default"].createElement(GK,null);case C.OVERLAY:return Br["default"].createElement(sX,null);case C.STICKER:return Br["default"].createElement(ug,null);case C.TEXT:return Br["default"].createElement(dX,null);case C.TEXT_DESIGN:return Br["default"].createElement(mX,null);case C.FRAME:return Br["default"].createElement(ZK,null);case C.TRANSFORM:return Br["default"].createElement(pg,null);case C.CUSTOM:return Br["default"].createElement($K,null);default:return null;}};return _this399;}_createClass(hg,[{key:"render",value:function render(){var _this$props17=this.props,e=_this$props17.library,t=_this$props17.active,i=t.tool;return i===C.BRUSH||i===C.LIBRARY&&!e.libraryProvider?null:Br["default"].createElement(z.Itemsbar,{"data-test":j.ToolControlBar,show:!!i},this.getToolItemsComponent(i));}}]);return hg;}(Br["default"].Component);hg=f([ne("active","library"),D],hg);});var gs,gX,Rde,fg,bX=d(function(){gs=y(x("react"));U();gX=y(x("styled-components"));ri();re();$();Q$();HK();fX();Rde=gX["default"].div(_templateObject297||(_templateObject297=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 100%;\n  height: ","px;\n  bottom: 0;\n  left: 0;\n  background: ",";\n  z-index: ",";\n"])),function(r){return r.theme.measurements.basicToolControlBar.maxHeight;},function(r){return r.theme.webcam.backdrop;},function(r){return r.theme.measurements.zIndex.disable;}),fg=/*#__PURE__*/function(_gs$default$Component){_inherits(fg,_gs$default$Component);var _super255=_createSuper(fg);function fg(){_classCallCheck(this,fg);return _super255.apply(this,arguments);}_createClass(fg,[{key:"render",value:function render(){var e=this.props.active;return gs["default"].createElement(M.Container,{"data-test":j.EditorContainer},e.isWebcam?gs["default"].createElement(Rde,null):null,gs["default"].createElement($m,null),gs["default"].createElement(ul,null,gs["default"].createElement(Mm,null),gs["default"].createElement(Vm,null),gs["default"].createElement(lg,null),gs["default"].createElement(hg,null),gs["default"].createElement(Z$,null)));}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(e){return console.error(e),{hasError:!0};}}]);return fg;}(gs["default"].Component);fg=f([ne("active"),D],fg);});var gg,_X,YD,yX=d(function(){gg=y(x("react"));U();_X=y(x("styled-components"));ri();bX();YD=/*#__PURE__*/function(_gg$default$Component){_inherits(YD,_gg$default$Component);var _super256=_createSuper(YD);function YD(){_classCallCheck(this,YD);return _super256.apply(this,arguments);}_createClass(YD,[{key:"componentDidMount",value:function componentDidMount(){var _this$props18=this.props,e=_this$props18.editor,t=_this$props18.storeProps;this.editor=e,this.storeProps=t;var i=new jm(this.editor.configStore.config.custom.components,{}),o={getDialog:i.getDialog,getButton:i.getButton,getColorItem:i.getColorItem,getCheckbox:i.getCheckbox};this.storeProps.custom=o,this.forceUpdate();}},{key:"render",value:function render(){return this.storeProps?gg["default"].createElement(xp,w({},this.storeProps),gg["default"].createElement(_X.ThemeProvider,{theme:L(w({},this.editor.configStore.theme),{measurements:this.editor.configStore.measurements})},gg["default"].createElement(fg,null))):null;}}]);return YD;}(gg["default"].Component);});var xX={};It(xX,{"default":function _default(){return YD;}});var vX=d(function(){yX();});var aue={};It(aue,{AdjustmentConfiguration:function AdjustmentConfiguration(){return lb;},AdjustmentIdentifier:function AdjustmentIdentifier(){return ze;},AdjustmentIdentifierKeys:function AdjustmentIdentifierKeys(){return FC;},AdvancedAdjustmentControlBarItem:function AdvancedAdjustmentControlBarItem(){return jo;},AdvancedBrushControlBarItem:function AdvancedBrushControlBarItem(){return Yi;},AdvancedFilterControlBarItem:function AdvancedFilterControlBarItem(){return Lr;},AdvancedFocusControlBarItem:function AdvancedFocusControlBarItem(){return zr;},AdvancedFrameControlBarItem:function AdvancedFrameControlBarItem(){return Ri;},AdvancedLibraryControlBarItem:function AdvancedLibraryControlBarItem(){return hr;},AdvancedOverlayControlBarItem:function AdvancedOverlayControlBarItem(){return Xi;},AdvancedStickerControlBarItem:function AdvancedStickerControlBarItem(){return fr;},AdvancedTextControlBarItem:function AdvancedTextControlBarItem(){return Qt;},AdvancedTextDesignControlBarItem:function AdvancedTextDesignControlBarItem(){return br;},AdvancedTransformControlBarItem:function AdvancedTransformControlBarItem(){return _r;},AdvancedUICardLabel:function AdvancedUICardLabel(){return Mt;},AdvancedUICategoryCard:function AdvancedUICategoryCard(){return oue;},AdvancedUIItemCard:function AdvancedUIItemCard(){return sue;},AdvancedUIToolbarItem:function AdvancedUIToolbarItem(){return Zf;},AlignmentMode:function AlignmentMode(){return nb;},BasicBrushControlBarTabs:function BasicBrushControlBarTabs(){return Es;},BasicFilterControlBarTabs:function BasicFilterControlBarTabs(){return uu;},BasicFocusControlBarTabs:function BasicFocusControlBarTabs(){return db;},BasicFrameControlBarTabs:function BasicFrameControlBarTabs(){return Ds;},BasicOverlayControlBarTabs:function BasicOverlayControlBarTabs(){return Ha;},BasicStickerControlBarTabs:function BasicStickerControlBarTabs(){return Wa;},BasicTextControlBarTabs:function BasicTextControlBarTabs(){return gr;},BasicTransformControlBarTabs:function BasicTransformControlBarTabs(){return Is;},BlendMode:function BlendMode(){return Ie;},BrushConfiguration:function BrushConfiguration(){return vb;},CanvasAction:function CanvasAction(){return Be;},CanvasBarTextSecondaryButton:function CanvasBarTextSecondaryButton(){return k_;},CardAvatar:function CardAvatar(){return bc;},CardType:function CardType(){return De;},CategoryHeaderType:function CategoryHeaderType(){return Yt;},Checkbox:function Checkbox(){return eue;},CheckboxBase:function CheckboxBase(){return tue;},CheckboxCheckMark:function CheckboxCheckMark(){return rue;},CheckboxInput:function CheckboxInput(){return iue;},ColorItem:function ColorItem(){return Ude;},ColorItemActiveOverlay:function ColorItemActiveOverlay(){return Gde;},ColorItemBackground:function ColorItemBackground(){return Hde;},ColorItemBase:function ColorItemBase(){return Nde;},ColorItemTiledBackground:function ColorItemTiledBackground(){return Wde;},Configuration:function Configuration(){return JF;},ContainedPrimaryButton:function ContainedPrimaryButton(){return Qp;},Container:function Container(){return Lde;},CustomToolConfiguration:function CustomToolConfiguration(){return oO;},Dialog:function Dialog(){return Vde;},DialogBackdrop:function DialogBackdrop(){return qde;},DialogBase:function DialogBase(){return jde;},DialogBody:function DialogBody(){return Xde;},DialogContainer:function DialogContainer(){return $de;},DialogFooter:function DialogFooter(){return Yde;},DialogHeader:function DialogHeader(){return Kde;},DialogSpinner:function DialogSpinner(){return Jde;},EventEmitter:function EventEmitter(){return Ur;},ExportConfiguration:function ExportConfiguration(){return WF;},ExportFormat:function ExportFormat(){return Oi;},FilterCategoryIdentifier:function FilterCategoryIdentifier(){return Tt;},FilterConfiguration:function FilterConfiguration(){return cb;},FilterIdentifier:function FilterIdentifier(){return A;},FocusConfiguration:function FocusConfiguration(){return ub;},FocusIdentifier:function FocusIdentifier(){return Ue;},FrameConfiguration:function FrameConfiguration(){return mb;},IconButton:function IconButton(){return On;},ImageFormat:function ImageFormat(){return li;},ImageMimeType:function ImageMimeType(){return Ki;},Label:function Label(){return Qde;},LibraryCategory:function LibraryCategory(){return pb;},LibraryConfiguration:function LibraryConfiguration(){return bb;},LibraryImage:function LibraryImage(){return hb;},LibraryProvider:function LibraryProvider(){return gb;},ModalType:function ModalType(){return ct;},OutlinedPrimaryButton:function OutlinedPrimaryButton(){return Zp;},OutlinedSecondaryButton:function OutlinedSecondaryButton(){return Xa;},OverlayConfiguration:function OverlayConfiguration(){return _b;},OverlayIdentifier:function OverlayIdentifier(){return ve;},PhotoEditorSDKUI:function PhotoEditorSDKUI(){return kX;},PhotoEditorSDKUIComponent:function PhotoEditorSDKUIComponent(){return DX;},SearchField:function SearchField(){return nue;},SerializationExportType:function SerializationExportType(){return IC;},SnappingConfiguration:function SnappingConfiguration(){return sb;},SpriteActionButton:function SpriteActionButton(){return Ps;},StickerConfiguration:function StickerConfiguration(){return yb;},TextConfiguration:function TextConfiguration(){return xb;},TextDesignConfiguration:function TextDesignConfiguration(){return Cb;},TextPrimaryButton:function TextPrimaryButton(){return hc;},TextSecondaryButton:function TextSecondaryButton(){return Xo;},Tool:function Tool(){return C;},TransformConfiguration:function TransformConfiguration(){return Sb;},TransformIdentifier:function TransformIdentifier(){return Vt;},UIEvent:function UIEvent(){return ee;},WatermarkConfiguration:function WatermarkConfiguration(){return ab;},deepmergeAll:function deepmergeAll(){return Rr;},defaultConfig:function defaultConfig(){return Nl;},isDuoToneFilterAsset:function isDuoToneFilterAsset(){return mu;},isExistingCategory:function isExistingCategory(){return $J;},isExistingItem:function isExistingItem(){return jJ;},isGoogleFontAsset:function isGoogleFontAsset(){return LC;},isLUTFilterAsset:function isLUTFilterAsset(){return OC;},isWebFontAsset:function isWebFontAsset(){return MC;},useIsLayoutAdvanced:function useIsLayoutAdvanced(){return Mde;},useSetImage:function useSetImage(){return Bde;}});var tE={react:"React","react-dom":"ReactDOM","react-dom/server":"ReactDOMServer","styled-components":"styled"};window.require=function(r){if(Object.hasOwnProperty.call(tE,r)){var e=tE[r];if(Object.hasOwnProperty.call(window,e))return window[e];console.log("Cannot find umd script for ".concat(r));}};Le();var Qf=y(x("react"));U();var Vj=y(x("styled-components"));ri();var aG=y(x("react"));H();var eG=y(x("react")),tG=y(x("styled-components"));re();var mce=(0,tG["default"])(Wr)(_templateObject298||(_templateObject298=_taggedTemplateLiteral(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"])),function(r){return r.theme.measurements.advancedCard.large.width;},function(r){return r.theme.measurements.advancedCard.large.height;},function(r){return r.theme.measurements.advancedSpacer;},function(r){return r.theme.card.foreground;}),pce=function pce(t){var i=t,r=i.isActive,e=pr(i,["isActive"]);return eG["default"].createElement(mce,w({},e));},iG=pce;var rG=y(x("styled-components"));re();var oG=(0,rG["default"])(Wr)(_templateObject299||(_templateObject299=_taggedTemplateLiteral(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"])),function(r){return r.theme.measurements.advancedCard.medium.width;},function(r){return r.theme.measurements.advancedCard.medium.height;},function(r){return r.theme.measurements.advancedSpacer;},function(r){return r.theme.card.foreground;},function(r){return r.theme.measurements.advancedSpacer;});var sG=y(x("styled-components"));re();var nG=(0,sG["default"])(Wr)(_templateObject300||(_templateObject300=_taggedTemplateLiteral(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"])),function(r){return r.theme.measurements.advancedCard.small.width;},function(r){return r.theme.measurements.advancedCard.small.height;},function(r){return r.theme.measurements.advancedSpacer;},function(r){return r.theme.card.foreground;},function(r){return r.theme.measurements.advancedSpacer;});var Ff=function Ff(r){var e=r.type===De.LARGE,t=r.type===De.SMALL,i=oG;return e?i=iG:t&&(i=nG),aG["default"].createElement(i,w({},r));};var lG=y(x("styled-components"));$();var Vv=lG["default"].div.attrs(function(r){return{"data-test":r["data-test"]||j.CardContainer};})(_templateObject301||(_templateObject301=_taggedTemplateLiteral(["\n  display: flex;\n  flex-wrap: wrap;\n  /* width - padding on both sides */\n  width: ","px;\n"])),function(r){return r.theme.measurements.advancedUIToolControlBar.width-48;});var cG=y(x("react")),Of=y(x("styled-components"));$();var hce=Of["default"].div(_templateObject302||(_templateObject302=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n\n  position: relative;\n  width: ","px;\n  /* for Firefox */\n  min-height: 0;\n  margin-bottom: ","px;\n\n  z-index: ",";\n\n  background: ",";\n  transition: width 0.4s ease-in;\n  ","\n"])),function(r){return r.theme.measurements.advancedUIToolControlBar.width;},function(r){return r.theme.measurements.advancedUIToolControlBar.marginBottom;},function(r){return r.theme.measurements.zIndex.toolControlBar;},function(r){return r.theme.toolControlBar.background;},function(r){return r.reverse?Of.css(_templateObject303||(_templateObject303=_taggedTemplateLiteral(["\n          border-left: 1px solid ",";\n        "])),r.theme.toolControlBar.borderColor):Of.css(_templateObject304||(_templateObject304=_taggedTemplateLiteral(["\n          border-right: 1px solid ",";\n        "])),r.theme.toolControlBar.borderColor);}),dG=function dG(_ref257){var _ref257$reverse=_ref257.reverse,r=_ref257$reverse===void 0?!1:_ref257$reverse,e=_ref257.children;return cG["default"].createElement(hce,{"data-test":j.ToolControlBar,reverse:r},e);};var qm=y(x("styled-components"));$();var uG=qm["default"].div.attrs(function(){return{"data-test":j.CategoryItemsContainer};})(_templateObject305||(_templateObject305=_taggedTemplateLiteral(["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"])),function(r){return r.theme.toolControlBar.background;},function(_ref258){var r=_ref258.show;return r&&qm.css(_templateObject306||(_templateObject306=_taggedTemplateLiteral(["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "])),Gt()?qm.css(_templateObject307||(_templateObject307=_taggedTemplateLiteral(["\n            display: block;\n          "]))):qm.css(_templateObject308||(_templateObject308=_taggedTemplateLiteral(["\n            display: flex;\n          "]))));});var Bf=y(x("react"));function xD(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,s;for(s=0;s<i.length;s++){o=i[s],!(e.indexOf(o)>=0)&&(t[o]=r[o]);}return t;}function vD(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;}var alt=y(yG()),Rf=y(x("react")),jv=y(x("react-dom"));var CD={disabled:!1};var xG=y(x("react")),SD=xG["default"].createContext(null);var Af="unmounted",Ud="exited",Nd="entering",Km="entered",wD="exiting",Da=function(r){vD(e,r);function e(i,o){var s;s=r.call(this,i,o)||this;var n=o,a=n&&!n.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i["in"]?a?(l=Ud,s.appearStatus=Nd):l=Km:i.unmountOnExit||i.mountOnEnter?l=Af:l=Ud,s.state={status:l},s.nextCallback=null,s;}e.getDerivedStateFromProps=function(o,s){var n=o["in"];return n&&s.status===Af?{status:Ud}:null;};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus);},t.componentDidUpdate=function(o){var s=null;if(o!==this.props){var n=this.state.status;this.props["in"]?n!==Nd&&n!==Km&&(s=Nd):(n===Nd||n===Km)&&(s=wD);}this.updateStatus(!1,s);},t.componentWillUnmount=function(){this.cancelNextCallback();},t.getTimeouts=function(){var o=this.props.timeout,s,n,a;return s=n=a=o,o!=null&&typeof o!="number"&&(s=o.exit,n=o.enter,a=o.appear!==void 0?o.appear:n),{exit:s,enter:n,appear:a};},t.updateStatus=function(o,s){o===void 0&&(o=!1),s!==null?(this.cancelNextCallback(),s===Nd?this.performEnter(o):this.performExit()):this.props.unmountOnExit&&this.state.status===Ud&&this.setState({status:Af});},t.performEnter=function(o){var s=this,n=this.props.enter,a=this.context?this.context.isMounting:o,l=this.props.nodeRef?[a]:[jv["default"].findDOMNode(this),a],c=l[0],u=l[1],p=this.getTimeouts(),m=a?p.appear:p.enter;if(!o&&!n||CD.disabled){this.safeSetState({status:Km},function(){s.props.onEntered(c);});return;}this.props.onEnter(c,u),this.safeSetState({status:Nd},function(){s.props.onEntering(c,u),s.onTransitionEnd(m,function(){s.safeSetState({status:Km},function(){s.props.onEntered(c,u);});});});},t.performExit=function(){var o=this,s=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:jv["default"].findDOMNode(this);if(!s||CD.disabled){this.safeSetState({status:Ud},function(){o.props.onExited(a);});return;}this.props.onExit(a),this.safeSetState({status:wD},function(){o.props.onExiting(a),o.onTransitionEnd(n.exit,function(){o.safeSetState({status:Ud},function(){o.props.onExited(a);});});});},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null);},t.safeSetState=function(o,s){s=this.setNextCallback(s),this.setState(o,s);},t.setNextCallback=function(o){var s=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,s.nextCallback=null,o(a));},this.nextCallback.cancel=function(){n=!1;},this.nextCallback;},t.onTransitionEnd=function(o,s){this.setNextCallback(s);var n=this.props.nodeRef?this.props.nodeRef.current:jv["default"].findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!n||a){setTimeout(this.nextCallback,0);return;}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u);}o!=null&&setTimeout(this.nextCallback,o);},t.render=function(){var o=this.state.status;if(o===Af)return null;var s=this.props,n=s.children,a=s["in"],l=s.mountOnEnter,c=s.unmountOnExit,u=s.appear,p=s.enter,m=s.exit,h=s.timeout,g=s.addEndListener,v=s.onEnter,S=s.onEntering,_=s.onEntered,I=s.onExit,E=s.onExiting,O=s.onExited,V=s.nodeRef,F=xD(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Rf["default"].createElement(SD.Provider,{value:null},typeof n=="function"?n(o,F):Rf["default"].cloneElement(Rf["default"].Children.only(n),F));},e;}(Rf["default"].Component);Da.contextType=SD;Da.propTypes={};function Xm(){}Da.defaultProps={"in":!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xm,onEntering:Xm,onEntered:Xm,onExit:Xm,onExiting:Xm,onExited:Xm};Da.UNMOUNTED=Af;Da.EXITED=Ud;Da.ENTERING=Nd;Da.ENTERED=Km;Da.EXITING=wD;var Pf=Da;var vG=y(x("styled-components"));$();var bce=vG["default"].div(_templateObject309||(_templateObject309=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n\n  position: relative;\n  transition: opacity 500ms ease-in, max-height 400ms ease-in-out;\n  color: ",";\n\n  /* note: this is important to avoid issues with the animation */\n  margin: 0 !important;\n  padding: 0 !important;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n    margin-bottom: ","px;\n  }\n"])),function(r){return r.theme.toolControlBar.inputLabelForeground;},function(r){return r.theme.measurements.advancedUIToolControlBar.paddingLeft;},function(r){return r.theme.measurements.advancedUIToolControlBar.paddingRight;},function(r){return r.theme.measurements.advancedUIToolControlBar.controls.gutter;}),CG=function CG(_ref259){var r=_ref259.show,e=_ref259.children;var t=(0,Bf.useRef)(null),i={entering:{opacity:0,maxHeight:0,overflow:"hidden"},entered:{opacity:1,maxHeight:"100%",overflow:"visible"},exiting:{opacity:0,maxHeight:0,overflow:"hidden"},exited:{opacity:0,maxHeight:0,overflow:"hidden"}};return Bf["default"].createElement(Pf,{nodeRef:t,"in":r,timeout:{exit:200},mountOnEnter:!0},function(o){return Bf["default"].createElement(bce,{style:i[o],"data-test":j.ToolControlBarExpandableControls,ref:t},e);});};var $v=y(x("styled-components"));re();$();var Mf=(0,$v["default"])(Ko)(_templateObject310||(_templateObject310=_taggedTemplateLiteral(["\n  position: relative;\n\n  box-sizing: border-box;\n\n  /* for Firefox */\n  min-height: 0;\n\n  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  color: ",";\n\n  /* compensate the padding in IE and Edge */\n  ","\n"])),function(r){return r.theme.toolControlBar.inputLabelForeground;},function(){return Gt()||bo()?$v.css(_templateObject311||(_templateObject311=_taggedTemplateLiteral(["\n        > ul {\n          padding-right: 34px;\n          margin-right: -34px;\n        }\n      "]))):"";});Mf.defaultProps={direction:"vertical"};var qv=y(x("styled-components")),_ce=qv["default"].div(_templateObject312||(_templateObject312=_taggedTemplateLiteral(["\n  position: relative;\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"])),function(r){return r.full?qv.css(_templateObject313||(_templateObject313=_taggedTemplateLiteral(["\n            left: -","px;\n            width: calc(\n              100% + ","px\n            );\n          "])),3*r.theme.measurements.advancedSpacer/2,3*r.theme.measurements.advancedSpacer):"\n      left: ".concat(3*r.theme.measurements.advancedSpacer/2,"px;\n      width: calc(100% - ").concat(3*r.theme.measurements.advancedSpacer,"px);\n    ");},function(r){return r.theme.toolControlBar.separatorColor;}),Kv=_ce;var SG=y(x("styled-components")),yce=SG["default"].h2(_templateObject314||(_templateObject314=_taggedTemplateLiteral(["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  min-height: ","px;\n  margin-top: 0;\n"])),function(r){return r.theme.toolControlBar.titleForeground;},function(r){return r.theme.measurements.fontSystem.headline2.size;},function(r){return r.theme.measurements.fontSystem.headline2.letterSpacing;},function(r){return r.theme.measurements.fontSystem.headline2["case"];},function(r){return 2*r.theme.measurements.advancedSpacer;}),Xv=yce;var Ea=y(x("react")),wG=y(x("styled-components"));re();$();var xce=wG["default"].div(_templateObject315||(_templateObject315=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n  flex: 1 0 auto;\n"]))),kG=function kG(_ref260){var r=_ref260.name,e=_ref260.isFirstCategory,t=_ref260.isLastCategory,i=_ref260.children;return Ea["default"].createElement(xce,null,!e&&Ea["default"].createElement(M.Spacer,{count:2}),Ea["default"].createElement(Xv,{"data-test":r},r),Ea["default"].createElement(Vv,{"data-test":j.CategoryItemsContainer},i),!t&&Ea["default"].createElement(Ea["default"].Fragment,null,Ea["default"].createElement(M.Spacer,{count:2}),Ea["default"].createElement(Kv,{full:!0})));};var TG=y(x("styled-components")),vce=TG["default"].h1(_templateObject316||(_templateObject316=_taggedTemplateLiteral(["\n  /* Center text horizontally and vertically */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 0;\n  padding: 0 4px;\n  margin: 0;\n  min-height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  font-weight: 500;\n  text-align: center;\n  /* prevent the padding from leaving the width of the parent  */\n  box-sizing: border-box;\n"])),function(r){return r.theme.measurements.mainCanvasActionBar.height-2;},function(r){return r.theme.measurements.fontSystem.headline1.size;},function(r){return r.theme.measurements.fontSystem.headline1.letterSpacing;},function(r){return r.theme.measurements.fontSystem.headline1["case"];},function(r){return r.theme.toolControlBar.background;},function(r){return r.theme.toolControlBar.titleForeground;},function(r){return r.theme.toolControlBar.separatorColor;}),DG=vce;var EG=y(x("react")),IG=y(x("styled-components"));J();var Cce=IG["default"].div(_templateObject317||(_templateObject317=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  /* calculate the max-height based on the padding and if the heading is used */\n  max-height: calc(\n    100% -\n      ","px -\n      ","px\n  );\n\n  padding-top: ","px;\n  padding-bottom: ","px;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n  }\n\n  /* The scrollable content needs a padding for the scrollbar position */\n  > "," {\n    margin-left: 0px;\n    margin-right: 0px;\n    padding-left: ","px;\n    padding-right: ","px;\n  }\n\n  > :not(:last-child) {\n    margin-bottom: ","px;\n  }\n"])),function(r){return r.theme.measurements.advancedUIToolControlBar.paddingBottom+r.theme.measurements.advancedUIToolControlBar.paddingTop;},function(r){return r.displayTitle?r.theme.measurements.mainCanvasActionBar.height-2:"0";},function(r){return r.theme.measurements.advancedUIToolControlBar.paddingTop;},function(r){return r.theme.measurements.advancedUIToolControlBar.paddingBottom;},function(r){return r.theme.measurements.advancedUIToolControlBar.paddingLeft;},function(r){return r.theme.measurements.advancedUIToolControlBar.paddingRight;},Mf,function(r){return r.theme.measurements.advancedUIToolControlBar.paddingLeft;},function(r){return r.theme.measurements.advancedUIToolControlBar.paddingRight;},function(r){return r.theme.measurements.advancedUIToolControlBar.controls.gutter;}),FG=function FG(_ref261){var r=_ref261.children;var _R40=R(),e=_R40.config,t=e.config.displayToolControlBarTitle;return EG["default"].createElement(Cce,{displayTitle:t},r);};var kD=y(x("react")),Ym=y(x("styled-components"));re();$();var Sce=Ym["default"].div(_templateObject318||(_templateObject318=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  width: ","px;\n\n  z-index: ",";\n\n  background-color: ",";\n  color: ",";\n  ","\n  margin-bottom: ","px;\n"])),function(r){return r.theme.measurements.advancedUIToolbar.width;},function(r){return r.theme.measurements.zIndex.toolbar;},function(r){return r.theme.toolbar.background;},function(r){return r.theme.toolbar.foreground;},function(r){var e=r.theme.toolbar.border?r.theme.toolbar.border:Ym.css(_templateObject319||(_templateObject319=_taggedTemplateLiteral(["\n          1px solid ",";\n        "])),r.theme.toolbar.borderColor);return r.reverse?Ym.css(_templateObject320||(_templateObject320=_taggedTemplateLiteral(["\n          border-left: ",";\n        "])),e):Ym.css(_templateObject321||(_templateObject321=_taggedTemplateLiteral(["\n          border-right: ",";\n        "])),e);},function(r){return r.theme.measurements.advancedUIToolbar.marginBottom;}),OG=function OG(_ref262){var r=_ref262.reverse,e=_ref262.children;return kD["default"].createElement(Sce,{reverse:r,"data-test":j.Toolbar},kD["default"].createElement(Ko,{direction:"vertical"},e));};var TD=y(x("react")),Hd=y(x("styled-components"));re();$();var wce=(0,Hd["default"])(Xo)(_templateObject322||(_templateObject322=_taggedTemplateLiteral(["\n  width: inherit;\n  height: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n\n  ","\n"])),Gt()?Hd.css(_templateObject323||(_templateObject323=_taggedTemplateLiteral(["\n        background-color: transparent;\n      "]))):Hd.css(_templateObject324||(_templateObject324=_taggedTemplateLiteral(["\n        background-color: inherit;\n      "]))),function(r){return r.isActive&&Hd.css(_templateObject325||(_templateObject325=_taggedTemplateLiteral(["\n      background-color: ",";\n      color: ",";\n\n      svg {\n        color: ",";\n      }\n    "])),r.theme.toolbar.activeBackground,r.theme.toolbar.activeForeground,r.theme.toolbar.activeForeground);}),kce=Hd["default"].li.attrs({"aria-haspopup":!0,"aria-hidden":!0,role:"menuitem"})(_templateObject326||(_templateObject326=_taggedTemplateLiteral(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),function(r){return r.theme.measurements.advancedUIToolbar.itemHeight;}),RG=function RG(r){return TD["default"].createElement(kce,null,TD["default"].createElement(wce,L(w({},r),{"data-test":j.ToolbarItem})));};var AG=y(x("styled-components")),Tce=AG["default"].li.attrs({role:"none"})(_templateObject327||(_templateObject327=_taggedTemplateLiteral(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),function(r){return r.theme.measurements.advancedUIToolbar.seperatorHeight;}),PG=Tce;var Wd=y(x("react"));var Lf=y(x("react"));var jlt=y(x("react")),cr=y(x("react")),Ece=y(zG()),UG=Ice()?cr.useLayoutEffect:cr.useEffect;var $lt=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();function Ice(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement);}function NG(){var r=(0,cr.useState)(Object.create(null)),e=r[1];return(0,cr.useCallback)(function(){e(Object.create(null));},[]);}var HG=y(x("react-dom")),Fce=function Fce(e){var t=e.children,i=e.type,o=i===void 0?"reach-portal":i,s=(0,Lf.useRef)(null),n=(0,Lf.useRef)(null),a=NG();return UG(function(){if(!!s.current){var l=s.current.ownerDocument;return n.current=l==null?void 0:l.createElement(o),l.body.appendChild(n.current),a(),function(){n.current&&n.current.ownerDocument&&n.current.ownerDocument.body.removeChild(n.current);};}},[o,a]),n.current?(0,HG.createPortal)(t,n.current):(0,Lf.createElement)("span",{ref:s});},WG=Fce;var Gd=y(x("styled-components"));J();$();var Oce=Gd["default"].div(_templateObject328||(_templateObject328=_taggedTemplateLiteral(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /* added line-height reset from appContainer */\n  font-family: '","', sans-serif;\n\n  ","\n  top: ","px;\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,\n    right 0.25s ease-in-out;\n  z-index: ",";\n  pointer-events: none;\n  cursor: pointer;\n\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n\n  &:after {\n    content: '","';\n    position: absolute;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n\n  ","\n"])),function(r){return r.theme.typography.fontFamily;},Gt()?Gd.css(_templateObject329||(_templateObject329=_taggedTemplateLiteral(["\n        position: -ms-device-fixed;\n      "]))):Gd.css(_templateObject330||(_templateObject330=_taggedTemplateLiteral(["\n        position: fixed;\n      "]))),function(r){return r.position.y-5;},function(r){return r.theme.measurements.zIndex.toolbar;},function(r){return r.theme.tooltip.background;},function(r){return r.label;},function(r){return r.theme.tooltip.foreground;},function(r){return r.theme.tooltip.background;},function(r){return r.theme.measurements.fontSystem.label.size;},function(r){return r.theme.measurements.fontSystem.label.letterSpacing;},function(r){return r.theme.measurements.fontSystem.label["case"];},function(r){return r.theme.shape.radiusSmall;},function(r){return r.reverse&&Gd.css(_templateObject331||(_templateObject331=_taggedTemplateLiteral(["\n      direction: rtl;\n\n      &:before {\n        border-left: 8px solid ",";\n        border-right: none;\n        right: -8px;\n        left: unset;\n        top: 10px;\n      }\n    "])),r.theme.tooltip.background);}),Rce=Gd["default"].span(_templateObject332||(_templateObject332=_taggedTemplateLiteral(["\n  display: none;\n"]))),GG=function GG(_ref263){var _ref263$show=_ref263.show,r=_ref263$show===void 0?!0:_ref263$show,e=_ref263.reverse,t=_ref263.position,i=_ref263.children;var o=(0,Wd.useRef)(null),_R41=R(),s=_R41.config,n=s.measurements,a=typeof i=="string"?i:"",l=t.x+n.advancedUIToolbar.width-10,c=t.x+n.advancedUIToolbar.width+16,u=e?"right":"left",p={entering:_defineProperty({opacity:0},u,"".concat(l,"px")),entered:_defineProperty({opacity:1},u,"".concat(c,"px")),exiting:_defineProperty({opacity:0},u,"".concat(l,"px")),exited:_defineProperty({opacity:0},u,"".concat(l,"px"))};return Wd["default"].createElement(Pf,{nodeRef:o,"in":r,timeout:{exit:500}},function(m){return m!=="exited"&&Wd["default"].createElement(WG,null,Wd["default"].createElement(Oce,{ref:o,style:p[m],"data-test":j.Tooltip,reverse:e,position:t,label:a},Wd["default"].createElement(Rce,null,a)));});};var X={Card:Ff,CardContainer:Vv,Toolbar:{Index:OG,Item:RG,Separator:PG,Tooltip:GG},Itemsbar:Mf,BarSeparator:"",ItemsSeparator:Kv,Controlsbar:CG,ToolControlBarItems:FG,Sidebar:{Index:dG,Heading:DG,SubHeading:Xv,TextCategory:kG,ExpandableContainer:uG}};var Ei=y(x("react"));U();var Nj=y(x("styled-components"));ri();re();var Jv=y(x("react"));U();var Jm=y(x("react"));U();Lt();var Yv=/*#__PURE__*/function(_Jm$default$Component){_inherits(Yv,_Jm$default$Component);var _super257=_createSuper(Yv);function Yv(){var _this400;_classCallCheck(this,Yv);_this400=_super257.apply(this,arguments);_this400.renderIcon=function(e){var _this400$props=_this400.props,t=_this400$props.tool,i=_this400$props.config,o=i.state.config[t];if("icon"in o){var n=o.icon;return Jm["default"].createElement(n,null);}var s=I_[e];return Jm["default"].createElement(s,null)||null;};_this400.update=function(e){_this400.props.active.selectTool(e);};return _this400;}_createClass(Yv,[{key:"getToolTitle",value:function getToolTitle(e){return this.props.config.locale[e].title;}},{key:"render",value:function render(){var _this401=this;var e=this.props.active.tool,_this$props19=this.props,t=_this$props19.tool,i=_this$props19.custom;if(t){var o=i.getAdvancedToolbarItem();return Jm["default"].createElement(o,{key:t,isActive:t===e,isReverse:this.props.isReverse,icon:this.renderIcon(t),onClick:function onClick(){return _this401.update(t);},tool:t,label:this.getToolTitle(t)});}return Jm["default"].createElement(X.Toolbar.Separator,null);}}]);return Yv;}(Jm["default"].Component);Yv=f([ne("active","config","custom"),D],Yv);var VG=Yv;var Zm=/*#__PURE__*/function(_Jv$default$Component){_inherits(Zm,_Jv$default$Component);var _super258=_createSuper(Zm);function Zm(){_classCallCheck(this,Zm);return _super258.apply(this,arguments);}_createClass(Zm,[{key:"render",value:function render(){var e=this.props.config,t=e.config.order==="reverse";return Jv["default"].createElement(X.Toolbar.Index,{reverse:t},e.tools.map(function(i,o){return Jv["default"].createElement(VG,{key:i||o,tool:i,isReverse:t});}));}}]);return Zm;}(Jv["default"].Component);Zm=f([ne("config"),D],Zm);var wt=y(x("react"));U();H();re();var zf=y(x("react"));U();J();var Qm=y(x("react"));U();H();nt();J();var Uo=y(x("react"));U();var jG=y(x("styled-components"));re();J();var Ace=(0,jG["default"])(M.Input.Slider)(_templateObject333||(_templateObject333=_taggedTemplateLiteral(["\n  padding-bottom: 16px;\n"]))),Pce=D(function(){var _R42=R(),r=_R42.adjustmentsTool,e=r.categories,t=r.items,i=r.config,o=r.locale,s=(0,Uo.useRef)(!1),n=function n(l){var c=r[l.identifier],u=(0,Uo.useRef)(c),p=r.locale.categories[l.identifier]||l.name,m=function m(h){s.current&&h!==u.current&&(r.toolSnapshot(),s.current=!1,u.current=h);};return Uo["default"].createElement(Ace,{identifier:l.identifier,adjust:!0,key:l.identifier,label:p,value:c,onChange:function onChange(h){r.editAdjustments({type:l.identifier,value:h}),s.current=c!==h;},onMouseUp:m,onTouchEnd:m,snap:0});},a=function a(l,c){var u=o.categories[l.identifier]||l.name;return l.items?Uo["default"].createElement(X.Sidebar.TextCategory,{key:l.identifier,name:u,isFirstCategory:c===0,isLastCategory:c===e.length-1},l.items.map(n)):null;};return i.flattenCategories?Uo["default"].createElement(Uo["default"].Fragment,null,t.map(n)):Uo["default"].createElement(Uo["default"].Fragment,null,e.map(a));}),$G=function $G(){return Uo["default"].createElement(X.Itemsbar,null,Uo["default"].createElement(Pce,null));};var qG=y(x("react"));U();H();J();var KG=D(function(){var _R43=R(),r=_R43.adjustmentsTool,e=_R43.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.reset();};return qG["default"].createElement(i,{tool:C.ADJUSTMENT,label:t.buttonReset,ariaLabel:t.buttonReset,isDisabled:!r.isDirty,onClick:o});});var XG=D(function(){var _R44=R(),r=_R44.adjustmentsTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){if(typeof o=="string")switch(o){case jo.Items:return Qm["default"].createElement($G,{key:o});case jo.Separator:return Qm["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case jo.RemoveAdjustmentButton:return Qm["default"].createElement(KG,{key:o});default:return null;}else if(_typeof(o)=="object")return Qm["default"].createElement(X.Controlsbar,{key:o.type,show:r.isDirty},o.children.map(function(s){return i(s);}));return null;};return Qm["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var YG=D(function(_ref264){var r=_ref264.displayTitle;var _R45=R(),e=_R45.adjustmentsTool;return zf["default"].createElement(zf["default"].Fragment,null,r&&zf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),zf["default"].createElement(XG,null));});var Uf=y(x("react"));U();var Kl=y(x("react"));U();H();nt();J();var DD=y(x("react"));U();H();ri();re();J();var JG=D(function(){var _R46=R(),r=_R46.brushTool,e=r.locale.controls,t=r.localeColor.colorPicker,i=r.colorList;return DD["default"].createElement(M.Input.Selection,{label:e.selectColor},DD["default"].createElement(Ht,{tool:C.BRUSH,activeColor:r.color,colors:i,labelsColor:t,onChange:r.changeColor}));});var ZG=y(x("react"));U();re();J();$();var QG=D(function(){var _R47=R(),r=_R47.brushTool,e=r.locale.controls;return ZG["default"].createElement(M.Input.Slider,{"data-test":j.BrushHardness,label:e.sliderHardness,value:r.hardness,min:0,max:1,onChange:r.changeHardness});});var eV=y(x("react"));U();re();J();$();var tV=D(function(){var _R48=R(),r=_R48.brushTool,e=r.locale.controls;return eV["default"].createElement(M.Input.Slider,{"data-test":j.BrushSize,label:e.sliderSize,value:r.relativeSize,min:1,max:100,divider:1,onChange:r.changeRelativeSize});});var iV=y(x("react"));U();H();J();var rV=D(function(){var _R49=R(),r=_R49.brushTool,e=_R49.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.reset();};return iV["default"].createElement(i,{tool:C.BRUSH,label:t.buttonReset,ariaLabel:t.buttonReset,isDisabled:!r.isDirty,onClick:o});});var oV=D(function(){var _R50=R(),r=_R50.brushTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){if(typeof o=="string")switch(o){case Yi.BrushColorList:return Kl["default"].createElement(JG,{key:o});case Yi.BrushHardnessSlider:return Kl["default"].createElement(QG,{key:o});case Yi.BrushSizeSlider:return Kl["default"].createElement(tV,{key:o});case Yi.Separator:return Kl["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case Yi.RemoveBrushButton:return Kl["default"].createElement(rV,{key:o});default:return null;}else if(_typeof(o)=="object")return Kl["default"].createElement(X.Controlsbar,{key:o.type,show:r.isDirty},o.children.map(function(s){return i(s);}));return null;};return Kl["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var Bce=function Bce(_ref265){var r=_ref265.brushTool,e=_ref265.displayTitle;return Uf["default"].createElement(Uf["default"].Fragment,null,e&&Uf["default"].createElement(X.Sidebar.Heading,null,r.locale.title),Uf["default"].createElement(oV,null));},sV=ne("brushTool")(D(Bce));var Nf=y(x("react"));H();J();var nV=function nV(_ref266){var r=_ref266.displayTitle;var _R51=R(),e=_R51.config,t=e.state.config[C.CUSTOM].toolControlBar,i=e.state.locale[C.CUSTOM].title;return Nf["default"].createElement(Nf["default"].Fragment,null,r&&Nf["default"].createElement(X.Sidebar.Heading,null,i),Nf["default"].createElement(t,{language:e.state.locale[C.CUSTOM]}));};var Hf=y(x("react"));U();J();var Vd=y(x("react"));U();H();nt();J();var aV=y(x("react"));U();re();J();var lV=D(function(){var _R52=R(),r=_R52.filterTool,e=r.locale.controls,t=r.state,i=function i(){r.toolSnapshot();};return aV["default"].createElement(M.Input.Slider,{"aria-hidden":!r.isOptionSelected,label:e.sliderIntensity,value:t.intensity,min:0,max:1,onChange:r.changeIntensity,onMouseUp:i,onTouchEnd:i,snap:t.isDuotone?.5:null,isDisabled:!r.isOptionSelected});});var Ui=y(x("react"));U();H();re();J();$();var Mce=D(function(){var _R53=R(),r=_R53.filterTool,e=_R53.custom,t=r.categories,i=r.config,o=r.items,s=r.locale,n=e.getAdvancedItemCard(),a=e.getAdvancedCategoryCard(),l=function l(p,m){var h=s.items[p.identifier]||p.name;return Ui["default"].createElement(n,{tool:C.FILTER,type:De.MEDIUM,onClick:function onClick(){return r.selectFilter(p.identifier,p.defaultIntensity);},key:p.identifier,image:p.thumbnailURI,label:h,style:{animationDelay:"".concat(Ne(m),"s")},isActive:r.identifier===p.identifier},Ui["default"].createElement(Mt,{withBackground:!0},h));},c=function c(p,m){var h=r.selectedCategoryIdentifier,g=h===p.identifier,v=s.categories[p.identifier]||p.name;return p.items?Ui["default"].createElement("div",{key:p.identifier},Ui["default"].createElement(a,{isActive:g,tool:C.FILTER,type:De.LARGE,onClick:function onClick(){return r.toggleCategorySelection(p.identifier);},image:p.thumbnailURI,label:v,style:{animationDelay:"".concat(Ne(m),"s")}},Ui["default"].createElement(Mt,{withBackground:!0,caret:!0,isActive:g},v)),Ui["default"].createElement(X.Sidebar.ExpandableContainer,{show:g},p.items.map(l))):null;},u=function u(p,m){var h=s.categories[p.identifier]||p.name;return p.items?Ui["default"].createElement(X.Sidebar.TextCategory,{key:p.identifier,name:h,isFirstCategory:m===0,isLastCategory:m===t.length-1},p.items.map(l)):null;};return i.flattenCategories?Ui["default"].createElement(Ui["default"].Fragment,null,o.map(l)):i.categoryHeaderType===Yt.CARD?Ui["default"].createElement(Ui["default"].Fragment,null,t.map(c)):i.categoryHeaderType===Yt.TEXT?Ui["default"].createElement(Ui["default"].Fragment,null,t.map(u)):null;}),cV=function cV(){return Ui["default"].createElement(X.Itemsbar,null,Ui["default"].createElement(X.CardContainer,null,Ui["default"].createElement(Mce,null)));};var dV=y(x("react"));U();H();J();var uV=D(function(){var _R54=R(),r=_R54.filterTool,e=_R54.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.reset();};return dV["default"].createElement(i,{tool:C.FILTER,label:t.buttonReset,ariaLabel:t.buttonReset,isDisabled:!r.isOptionSelected,onClick:o});});var mV=D(function(){var _R55=R(),r=_R55.filterTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){if(typeof o=="string")switch(o){case Lr.Items:return Vd["default"].createElement(cV,{key:o});case Lr.Separator:return Vd["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case Lr.RemoveFilterButton:return Vd["default"].createElement(uV,{key:o});case Lr.FilterIntensitySlider:return Vd["default"].createElement(lV,{key:o});default:return null;}else if(_typeof(o)=="object")return Vd["default"].createElement(X.Controlsbar,{key:o.type,show:r.isOptionSelected},o.children.map(function(s){return i(s);}));return null;};return Vd["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var pV=D(function(_ref267){var r=_ref267.displayTitle;var _R56=R(),e=_R56.filterTool;return Hf["default"].createElement(Hf["default"].Fragment,null,r&&Hf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),Hf["default"].createElement(mV,null));});var Wf=y(x("react"));U();J();var jd=y(x("react"));U();H();nt();J();var hV=y(x("react"));U();re();J();var fV=D(function(){var _R57=R(),r=_R57.focusTool,e=r.locale.controls,t=function t(){r.toolSnapshot(e.sliderIntensity);};return hV["default"].createElement(M.Input.Slider,{"aria-hidden":!r.isOptionSelected,label:e.sliderIntensity,value:r.relativeIntensity,min:0,max:100,divider:1,onChange:r.changeRelativeIntensity,onMouseUp:t,onTouchEnd:t,isDisabled:!r.isOptionSelected});});var Xl=y(x("react"));U();H();re();J();$();var Lce=D(function(){var _R58=R(),r=_R58.focusTool,e=_R58.custom,t=r.items,i=function i(o,s){var n=r.locale.items[o.identifier]||o.name,a=e.getAdvancedItemCard();return Xl["default"].createElement(a,{tool:C.FOCUS,type:De.LARGE,onClick:function onClick(){return r.selectFocus(o.identifier);},key:o.identifier,image:o.thumbnailURI,label:n,style:{animationDelay:"".concat(Ne(s),"s")},isActive:o.identifier===r.identifier},Xl["default"].createElement(Mt,{withBackground:!0},n));};return Xl["default"].createElement(Xl["default"].Fragment,null,t.map(i));}),gV=function gV(){return Xl["default"].createElement(X.Itemsbar,null,Xl["default"].createElement(X.CardContainer,null,Xl["default"].createElement(Lce,null)));};var bV=y(x("react"));U();H();J();var _V=D(function(){var _R59=R(),r=_R59.focusTool,e=_R59.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.reset();};return bV["default"].createElement(i,{tool:C.FOCUS,label:t.buttonReset,ariaLabel:t.buttonReset,isDisabled:!r.isOptionSelected,onClick:o});});var yV=D(function(){var _R60=R(),r=_R60.focusTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){if(typeof o=="string")switch(o){case zr.Separator:return jd["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case zr.RemoveFocusButton:return jd["default"].createElement(_V,{key:o});case zr.FocusIntensitySlider:return jd["default"].createElement(fV,{key:o});case zr.Items:return jd["default"].createElement(gV,{key:o});default:return null;}else if(_typeof(o)=="object")return jd["default"].createElement(X.Controlsbar,{key:o.type,show:r.isOptionSelected},o.children.map(function(s){return i(s);}));return null;};return jd["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var xV=D(function(_ref268){var r=_ref268.displayTitle;var _R61=R(),e=_R61.focusTool;return Wf["default"].createElement(Wf["default"].Fragment,null,r&&Wf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),Wf["default"].createElement(yV,null));});var Vf=y(x("react"));U();J();var Ia=y(x("react"));U();H();nt();J();var ED=y(x("react"));U();H();ri();re();J();var vV=D(function(){var _R62=R(),r=_R62.frameTool,e=r.locale.controls,t=r.localeColor.colorPicker,i=r.colorList,o=r.tintable;return ED["default"].createElement(M.Input.Selection,{isDisabled:!o,label:e.selectColor},ED["default"].createElement(Ht,{tool:C.FRAME,activeColor:r.color,colors:i,labelsColor:t,isDisabled:!o,onChange:r.changeColor,onAddSnapshot:r.colorSnapshot}));});var Gf=y(x("react"));U();H();re();J();$();var CV=D(function(){var _R63=R(),r=_R63.frameTool,e=_R63.custom,t=r.items,i=r.state?r.state.identifier:null,o=function o(s,n){var a=r.locale.items[s.identifier]||s.name,l=e.getAdvancedItemCard();return Gf["default"].createElement(l,{tool:C.FRAME,type:De.MEDIUM,onClick:function onClick(){return r.selectFrame(s.identifier);},key:s.identifier,image:s.thumbnailURI,label:a,style:{backgroundSize:"75%",animationDelay:"".concat(Ne(n),"s")},isActive:s.identifier===i},Gf["default"].createElement(Mt,{hidden:!0},a));};return Gf["default"].createElement(X.Itemsbar,null,Gf["default"].createElement(X.CardContainer,null,t.map(o)));});var SV=y(x("react"));U();re();J();var wV=D(function(){var _R64=R(),r=_R64.frameTool,e=r.locale.controls,t=function t(i){r.toolSnapshot(i);};return SV["default"].createElement(M.Input.Slider,{"aria-hidden":!r.isOptionSelected,label:e.sliderOpacity,value:r.opacity,min:0,max:1,onChange:r.changeOpacity,onMouseUp:function onMouseUp(){t(e.sliderOpacity);},onTouchEnd:function onTouchEnd(){t(e.sliderOpacity);},isDisabled:!r.isOptionSelected});});var kV=y(x("react"));U();re();J();var TV=D(function(){var _R65=R(),r=_R65.frameTool,e=r.locale.controls,t=function t(i){r.toolSnapshot(i);};return kV["default"].createElement(M.Input.Slider,{"aria-hidden":!r.isOptionSelected,label:e.sliderSize,value:r.size,min:r.minSize,max:r.maxSize,divider:1,onChange:r.changeWidth,onMouseUp:function onMouseUp(){t(e.sliderSize);},onTouchEnd:function onTouchEnd(){t(e.sliderSize);},isDisabled:!r.isOptionSelected});});var DV=y(x("react"));U();H();J();var EV=D(function(){var _R66=R(),r=_R66.frameTool,e=_R66.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.reset();};return DV["default"].createElement(i,{tool:C.FRAME,ariaLabel:t.buttonReset,onClick:o,isDisabled:!r.isOptionSelected,label:t.buttonReset});});var IV=D(function(){var _R67=R(),r=_R67.frameTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){if(typeof o=="string")switch(o){case Ri.Items:return Ia["default"].createElement(CV,{key:o});case Ri.Separator:return Ia["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case Ri.FrameOpacitySlider:return Ia["default"].createElement(wV,{key:o});case Ri.FrameSizeSlider:return Ia["default"].createElement(TV,{key:o});case Ri.FrameColorList:return Ia["default"].createElement(vV,{key:o});case Ri.RemoveFrameButton:return Ia["default"].createElement(EV,{key:o});default:return null;}else if(_typeof(o)=="object")return Ia["default"].createElement(X.Controlsbar,{key:o.type,show:r.isOptionSelected},o.children.map(function(s){return i(s);}));return null;};return Ia["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var FV=D(function(_ref269){var r=_ref269.displayTitle;var _R68=R(),e=_R68.frameTool;return Vf["default"].createElement(Vf["default"].Fragment,null,r&&Vf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),Vf["default"].createElement(IV,null));});var jf=y(x("react"));U();J();var $d=y(x("react"));U();H();nt();J();var ai=y(x("react"));U();H();re();J();$();var zce=D(function(){var _R69=R(),r=_R69.active,e=_R69.library,t=_R69.custom,i=e.query,o=e.config,s=e.selectedCategoryIdentifier,n=e.categories,a=e.items,l=t.getAdvancedCategoryCard(),c=t.getAdvancedItemCard(),u=function u(h,g){return ai["default"].createElement(c,{tool:C.LIBRARY,type:De.MEDIUM,onClick:function onClick(){return r.newImage(h.rawUrl);},key:"".concat(h.identifier,"-").concat(g),image:h.thumbnailURI,label:h.name,style:{animationDelay:"".concat(Ne(g),"s")},authorAvatar:h.authorAvatar,authorName:h.authorName},h.authorAvatar&&ai["default"].createElement(bc,{url:h.authorAvatar}),h.authorName&&ai["default"].createElement(Mt,{withBackground:!0},h.authorName));},p=function p(h,g){var v=s===h.identifier;return h.items?ai["default"].createElement("div",{key:h.identifier},ai["default"].createElement(l,{isActive:v,tool:C.LIBRARY,type:De.LARGE,onClick:function onClick(){return e.toggleCategorySelection(h.identifier);},image:h.thumbnailURI,label:h.name,style:{animationDelay:"".concat(Ne(g),"s")}},ai["default"].createElement(Mt,{withBackground:!0,caret:!0,isActive:v},h.name)),ai["default"].createElement(X.Sidebar.ExpandableContainer,{show:v},h.items.map(u))):null;},m=function m(h,g){return h.items?ai["default"].createElement(X.Sidebar.TextCategory,{key:h.identifier,name:h.name,isFirstCategory:g===0,isLastCategory:g===n.length-1},h.items.map(u)):null;};return i?a.length?ai["default"].createElement(ai["default"].Fragment,null,a.map(u)):ai["default"].createElement("p",{"data-test":j.NoResult},e.locale.controls.noResults):o.flattenCategories?ai["default"].createElement(ai["default"].Fragment,null,a.map(u)):o.categoryHeaderType===Yt.CARD?ai["default"].createElement(ai["default"].Fragment,null,n.map(p)):o.categoryHeaderType===Yt.TEXT?ai["default"].createElement(ai["default"].Fragment,null,n.map(m)):null;}),OV=function OV(){return ai["default"].createElement(X.Itemsbar,null,ai["default"].createElement(X.CardContainer,null,ai["default"].createElement(zce,null)));};var LV=y(x("react"));U();H();J();ID();var zV=D(function(){var _R70=R(),r=_R70.library,e=_R70.active,t=r.config,i=r.locale.controls,o=function o(){e.selectWebcam(!0);};return t.enableWebcam?LV["default"].createElement(Qv,{tool:C.LIBRARY,onClick:o,label:i.buttonWebcamOpen}):null;});var UV=y(x("react"));U();re();J();var NV=D(function(){var _R71=R(),r=_R71.library,e=r.libraryProvider,t=r.locale.controls,i=function i(o){r.fetchImages(o);};return e?UV["default"].createElement(M.Input.Search,{onChange:i,placeholder:t.placeholderSearch}):null;});var FD=y(x("react"));U();H();re();J();$();var HV=D(function(){var _R72=R(),r=_R72.library,e=_R72.active,t=_R72.custom,i=r.config,o=r.locale.controls,s=t.getButton("toolControlBarPrimaryButton"),n=function n(l){var c=l.target.files;if(c.length){var u=new FileReader();u.onload=function(p){e.newImage(p.target.result);},u.readAsDataURL(c[0]);}},a=function a(){var l=document.getElementById("fileUpload");l&&l.click();};return i.enableUpload?FD["default"].createElement(s,{"data-test":j.LibraryUploadButton,tool:C.LIBRARY,ariaLabel:o.buttonUpload,onClick:a,label:o.buttonUpload},FD["default"].createElement(M.Input.File,{onChange:n})):null;});var WV=D(function(){var _R73=R(),r=_R73.library,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){switch(o){case hr.Items:return $d["default"].createElement(OV,{key:o});case hr.OpenWebcamButton:return $d["default"].createElement(zV,{key:o});case hr.SearchFieldInput:return $d["default"].createElement(NV,{key:o});case hr.Separator:return $d["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case hr.UploadImageButton:return $d["default"].createElement(HV,{key:o});default:return null;}};return $d["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var GV=D(function(_ref270){var r=_ref270.displayTitle;var _R74=R(),e=_R74.library;return jf["default"].createElement(jf["default"].Fragment,null,r&&jf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),jf["default"].createElement(WV,null));});var $f=y(x("react"));U();J();var Jl=y(x("react"));U();H();nt();J();var VV=y(x("react"));U();re();J();var jV=D(function(){var _R75=R(),r=_R75.overlayTool,e=r.allBlendModes,t=r.blendMode,i=r.locale.controls,o=function o(s){r.changeBlendMode(s);};return VV["default"].createElement(M.Input.CarouselSlider,{label:i.carouselBlendMode,defaultIdentifier:t,onSelect:o,list:e});});var Yl=y(x("react"));U();H();re();J();$();var Uce=D(function(){var _R76=R(),r=_R76.overlayTool,e=_R76.custom,t=r.items,i=r.locale,o=r.identifier,s=r.selectOverlay,n=function n(a,l){var c=i.items[a.identifier]||a.name,u=e.getAdvancedItemCard();return Yl["default"].createElement(u,{tool:C.OVERLAY,type:De.MEDIUM,onClick:function onClick(){return s(a.identifier);},key:a.identifier,image:a.thumbnailURI,label:c,style:{animationDelay:"".concat(Ne(l),"s")},isActive:a.identifier===o},Yl["default"].createElement(Mt,{withBackground:!0},c));};return Yl["default"].createElement(Yl["default"].Fragment,null,t.map(n));}),$V=function $V(){return Yl["default"].createElement(X.Itemsbar,null,Yl["default"].createElement(X.CardContainer,null,Yl["default"].createElement(Uce,null)));};var qV=y(x("react"));U();re();J();var KV=D(function(){var _R77=R(),r=_R77.overlayTool,e=r.locale.controls,t=function t(){r.toolSnapshot();};return qV["default"].createElement(M.Input.Slider,{"aria-hidden":!r.isOptionSelected,label:e.sliderOpacity,value:r.opacity,min:0,max:1,onChange:r.changeOpacity,onMouseUp:t,onTouchEnd:t,isDisabled:!r.isOptionSelected});});var XV=y(x("react"));U();H();J();var YV=D(function(){var _R78=R(),r=_R78.overlayTool,e=_R78.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.reset();};return XV["default"].createElement(i,{tool:C.OVERLAY,label:t.buttonReset,ariaLabel:t.buttonReset,isDisabled:!r.isOptionSelected,onClick:o});});var JV=D(function(){var _R79=R(),r=_R79.overlayTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){if(typeof o=="string")switch(o){case Xi.Items:return Jl["default"].createElement($V,{key:o});case Xi.Separator:return Jl["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case Xi.OverlayBlendModeCarousel:return Jl["default"].createElement(jV,{key:o});case Xi.OverlayOpacitySlider:return Jl["default"].createElement(KV,{key:o});case Xi.RemoveOverlayButton:return Jl["default"].createElement(YV,{key:o});default:return null;}else if(_typeof(o)=="object")return Jl["default"].createElement(X.Controlsbar,{key:o.type,show:r.isOptionSelected},o.children.map(function(s){return i(s);}));return null;};return Jl["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var ZV=D(function(_ref271){var r=_ref271.displayTitle;var _R80=R(),e=_R80.overlayTool;return $f["default"].createElement($f["default"].Fragment,null,r&&$f["default"].createElement(X.Sidebar.Heading,null,e.locale.title),$f["default"].createElement(JV,null));});var qf=y(x("react"));U();J();var qd=y(x("react"));U();H();nt();J();var OD=y(x("react"));U();H();ri();re();J();var QV=D(function(){var _R81=R(),r=_R81.stickerTool,e=r.colorList,t=r.locale.controls,i=r.localeColor.colorPicker,o=!r.isStickerSelected||!r.tintable&&r.isStickerSelected;return OD["default"].createElement(M.Input.Selection,{isDisabled:o,label:t.selectColor},OD["default"].createElement(Ht,{tool:C.STICKER,activeSprite:r.id,activeColor:r.tintColor,colors:e,labelsColor:i,isDisabled:o,onChange:r.changeTintColor,onAddSnapshot:r.tintColorSnapshot}));});var Ni=y(x("react"));U();H();re();J();$();var Nce=D(function(){var _R82=R(),r=_R82.stickerTool,e=_R82.custom,t=r.categories,i=r.selectedCategoryIdentifier,o=r.config,s=r.items,n=r.locale,a=e.getAdvancedCategoryCard(),l=e.getAdvancedItemCard(),c=function c(m,h){var g=n.items[m.identifier]||m.name;return Ni["default"].createElement(l,{key:m.identifier,tool:C.STICKER,type:De.SMALL,onClick:function onClick(){return r.add(m.identifier);},image:m.thumbnailURI,label:g,style:{backgroundSize:"75%",animationDelay:"".concat(Pb(h),"s")}},Ni["default"].createElement(Mt,{hidden:!0},g));},u=function u(m,h){var g=i===m.identifier,v=n.categories[m.identifier]||m.name;return m.items?Ni["default"].createElement("div",{key:m.identifier},Ni["default"].createElement(a,{isActive:g,tool:C.STICKER,type:De.LARGE,onClick:function onClick(){return r.toggleCategorySelection(m.identifier);},image:m.thumbnailURI,label:v,style:{animationDelay:"".concat(Ne(h),"s")}},Ni["default"].createElement(Mt,{withBackground:!0,caret:!0,isActive:g},v)),Ni["default"].createElement(X.Sidebar.ExpandableContainer,{show:g,key:"".concat(m.identifier,"-items")},m.items.map(c))):null;},p=function p(m,h){var g=n.categories[m.identifier]||m.name;return m.items?Ni["default"].createElement(X.Sidebar.TextCategory,{key:m.identifier,name:g,isFirstCategory:h===0,isLastCategory:h===t.length-1},m.items.map(c)):null;};return o.flattenCategories?Ni["default"].createElement(Ni["default"].Fragment,null,s.map(c)):o.categoryHeaderType===Yt.CARD?Ni["default"].createElement(Ni["default"].Fragment,null,t.map(u)):o.categoryHeaderType===Yt.TEXT?Ni["default"].createElement(Ni["default"].Fragment,null,t.map(p)):null;}),ej=function ej(){return Ni["default"].createElement(X.Itemsbar,null,Ni["default"].createElement(X.CardContainer,null,Ni["default"].createElement(Nce,null)));};var tj=y(x("react"));U();re();J();var ij=D(function(){var _R83=R(),r=_R83.stickerTool,e=r.locale.controls,t=function t(){r.toolSnapshot();};return tj["default"].createElement(M.Input.Slider,{isDisabled:!r.isStickerSelected,label:e.sliderOpacity,value:r.opacity,min:0,max:1,onChange:r.changeOpacity,onMouseUp:t,onTouchEnd:t});});var RD=y(x("react"));U();var rj=y(x("styled-components"));H();re();J();var Hce=rj["default"].input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})(_templateObject334||(_templateObject334=_taggedTemplateLiteral(["\n  ","\n"])),w_.VisuallyHidden),oj=D(function(){var _R84=R(),r=_R84.stickerTool,e=_R84.custom,t=r.locale.controls,i=e.getButton("toolControlBarPrimaryButton"),o=function o(){var n=document.getElementById("fileUpload");n&&(n.value=null,n.click());},s=function s(n){var a=n.target.files;r.addFiles(a);};return r.isCustomStickerEnabled?RD["default"].createElement(i,{tool:C.STICKER,ariaLabel:t.buttonUpload,onClick:o,label:t.buttonUpload},RD["default"].createElement(Hce,{onChange:s})):null;});var sj=D(function(){var _R85=R(),r=_R85.stickerTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){switch(o){case fr.Items:return qd["default"].createElement(ej,{key:o});case fr.Separator:return qd["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case fr.UploadStickerButton:return qd["default"].createElement(oj,{key:o});case fr.StickerColorList:return qd["default"].createElement(QV,{key:o});case fr.StickerOpacitySlider:return qd["default"].createElement(ij,{key:o});default:return null;}};return qd["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var nj=D(function(_ref272){var r=_ref272.displayTitle;var _R86=R(),e=_R86.stickerTool;return qf["default"].createElement(qf["default"].Fragment,null,r&&qf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),qf["default"].createElement(sj,null));});var Kf=y(x("react"));U();J();var hs=y(x("react"));U();var xj=y(x("styled-components"));H();nt();var AD=y(x("react"));U();H();ri();re();J();var aj=D(function(){var _R87=R(),r=_R87.textTool,e=r.locale.controls,t=r.localeColor.colorPicker,i=r.isTextSelected,o=r.backgroundColorList;return AD["default"].createElement(M.Input.Selection,{isDisabled:!i,label:e.selectBackgroundColor},AD["default"].createElement(Ht,{tool:C.TEXT,activeSprite:r.id,activeColor:r.backgroundColor,colors:o,labelsColor:t,isDisabled:!i,onChange:r.changeBackgroundColor,onAddSnapshot:r.backgroundColorSnapshot}));});var lj=y(x("react"));U();re();nt();J();var cj=D(function(){var _R88=R(),r=_R88.textTool,e=r.locale.controls,t=r.fontFamily,i=r.fontStyle,o=r.fontWeight,s=r.fontFamilies,n=r.isTextSelected,a=s.map(function(c){return{label:"".concat(c.fontFamily," ").concat(ke.getDisplayFontStyle(c)),fontWeight:c.fontWeight,fontStyle:c.fontStyle,fontFamily:c.fontFamily,value:c.identifier};}),l=a.filter(function(_ref273){var c=_ref273.value;return c===r.identifier;})[0];return lj["default"].createElement(M.Input.Dropdown,{isDisabled:!n,style:{fontFamily:t,fontStyle:i,fontWeight:o},itemStyle:function itemStyle(c){return{fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight};},label:e.dropdownFontFamily,list:a,onSelect:r.changeFont,selectedItem:l.label});});var dj=y(x("react"));U();var uj=y(x("styled-components"));re();J();var Wce=(0,uj["default"])(M.Input.NumericInput)(_templateObject335||(_templateObject335=_taggedTemplateLiteral(["\n  max-width: 50%;\n  margin-right: 16px;\n"]))),mj=D(function(){var _R89=R(),r=_R89.textTool,e=r.locale.controls,t=r.isTextSelected,i=function i(o){var s=o?parseFloat(o):0;r.setFontSize(Math.max(10,Math.min(690,s)));};return dj["default"].createElement(Wce,{value:r.fontSize.toFixed(0),onSubmit:i,label:e.textFontSize,isDisabled:!t});});var pj=y(x("react"));U();re();J();var hj=D(function(){var _R90=R(),r=_R90.textTool,e=r.locale.controls,t=r.isTextSelected,i=function i(){r.toolSnapshot();};return pj["default"].createElement(M.Input.Slider,{isDisabled:!t,label:e.sliderLineSpacing,value:r.lineHeight,min:.5,max:3,onChange:r.changeLineHeight,onMouseUp:i,onTouchEnd:i,snap:1,divider:1,decimal:1});});var fj=y(x("react"));U();H();J();var gj=D(function(){var _R91=R(),r=_R91.textTool,e=_R91.custom,t=r.locale.controls,i=function i(){r.add();},o=e.getButton("toolControlBarPrimaryButton");return fj["default"].createElement(o,{tool:C.TEXT,ariaLabel:t.buttonNew,onClick:i,label:t.buttonNew});});var e0=y(x("react"));U();var bj=y(x("styled-components"));re();J();Lt();$();var Gce=(0,bj["default"])(M.Input.Selection)(_templateObject336||(_templateObject336=_taggedTemplateLiteral(["\n  width: 50%;\n"]))),_j=D(function(){var _R92=R(),r=_R92.textTool,e=_R92.custom,t=r.locale.controls,i=r.isTextSelected,o=r.alignment,s=["left","center","right"],n=e.getButton("textAlignment");return e0["default"].createElement(Gce,{isDisabled:!i,inline:!0,label:t.selectAlignment,"data-test":j.TextAlignment},s.map(function(a){var l=F_[a];return e0["default"].createElement(n,{tool:a,isDisabled:!i,ariaLabel:"Align ".concat(a),isActive:a===o,key:a,style:{padding:"1px 3px 2px"},icon:e0["default"].createElement(l,null),onClick:function onClick(){return r.changeAlignment(a);}});}));});var PD=y(x("react"));U();H();ri();re();J();var yj=D(function(){var _R93=R(),r=_R93.textTool,e=r.locale.controls,t=r.localeColor.colorPicker,i=r.isTextSelected,o=r.colorList;return PD["default"].createElement(M.Input.Selection,{isDisabled:!i,label:e.selectFontColor},PD["default"].createElement(Ht,{tool:C.TEXT,activeSprite:r.id,activeColor:r.textColor,colors:o,labelsColor:t,isDisabled:!i,onChange:r.changeColor,onAddSnapshot:r.colorSnapshot}));});var Vce=xj["default"].div(_templateObject337||(_templateObject337=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: space-between;\n"]))),jce=function jce(_ref274){var r=_ref274.textTool;var e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){if(typeof o=="string")switch(o){case Qt.NewTextButton:return hs["default"].createElement(gj,{key:o});case Qt.FontFamilyDropdown:return hs["default"].createElement(cj,{key:o});case Qt.Separator:return hs["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case Qt.TextColorList:return hs["default"].createElement(yj,{key:o});case Qt.BackgroundColorList:return hs["default"].createElement(aj,{key:o});case Qt.LineSpacingSlider:return hs["default"].createElement(hj,{key:o});case Qt.TextAligmentList:return hs["default"].createElement(_j,{key:o});case Qt.FontSizeInput:return hs["default"].createElement(mj,{key:o});default:return null;}else if(_typeof(o)=="object")return hs["default"].createElement(Vce,{key:o.type},o.children.map(function(s){return i(s);}));return null;};return hs["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));},vj=ne("textTool")(D(jce));var Cj=D(function(_ref275){var r=_ref275.displayTitle;var _R94=R(),e=_R94.textTool;return Kf["default"].createElement(Kf["default"].Fragment,null,r&&Kf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),Kf["default"].createElement(vj,null));});var Xf=y(x("react"));U();J();var Kd=y(x("react"));U();H();nt();J();var Sj=y(x("react"));U();H();J();var wj=D(function(){var _R95=R(),r=_R95.textDesignTool,e=_R95.custom,t=r.locale.controls,i=e.getButton("toolControlBarPrimaryButton"),o=function o(){r.add();};return Sj["default"].createElement(i,{tool:C.TEXT_DESIGN,ariaLabel:t.buttonNew,onClick:o,label:t.buttonNew});});var kj=y(x("react"));U();H();J();var Tj=D(function(){var _R96=R(),r=_R96.textDesignTool,e=_R96.custom,t=r.locale.controls,i=r.isTextDesignSelected,o=e.getButton("toolControlBarSecondaryButton"),s=function s(){r.changeSeed();};return kj["default"].createElement(o,{tool:C.TEXT_DESIGN,ariaLabel:t.buttonShuffle,isDisabled:!i,onClick:s,label:t.buttonShuffle});});var BD=y(x("react"));U();H();ri();re();J();var Dj=D(function(){var _R97=R(),r=_R97.textDesignTool,e=r.locale.controls,t=r.localeColor.colorPicker,i=r.isTextDesignSelected,o=r.colorList;return BD["default"].createElement(M.Input.Selection,{isDisabled:!i,label:e.selectColor},BD["default"].createElement(Ht,{tool:C.TEXT_DESIGN,activeSprite:r.id,activeColor:r.color,colors:o,labelsColor:t,isDisabled:!i,onChange:r.changeColor,onAddSnapshot:r.colorSnapshot}));});var Zl=y(x("react"));U();H();re();J();$();var $ce=D(function(){var _R98=R(),r=_R98.textDesignTool,e=_R98.custom,t=r.items,i=r.identifier,o=function o(n){r.changeIdentifier(n);},s=function s(n,a){var l=e.getAdvancedItemCard();return Zl["default"].createElement(l,{key:n.identifier,tool:C.TEXT_DESIGN,type:De.MEDIUM,onClick:function onClick(){return o(n.identifier);},image:n.thumbnailURI,label:n.name||"",style:{animationDelay:"".concat(Ne(a),"s"),backgroundSize:"60%"},isDisabled:!r.isTextDesignSelected,isActive:i===n.identifier},Zl["default"].createElement(Mt,{hidden:!0},n.name));};return Zl["default"].createElement(Zl["default"].Fragment,null,t.map(s));}),Ej=function Ej(){return Zl["default"].createElement(X.Itemsbar,null,Zl["default"].createElement(X.CardContainer,null,Zl["default"].createElement($ce,null)));};var Ij=D(function(){var _R99=R(),r=_R99.textDesignTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){switch(o){case br.Items:return Kd["default"].createElement(Ej,{key:o});case br.Separator:return Kd["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case br.NewTextDesignButton:return Kd["default"].createElement(wj,{key:o});case br.ShuffleLayoutButton:return Kd["default"].createElement(Tj,{key:o});case br.TextDesignColorList:return Kd["default"].createElement(Dj,{key:o});default:return null;}};return Kd["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var Fj=D(function(_ref276){var r=_ref276.displayTitle;var _R100=R(),e=_R100.textDesignTool;return Xf["default"].createElement(Xf["default"].Fragment,null,r&&Xf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),Xf["default"].createElement(Ij,null));});var Yf=y(x("react"));U();J();var Xd=y(x("react"));U();H();nt();J();var Oj=y(x("react"));U();ri();J();var Rj=D(function(){var _R101=R(),r=_R101.transformTool,e=r.locale.controls,t=r.forceDimensions,i=r.localOutputHeight,o=r.localOutputWidth;return Oj["default"].createElement(If,{isDisabled:t,showLabel:!0,valueHeight:i,valueWidth:o,onSubmitWidth:r.onPixelWidth,onSubmitHeight:r.onPixelHeight,label:e.inputCropSize,labelHeight:e.inputHeight,labelWidth:e.inputWidth});});var Aj=y(x("react"));U();H();J();var Pj=D(function(){var _R102=R(),r=_R102.transformTool,e=_R102.custom,t=r.locale.controls,i=r.forceDimensions,o=r.lockResolution,s=e.getCheckbox();return Aj["default"].createElement(s,{tool:C.TRANSFORM,isDisabled:i,value:o,label:t.checkboxKeepResolution,checkMarkPosition:"right",onClick:r.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}});});var Bj=y(x("react"));U();H();J();var Mj=D(function(){var _R103=R(),r=_R103.transformTool,e=_R103.custom,t=r.locale.controls,i=e.getButton("toolControlBarSecondaryButton"),o=function o(){r.reset();};return Bj["default"].createElement(i,{tool:C.TRANSFORM,ariaLabel:t.buttonReset,onClick:o,label:t.buttonReset});});var vi=y(x("react"));U();var MD=y(x("react-dom/server"));H();re();J();Lt();$();var qce=D(function(){var _R104=R(),r=_R104.transformTool,e=_R104.custom,t=_R104.editor,i=r.categories,o=r.items,s=r.identifier,n=r.config,a=r.locale,l=e.getAdvancedItemCard(),c=e.getAdvancedCategoryCard(),u=function u(h,g){var _t$configStore=t.configStore,v=_t$configStore.theme,S=_t$configStore.measurements,_=a.items[h.identifier]||h.name,I=h.thumbnailURI||"",E="80%";if(!r.checkIfTransformThumbnailExits(h.thumbnailURI)){var O=h.identifier.includes("imgly_transform_common"),V=it.crops[h.identifier]||it.crops.imgly_transform_common_custom,F=vi["default"].createElement(V,{width:S.advancedCard.medium.width-(O?42:0),height:S.advancedCard.medium.height-(O?42:0),main:v.transform.crops.main,highlight:v.transform.crops.highlight,shadow:v.transform.crops.shadow});I="'data:image/svg+xml,".concat(encodeURIComponent((0,MD.renderToStaticMarkup)(F)),"'"),E=Gt()||bo()?"auto":"unset";}return vi["default"].createElement(l,{key:h.identifier,tool:C.TRANSFORM,type:De.MEDIUM,onClick:function onClick(){return r.changeIdentifier(h.identifier,!0);},image:I,label:_,style:{backgroundSize:E,animationDelay:"".concat(Ne(g),"s")},isActive:h.identifier===s},vi["default"].createElement(Mt,null,_));},p=function p(h,g){var _t$configStore2=t.configStore,v=_t$configStore2.theme,S=_t$configStore2.measurements,_=r.selectedCategoryIdentifier===h.identifier,I=a.categories[h.identifier]||h.name,E=h.thumbnailURI||"";if(!h.items)return null;if(!r.checkIfTransformThumbnailExits(h.thumbnailURI)){var O=it.categories[h.identifier]||it.crops.imgly_transform_common_custom,V=vi["default"].createElement(O,{width:S.advancedCard.large.width-42,height:S.advancedCard.large.height-42,main:v.transform.crops.main,highlight:v.transform.crops.highlight,shadow:v.transform.crops.shadow});E="'data:image/svg+xml,".concat(encodeURIComponent((0,MD.renderToStaticMarkup)(V)),"'");}return vi["default"].createElement("div",{key:h.identifier},vi["default"].createElement(c,{type:De.LARGE,onClick:function onClick(){return r.toggleCategorySelection(h.identifier);},key:h.identifier,image:E,style:{animationDelay:"".concat(Ne(g),"s")},label:h.name,tool:C.TRANSFORM},vi["default"].createElement(Mt,{caret:!0,isActive:_},I)),vi["default"].createElement(X.Sidebar.ExpandableContainer,{show:_},h.items.map(u)));},m=function m(h,g){var v=a.categories[h.identifier]||h.name;return h.items?vi["default"].createElement(X.Sidebar.TextCategory,{key:h.identifier,name:v,isFirstCategory:g===0,isLastCategory:g===i.length-1},h.items.map(u)):null;};return n.flattenCategories?vi["default"].createElement(vi["default"].Fragment,null,o.map(u)):n.categoryHeaderType===Yt.CARD?vi["default"].createElement(vi["default"].Fragment,null,i.map(p)):n.categoryHeaderType===Yt.TEXT?vi["default"].createElement(vi["default"].Fragment,null,i.map(m)):null;}),Lj=function Lj(){return vi["default"].createElement(X.Itemsbar,null,vi["default"].createElement(X.CardContainer,null,vi["default"].createElement(qce,null)));};var zj=D(function(){var _R105=R(),r=_R105.transformTool,e=r.config,t=e.advancedUIToolControlBarOrder,i=function i(o){switch(o){case _r.Items:return Xd["default"].createElement(Lj,{key:o});case _r.Separator:return Xd["default"].createElement(X.ItemsSeparator,{full:!0,key:ot()});case _r.ResetTransformButton:return Xd["default"].createElement(Mj,{key:o});case _r.KeepResolutionCheckbox:return Xd["default"].createElement(Pj,{key:o});case _r.CropSizeInput:return Xd["default"].createElement(Rj,{key:o});default:return null;}};return Xd["default"].createElement(X.ToolControlBarItems,null,t.map(function(o){return i(o);}));});var Uj=D(function(_ref277){var r=_ref277.displayTitle;var _R106=R(),e=_R106.transformTool;return Yf["default"].createElement(Yf["default"].Fragment,null,r&&Yf["default"].createElement(X.Sidebar.Heading,null,e.locale.title),Yf["default"].createElement(zj,null));});var ep=/*#__PURE__*/function(_wt$default$Component){_inherits(ep,_wt$default$Component);var _super259=_createSuper(ep);function ep(){_classCallCheck(this,ep);return _super259.apply(this,arguments);}_createClass(ep,[{key:"render",value:function render(){var _this$props20=this.props,e=_this$props20.config,t=_this$props20.active,i=t.tool,o=e.config.displayToolControlBarTitle;return wt["default"].createElement(X.Sidebar.Index,{reverse:e.config.order==="reverse"},wt["default"].createElement(M.Switch.Index,{type:i},wt["default"].createElement(M.Switch.Case,{value:C.LIBRARY},wt["default"].createElement(GV,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.FILTER},wt["default"].createElement(pV,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.FOCUS},wt["default"].createElement(xV,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.ADJUSTMENT},wt["default"].createElement(YG,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.OVERLAY},wt["default"].createElement(ZV,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.STICKER},wt["default"].createElement(nj,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.TEXT},wt["default"].createElement(Cj,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.TEXT_DESIGN},wt["default"].createElement(Fj,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.FRAME},wt["default"].createElement(FV,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.BRUSH},wt["default"].createElement(sV,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.TRANSFORM},wt["default"].createElement(Uj,{displayTitle:o})),wt["default"].createElement(M.Switch.Case,{value:C.CUSTOM},wt["default"].createElement(nV,{displayTitle:o}))));}}]);return ep;}(wt["default"].Component);ep=f([ne("active","config"),D],ep);var Hj=Nj["default"].div(_templateObject338||(_templateObject338=_taggedTemplateLiteral(["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"])),function(r){return r.theme.measurements.advancedUIToolbar.width+r.theme.measurements.advancedUIToolControlBar.width;},function(r){return r.theme.webcam.backdrop;},function(r){return r.theme.measurements.zIndex.disable;}),Jf=/*#__PURE__*/function(_Ei$default$Component){_inherits(Jf,_Ei$default$Component);var _super260=_createSuper(Jf);function Jf(){_classCallCheck(this,Jf);return _super260.apply(this,arguments);}_createClass(Jf,[{key:"render",value:function render(){var _this$props21=this.props,e=_this$props21.config,t=_this$props21.active;return e.isOrderDefault?Ei["default"].createElement(M.Container,null,t.isWebcam?Ei["default"].createElement(Hj,{style:{left:0}}):null,Ei["default"].createElement($m,null),Ei["default"].createElement(Zm,null),Ei["default"].createElement(ep,null),Ei["default"].createElement(ul,null,Ei["default"].createElement(Mm,null),Ei["default"].createElement(Vm,null))):Ei["default"].createElement(M.Container,null,t.isWebcam?Ei["default"].createElement(Hj,{style:{right:0}}):null,Ei["default"].createElement($m,null),Ei["default"].createElement(ul,null,Ei["default"].createElement(Mm,null),Ei["default"].createElement(Vm,null)),Ei["default"].createElement(ep,null),Ei["default"].createElement(Zm,null));}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(e){return console.error(e),{hasError:!0};}}]);return Jf;}(Ei["default"].Component);Jf=f([ne("config","active"),D],Jf);var tp=y(x("react")),Wj=y(x("styled-components"));var Gj=/*#__PURE__*/function(_tp$default$Component){_inherits(Gj,_tp$default$Component);var _super261=_createSuper(Gj);function Gj(e){var _this402;_classCallCheck(this,Gj);_this402=_super261.call(this,e);_this402.ref=null;_this402.updatePosition=function(){var e=_this402.props.isReverse,t={x:0,y:0};if(_this402.ref.current){var _this402$ref$current$=_this402.ref.current.getBoundingClientRect(),i=_this402$ref$current$.top,o=_this402$ref$current$.height,s=_this402$ref$current$.left,n=_this402$ref$current$.right;t.y=i+o/4,t.x=e?window.innerWidth-n:s;}_this402.setState({tooltipPosition:t});};_this402.mouseOver=function(e){_this402.updatePosition(),_this402.setState({hoverTool:e});};_this402.mouseOut=function(){_this402.setState({hoverTool:null});};_this402.state={hoverTool:null,tooltipPosition:{x:0,y:0}},_this402.ref=tp["default"].createRef();return _this402;}_createClass(Gj,[{key:"componentDidMount",value:function componentDidMount(){this.updatePosition();}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.isReverse;t!==e.isReverse&&this.updatePosition();}},{key:"render",value:function render(){var _this403=this;var _this$props22=this.props,e=_this$props22.tool,t=_this$props22.isActive,i=_this$props22.isReverse,o=_this$props22.icon,s=_this$props22.label,n=_this$props22.onClick,a=_this$props22.className,l=_this$props22.children,_this$state10=this.state,c=_this$state10.hoverTool,u=_this$state10.tooltipPosition;return tp["default"].createElement(Kce,{ref:this.ref,onMouseOver:function onMouseOver(){return _this403.mouseOver(e);},onMouseOut:function onMouseOut(){return _this403.mouseOut();},className:a},tp["default"].createElement(X.Toolbar.Item,{ariaLabel:s,isActive:t,onClick:function onClick(){return n(e);}},o,l),tp["default"].createElement(X.Toolbar.Tooltip,{position:u,reverse:i,show:c===e},s));}}]);return Gj;}(tp["default"].Component),Zf=Gj,Kce=Wj["default"].div(_templateObject339||(_templateObject339=_taggedTemplateLiteral(["\n  position: relative;\n"])));var t0=/*#__PURE__*/function(_Qf$default$Component){_inherits(t0,_Qf$default$Component);var _super262=_createSuper(t0);function t0(){_classCallCheck(this,t0);return _super262.apply(this,arguments);}_createClass(t0,[{key:"componentDidMount",value:function componentDidMount(){var _this$props23=this.props,e=_this$props23.editor,t=_this$props23.storeProps;this.editor=e,this.storeProps=t;var i=new jm(this.editor.configStore.config.custom.components,{advancedUICategoryCard:X.Card,advancedUIItemCard:X.Card,advancedUIToolbarItem:Zf}),o={getAdvancedCategoryCard:i.getAdvancedCategoryCard,getAdvancedItemCard:i.getAdvancedItemCard,getAdvancedToolbarItem:i.getAdvancedToolbarItem,getDialog:i.getDialog,getButton:i.getButton,getColorItem:i.getColorItem,getCheckbox:i.getCheckbox};this.storeProps.custom=o,this.forceUpdate();}},{key:"render",value:function render(){return this.storeProps?Qf["default"].createElement(xp,w({},this.storeProps),Qf["default"].createElement(Vj.ThemeProvider,{theme:L(w({},this.editor.configStore.theme),{measurements:this.editor.configStore.measurements})},Qf["default"].createElement(Jf,null))):null;}}]);return t0;}(Qf["default"].Component);re();T_();var y0=y(x("react")),JD=y(x("react-dom"));H();nt();var bn=y(x("react"));var Ade=bn["default"].lazy(function(){return Promise.resolve().then(function(){return vX(),xX;});}),Pde=function Pde(r){return{filterTool:r.filterToolStore,focusTool:r.focusToolStore,adjustmentsTool:r.adjustmentsToolStore,overlayTool:r.overlayToolStore,frameTool:r.frameToolStore,brushTool:r.brushToolStore,transformTool:r.transformToolStore,scale:r.scale,sprite:r.spriteStore,stickerTool:r.spriteStore.stickerToolStore,textTool:r.spriteStore.textToolStore,textDesignTool:r.spriteStore.textDesignToolStore,library:r.libraryStore,modal:r.modalStore,snapping:r.snappingStore,config:r.configStore,active:r.activeStore,canvas:r.canvasStore,history:r.historyStore,editor:r};},_0=function _0(_ref278){var r=_ref278.editor;var e=(0,bn.useMemo)(function(){return Pde(r);},[r]);return r.configStore.config.layout==="basic"?bn["default"].createElement(bn.Suspense,{fallback:bn["default"].createElement("div",null)},bn["default"].createElement(Ade,{editor:r,storeProps:e})):bn["default"].createElement(t0,{editor:r,storeProps:e});};var CX=/*#__PURE__*/function(_Ur4){_inherits(CX,_Ur4);var _super263=_createSuper(CX);function CX(e,t){var _this404;_classCallCheck(this,CX);_this404=_super263.call(this);_this404.dispose=function(){_this404.container&&(JD["default"].unmountComponentAtNode(_this404.container),_this404.removeAllListeners(ee.EXPORT),_this404.removeAllListeners(ee.HISTORY_UNDO),_this404.removeAllListeners(ee.HISTORY_REDO),_this404.removeAllListeners(ee.HISTORY_CHANGE),_this404.removeAllListeners(ee.EDITOR_READY),_this404.removeAllListeners(ee.ERROR_IMAGE_LOADING),_this404.removeAllListeners(ee.IMAGE_LOAD),_this404.removeAllListeners(ee.TOOL_ENTER),_this404.removeAllListeners(ee.STICKER_UPLOAD_ADD),_this404.removeAllListeners(ee.ERROR_WEBGL_CONTEXT_LOST),_this404.removeAllListeners(ee.CROP_DIMENSIONS_CHANGE));};_this404.serialize=function(e){return _this404.editor.serialize(e);};_this404.deserialize=function(e){return _this404.editor.deserialize(e);};_this404["export"]=function(e){return _this404.editor["export"](e);};_this404.close=function(){return _this404.editor.close();};_this404.setImage=function(e){return _this404.editor.setImage(e,!0);};_this404.getImageDimensions=function(){return _this404.editor.getImageDimensions();};_this404.getImageMimeType=function(){return _this404.editor.getImageMimeType();};_this404.reset=function(){_this404.editor.resetToolStates(),_this404.editor.resize();};_this404.container=t,_this404.editor=new St(w({},e)),_this404.editor.configStore.events.on(ee.EXPORT,function(i){_this404.emit(ee.EXPORT,i);}),_this404.editor.configStore.events.on(ee.CLOSE,function(){_this404.dispose(),_this404.emit(ee.CLOSE);}),_this404.editor.configStore.events.on(ee.HISTORY_UNDO,function(){_this404.emit(ee.HISTORY_UNDO);}),_this404.editor.configStore.events.on(ee.HISTORY_REDO,function(){_this404.emit(ee.HISTORY_REDO);}),_this404.editor.configStore.events.on(ee.HISTORY_CHANGE,function(){_this404.emit(ee.HISTORY_CHANGE);}),_this404.editor.configStore.events.on(ee.STICKER_UPLOAD_ADD,function(i){_this404.emit(ee.STICKER_UPLOAD_ADD,i);}),_this404.editor.configStore.events.on(ee.CROP_DIMENSIONS_CHANGE,function(i){_this404.emit(ee.CROP_DIMENSIONS_CHANGE,i);});return _this404;}_createClass(CX,[{key:"hasChanges",value:function hasChanges(){return this.editor.hasChanges();}}]);return CX;}(Ur),SX=/*#__PURE__*/function(){function SX(){_classCallCheck(this,SX);this.container=null;}_createClass(SX,[{key:"init",value:function init(e){var _this405=this;return new Promise(function(t,i){if(typeof window=="undefined"){t();return;}_this405.container=typeof e.container=="string"?document.querySelector(e.container):e.container,_this405.container?(_this405.editorApi=new CX(e,_this405.container),JD["default"].render(y0["default"].createElement(wX,{editor:_this405.editorApi.editor}),_this405.container),_this405.editorApi.editor.configStore.events.on(ee.EDITOR_READY,function(){setTimeout(function(){_this405.editorApi.emit(ee.EDITOR_READY);},0),t(_this405.editorApi);}),_this405.editorApi.editor.configStore.events.on(ee.ERROR_IMAGE_LOADING,function(o){setTimeout(function(){_this405.editorApi.emit(ee.ERROR_IMAGE_LOADING,o);},0),t(_this405.editorApi);}),_this405.editorApi.editor.configStore.events.on(ee.ERROR_WEBGL_CONTEXT_LOST,function(o){setTimeout(function(){_this405.editorApi.emit(ee.ERROR_WEBGL_CONTEXT_LOST,o);},0),t(_this405.editorApi);}),_this405.editorApi.editor.configStore.events.on(ee.IMAGE_LOAD,function(){setTimeout(function(){_this405.editorApi.emit(ee.IMAGE_LOAD);},0),t(_this405.editorApi);}),_this405.editorApi.editor.configStore.events.on(ee.TOOL_ENTER,function(o){setTimeout(function(){_this405.editorApi.emit(ee.TOOL_ENTER,o);},0),t(_this405.editorApi);})):i(new Error("Provide a container"));});}}]);return SX;}(),wX=/*#__PURE__*/function(_y0$default$Component){_inherits(wX,_y0$default$Component);var _super264=_createSuper(wX);function wX(){_classCallCheck(this,wX);return _super264.apply(this,arguments);}_createClass(wX,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.editor;e.engine.dispose(),e.configStore.events.removeAllListeners(ee.EXPORT),e.configStore.events.removeAllListeners(ee.CLOSE),e.configStore.events.removeAllListeners(ee.HISTORY_UNDO),e.configStore.events.removeAllListeners(ee.HISTORY_REDO),e.configStore.events.removeAllListeners(ee.HISTORY_CHANGE),e.configStore.events.removeAllListeners(ee.EDITOR_READY),e.configStore.events.removeAllListeners(ee.ERROR_IMAGE_LOADING),e.configStore.events.removeAllListeners(ee.IMAGE_LOAD),e.configStore.events.removeAllListeners(ee.TOOL_ENTER),e.configStore.events.removeAllListeners(ee.STICKER_UPLOAD_ADD),e.configStore.events.removeAllListeners(ee.ERROR_WEBGL_CONTEXT_LOST),e.configStore.events.removeAllListeners(ee.CROP_DIMENSIONS_CHANGE);}},{key:"render",value:function render(){var e=this.props.editor;return y0["default"].createElement(_0,{editor:e});}}]);return wX;}(y0["default"].Component),kX={init:function init(r){return new SX().init(r);}};H();var x0=y(x("react"));H();nt();var TX=/*#__PURE__*/function(_x0$default$Component){_inherits(TX,_x0$default$Component);var _super265=_createSuper(TX);function TX(e){var _this406;_classCallCheck(this,TX);_this406=_super265.call(this,e);_this406.ui=new Ur();_this406.serialize=function(e){return _this406.editor.serialize(e);};_this406.deserialize=function(e){return _this406.editor.deserialize(e);};_this406["export"]=function(e){return _this406.editor["export"](e);};_this406.close=function(){return _this406.editor.close();};_this406.setImage=function(e){return _this406.editor.setImage(e,!0);};_this406.getImageDimensions=function(){return _this406.editor.getImageDimensions();};_this406.dispose=function(){_this406.ui.removeAllListeners(ee.EXPORT),_this406.ui.removeAllListeners(ee.HISTORY_UNDO),_this406.ui.removeAllListeners(ee.HISTORY_REDO),_this406.ui.removeAllListeners(ee.HISTORY_CHANGE),_this406.ui.removeAllListeners(ee.EDITOR_READY),_this406.ui.removeAllListeners(ee.ERROR_IMAGE_LOADING),_this406.ui.removeAllListeners(ee.IMAGE_LOAD),_this406.ui.removeAllListeners(ee.TOOL_ENTER),_this406.ui.removeAllListeners(ee.STICKER_UPLOAD_ADD),_this406.ui.removeAllListeners(ee.ERROR_WEBGL_CONTEXT_LOST),_this406.ui.removeAllListeners(ee.CROP_DIMENSIONS_CHANGE);};_this406.reset=function(){_this406.editor.resetToolStates(),_this406.editor.resize();};_this406.editor=new St(w({},e)),_this406.editor.configStore.events.on(ee.EXPORT,function(t){_this406.ui.emit(ee.EXPORT,t);}),_this406.editor.configStore.events.on(ee.CLOSE,function(){_this406.componentWillUnmount(),_this406.ui.emit(ee.CLOSE);}),_this406.editor.configStore.events.on(ee.HISTORY_UNDO,function(){_this406.ui.emit(ee.HISTORY_UNDO);}),_this406.editor.configStore.events.on(ee.HISTORY_REDO,function(){_this406.ui.emit(ee.HISTORY_REDO);}),_this406.editor.configStore.events.on(ee.HISTORY_CHANGE,function(){_this406.ui.emit(ee.HISTORY_CHANGE);}),_this406.editor.configStore.events.on(ee.EDITOR_READY,function(){_this406.ui.emit(ee.EDITOR_READY);}),_this406.editor.configStore.events.on(ee.ERROR_IMAGE_LOADING,function(t){_this406.ui.emit(ee.ERROR_IMAGE_LOADING,t);}),_this406.editor.configStore.events.on(ee.IMAGE_LOAD,function(){_this406.ui.emit(ee.IMAGE_LOAD);}),_this406.editor.configStore.events.on(ee.TOOL_ENTER,function(t){_this406.ui.emit(ee.TOOL_ENTER,t);}),_this406.editor.configStore.events.on(ee.STICKER_UPLOAD_ADD,function(t){_this406.ui.emit(ee.STICKER_UPLOAD_ADD,t);}),_this406.editor.configStore.events.on(ee.CROP_DIMENSIONS_CHANGE,function(t){_this406.ui.emit(ee.CROP_DIMENSIONS_CHANGE,t);}),_this406.editor.configStore.events.on(ee.ERROR_WEBGL_CONTEXT_LOST,function(){_this406.ui.emit(ee.ERROR_WEBGL_CONTEXT_LOST);});return _this406;}_createClass(TX,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.dispose();}},{key:"hasChanges",value:function hasChanges(){return this.editor.hasChanges();}},{key:"render",value:function render(){return x0["default"].createElement(_0,{editor:this.editor});}}]);return TX;}(x0["default"].Component),DX=function DX(r){return typeof window=="undefined"?null:x0["default"].createElement(TX,w({},r));};nt();J();var Bde=function Bde(){var _R107=R(),r=_R107.active;return r.newImage;};J();var Mde=function Mde(){return R().config.isLayoutAdvanced;};Ag({isolateGlobalState:!0});var _M5=M,Lde=_M5.Container,zde=_M5.Input,Ude=_M5.ColorItem,Nde=_M5.ColorItemBase,Hde=_M5.ColorItemBackground,Wde=_M5.ColorItemTiledBackground,Gde=_M5.ColorItemActiveOverlay,Vde=_M5.Dialog,jde=_M5.DialogBase,$de=_M5.DialogContainer,qde=_M5.DialogBackdrop,Kde=_M5.DialogHeader,Xde=_M5.DialogBody,Yde=_M5.DialogFooter,Jde=_M5.DialogSpinner,Zde=zde.Search,Qde=zde.Label,eue=zde.Checkbox,tue=zde.CheckboxBase,iue=zde.CheckboxInput,rue=zde.CheckboxCheckMark,oue=Ff,sue=Ff,nue=Zde;return aue;}();/*
 * Based on https://github.com/exif-js/exif-js by Jacob Seidelin
 * Licensed under MIT
 * @license
 */ /*
 * Extracted from MinifyJpeg (Copyright (c) 2014 Hiroaki Matoba, MIT License):
 * https://github.com/hMatoba/MinifyJpeg
 * @license
 */ /*
 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
 * requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel
 * MIT license
 * @license
 */ /*!
 *  Secure Hash Algorithm (SHA256)
 *  http://www.webtoolkit.info/
 *
 *  Original code by Angel Marin, Paul Johnston.
 */ /*!
 * Copyright (c) 2003-2005  Tom Wu
 * All Rights Reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY
 * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,
 * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER
 * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF
 * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT
 * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * In addition, the following condition applies:
 *
 * All redistributions must retain an intact copy of this copyright notice
 * and disclaimer.
 */ /*!
StackBlur - a fast almost Gaussian Blur For Canvas

Version:  0.5
Author:   Mario Klingemann
Contact:  mario@quasimondo.com
Website:  http://www.quasimondo.com/StackBlurForCanvas
Twitter:  @quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr:
https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

Copyright (c) 2010 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
@license
*/ /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */