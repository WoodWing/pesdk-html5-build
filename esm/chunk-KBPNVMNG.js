import{B as fo,E as Ho,F as Me,G as Co,H as i,I as N,K as ho,L as Mo,M as bo,N as zo,O as Wo,a as wo,b as s,c as Po,d as w,f as He,h as po,m as me,n as k,o as uo,p as _o,r as u,w as Ro,x as $o,z as xe}from"./chunk-63K3PAW7.js";import{Aa as I,Fa as T,G as Re,J as ye,Ja as B,Ka as No,Q as Te,U as j,_ as te,a as D,aa as re,b as Pe,c as Uo,d as Ne,e as Do,f as M,fa as ne,h as _e,i as _,ia as $,na as se,qa as ie,sa as ae,t as d,u as P,v as x,wa as C,xa as $e}from"./chunk-46PZSA2B.js";var Jo=Ne((_i,qo)=>{"use strict";var Cn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";qo.exports=Cn});var ot=Ne((Ri,et)=>{"use strict";var hn=Jo();function Qo(){}function Zo(){}Zo.resetWarningCache=Qo;et.exports=function(){function e(n,o,a,l,p,f){if(f!==hn){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Zo,resetWarningCache:Qo};return r.PropTypes=r,r}});var rt=Ne((Mi,tt)=>{tt.exports=ot()();var $i,Hi});var gt=Ne((Xa,bt)=>{"use strict";var Mn=!1,Ct=function(){};Mn&&(ht=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var o=1;o<n;o++)r[o-1]=arguments[o];var a=0,l="Warning: "+t.replace(/%s/g,function(){return r[a++]});typeof console!="undefined"&&console.error(l);try{throw new Error(l)}catch(p){}},Ct=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var o=2;o<n;o++)r[o-2]=arguments[o];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||ht.apply(null,[t].concat(r))});var ht;bt.exports=Ct});import mo from"react";import{ThemeProvider as Ks}from"styled-components";import ln from"react";import tn from"react";import rn from"styled-components";var nn=rn(me)`
  width: ${e=>e.theme.measurements.advancedCard.large.width}px;
  height: ${e=>e.theme.measurements.advancedCard.large.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedSpacer}px;
  color: ${e=>e.theme.card.foreground};
`,sn=r=>{var n=r,{isActive:e}=n,t=Uo(n,["isActive"]);return tn.createElement(nn,D({},t))},Go=sn;import an from"styled-components";var jo=an(me)`
  width: ${e=>e.theme.measurements.advancedCard.medium.width}px;
  height: ${e=>e.theme.measurements.advancedCard.medium.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedSpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(2n + 1) {
    margin-right: ${e=>e.theme.measurements.advancedSpacer}px;
  }
`;import mn from"styled-components";var Vo=mn(me)`
  width: ${e=>e.theme.measurements.advancedCard.small.width}px;
  height: ${e=>e.theme.measurements.advancedCard.small.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedSpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(3n + 1),
  &:nth-child(3n + 2) {
    margin-right: ${e=>e.theme.measurements.advancedSpacer}px;
  }
`;var Ie=e=>{let t=e.type===x.LARGE,r=e.type===x.SMALL,n=jo;return t?n=Go:r&&(n=Vo),ln.createElement(n,D({},e))};import dn from"styled-components";var ze=dn.div.attrs(e=>({"data-test":e["data-test"]||T.CardContainer}))`
  display: flex;
  flex-wrap: wrap;
  /* width - padding on both sides */
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width-48}px;
`;import cn from"react";import pn,{css as Xo}from"styled-components";var un=pn.div`
  display: flex;
  flex-direction: column;
  flex-shrink: 0;

  position: relative;
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width}px;
  /* for Firefox */
  min-height: 0;
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.marginBottom}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolControlBar};

  background: ${e=>e.theme.toolControlBar.background};
  transition: width 0.4s ease-in;
  ${e=>e.reverse?Xo`
          border-left: 1px solid ${e.theme.toolControlBar.borderColor};
        `:Xo`
          border-right: 1px solid ${e.theme.toolControlBar.borderColor};
        `}
`,Yo=({reverse:e=!1,children:t})=>cn.createElement(un,{"data-test":T.ToolControlBar,reverse:e},t);import fn,{css as go}from"styled-components";var Ko=fn.div.attrs(()=>({"data-test":T.CategoryItemsContainer}))`
  transition: max-height 0.8s ease-out, transform 0.8s ease-out;
  background: ${e=>e.theme.toolControlBar.background};
  visibility: hidden;
  opacity: 0;
  transform-origin: 0 0;
  display: none;
  flex-wrap: wrap;

  ${({show:e})=>e&&go`
      opacity: 1;
      visibility: visible;
      ${_()?go`
            display: block;
          `:go`
            display: flex;
          `}
    `}
`;import nt,{useRef as gn}from"react";function vo(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function So(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Xi=Do(rt());import We from"react";import xo from"react-dom";var yo={disabled:!1};import bn from"react";var To=bn.createContext(null);var ke="unmounted",V="exited",X="entering",le="entered",Io="exiting",H=function(e){So(t,e);function t(n,o){var a;a=e.call(this,n,o)||this;var l=o,p=l&&!l.isMounting?n.enter:n.appear,f;return a.appearStatus=null,n.in?p?(f=V,a.appearStatus=X):f=le:n.unmountOnExit||n.mountOnEnter?f=ke:f=V,a.state={status:f},a.nextCallback=null,a}t.getDerivedStateFromProps=function(o,a){var l=o.in;return l&&a.status===ke?{status:V}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var a=null;if(o!==this.props){var l=this.state.status;this.props.in?l!==X&&l!==le&&(a=X):(l===X||l===le)&&(a=Io)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,a,l,p;return a=l=p=o,o!=null&&typeof o!="number"&&(a=o.exit,l=o.enter,p=o.appear!==void 0?o.appear:l),{exit:a,enter:l,appear:p}},r.updateStatus=function(o,a){o===void 0&&(o=!1),a!==null?(this.cancelNextCallback(),a===X?this.performEnter(o):this.performExit()):this.props.unmountOnExit&&this.state.status===V&&this.setState({status:ke})},r.performEnter=function(o){var a=this,l=this.props.enter,p=this.context?this.context.isMounting:o,f=this.props.nodeRef?[p]:[xo.findDOMNode(this),p],h=f[0],v=f[1],g=this.getTimeouts(),b=p?g.appear:g.enter;if(!o&&!l||yo.disabled){this.safeSetState({status:le},function(){a.props.onEntered(h)});return}this.props.onEnter(h,v),this.safeSetState({status:X},function(){a.props.onEntering(h,v),a.onTransitionEnd(b,function(){a.safeSetState({status:le},function(){a.props.onEntered(h,v)})})})},r.performExit=function(){var o=this,a=this.props.exit,l=this.getTimeouts(),p=this.props.nodeRef?void 0:xo.findDOMNode(this);if(!a||yo.disabled){this.safeSetState({status:V},function(){o.props.onExited(p)});return}this.props.onExit(p),this.safeSetState({status:Io},function(){o.props.onExiting(p),o.onTransitionEnd(l.exit,function(){o.safeSetState({status:V},function(){o.props.onExited(p)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},r.setNextCallback=function(o){var a=this,l=!0;return this.nextCallback=function(p){l&&(l=!1,a.nextCallback=null,o(p))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(o,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:xo.findDOMNode(this),p=o==null&&!this.props.addEndListener;if(!l||p){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=f[0],v=f[1];this.props.addEndListener(h,v)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===ke)return null;var a=this.props,l=a.children,p=a.in,f=a.mountOnEnter,h=a.unmountOnExit,v=a.appear,g=a.enter,b=a.exit,c=a.timeout,S=a.addEndListener,E=a.onEnter,Z=a.onEntering,ee=a.onEntered,ve=a.onExit,oe=a.onExiting,Se=a.onExited,De=a.nodeRef,we=vo(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return We.createElement(To.Provider,{value:null},typeof l=="function"?l(o,we):We.cloneElement(We.Children.only(l),we))},t}(We.Component);H.contextType=To;H.propTypes={};function de(){}H.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:de,onEntering:de,onEntered:de,onExit:de,onExiting:de,onExited:de};H.UNMOUNTED=ke;H.EXITED=V;H.ENTERING=X;H.ENTERED=le;H.EXITING=Io;var Ee=H;import vn from"styled-components";var Sn=vn.div`
  display: flex;
  flex-direction: column;

  position: relative;
  transition: opacity 500ms ease-in, max-height 400ms ease-in-out;
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* note: this is important to avoid issues with the animation */
  margin: 0 !important;
  padding: 0 !important;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`,st=({show:e,children:t})=>{let r=gn(null),n={entering:{opacity:0,maxHeight:0,overflow:"hidden"},entered:{opacity:1,maxHeight:"100%",overflow:"visible"},exiting:{opacity:0,maxHeight:0,overflow:"hidden"},exited:{opacity:0,maxHeight:0,overflow:"hidden"}};return nt.createElement(Ee,{nodeRef:r,in:e,timeout:{exit:200},mountOnEnter:!0},o=>nt.createElement(Sn,{style:n[o],"data-test":T.ToolControlBarExpandableControls,ref:r},t))};import yn,{css as Tn}from"styled-components";var Ae=yn(He)`
  position: relative;

  box-sizing: border-box;

  /* for Firefox */
  min-height: 0;

  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* compensate the padding in IE and Edge */
  ${()=>_()||_e()?Tn`
        > ul {
          padding-right: 34px;
          margin-right: -34px;
        }
      `:""}
`;Ae.defaultProps={direction:"vertical"};import xn,{css as In}from"styled-components";var kn=xn.div`
  position: relative;
  &:after {
    content: '';
    position: absolute;
    bottom: 0px;
    ${e=>e.full?In`
            left: -${3*e.theme.measurements.advancedSpacer/2}px;
            width: calc(
              100% + ${3*e.theme.measurements.advancedSpacer}px
            );
          `:`
      left: ${3*e.theme.measurements.advancedSpacer/2}px;
      width: calc(100% - ${3*e.theme.measurements.advancedSpacer}px);
    `}
    border-bottom: 2px solid ${e=>e.theme.toolControlBar.separatorColor};
  }
`,Ge=kn;import En from"styled-components";var An=En.h2`
  color: ${e=>e.theme.toolControlBar.titleForeground};
  font-size: ${e=>e.theme.measurements.fontSystem.headline2.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline2.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline2.case};
  font-weight: 500;
  min-height: ${e=>2*e.theme.measurements.advancedSpacer}px;
  margin-top: 0;
`,je=An;import z from"react";import Bn from"styled-components";var On=Bn.div`
  display: flex;
  flex-direction: column;
  position: relative;
  width: 100%;
  flex: 1 0 auto;
`,it=({name:e,isFirstCategory:t,isLastCategory:r,children:n})=>z.createElement(On,null,!t&&z.createElement(u.Spacer,{count:2}),z.createElement(je,{"data-test":e},e),z.createElement(ze,{"data-test":T.CategoryItemsContainer},n),!r&&z.createElement(z.Fragment,null,z.createElement(u.Spacer,{count:2}),z.createElement(Ge,{full:!0})));import Fn from"styled-components";var Ln=Fn.h1`
  /* Center text horizontally and vertically */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 0;
  padding: 0 4px;
  margin: 0;
  min-height: ${e=>e.theme.measurements.mainCanvasActionBar.height-2}px;
  font-size: ${e=>e.theme.measurements.fontSystem.headline1.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline1.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline1.case};
  background: ${e=>e.theme.toolControlBar.background};
  color: ${e=>e.theme.toolControlBar.titleForeground};
  border-bottom: 1px solid ${e=>e.theme.toolControlBar.separatorColor};
  font-weight: 500;
  text-align: center;
  /* prevent the padding from leaving the width of the parent  */
  box-sizing: border-box;
`,at=Ln;import Un from"react";import Dn from"styled-components";var wn=Dn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;

  overflow-y: auto;
  overflow-x: hidden;

  /* calculate the max-height based on the padding and if the heading is used */
  max-height: calc(
    100% -
      ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom+e.theme.measurements.advancedUIToolControlBar.paddingTop}px -
      ${e=>e.displayTitle?e.theme.measurements.mainCanvasActionBar.height-2:"0"}px
  );

  padding-top: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingTop}px;
  padding-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom}px;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  /* The scrollable content needs a padding for the scrollbar position */
  > ${Ae} {
    margin-left: 0px;
    margin-right: 0px;
    padding-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    padding-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  > :not(:last-child) {
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`,mt=({children:e})=>{let{config:t}=i(),r=t.config.displayToolControlBarTitle;return Un.createElement(wn,{displayTitle:r},e)};import lt from"react";import Pn,{css as ko}from"styled-components";var Nn=Pn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;
  align-items: center;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolbar};

  background-color: ${e=>e.theme.toolbar.background};
  color: ${e=>e.theme.toolbar.foreground};
  ${e=>{let t=e.theme.toolbar.border?e.theme.toolbar.border:ko`
          1px solid ${e.theme.toolbar.borderColor};
        `;return e.reverse?ko`
          border-left: ${t};
        `:ko`
          border-right: ${t};
        `}}
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolbar.marginBottom}px;
`,dt=({reverse:e,children:t})=>lt.createElement(Nn,{reverse:e,"data-test":T.Toolbar},lt.createElement(He,{direction:"vertical"},t));import ct from"react";import pt,{css as Eo}from"styled-components";var _n=pt(po)`
  width: inherit;
  height: inherit;
  padding: 0;
  margin: 0;
  ${_()?Eo`
        background-color: transparent;
      `:Eo`
        background-color: inherit;
      `}

  ${e=>e.isActive&&Eo`
      background-color: ${e.theme.toolbar.activeBackground};
      color: ${e.theme.toolbar.activeForeground};
    `}
`,Rn=pt.li.attrs({"aria-haspopup":!0,"aria-hidden":!0,role:"menuitem"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.itemHeight}px;
  cursor: pointer;
  position: relative;
`,ut=e=>ct.createElement(Rn,null,ct.createElement(_n,Pe(D({},e),{"data-test":T.ToolbarItem})));import $n from"styled-components";var Hn=$n.li.attrs({role:"none"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.seperatorHeight}px;
  cursor: pointer;
  position: relative;
`,ft=Hn;import Ve,{useRef as Jn}from"react";import{useRef as yt,createElement as Yn}from"react";var Vn=Do(gt());import*as Ya from"react";import{useLayoutEffect as zn,useEffect as Wn,isValidElement as qa,cloneElement as Ja,createContext as Qa,forwardRef as Za,memo as em,useRef as om,useState as Gn,useCallback as jn,useMemo as tm}from"react";var vt=Xn()?zn:Wn;var rm=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();function Xn(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}function St(){var e=Gn(Object.create(null)),t=e[1];return jn(function(){t(Object.create(null))},[])}import{createPortal as Kn}from"react-dom";var qn=function(t){var r=t.children,n=t.type,o=n===void 0?"reach-portal":n,a=yt(null),l=yt(null),p=St();return vt(function(){if(!!a.current){var f=a.current.ownerDocument;return l.current=f==null?void 0:f.createElement(o),f.body.appendChild(l.current),p(),function(){l.current&&l.current.ownerDocument&&l.current.ownerDocument.body.removeChild(l.current)}}},[o,p]),l.current?Kn(r,l.current):Yn("span",{ref:a})},Tt=qn;import xt,{css as Ao}from"styled-components";var Qn=xt.div`
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* added line-height reset from appContainer */
  line-height: normal;
  font-family: '${e=>e.theme.typography.fontFamily}', sans-serif;

  ${_()?Ao`
        position: -ms-device-fixed;
      `:Ao`
        position: fixed;
      `}
  top: ${e=>e.position.y-5}px;
  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,
    right 0.25s ease-in-out;
  z-index: ${e=>e.theme.measurements.zIndex.toolbar};
  pointer-events: none;
  cursor: pointer;

  &:before {
    content: ' ';
    position: absolute;
    top: 10px;
    left: -8px;
    width: 0;
    height: 0;
    border-right: 8px solid ${e=>e.theme.tooltip.background};
    border-bottom: 6px solid transparent;
    border-top: 6px solid transparent;
  }

  &:after {
    content: '${e=>e.label}';
    position: absolute;
    color: ${e=>e.theme.tooltip.foreground};
    background: ${e=>e.theme.tooltip.background};
    padding: 8px 12px;
    text-align: center;
    vertical-align: super;
    font-size: ${e=>e.theme.measurements.fontSystem.label.size}px;
    letter-spacing: ${e=>e.theme.measurements.fontSystem.label.letterSpacing}px;
    text-transform: ${e=>e.theme.measurements.fontSystem.label.case};
    border-radius: ${e=>e.theme.shape.radiusSmall}px;
    white-space: nowrap;
  }

  ${e=>e.reverse&&Ao`
      direction: rtl;

      &:before {
        border-left: 8px solid ${e.theme.tooltip.background};
        border-right: none;
        right: -8px;
        left: unset;
        top: 10px;
      }
    `}
`,Zn=xt.span`
  display: none;
`,It=({show:e=!0,reverse:t,position:r,children:n})=>{let o=Jn(null),{config:a}=i(),{measurements:l}=a,p=typeof n=="string"?n:"",f=r.x+l.advancedUIToolbar.width-10,h=r.x+l.advancedUIToolbar.width+16,v=t?"right":"left",g={entering:{opacity:0,[v]:`${f}px`},entered:{opacity:1,[v]:`${h}px`},exiting:{opacity:0,[v]:`${f}px`},exited:{opacity:0,[v]:`${f}px`}};return Ve.createElement(Ee,{nodeRef:o,in:e,timeout:{exit:500}},b=>b!=="exited"&&Ve.createElement(Tt,null,Ve.createElement(Qn,{ref:o,style:g[b],"data-test":T.Tooltip,reverse:t,position:r,label:p},Ve.createElement(Zn,null,p))))};var m={Card:Ie,CardContainer:ze,Toolbar:{Index:dt,Item:ut,Separator:ft,Tooltip:It},Itemsbar:Ae,BarSeparator:"",ItemsSeparator:Ge,Controlsbar:st,ToolControlBarItems:mt,Sidebar:{Index:Yo,Heading:at,SubHeading:je,TextCategory:it,ExpandableContainer:Ko}};import F from"react";import Vs from"styled-components";import Bo from"react";import Be from"react";var Xe=class extends Be.Component{constructor(){super(...arguments);this.renderIcon=t=>{let{tool:r,config:n}=this.props,o=n.state.config[r];if(o.icon){let l=o.icon;return Be.createElement(l,null)}let a=Ro[t];return Be.createElement(a,null)||null};this.update=t=>{this.props.active.selectTool(t)}}getToolTitle(t){return this.props.config.locale[t].title}render(){let t=this.props.active.tool,{tool:r,custom:n}=this.props;if(r){let o=n.getAdvancedToolbarItem();return Be.createElement(o,{key:r,isActive:r===t,isReverse:this.props.isReverse,icon:this.renderIcon(r),onClick:()=>this.update(r),tool:r,label:this.getToolTitle(r)})}return Be.createElement(m.Toolbar.Separator,null)}};Xe=M([w("active","config","custom"),s],Xe);var kt=Xe;var ce=class extends Bo.Component{render(){let{config:t}=this.props,r=t.config.order==="reverse";return Bo.createElement(m.Toolbar.Index,{reverse:r},t.tools.map((n,o)=>Bo.createElement(kt,{key:n||o,tool:n,isReverse:r})))}};ce=M([w("config"),s],ce);import y from"react";import Ye from"react";import Oe from"react";import W,{useRef as Et}from"react";import es from"styled-components";var os=es(u.Input.Slider)`
  padding-bottom: 16px;
`,ts=s(()=>{let{adjustmentsTool:e}=i(),{categories:t,items:r,config:n,locale:o}=e,a=Et(!1),l=f=>{let h=e[f.identifier],v=Et(h),g=e.locale.categories[f.identifier]||f.name,b=c=>{a.current&&c!==v.current&&(e.toolSnapshot(),a.current=!1,v.current=c)};return W.createElement(os,{identifier:f.identifier,adjust:!0,key:f.identifier,label:g,value:h,onChange:c=>{e.editAdjustments({type:f.identifier,value:c}),a.current=h!==c},onMouseUp:b,onTouchEnd:b,snap:0})},p=(f,h)=>{let v=o.categories[f.identifier]||f.name;return f.items?W.createElement(m.Sidebar.TextCategory,{key:f.identifier,name:v,isFirstCategory:h===0,isLastCategory:h===t.length-1},f.items.map(l)):null};return n.flattenCategories?W.createElement(W.Fragment,null,r.map(l)):W.createElement(W.Fragment,null,t.map(p))}),At=()=>W.createElement(m.Itemsbar,null,W.createElement(ts,null));import rs from"react";var Bt=s(()=>{let{adjustmentsTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.reset()};return rs.createElement(n,{tool:d.ADJUSTMENT,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var Ot=s(()=>{let{adjustmentsTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{if(typeof o=="string")switch(o){case Re.Items:return Oe.createElement(At,{key:o});case Re.Separator:return Oe.createElement(m.ItemsSeparator,{full:!0,key:I()});case Re.RemoveAdjustmentButton:return Oe.createElement(Bt,{key:o});default:return null}else if(typeof o=="object")return Oe.createElement(m.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(a=>n(a)));return null};return Oe.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var Ft=s(({displayTitle:e})=>{let{adjustmentsTool:t}=i();return Ye.createElement(Ye.Fragment,null,e&&Ye.createElement(m.Sidebar.Heading,null,t.locale.title),Ye.createElement(Ot,null))});import Ke from"react";import Y from"react";import Lt from"react";var Ut=s(()=>{let{brushTool:e}=i(),t=e.locale.controls,r=e.localeColor.colorPicker,{colorList:n}=e;return Lt.createElement(u.Input.Selection,{label:t.selectColor},Lt.createElement(N,{tool:d.BRUSH,activeColor:e.color,colors:n,labelsColor:r,onChange:e.changeColor}))});import ns from"react";var Dt=s(()=>{let{brushTool:e}=i(),t=e.locale.controls;return ns.createElement(u.Input.Slider,{"data-test":T.BrushHardness,label:t.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})});import ss from"react";var wt=s(()=>{let{brushTool:e}=i(),t=e.locale.controls;return ss.createElement(u.Input.Slider,{"data-test":T.BrushSize,label:t.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})});import is from"react";var Pt=s(()=>{let{brushTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.reset()};return is.createElement(n,{tool:d.BRUSH,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var Nt=s(()=>{let{brushTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{if(typeof o=="string")switch(o){case se.BrushColorList:return Y.createElement(Ut,{key:o});case se.BrushHardnessSlider:return Y.createElement(Dt,{key:o});case se.BrushSizeSlider:return Y.createElement(wt,{key:o});case se.Separator:return Y.createElement(m.ItemsSeparator,{full:!0,key:I()});case se.RemoveBrushButton:return Y.createElement(Pt,{key:o});default:return null}else if(typeof o=="object")return Y.createElement(m.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(a=>n(a)));return null};return Y.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var as=({brushTool:e,displayTitle:t})=>Ke.createElement(Ke.Fragment,null,t&&Ke.createElement(m.Sidebar.Heading,null,e.locale.title),Ke.createElement(Nt,null)),_t=w("brushTool")(s(as));import qe from"react";var Rt=({displayTitle:e})=>{let{config:t}=i(),r=t.state.config[d.CUSTOM].toolControlBar,{title:n}=t.state.locale[d.CUSTOM];return qe.createElement(qe.Fragment,null,e&&qe.createElement(m.Sidebar.Heading,null,n),qe.createElement(r,{language:t.state.locale[d.CUSTOM]}))};import Je from"react";import pe from"react";import ms from"react";var $t=s(()=>{let{filterTool:e}=i(),t=e.locale.controls,r=e.state,n=()=>{e.toolSnapshot()};return ms.createElement(u.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderIntensity,value:r.intensity,min:0,max:1,onChange:e.changeIntensity,onMouseUp:n,onTouchEnd:n,snap:r.isDuotone?.5:null,isDisabled:!e.isOptionSelected})});import L from"react";var ls=s(()=>{let{filterTool:e,custom:t}=i(),{categories:r,config:n,items:o,locale:a}=e,l=t.getAdvancedItemCard(),p=t.getAdvancedCategoryCard(),f=(g,b)=>{let c=a.items[g.identifier]||g.name;return L.createElement(l,{tool:d.FILTER,type:x.MEDIUM,onClick:()=>e.selectFilter(g.identifier,g.defaultIntensity),key:g.identifier,image:g.thumbnailURI,label:c,style:{animationDelay:`${B(b)}s`},isActive:e.identifier===g.identifier},L.createElement(k,{withBackground:!0},c))},h=(g,b)=>{let{selectedCategoryIdentifier:c}=e,S=c===g.identifier,E=a.categories[g.identifier]||g.name;return g.items?L.createElement("div",{key:g.identifier},L.createElement(p,{isActive:S,tool:d.FILTER,type:x.LARGE,onClick:()=>e.toggleCategorySelection(g.identifier),image:g.thumbnailURI,label:E,style:{animationDelay:`${B(b)}s`}},L.createElement(k,{withBackground:!0,caret:!0,isActive:S},E)),L.createElement(m.Sidebar.ExpandableContainer,{show:S},g.items.map(f))):null},v=(g,b)=>{let c=a.categories[g.identifier]||g.name;return g.items?L.createElement(m.Sidebar.TextCategory,{key:g.identifier,name:c,isFirstCategory:b===0,isLastCategory:b===r.length-1},g.items.map(f)):null};return n.flattenCategories?L.createElement(L.Fragment,null,o.map(f)):n.categoryHeaderType===P.CARD?L.createElement(L.Fragment,null,r.map(h)):n.categoryHeaderType===P.TEXT?L.createElement(L.Fragment,null,r.map(v)):null}),Ht=()=>L.createElement(m.Itemsbar,null,L.createElement(m.CardContainer,null,L.createElement(ls,null)));import ds from"react";var Mt=s(()=>{let{filterTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.reset()};return ds.createElement(n,{tool:d.FILTER,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var zt=s(()=>{let{filterTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{if(typeof o=="string")switch(o){case ye.Items:return pe.createElement(Ht,{key:o});case ye.Separator:return pe.createElement(m.ItemsSeparator,{full:!0,key:I()});case ye.RemoveFilterButton:return pe.createElement(Mt,{key:o});case ye.FilterIntensitySlider:return pe.createElement($t,{key:o});default:return null}else if(typeof o=="object")return pe.createElement(m.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(a=>n(a)));return null};return pe.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var Wt=s(({displayTitle:e})=>{let{filterTool:t}=i();return Je.createElement(Je.Fragment,null,e&&Je.createElement(m.Sidebar.Heading,null,t.locale.title),Je.createElement(zt,null))});import Qe from"react";import ue from"react";import cs from"react";var Gt=s(()=>{let{focusTool:e}=i(),t=e.locale.controls,r=()=>{e.toolSnapshot(t.sliderIntensity)};return cs.createElement(u.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:r,onTouchEnd:r,isDisabled:!e.isOptionSelected})});import K from"react";var ps=s(()=>{let{focusTool:e,custom:t}=i(),{items:r}=e,n=(o,a)=>{let l=e.locale.items[o.identifier]||o.name,p=t.getAdvancedItemCard();return K.createElement(p,{tool:d.FOCUS,type:x.LARGE,onClick:()=>e.selectFocus(o.identifier),key:o.identifier,image:o.thumbnailURI,label:l,style:{animationDelay:`${B(a)}s`},isActive:o.identifier===e.identifier},K.createElement(k,{withBackground:!0},l))};return K.createElement(K.Fragment,null,r.map(n))}),jt=()=>K.createElement(m.Itemsbar,null,K.createElement(m.CardContainer,null,K.createElement(ps,null)));import us from"react";var Vt=s(()=>{let{focusTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.reset()};return us.createElement(n,{tool:d.FOCUS,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Xt=s(()=>{let{focusTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{if(typeof o=="string")switch(o){case Te.Separator:return ue.createElement(m.ItemsSeparator,{full:!0,key:I()});case Te.RemoveFocusButton:return ue.createElement(Vt,{key:o});case Te.FocusIntensitySlider:return ue.createElement(Gt,{key:o});case Te.Items:return ue.createElement(jt,{key:o});default:return null}else if(typeof o=="object")return ue.createElement(m.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(a=>n(a)));return null};return ue.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var Yt=s(({displayTitle:e})=>{let{focusTool:t}=i();return Qe.createElement(Qe.Fragment,null,e&&Qe.createElement(m.Sidebar.Heading,null,t.locale.title),Qe.createElement(Xt,null))});import eo from"react";import G from"react";import Kt from"react";var qt=s(()=>{let{frameTool:e}=i(),t=e.locale.controls,r=e.localeColor.colorPicker,{colorList:n,tintable:o}=e;return Kt.createElement(u.Input.Selection,{isDisabled:!o,label:t.selectColor},Kt.createElement(N,{tool:d.FRAME,activeColor:e.color,colors:n,labelsColor:r,isDisabled:!o,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import Ze from"react";var Jt=s(()=>{let{frameTool:e,custom:t}=i(),{items:r}=e,n=e.state?e.state.identifier:null,o=(a,l)=>{let p=e.locale.items[a.identifier]||a.name,f=t.getAdvancedItemCard();return Ze.createElement(f,{tool:d.FRAME,type:x.MEDIUM,onClick:()=>e.selectFrame(a.identifier),key:a.identifier,image:a.thumbnailURI,label:p,style:{backgroundSize:"75%",animationDelay:`${B(l)}s`},isActive:a.identifier===n},Ze.createElement(k,{hidden:!0},p))};return Ze.createElement(m.Itemsbar,null,Ze.createElement(m.CardContainer,null,r.map(o)))});import fs from"react";var Qt=s(()=>{let{frameTool:e}=i(),t=e.locale.controls,r=n=>{e.toolSnapshot(n)};return fs.createElement(u.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:()=>{r(t.sliderOpacity)},onTouchEnd:()=>{r(t.sliderOpacity)},isDisabled:!e.isOptionSelected})});import Cs from"react";var Zt=s(()=>{let{frameTool:e}=i(),t=e.locale.controls,r=n=>{e.toolSnapshot(n)};return Cs.createElement(u.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:()=>{r(t.sliderSize)},onTouchEnd:()=>{r(t.sliderSize)},isDisabled:!e.isOptionSelected})});import hs from"react";var er=s(()=>{let{frameTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.reset()};return hs.createElement(n,{tool:d.FRAME,ariaLabel:r.buttonReset,onClick:o,isDisabled:!e.isOptionSelected,label:r.buttonReset})});var or=s(()=>{let{frameTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{if(typeof o=="string")switch(o){case j.Items:return G.createElement(Jt,{key:o});case j.Separator:return G.createElement(m.ItemsSeparator,{full:!0,key:I()});case j.FrameOpacitySlider:return G.createElement(Qt,{key:o});case j.FrameSizeSlider:return G.createElement(Zt,{key:o});case j.FrameColorList:return G.createElement(qt,{key:o});case j.RemoveFrameButton:return G.createElement(er,{key:o});default:return null}else if(typeof o=="object")return G.createElement(m.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(a=>n(a)));return null};return G.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var tr=s(({displayTitle:e})=>{let{frameTool:t}=i();return eo.createElement(eo.Fragment,null,e&&eo.createElement(m.Sidebar.Heading,null,t.locale.title),eo.createElement(or,null))});import oo from"react";import fe from"react";import A from"react";var bs=s(()=>{let{active:e,library:t,custom:r}=i(),{query:n,config:o,selectedCategoryIdentifier:a,categories:l,items:p}=t,f=r.getAdvancedCategoryCard(),h=r.getAdvancedItemCard(),v=(c,S)=>A.createElement(h,{tool:d.LIBRARY,type:x.MEDIUM,onClick:()=>e.newImage(c.rawUrl),key:`${c.identifier}-${S}`,image:c.thumbnailURI,label:c.name,style:{animationDelay:`${B(S)}s`},authorAvatar:c.authorAvatar,authorName:c.authorName},c.authorAvatar&&A.createElement(uo,{url:c.authorAvatar}),c.authorName&&A.createElement(k,{withBackground:!0},c.authorName)),g=(c,S)=>{let E=a===c.identifier;return c.items?A.createElement("div",{key:c.identifier},A.createElement(f,{isActive:E,tool:d.LIBRARY,type:x.LARGE,onClick:()=>t.toggleCategorySelection(c.identifier),image:c.thumbnailURI,label:c.name,style:{animationDelay:`${B(S)}s`}},A.createElement(k,{withBackground:!0,caret:!0,isActive:E},c.name)),A.createElement(m.Sidebar.ExpandableContainer,{show:E},c.items.map(v))):null},b=(c,S)=>c.items?A.createElement(m.Sidebar.TextCategory,{key:c.identifier,name:c.name,isFirstCategory:S===0,isLastCategory:S===l.length-1},c.items.map(v)):null;return n?p.length?A.createElement(A.Fragment,null,p.map(v)):A.createElement("p",{"data-test":T.NoResult},t.locale.controls.noResults):o.flattenCategories?A.createElement(A.Fragment,null,p.map(v)):o.categoryHeaderType===P.CARD?A.createElement(A.Fragment,null,l.map(g)):o.categoryHeaderType===P.TEXT?A.createElement(A.Fragment,null,l.map(b)):null}),rr=()=>A.createElement(m.Itemsbar,null,A.createElement(m.CardContainer,null,A.createElement(bs,null)));import gs from"react";var nr=s(()=>{let{library:e,active:t}=i(),{config:r}=e,n=e.locale.controls,o=()=>{t.selectWebcam(!0)};return r.enableWebcam?gs.createElement(Wo,{tool:d.LIBRARY,onClick:o,label:n.buttonWebcamOpen}):null});import vs from"react";var sr=s(()=>{let{library:e}=i(),{libraryProvider:t}=e,r=e.locale.controls,n=o=>{e.fetchImages(o)};return t?vs.createElement(u.Input.Search,{onChange:n,placeholder:r.placeholderSearch}):null});import ir from"react";var ar=s(()=>{let{library:e,active:t,custom:r}=i(),{config:n}=e,o=e.locale.controls,a=r.getButton("toolControlBarPrimaryButton"),l=f=>{let{files:h}=f.target;if(h.length){let v=new FileReader;v.onload=g=>{t.newImage(g.target.result)},v.readAsDataURL(h[0])}},p=()=>{let f=document.getElementById("fileUpload");f&&f.click()};return n.enableUpload?ir.createElement(a,{"data-test":T.LibraryUploadButton,tool:d.LIBRARY,ariaLabel:o.buttonUpload,onClick:p,label:o.buttonUpload},ir.createElement(u.Input.File,{onChange:l})):null});var mr=s(()=>{let{library:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{switch(o){case te.Items:return fe.createElement(rr,{key:o});case te.OpenWebcamButton:return fe.createElement(nr,{key:o});case te.SearchFieldInput:return fe.createElement(sr,{key:o});case te.Separator:return fe.createElement(m.ItemsSeparator,{full:!0,key:I()});case te.UploadImageButton:return fe.createElement(ar,{key:o});default:return null}};return fe.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var lr=s(({displayTitle:e})=>{let{library:t}=i();return oo.createElement(oo.Fragment,null,e&&oo.createElement(m.Sidebar.Heading,null,t.locale.title),oo.createElement(mr,null))});import to from"react";import J from"react";import Ss from"react";var dr=s(()=>{let{overlayTool:e}=i(),{allBlendModes:t,blendMode:r}=e,n=e.locale.controls,o=a=>{e.changeBlendMode(a)};return Ss.createElement(u.Input.CarouselSlider,{label:n.carouselBlendMode,defaultIdentifier:r,onSelect:o,list:t})});import q from"react";var ys=s(()=>{let{overlayTool:e,custom:t}=i(),{items:r,locale:n,identifier:o,selectOverlay:a}=e,l=(p,f)=>{let h=n.items[p.identifier]||p.name,v=t.getAdvancedItemCard();return q.createElement(v,{tool:d.OVERLAY,type:x.MEDIUM,onClick:()=>a(p.identifier),key:p.identifier,image:p.thumbnailURI,label:h,style:{animationDelay:`${B(f)}s`},isActive:p.identifier===o},q.createElement(k,{withBackground:!0},h))};return q.createElement(q.Fragment,null,r.map(l))}),cr=()=>q.createElement(m.Itemsbar,null,q.createElement(m.CardContainer,null,q.createElement(ys,null)));import Ts from"react";var pr=s(()=>{let{overlayTool:e}=i(),t=e.locale.controls,r=()=>{e.toolSnapshot()};return Ts.createElement(u.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:r,onTouchEnd:r,isDisabled:!e.isOptionSelected})});import xs from"react";var ur=s(()=>{let{overlayTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.reset()};return xs.createElement(n,{tool:d.OVERLAY,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var fr=s(()=>{let{overlayTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{if(typeof o=="string")switch(o){case re.Items:return J.createElement(cr,{key:o});case re.Separator:return J.createElement(m.ItemsSeparator,{full:!0,key:I()});case re.OverlayBlendModeCarousel:return J.createElement(dr,{key:o});case re.OverlayOpacitySlider:return J.createElement(pr,{key:o});case re.RemoveOverlayButton:return J.createElement(ur,{key:o});default:return null}else if(typeof o=="object")return J.createElement(m.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(a=>n(a)));return null};return J.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var Cr=s(({displayTitle:e})=>{let{overlayTool:t}=i();return to.createElement(to.Fragment,null,e&&to.createElement(m.Sidebar.Heading,null,t.locale.title),to.createElement(fr,null))});import ro from"react";import Ce from"react";import hr from"react";var br=s(()=>{let{stickerTool:e}=i(),{colorList:t}=e,r=e.locale.controls,n=e.localeColor.colorPicker,o=!e.isStickerSelected||!e.tintable&&e.isStickerSelected;return hr.createElement(u.Input.Selection,{isDisabled:o,label:r.selectColor},hr.createElement(N,{tool:d.STICKER,activeSprite:e.id,activeColor:e.tintColor,colors:t,labelsColor:n,isDisabled:o,onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot}))});import U from"react";var Is=s(()=>{let{stickerTool:e,custom:t}=i(),{categories:r,selectedCategoryIdentifier:n,config:o,items:a,locale:l}=e,p=t.getAdvancedCategoryCard(),f=t.getAdvancedItemCard(),h=(b,c)=>{let S=l.items[b.identifier]||b.name;return U.createElement(f,{key:b.identifier,tool:d.STICKER,type:x.SMALL,onClick:()=>e.add(b.identifier),image:b.thumbnailURI,label:S,style:{backgroundSize:"75%",animationDelay:`${No(c)}s`}},U.createElement(k,{hidden:!0},S))},v=(b,c)=>{let S=n===b.identifier,E=l.categories[b.identifier]||b.name;return b.items?U.createElement("div",{key:b.identifier},U.createElement(p,{isActive:S,tool:d.STICKER,type:x.LARGE,onClick:()=>e.toggleCategorySelection(b.identifier),image:b.thumbnailURI,label:E,style:{animationDelay:`${B(c)}s`}},U.createElement(k,{withBackground:!0,caret:!0,isActive:S},E)),U.createElement(m.Sidebar.ExpandableContainer,{show:S,key:`${b.identifier}-items`},b.items.map(h))):null},g=(b,c)=>{let S=l.categories[b.identifier]||b.name;return b.items?U.createElement(m.Sidebar.TextCategory,{key:b.identifier,name:S,isFirstCategory:c===0,isLastCategory:c===r.length-1},b.items.map(h)):null};return o.flattenCategories?U.createElement(U.Fragment,null,a.map(h)):o.categoryHeaderType===P.CARD?U.createElement(U.Fragment,null,r.map(v)):o.categoryHeaderType===P.TEXT?U.createElement(U.Fragment,null,r.map(g)):null}),gr=()=>U.createElement(m.Itemsbar,null,U.createElement(m.CardContainer,null,U.createElement(Is,null)));import ks from"react";var vr=s(()=>{let{stickerTool:e}=i(),t=e.locale.controls,r=()=>{e.toolSnapshot()};return ks.createElement(u.Input.Slider,{isDisabled:!e.isStickerSelected,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:r,onTouchEnd:r})});import Sr from"react";import Es from"styled-components";var As=Es.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})`
  ${_o.VisuallyHidden}
`,yr=s(()=>{let{stickerTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarPrimaryButton"),o=()=>{let l=document.getElementById("fileUpload");l&&(l.value=null,l.click())},a=l=>{let{files:p}=l.target;e.addFiles(p)};return e.isCustomStickerEnabled?Sr.createElement(n,{tool:d.STICKER,ariaLabel:r.buttonUpload,onClick:o,label:r.buttonUpload},Sr.createElement(As,{onChange:a})):null});var Tr=s(()=>{let{stickerTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{switch(o){case ne.Items:return Ce.createElement(gr,{key:o});case ne.Separator:return Ce.createElement(m.ItemsSeparator,{full:!0,key:I()});case ne.UploadStickerButton:return Ce.createElement(yr,{key:o});case ne.StickerColorList:return Ce.createElement(br,{key:o});case ne.StickerOpacitySlider:return Ce.createElement(vr,{key:o});default:return null}};return Ce.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var xr=s(({displayTitle:e})=>{let{stickerTool:t}=i();return ro.createElement(ro.Fragment,null,e&&ro.createElement(m.Sidebar.Heading,null,t.locale.title),ro.createElement(Tr,null))});import no from"react";import R from"react";import Ns from"styled-components";import Ir from"react";var kr=s(()=>{let{textTool:e}=i(),t=e.locale.controls,r=e.localeColor.colorPicker,{isTextSelected:n,backgroundColorList:o}=e;return Ir.createElement(u.Input.Selection,{isDisabled:!n,label:t.selectBackgroundColor},Ir.createElement(N,{tool:d.TEXT,activeSprite:e.id,activeColor:e.backgroundColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))});import Bs from"react";var Er=s(()=>{let{textTool:e}=i(),t=e.locale.controls,{fontFamily:r,fontStyle:n,fontWeight:o,fontFamilies:a,isTextSelected:l}=e,p=a.map(h=>({label:`${h.fontFamily} ${Ho.getDisplayFontStyle(h)}`,fontWeight:h.fontWeight,fontStyle:h.fontStyle,fontFamily:h.fontFamily,value:h.identifier})),f=p.filter(({value:h})=>h===e.identifier)[0];return Bs.createElement(u.Input.Dropdown,{isDisabled:!l,style:{fontFamily:r,fontStyle:n,fontWeight:o},itemStyle:h=>({fontFamily:h.fontFamily,fontStyle:h.fontStyle,fontWeight:h.fontWeight}),label:t.dropdownFontFamily,list:p,onSelect:e.changeFont,selectedItem:f.label})});import Os from"react";import Fs from"styled-components";var Ls=Fs(u.Input.NumericInput)`
  max-width: 50%;
  margin-right: 16px;
`,Ar=s(()=>{let{textTool:e}=i(),t=e.locale.controls,{isTextSelected:r}=e,n=o=>{let a=o?parseFloat(o):0;e.setFontSize(Math.max(10,Math.min(690,a)))};return Os.createElement(Ls,{value:e.fontSize.toFixed(0),onSubmit:n,label:t.textFontSize,isDisabled:!r})});import Us from"react";var Br=s(()=>{let{textTool:e}=i(),t=e.locale.controls,{isTextSelected:r}=e,n=()=>{e.toolSnapshot()};return Us.createElement(u.Input.Slider,{isDisabled:!r,label:t.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:n,onTouchEnd:n,snap:1,divider:1,decimal:1})});import Ds from"react";var Or=s(()=>{let{textTool:e,custom:t}=i(),r=e.locale.controls,n=()=>{e.add()},o=t.getButton("toolControlBarPrimaryButton");return Ds.createElement(o,{tool:d.TEXT,ariaLabel:r.buttonNew,onClick:n,label:r.buttonNew})});import Oo from"react";import ws from"styled-components";var Ps=ws(u.Input.Selection)`
  width: 50%;
`,Fr=s(()=>{let{textTool:e,custom:t}=i(),r=e.locale.controls,{isTextSelected:n,alignment:o}=e,a=["left","center","right"],l=t.getButton("textAlignment");return Oo.createElement(Ps,{isDisabled:!n,inline:!0,label:r.selectAlignment,"data-test":T.TextAlignment},a.map(p=>{let f=$o[p];return Oo.createElement(l,{tool:p,isDisabled:!n,ariaLabel:`Align ${p}`,isActive:p===o,key:p,style:{padding:"1px 3px 2px"},icon:Oo.createElement(f,null),onClick:()=>e.changeAlignment(p)})}))});import Lr from"react";var Ur=s(()=>{let{textTool:e}=i(),t=e.locale.controls,r=e.localeColor.colorPicker,{isTextSelected:n,colorList:o}=e;return Lr.createElement(u.Input.Selection,{isDisabled:!n,label:t.selectFontColor},Lr.createElement(N,{tool:d.TEXT,activeSprite:e.id,activeColor:e.textColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});var _s=Ns.div`
  display: flex;
  justify-content: space-between;
`,Rs=({textTool:e})=>{let{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{if(typeof o=="string")switch(o){case $.NewTextButton:return R.createElement(Or,{key:o});case $.FontFamilyDropdown:return R.createElement(Er,{key:o});case $.Separator:return R.createElement(m.ItemsSeparator,{full:!0,key:I()});case $.TextColorList:return R.createElement(Ur,{key:o});case $.BackgroundColorList:return R.createElement(kr,{key:o});case $.LineSpacingSlider:return R.createElement(Br,{key:o});case $.TextAligmentList:return R.createElement(Fr,{key:o});case $.FontSizeInput:return R.createElement(Ar,{key:o});default:return null}else if(typeof o=="object")return R.createElement(_s,{key:o.type},o.children.map(a=>n(a)));return null};return R.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))},Dr=w("textTool")(s(Rs));var wr=s(({displayTitle:e})=>{let{textTool:t}=i();return no.createElement(no.Fragment,null,e&&no.createElement(m.Sidebar.Heading,null,t.locale.title),no.createElement(Dr,null))});import so from"react";import he from"react";import $s from"react";var Pr=s(()=>{let{textDesignTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarPrimaryButton"),o=()=>{e.add()};return $s.createElement(n,{tool:d.TEXT_DESIGN,ariaLabel:r.buttonNew,onClick:o,label:r.buttonNew})});import Hs from"react";var Nr=s(()=>{let{textDesignTool:e,custom:t}=i(),r=e.locale.controls,{isTextDesignSelected:n}=e,o=t.getButton("toolControlBarSecondaryButton"),a=()=>{e.changeSeed()};return Hs.createElement(o,{tool:d.TEXT_DESIGN,ariaLabel:r.buttonShuffle,isDisabled:!n,onClick:a,label:r.buttonShuffle})});import _r from"react";var Rr=s(()=>{let{textDesignTool:e}=i(),t=e.locale.controls,r=e.localeColor.colorPicker,{isTextDesignSelected:n,colorList:o}=e;return _r.createElement(u.Input.Selection,{isDisabled:!n,label:t.selectColor},_r.createElement(N,{tool:d.TEXT_DESIGN,activeSprite:e.id,activeColor:e.color,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import Q from"react";var Ms=s(()=>{let{textDesignTool:e,custom:t}=i(),{items:r,identifier:n}=e,o=l=>{e.changeIdentifier(l)},a=(l,p)=>{let f=t.getAdvancedItemCard();return Q.createElement(f,{key:l.identifier,tool:d.TEXT_DESIGN,type:x.MEDIUM,onClick:()=>o(l.identifier),image:l.thumbnailURI,label:l.name||"",style:{animationDelay:`${B(p)}s`,backgroundSize:"60%"},isDisabled:!e.isTextDesignSelected,isActive:n===l.identifier},Q.createElement(k,{hidden:!0},l.name))};return Q.createElement(Q.Fragment,null,r.map(a))}),$r=()=>Q.createElement(m.Itemsbar,null,Q.createElement(m.CardContainer,null,Q.createElement(Ms,null)));var Hr=s(()=>{let{textDesignTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{switch(o){case ie.Items:return he.createElement($r,{key:o});case ie.Separator:return he.createElement(m.ItemsSeparator,{full:!0,key:I()});case ie.NewTextDesignButton:return he.createElement(Pr,{key:o});case ie.ShuffleLayoutButton:return he.createElement(Nr,{key:o});case ie.TextDesignColorList:return he.createElement(Rr,{key:o});default:return null}};return he.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var Mr=s(({displayTitle:e})=>{let{textDesignTool:t}=i();return so.createElement(so.Fragment,null,e&&so.createElement(m.Sidebar.Heading,null,t.locale.title),so.createElement(Hr,null))});import io from"react";import be from"react";import zs from"react";var zr=s(()=>{let{transformTool:e}=i(),t=e.locale.controls,{forceDimensions:r,localOutputHeight:n,localOutputWidth:o}=e;return zs.createElement(zo,{isDisabled:r,showLabel:!0,valueHeight:n,valueWidth:o,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth})});import Ws from"react";var Wr=s(()=>{let{transformTool:e,custom:t}=i(),r=e.locale.controls,{forceDimensions:n,lockResolution:o}=e,a=t.getCheckbox();return Ws.createElement(a,{tool:d.TRANSFORM,isDisabled:n,value:o,label:r.checkboxKeepResolution,checkMarkPosition:"right",onClick:e.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}})});import Gs from"react";var Gr=s(()=>{let{transformTool:e,custom:t}=i(),r=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),o=()=>{e.reset()};return Gs.createElement(n,{tool:d.TRANSFORM,ariaLabel:r.buttonReset,onClick:o,label:r.buttonReset})});import O from"react";import{renderToStaticMarkup as jr}from"react-dom/server";var js=s(()=>{let{transformTool:e,custom:t,editor:r}=i(),{categories:n,items:o,identifier:a,config:l,locale:p}=e,f=t.getAdvancedItemCard(),h=t.getAdvancedCategoryCard(),v=(c,S)=>{let{theme:E,measurements:Z}=r.configStore,ee=p.items[c.identifier]||c.name,ve=c.thumbnailURI||"",oe="80%";if(!e.checkIfTransformThumbnailExits(c.thumbnailURI)){let Se=c.identifier.includes("imgly_transform_common"),De=xe.crops[c.identifier]||xe.crops.imgly_transform_common_custom,we=O.createElement(De,{width:Z.advancedCard.medium.width-(Se?42:0),height:Z.advancedCard.medium.height-(Se?42:0),main:E.transform.crops.main,highlight:E.transform.crops.highlight,shadow:E.transform.crops.shadow});ve=`'data:image/svg+xml,${encodeURIComponent(jr(we))}'`,oe=_()||_e()?"auto":"unset"}return O.createElement(f,{key:c.identifier,tool:d.TRANSFORM,type:x.MEDIUM,onClick:()=>e.changeIdentifier(c.identifier,!0),image:ve,label:ee,style:{backgroundSize:oe,animationDelay:`${B(S)}s`},isActive:c.identifier===a},O.createElement(k,null,ee))},g=(c,S)=>{let{theme:E,measurements:Z}=r.configStore,ee=e.selectedCategoryIdentifier===c.identifier,ve=p.categories[c.identifier]||c.name,oe=c.thumbnailURI||"";if(!c.items)return null;if(!e.checkIfTransformThumbnailExits(c.thumbnailURI)){let Se=xe.categories[c.identifier]||xe.crops.imgly_transform_common_custom,De=O.createElement(Se,{width:Z.advancedCard.large.width-42,height:Z.advancedCard.large.height-42,main:E.transform.crops.main,highlight:E.transform.crops.highlight,shadow:E.transform.crops.shadow});oe=`'data:image/svg+xml,${encodeURIComponent(jr(De))}'`}return O.createElement("div",{key:c.identifier},O.createElement(h,{type:x.LARGE,onClick:()=>e.toggleCategorySelection(c.identifier),key:c.identifier,image:oe,style:{animationDelay:`${B(S)}s`},label:c.name,tool:d.TRANSFORM},O.createElement(k,{caret:!0,isActive:ee},ve)),O.createElement(m.Sidebar.ExpandableContainer,{show:ee},c.items.map(v)))},b=(c,S)=>{let E=p.categories[c.identifier]||c.name;return c.items?O.createElement(m.Sidebar.TextCategory,{key:c.identifier,name:E,isFirstCategory:S===0,isLastCategory:S===n.length-1},c.items.map(v)):null};return l.flattenCategories?O.createElement(O.Fragment,null,o.map(v)):l.categoryHeaderType===P.CARD?O.createElement(O.Fragment,null,n.map(g)):l.categoryHeaderType===P.TEXT?O.createElement(O.Fragment,null,n.map(b)):null}),Vr=()=>O.createElement(m.Itemsbar,null,O.createElement(m.CardContainer,null,O.createElement(js,null)));var Xr=s(()=>{let{transformTool:e}=i(),{config:t}=e,{advancedUIToolControlBarOrder:r}=t,n=o=>{switch(o){case ae.Items:return be.createElement(Vr,{key:o});case ae.Separator:return be.createElement(m.ItemsSeparator,{full:!0,key:I()});case ae.ResetTransformButton:return be.createElement(Gr,{key:o});case ae.KeepResolutionCheckbox:return be.createElement(Wr,{key:o});case ae.CropSizeInput:return be.createElement(zr,{key:o});default:return null}};return be.createElement(m.ToolControlBarItems,null,r.map(o=>n(o)))});var Yr=s(({displayTitle:e})=>{let{transformTool:t}=i();return io.createElement(io.Fragment,null,e&&io.createElement(m.Sidebar.Heading,null,t.locale.title),io.createElement(Xr,null))});var ge=class extends y.Component{render(){let{config:t,active:r}=this.props,n=r.tool,o=t.config.displayToolControlBarTitle;return y.createElement(m.Sidebar.Index,{reverse:t.config.order==="reverse"},y.createElement(u.Switch.Index,{type:n},y.createElement(u.Switch.Case,{value:d.LIBRARY},y.createElement(lr,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.FILTER},y.createElement(Wt,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.FOCUS},y.createElement(Yt,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.ADJUSTMENT},y.createElement(Ft,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.OVERLAY},y.createElement(Cr,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.STICKER},y.createElement(xr,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.TEXT},y.createElement(wr,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.TEXT_DESIGN},y.createElement(Mr,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.FRAME},y.createElement(tr,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.BRUSH},y.createElement(_t,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.TRANSFORM},y.createElement(Yr,{displayTitle:o})),y.createElement(u.Switch.Case,{value:d.CUSTOM},y.createElement(Rt,{displayTitle:o}))))}};ge=M([w("active","config"),s],ge);var Kr=Vs.div`
  position: absolute;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width}px;
  top: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`,Fe=class extends F.Component{static getDerivedStateFromError(t){return console.error(t),{hasError:!0}}render(){let{config:t,active:r}=this.props;return t.isOrderDefault?F.createElement(u.Container,null,r.isWebcam?F.createElement(Kr,{style:{left:0}}):null,F.createElement(bo,null),F.createElement(ce,null),F.createElement(ge,null),F.createElement(fo,null,F.createElement(Co,null),F.createElement(ho,null))):F.createElement(u.Container,null,r.isWebcam?F.createElement(Kr,{style:{right:0}}):null,F.createElement(bo,null),F.createElement(fo,null,F.createElement(Co,null),F.createElement(ho,null)),F.createElement(ge,null),F.createElement(ce,null))}};Fe=M([w("config","active"),s],Fe);import Le from"react";import Xs from"styled-components";var qr=class extends Le.Component{constructor(t){super(t);this.ref=null;this.updatePosition=()=>{let{isReverse:t}=this.props,r={x:0,y:0};if(this.ref.current){let{top:n,height:o,left:a,right:l}=this.ref.current.getBoundingClientRect();r.y=n+o/4,r.x=t?window.innerWidth-l:a}this.setState({tooltipPosition:r})};this.mouseOver=t=>{this.updatePosition(),this.setState({hoverTool:t})};this.mouseOut=()=>{this.setState({hoverTool:null})};this.state={hoverTool:null,tooltipPosition:{x:0,y:0}},this.ref=Le.createRef()}componentDidMount(){this.updatePosition()}componentDidUpdate(t){let{isReverse:r}=this.props;r!==t.isReverse&&this.updatePosition()}render(){let{tool:t,isActive:r,isReverse:n,icon:o,label:a,onClick:l,className:p,children:f}=this.props,{hoverTool:h,tooltipPosition:v}=this.state;return Le.createElement(Ys,{ref:this.ref,onMouseOver:()=>this.mouseOver(t),onMouseOut:()=>this.mouseOut(),className:p},Le.createElement(m.Toolbar.Item,{ariaLabel:a,isActive:r,onClick:()=>l(t)},o,f),Le.createElement(m.Toolbar.Tooltip,{position:v,reverse:n,show:h===t},a))}},ao=qr,Ys=Xs.div`
  position: relative;
`;var lo=class extends mo.Component{componentDidMount(){let{editor:t,storeProps:r}=this.props;this.editor=t,this.storeProps=r;let n=new Mo(this.editor.configStore.config.custom.components,{advancedUICategoryCard:m.Card,advancedUIItemCard:m.Card,advancedUIToolbarItem:ao}),o={getAdvancedCategoryCard:n.getAdvancedCategoryCard,getAdvancedItemCard:n.getAdvancedItemCard,getAdvancedToolbarItem:n.getAdvancedToolbarItem,getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox};this.storeProps.custom=o,this.forceUpdate()}render(){return this.storeProps?mo.createElement(Po,D({},this.storeProps),mo.createElement(Ks,{theme:Pe(D({},this.editor.configStore.theme),{measurements:this.editor.configStore.measurements})},mo.createElement(Fe,null))):null}};import Fo from"react";import Jr from"react-dom";import Ue,{Suspense as qs,useMemo as Js}from"react";var Qs=Ue.lazy(()=>import("./basic-5ZALMN7F.js")),Zs=e=>({filterTool:e.filterToolStore,focusTool:e.focusToolStore,adjustmentsTool:e.adjustmentsToolStore,overlayTool:e.overlayToolStore,frameTool:e.frameToolStore,brushTool:e.brushToolStore,transformTool:e.transformToolStore,scale:e.scale,sprite:e.spriteStore,stickerTool:e.spriteStore.stickerToolStore,textTool:e.spriteStore.textToolStore,textDesignTool:e.spriteStore.textDesignToolStore,library:e.libraryStore,modal:e.modalStore,snapping:e.snappingStore,config:e.configStore,active:e.activeStore,canvas:e.canvasStore,history:e.historyStore,editor:e}),co=({editor:e})=>{let t=Js(()=>Zs(e),[e]);return e.configStore.config.layout==="basic"?Ue.createElement(qs,{fallback:Ue.createElement("div",null)},Ue.createElement(Qs,{editor:e,storeProps:t})):Ue.createElement(lo,{editor:e,storeProps:t})};var Qr=class extends $e{constructor(t,r){super();this.dispose=()=>{this.container&&(Jr.unmountComponentAtNode(this.container),this.removeAllListeners(C.EXPORT),this.removeAllListeners(C.HISTORY_CHANGE),this.removeAllListeners(C.EDITOR_READY),this.removeAllListeners(C.ERROR_IMAGE_LOADING),this.removeAllListeners(C.IMAGE_LOAD),this.removeAllListeners(C.TOOL_ENTER),this.removeAllListeners(C.STICKER_UPLOAD_ADD),this.removeAllListeners(C.ERROR_WEBGL_CONTEXT_LOST))};this.serialize=t=>this.editor.serialize(t);this.deserialize=t=>this.editor.deserialize(t);this.export=t=>this.editor.export(t);this.close=()=>this.editor.close();this.setImage=t=>this.editor.setImage(t,!0);this.reset=()=>{this.editor.resetToolStates(),this.editor.resize()};this.container=r,this.editor=new Me(D({},t)),this.editor.configStore.events.on(C.EXPORT,n=>{this.emit(C.EXPORT,n)}),this.editor.configStore.events.on(C.CLOSE,()=>{this.dispose(),this.emit(C.CLOSE)}),this.editor.configStore.events.on(C.HISTORY_CHANGE,()=>{this.emit(C.HISTORY_CHANGE)}),this.editor.configStore.events.on(C.STICKER_UPLOAD_ADD,n=>{this.emit(C.STICKER_UPLOAD_ADD,n)})}hasChanges(){return this.editor.hasChanges()}},Zr=class{constructor(){this.container=null}init(t){return new Promise((r,n)=>{if(typeof window=="undefined"){r();return}this.container=typeof t.container=="string"?document.querySelector(t.container):t.container,this.container?(this.editorApi=new Qr(t,this.container),Jr.render(Fo.createElement(en,{editor:this.editorApi.editor}),this.container),this.editorApi.editor.configStore.events.on(C.EDITOR_READY,()=>{setTimeout(()=>{this.editorApi.emit(C.EDITOR_READY)},0),r(this.editorApi)}),this.editorApi.editor.configStore.events.on(C.ERROR_IMAGE_LOADING,o=>{setTimeout(()=>{this.editorApi.emit(C.ERROR_IMAGE_LOADING,o)},0),r(this.editorApi)}),this.editorApi.editor.configStore.events.on(C.ERROR_WEBGL_CONTEXT_LOST,o=>{setTimeout(()=>{this.editorApi.emit(C.ERROR_WEBGL_CONTEXT_LOST,o)},0),r(this.editorApi)}),this.editorApi.editor.configStore.events.on(C.IMAGE_LOAD,()=>{setTimeout(()=>{this.editorApi.emit(C.IMAGE_LOAD)},0),r(this.editorApi)}),this.editorApi.editor.configStore.events.on(C.TOOL_ENTER,o=>{setTimeout(()=>{this.editorApi.emit(C.TOOL_ENTER,o)},0),r(this.editorApi)})):n(new Error("Provide a container"))})}},en=class extends Fo.Component{componentWillUnmount(){let{editor:t}=this.props;t.engine.dispose(),t.configStore.events.removeAllListeners(C.EXPORT),t.configStore.events.removeAllListeners(C.CLOSE),t.configStore.events.removeAllListeners(C.HISTORY_CHANGE),t.configStore.events.removeAllListeners(C.EDITOR_READY),t.configStore.events.removeAllListeners(C.ERROR_IMAGE_LOADING),t.configStore.events.removeAllListeners(C.IMAGE_LOAD),t.configStore.events.removeAllListeners(C.TOOL_ENTER),t.configStore.events.removeAllListeners(C.STICKER_UPLOAD_ADD),t.configStore.events.removeAllListeners(C.ERROR_WEBGL_CONTEXT_LOST)}render(){let{editor:t}=this.props;return Fo.createElement(co,{editor:t})}},ei={init:e=>new Zr().init(e)};import Lo from"react";var on=class extends Lo.Component{constructor(t){super(t);this.ui=new $e;this.serialize=t=>this.editor.serialize(t);this.deserialize=t=>this.editor.deserialize(t);this.export=t=>this.editor.export(t);this.close=()=>this.editor.close();this.setImage=t=>this.editor.setImage(t,!0);this.dispose=()=>{this.ui.removeAllListeners(C.EXPORT),this.ui.removeAllListeners(C.HISTORY_CHANGE),this.ui.removeAllListeners(C.EDITOR_READY),this.ui.removeAllListeners(C.ERROR_IMAGE_LOADING),this.ui.removeAllListeners(C.IMAGE_LOAD),this.ui.removeAllListeners(C.TOOL_ENTER),this.ui.removeAllListeners(C.STICKER_UPLOAD_ADD),this.ui.removeAllListeners(C.ERROR_WEBGL_CONTEXT_LOST)};this.reset=()=>{this.editor.resetToolStates(),this.editor.resize()};this.editor=new Me(D({},t)),this.editor.configStore.events.on(C.EXPORT,r=>{this.ui.emit(C.EXPORT,r)}),this.editor.configStore.events.on(C.CLOSE,()=>{this.componentWillUnmount(),this.ui.emit(C.CLOSE)}),this.editor.configStore.events.on(C.HISTORY_CHANGE,()=>{this.ui.emit(C.HISTORY_CHANGE)}),this.editor.configStore.events.on(C.EDITOR_READY,()=>{this.ui.emit(C.EDITOR_READY)}),this.editor.configStore.events.on(C.ERROR_IMAGE_LOADING,r=>{this.ui.emit(C.ERROR_IMAGE_LOADING,r)}),this.editor.configStore.events.on(C.IMAGE_LOAD,()=>{this.ui.emit(C.IMAGE_LOAD)}),this.editor.configStore.events.on(C.TOOL_ENTER,r=>{this.ui.emit(C.TOOL_ENTER,r)}),this.editor.configStore.events.on(C.STICKER_UPLOAD_ADD,r=>{this.ui.emit(C.STICKER_UPLOAD_ADD,r)}),this.editor.configStore.events.on(C.ERROR_WEBGL_CONTEXT_LOST,()=>{this.ui.emit(C.ERROR_WEBGL_CONTEXT_LOST)})}componentWillUnmount(){this.dispose()}hasChanges(){return this.editor.hasChanges()}render(){return Lo.createElement(co,{editor:this.editor})}},oi=e=>typeof window=="undefined"?null:Lo.createElement(on,D({},e));var AS=()=>{let{active:e}=i();return e.newImage};var FS=()=>i().config.isLayoutAdvanced;wo({isolateGlobalState:!0});var{Container:VS,Input:ti,ColorItem:XS,ColorItemBase:YS,ColorItemBackground:KS,ColorItemTiledBackground:qS,ColorItemActiveOverlay:JS,Dialog:QS,DialogBase:ZS,DialogContainer:ey,DialogBackdrop:oy,DialogHeader:ty,DialogBody:ry,DialogFooter:ny,DialogSpinner:sy}=u,{Search:ri,Label:iy,Checkbox:ay,CheckboxBase:my,CheckboxInput:ly,CheckboxCheckMark:dy}=ti,cy=Ie,py=Ie,uy=ri;export{ao as a,ei as b,oi as c,AS as d,FS as e,VS as f,XS as g,YS as h,KS as i,qS as j,JS as k,QS as l,ZS as m,ey as n,oy as o,ty as p,ry as q,ny as r,sy as s,iy as t,ay as u,my as v,ly as w,dy as x,cy as y,py as z,uy as A};
