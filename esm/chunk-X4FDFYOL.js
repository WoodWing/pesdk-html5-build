import{A as Ro,C as _e,D as po,E as w,G as uo,H as Ho,I as fo,J as $o,K as Co,L as ho,M as Mo,O as Re,a,b as Do,c as H,d as Pe,f as mo,k as ie,l as k,m as lo,n as No,o as C,r as i,t as Po,u as _o,w as ve,y as co}from"./chunk-P3RRCKHM.js";import{Aa as re,Da as ne,E as p,F as D,Fa as se,G as I,Ja as d,Ka as Ne,Na as x,Sa as T,T as we,W as be,Wa as O,Xa as wo,a as Le,b as Lo,ba as ge,c as Ue,fa as G,la as ee,n as Uo,na as oe,s as De,sa as te,t as N,va as _}from"./chunk-J7RPI7SH.js";var Ko=Le((Ri,Xo)=>{"use strict";var fn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Xo.exports=fn});var Zo=Le((Hi,Qo)=>{"use strict";var Cn=Ko();function qo(){}function Jo(){}Jo.resetWarningCache=qo;Qo.exports=function(){function e(n,o,s,m,c,f){if(f===Cn){return}var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");h.name="Invariant Violation";throw h};e.isRequired=e;function t(){return e};var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Jo,resetWarningCache:qo};r.PropTypes=r;return r}});var ot=Le((zi,et)=>{if(false){$i=null;Mi=true;et.exports=null($i.isElement,Mi)}else{et.exports=Zo()()}var $i;var Mi});var ht=Le((Ya,Ct)=>{"use strict";var Mn=false;var ut=function(){};if(Mn){ft=function e(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var o=1;o<n;o++){r[o-1]=arguments[o]}var s=0;var m="Warning: "+t.replace(/%s/g,function(){return r[s++]});if(typeof console!=="undefined"){console.error(m)}try{throw new Error(m)}catch(c){}};ut=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var o=2;o<n;o++){r[o-2]=arguments[o]}if(t===void 0){throw new Error("`warning(condition, format, ...args)` requires a warning message argument")}if(!e){ft.apply(null,[t].concat(r))}}}var ft;Ct.exports=ut});import so from"react";import{ThemeProvider as Ks}from"styled-components";import mn from"react";import on from"react";import tn from"styled-components";var rn=tn(ie)`
  width: ${e=>e.theme.measurements.advancedCard.large.width}px;
  height: ${e=>e.theme.measurements.advancedCard.large.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedSpacer}px;
  color: ${e=>e.theme.card.foreground};
`;var nn=({isActive:e,...t})=>{return on.createElement(rn,{...t})};var zo=nn;import sn from"styled-components";var Go=sn(ie)`
  width: ${e=>e.theme.measurements.advancedCard.medium.width}px;
  height: ${e=>e.theme.measurements.advancedCard.medium.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedSpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(2n + 1) {
    margin-right: ${e=>e.theme.measurements.advancedSpacer}px;
  }
`;import an from"styled-components";var Wo=an(ie)`
  width: ${e=>e.theme.measurements.advancedCard.small.width}px;
  height: ${e=>e.theme.measurements.advancedCard.small.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedSpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(3n + 1),
  &:nth-child(3n + 2) {
    margin-right: ${e=>e.theme.measurements.advancedSpacer}px;
  }
`;var Se=({type:e,...t})=>{const r=e===I.LARGE;const n=e===I.SMALL;let o=Go;if(r){o=zo}else if(n){o=Wo}return mn.createElement(o,{type:e,...t})};import ln from"styled-components";var He=ln.div.attrs(e=>({"data-test":e["data-test"]||T.CardContainer}))`
  display: flex;
  flex-wrap: wrap;
  /* width - padding on both sides */
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width-48}px;
`;import dn from"react";import cn,{css as jo}from"styled-components";var pn=cn.div`
  display: flex;
  flex-direction: column;
  flex-shrink: 0;

  position: relative;
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width}px;
  /* for Firefox */
  min-height: 0;
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.marginBottom}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolControlBar};

  background: ${e=>e.theme.toolControlBar.background};
  transition: width 0.4s ease-in;
  ${e=>!e.reverse?jo`
          border-right: 1px solid ${e.theme.toolControlBar.borderColor};
        `:jo`
          border-left: 1px solid ${e.theme.toolControlBar.borderColor};
        `}
`;var Yo=({reverse:e=false,style:t,className:r,children:n})=>dn.createElement(pn,{"data-test":T.ToolControlBar,reverse:e,className:r,style:t},n);import un,{css as bo}from"styled-components";var Vo=un.div.attrs(()=>({"data-test":T.CategoryItemsContainer}))`
  transition: max-height 0.8s ease-out, transform 0.8s ease-out;
  background: ${e=>e.theme.toolControlBar.background};
  visibility: hidden;
  opacity: 0;
  transform-origin: 0 0;
  display: none;
  flex-wrap: wrap;

  ${({show:e})=>e&&bo`
      opacity: 1;
      visibility: visible;
      ${N()?bo`
            display: block;
          `:bo`
            display: flex;
          `}
    `}
`;import tt,{useRef as gn}from"react";function go(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,s;for(s=0;s<n.length;s++){o=n[s];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function vo(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var bn=Lo(ot());import $e from"react";import yo from"react-dom";var So={disabled:false};import hn from"react";var To=hn.createContext(null);var Te="unmounted";var W="exited";var j="entering";var ae="entered";var Io="exiting";var R=function(e){vo(t,e);function t(n,o){var s;s=e.call(this,n,o)||this;var m=o;var c=m&&!m.isMounting?n.enter:n.appear;var f;s.appearStatus=null;if(n.in){if(c){f=W;s.appearStatus=j}else{f=ae}}else{if(n.unmountOnExit||n.mountOnEnter){f=Te}else{f=W}}s.state={status:f};s.nextCallback=null;return s}t.getDerivedStateFromProps=function n(o,s){var m=o.in;if(m&&s.status===Te){return{status:W}}return null};var r=t.prototype;r.componentDidMount=function n(){this.updateStatus(true,this.appearStatus)};r.componentDidUpdate=function n(o){var s=null;if(o!==this.props){var m=this.state.status;if(this.props.in){if(m!==j&&m!==ae){s=j}}else{if(m===j||m===ae){s=Io}}}this.updateStatus(false,s)};r.componentWillUnmount=function n(){this.cancelNextCallback()};r.getTimeouts=function n(){var o=this.props.timeout;var s,m,c;s=m=c=o;if(o!=null&&typeof o!=="number"){s=o.exit;m=o.enter;c=o.appear!==void 0?o.appear:m}return{exit:s,enter:m,appear:c}};r.updateStatus=function n(o,s){if(o===void 0){o=false}if(s!==null){this.cancelNextCallback();if(s===j){this.performEnter(o)}else{this.performExit()}}else if(this.props.unmountOnExit&&this.state.status===W){this.setState({status:Te})}};r.performEnter=function n(o){var s=this;var m=this.props.enter;var c=this.context?this.context.isMounting:o;var f=this.props.nodeRef?[c]:[yo.findDOMNode(this),c],h=f[0],v=f[1];var g=this.getTimeouts();var b=c?g.appear:g.enter;if(!o&&!m||So.disabled){this.safeSetState({status:ae},function(){s.props.onEntered(h)});return}this.props.onEnter(h,v);this.safeSetState({status:j},function(){s.props.onEntering(h,v);s.onTransitionEnd(b,function(){s.safeSetState({status:ae},function(){s.props.onEntered(h,v)})})})};r.performExit=function n(){var o=this;var s=this.props.exit;var m=this.getTimeouts();var c=this.props.nodeRef?void 0:yo.findDOMNode(this);if(!s||So.disabled){this.safeSetState({status:W},function(){o.props.onExited(c)});return}this.props.onExit(c);this.safeSetState({status:Io},function(){o.props.onExiting(c);o.onTransitionEnd(m.exit,function(){o.safeSetState({status:W},function(){o.props.onExited(c)})})})};r.cancelNextCallback=function n(){if(this.nextCallback!==null){this.nextCallback.cancel();this.nextCallback=null}};r.safeSetState=function n(o,s){s=this.setNextCallback(s);this.setState(o,s)};r.setNextCallback=function n(o){var s=this;var m=true;this.nextCallback=function(c){if(m){m=false;s.nextCallback=null;o(c)}};this.nextCallback.cancel=function(){m=false};return this.nextCallback};r.onTransitionEnd=function n(o,s){this.setNextCallback(s);var m=this.props.nodeRef?this.props.nodeRef.current:yo.findDOMNode(this);var c=o==null&&!this.props.addEndListener;if(!m||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[m,this.nextCallback],h=f[0],v=f[1];this.props.addEndListener(h,v)}if(o!=null){setTimeout(this.nextCallback,o)}};r.render=function n(){var o=this.state.status;if(o===Te){return null}var s=this.props,m=s.children,c=s.in,f=s.mountOnEnter,h=s.unmountOnExit,v=s.appear,g=s.enter,b=s.exit,u=s.timeout,S=s.addEndListener,B=s.onEnter,J=s.onEntering,Q=s.onEntered,Ce=s.onExit,Z=s.onExiting,he=s.onExited,Oe=s.nodeRef,Fe=go(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $e.createElement(To.Provider,{value:null},typeof m==="function"?m(o,Fe):$e.cloneElement($e.Children.only(m),Fe))};return t}($e.Component);R.contextType=To;R.propTypes=false?{nodeRef:bn.default.shape({current:typeof Element==="undefined"?bn.default.any:bn.default.instanceOf(Element)}),children:bn.default.oneOfType([bn.default.func.isRequired,bn.default.element.isRequired]).isRequired,in:bn.default.bool,mountOnEnter:bn.default.bool,unmountOnExit:bn.default.bool,appear:bn.default.bool,enter:bn.default.bool,exit:bn.default.bool,timeout:function e(t){var r=timeoutsShape;if(!t.addEndListener)r=r.isRequired;for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++){o[s-1]=arguments[s]}return r.apply(void 0,[t].concat(o))},addEndListener:bn.default.func,onEnter:bn.default.func,onEntering:bn.default.func,onEntered:bn.default.func,onExit:bn.default.func,onExiting:bn.default.func,onExited:bn.default.func}:{};function me(){}R.defaultProps={in:false,mountOnEnter:false,unmountOnExit:false,appear:false,enter:true,exit:true,onEnter:me,onEntering:me,onEntered:me,onExit:me,onExiting:me,onExited:me};R.UNMOUNTED=Te;R.EXITED=W;R.ENTERING=j;R.ENTERED=ae;R.EXITING=Io;var ye=R;import vn from"styled-components";var Sn=vn.div`
  display: flex;
  flex-direction: column;

  position: relative;
  transition: opacity 500ms ease-in, max-height 400ms ease-in-out;
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* note: this is important to avoid issues with the animation */
  margin: 0 !important;
  padding: 0 !important;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var rt=({show:e,children:t})=>{const r=gn(null);const n={entering:{opacity:0,maxHeight:0,overflow:"hidden"},entered:{opacity:1,maxHeight:"100%",overflow:"visible"},exiting:{opacity:0,maxHeight:0,overflow:"hidden"},exited:{opacity:0,maxHeight:0,overflow:"hidden"}};return tt.createElement(ye,{nodeRef:r,in:e,timeout:{exit:200},mountOnEnter:true},o=>tt.createElement(Sn,{style:n[o],"data-test":T.ToolControlBarExpandableControls,ref:r},t))};import Tn,{css as yn}from"styled-components";var Ie=Tn(Pe)`
  position: relative;

  box-sizing: border-box;

  /* for Firefox */
  min-height: 0;

  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* compensate the padding in IE and Edge */
  ${()=>{if(N()||De()){return yn`
        > ul {
          padding-right: 34px;
          margin-right: -34px;
        }
      `}return""}}
`;Ie.defaultProps={direction:"vertical"};import In,{css as xn}from"styled-components";var kn=In.div`
  position: relative;
  &:after {
    content: '';
    position: absolute;
    bottom: 0px;
    ${e=>e.full?xn`
            left: -${3*e.theme.measurements.advancedSpacer/2}px;
            width: calc(
              100% + ${3*e.theme.measurements.advancedSpacer}px
            );
          `:`
      left: ${3*e.theme.measurements.advancedSpacer/2}px;
      width: calc(100% - ${3*e.theme.measurements.advancedSpacer}px);
    `}
    border-bottom: 2px solid ${e=>e.theme.toolControlBar.separatorColor};
  }
`;var Me=kn;import En from"styled-components";var Bn=En.h2`
  color: ${e=>e.theme.toolControlBar.titleForeground};
  font-size: ${e=>e.theme.measurements.fontSystem.headline2.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline2.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline2.case};
  font-weight: 500;
  min-height: ${e=>2*e.theme.measurements.advancedSpacer}px;
  margin-top: 0;
`;var ze=Bn;import $ from"react";import An from"styled-components";var On=An.div`
  display: flex;
  flex-direction: column;
  position: relative;
  width: 100%;
  flex: 1 0 auto;
`;var nt=({name:e,isFirstCategory:t,isLastCategory:r,children:n})=>{return $.createElement(On,null,!t&&$.createElement(C.Spacer,{count:2}),$.createElement(ze,{"data-test":e},e),$.createElement(He,{"data-test":T.CategoryItemsContainer},n),!r&&$.createElement($.Fragment,null,$.createElement(C.Spacer,{count:2}),$.createElement(Me,{full:true})))};import Fn from"styled-components";var Ln=Fn.h1`
  /* Center text horizontally and vertically */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 0;
  padding: 0 4px;
  margin: 0;
  min-height: ${e=>e.theme.measurements.mainCanvasActionBar.height-2}px;
  font-size: ${e=>e.theme.measurements.fontSystem.headline1.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline1.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline1.case};
  background: ${e=>e.theme.toolControlBar.background};
  color: ${e=>e.theme.toolControlBar.titleForeground};
  border-bottom: 1px solid ${e=>e.theme.toolControlBar.separatorColor};
  font-weight: 500;
  text-align: center;
  /* prevent the padding from leaving the width of the parent  */
  box-sizing: border-box;
`;var st=Ln;import Un from"react";import Dn from"styled-components";var wn=Dn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;

  overflow-y: auto;
  overflow-x: hidden;

  /* calculate the max-height based on the padding and if the heading is used */
  max-height: calc(
    100% -
      ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom+e.theme.measurements.advancedUIToolControlBar.paddingTop}px -
      ${e=>e.displayTitle?e.theme.measurements.mainCanvasActionBar.height-2:"0"}px
  );

  padding-top: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingTop}px;
  padding-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom}px;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  /* The scrollable content needs a padding for the scrollbar position */
  > ${Ie} {
    margin-left: 0px;
    margin-right: 0px;
    padding-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    padding-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  > :not(:last-child) {
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var it=({children:e})=>{const{config:t}=i();const r=t.config.displayToolControlBarTitle;return Un.createElement(wn,{displayTitle:r},e)};import at from"react";import Nn,{css as xo}from"styled-components";var Pn=Nn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;
  align-items: center;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolbar};

  background-color: ${e=>e.theme.toolbar.background};
  color: ${e=>e.theme.toolbar.foreground};
  ${e=>{const t=e.theme.toolbar.border?e.theme.toolbar.border:xo`
          1px solid ${e.theme.toolbar.borderColor};
        `;return!e.reverse?xo`
          border-right: ${t};
        `:xo`
          border-left: ${t};
        `}}
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolbar.marginBottom}px;
`;var mt=({reverse:e,style:t,className:r,children:n})=>{return at.createElement(Pn,{reverse:e,"data-test":T.Toolbar,className:r,style:t},at.createElement(Pe,{direction:"vertical"},n))};import lt from"react";import dt,{css as ko}from"styled-components";var _n=dt(mo)`
  width: inherit;
  height: inherit;
  padding: 0;
  margin: 0;
  ${N()?ko`
        background-color: transparent;
      `:ko`
        background-color: inherit;
      `}

  ${e=>e.isActive&&ko`
      background-color: ${e.theme.toolbar.activeBackground};
      color: ${e.theme.toolbar.activeForeground};

      svg {
        color: ${e.theme.toolbar.activeForeground};
      }
    `}
`;var Rn=dt.li.attrs({"aria-haspopup":true,"aria-hidden":true,role:"menuitem"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.itemHeight}px;
  cursor: pointer;
  position: relative;
`;var ct=e=>lt.createElement(Rn,null,lt.createElement(_n,{...e,"data-test":T.ToolbarItem}));import Hn from"styled-components";var $n=Hn.li.attrs({role:"none"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.seperatorHeight}px;
  cursor: pointer;
  position: relative;
`;var pt=$n;import Ge,{useRef as Jn}from"react";import{useRef as vt,createElement as Xn}from"react";var Yn=Lo(ht());import*as Va from"react";import{useLayoutEffect as zn,useEffect as Gn,isValidElement as Ka,cloneElement as qa,createContext as Ja,forwardRef as Qa,memo as Za,useRef as em,useState as Wn,useCallback as jn,useMemo as om}from"react";var bt=Vn()?zn:Gn;if(false){tm=typeof process!=="undefined"?process:{env:{NODE_ENV:"development"}},rm=tm.env;checkStyles=function e(t){if(checkedPkgs[t])return;checkedPkgs[t]=true;if(rm.NODE_ENV!=="test"&&parseInt(window.getComputedStyle(document.body).getPropertyValue("--reach-"+t),10)!==1){console.warn("@reach/"+t+' styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\n\n    import "@reach/'+t+`/styles.css";

  Otherwise you'll need to include them some other way:

    <link rel="stylesheet" type="text/css" href="node_modules/@reach/`+t+'/styles.css" />\n\n  For more information visit https://ui.reach.tech/styling.\n  ')}}}var tm;var rm;var nm=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();function Vn(){return!!(typeof window!=="undefined"&&window.document&&window.document.createElement)}if(false){useControlledSwitchWarning=function e(t,r,n){var o=em(t!=null);var s=em({componentName:n,controlledPropName:r});Gn(function(){s.current={componentName:n,controlledPropName:r}},[n,r]);Gn(function(){var m=o.current;var c=s.current,f=c.componentName,h=c.controlledPropName;var v=t!=null;if(m!==v){console.error("A component is changing an "+(m?"":"un")+"controlled `"+h+"` state of "+f+" to be "+(m?"un":"")+"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled "+f+" element for the lifetime of the component.\nMore info: https://fb.me/react-controlled-components")}},[t])}}if(false){useCheckStyles=function e(t){var r=em(t);Gn(function(){return void(r.current=t)},[t]);Gn(function(){return checkStyles(r.current)},[])}}function gt(){var e=Wn(Object.create(null)),t=e[1];return jn(function(){t(Object.create(null))},[])}if(false){useStateLogger=function e(t,r){if(r===void 0){r=false}var n=em(r);Gn(function(){n.current=r},[r]);Gn(function(){if(n.current){console.group("State Updated");console.log("%c"+t,"font-weight: normal; font-size: 120%; font-style: italic;");console.groupEnd()}},[t])}}import{createPortal as Kn}from"react-dom";var qn=function e(t){var r=t.children,n=t.type,o=n===void 0?"reach-portal":n;var s=vt(null);var m=vt(null);var c=gt();bt(function(){if(!s.current)return;var f=s.current.ownerDocument;m.current=f===null||f===void 0?void 0:f.createElement(o);f.body.appendChild(m.current);c();return function(){if(m.current&&m.current.ownerDocument){m.current.ownerDocument.body.removeChild(m.current)}}},[o,c]);return m.current?Kn(r,m.current):Xn("span",{ref:s})};if(false){qn.displayName="Portal"}var St=qn;import Tt,{css as Eo}from"styled-components";var Qn=Tt.div`
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* added line-height reset from appContainer */
  font-family: '${e=>e.theme.typography.fontFamily}', sans-serif;

  ${N()?Eo`
        position: -ms-device-fixed;
      `:Eo`
        position: fixed;
      `}
  top: ${e=>e.position.y-5}px;
  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,
    right 0.25s ease-in-out;
  z-index: ${e=>e.theme.measurements.zIndex.toolbar};
  pointer-events: none;
  cursor: pointer;

  &:before {
    content: ' ';
    position: absolute;
    top: 10px;
    left: -8px;
    width: 0;
    height: 0;
    border-right: 8px solid ${e=>e.theme.tooltip.background};
    border-bottom: 6px solid transparent;
    border-top: 6px solid transparent;
  }

  &:after {
    content: '${e=>e.label}';
    position: absolute;
    color: ${e=>e.theme.tooltip.foreground};
    background: ${e=>e.theme.tooltip.background};
    padding: 8px 12px;
    text-align: center;
    vertical-align: super;
    font-size: ${e=>e.theme.measurements.fontSystem.label.size}px;
    letter-spacing: ${e=>e.theme.measurements.fontSystem.label.letterSpacing}px;
    text-transform: ${e=>e.theme.measurements.fontSystem.label.case};
    border-radius: ${e=>e.theme.shape.radiusSmall}px;
    white-space: nowrap;
  }

  ${e=>e.reverse&&Eo`
      direction: rtl;

      &:before {
        border-left: 8px solid ${e.theme.tooltip.background};
        border-right: none;
        right: -8px;
        left: unset;
        top: 10px;
      }
    `}
`;var Zn=Tt.span`
  display: none;
`;var yt=({show:e=true,reverse:t,position:r,children:n})=>{const o=Jn(null);const{config:s}=i();const{measurements:m}=s;const c=typeof n==="string"?n:"";const f=r.x+m.advancedUIToolbar.width-10;const h=r.x+m.advancedUIToolbar.width+16;const v=t?"right":"left";const g={entering:{opacity:0,[v]:`${f}px`},entered:{opacity:1,[v]:`${h}px`},exiting:{opacity:0,[v]:`${f}px`},exited:{opacity:0,[v]:`${f}px`}};return Ge.createElement(ye,{nodeRef:o,in:e,timeout:{exit:500}},b=>b!=="exited"&&Ge.createElement(St,null,Ge.createElement(Qn,{ref:o,style:g[b],"data-test":T.Tooltip,reverse:t,position:r,label:c},Ge.createElement(Zn,null,c))))};var l={Card:Se,CardContainer:He,Toolbar:{Index:mt,Item:ct,Separator:pt,Tooltip:yt},Itemsbar:Ie,BarSeparator:"",ItemsSeparator:Me,Controlsbar:rt,ToolControlBarItems:it,Sidebar:{Index:Yo,Heading:st,SubHeading:ze,TextCategory:nt,ExpandableContainer:Vo}};import E from"react";import Ys from"styled-components";import xt from"react";import xe from"react";var We=class extends xe.Component{constructor(){super(...arguments);this.renderIcon=t=>{const{tool:r,config:n}=this.props;const o=n.state.config[r];if("icon"in o){const m=o.icon;return xe.createElement(m,null)}const s=Po[t];return xe.createElement(s,null)||null};this.update=t=>{const{active:r}=this.props;r.selectTool(t)}}getToolTitle(t){const{config:r}=this.props;return r.locale[t].title}render(){const{tool:t,disabled:r,custom:n,active:o,isReverse:s}=this.props;const m=o.tool;if(t){const c=n.getAdvancedToolbarItem();if(!c){return null}return xe.createElement(c,{key:t,isDisabled:r,isActive:t===m,isReverse:s,icon:this.renderIcon(t),onClick:()=>this.update(t),tool:t,label:this.getToolTitle(t)})}return xe.createElement(l.Toolbar.Separator,null)}};We=Ue([H("active","config","custom"),a],We);var It=We;var Bo=a(function e(){const{custom:t,config:r,active:n}=i();const o=r.config.order==="reverse";const s=t.getAdvancedToolbar();if(!s){return null}return xt.createElement(s,{reverse:o},r.tools.map((m,c)=>xt.createElement(It,{key:m||c,tool:m,isReverse:o,disabled:!(n.image||m===p.LIBRARY||m===p.CUSTOM)})))});import y from"react";import je from"react";import ke from"react";import M,{useRef as kt}from"react";import es from"styled-components";var os=es(C.Input.Slider)`
  padding-bottom: 16px;
`;var ts=a(()=>{const{adjustmentsTool:e}=i();const{categories:t,items:r,config:n,locale:o}=e;const s=kt(false);const m=f=>{const h=e[f.identifier];const v=kt(h);const g=e.locale.categories[f.identifier]||f.name;const b=u=>{if(s.current&&u!==v.current){e.toolSnapshot();s.current=false;v.current=u}};return M.createElement(os,{identifier:f.identifier,adjust:true,key:f.identifier,label:g,value:h,onChange:u=>{e.editAdjustments({type:f.identifier,value:u});s.current=h!==u},onMouseUp:b,onTouchEnd:b,snap:0})};const c=(f,h)=>{const v=o.categories[f.identifier]||f.name;if(!f.items)return null;return M.createElement(l.Sidebar.TextCategory,{key:f.identifier,name:v,isFirstCategory:h===0,isLastCategory:h===t.length-1},f.items.map(m))};if(n.flattenCategories)return M.createElement(M.Fragment,null,r.map(m));return M.createElement(M.Fragment,null,t.map(c))});var Et=()=>{return M.createElement(l.Itemsbar,null,M.createElement(ts,null))};import rs from"react";var Bt=a(()=>{const{adjustmentsTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return rs.createElement(n,{tool:p.ADJUSTMENT,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var At=a(()=>{const{adjustmentsTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case we.Items:return ke.createElement(Et,{key:o});case we.Separator:return ke.createElement(l.ItemsSeparator,{full:true,key:x()});case we.RemoveAdjustmentButton:return ke.createElement(Bt,{key:o});default:return null}}else if(typeof o==="object"){return ke.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(s=>n(s)))}return null};return ke.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Ot=a(({displayTitle:e})=>{const{adjustmentsTool:t}=i();return je.createElement(je.Fragment,null,e&&je.createElement(l.Sidebar.Heading,null,t.locale.title),je.createElement(At,null))});import Ye from"react";import Y from"react";import Ft from"react";var Lt=a(()=>{const{brushTool:e}=i();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n}=e;return Ft.createElement(C.Input.Selection,{label:t.selectColor},Ft.createElement(w,{tool:p.BRUSH,activeColor:e.color,colors:n,labelsColor:r,onChange:e.changeColor}))});import ns from"react";var Ut=a(()=>{const{brushTool:e}=i();const t=e.locale.controls;return ns.createElement(C.Input.Slider,{"data-test":T.BrushHardness,label:t.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})});import ss from"react";var Dt=a(()=>{const{brushTool:e}=i();const t=e.locale.controls;return ss.createElement(C.Input.Slider,{"data-test":T.BrushSize,label:t.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})});import is from"react";var wt=a(()=>{const{brushTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return is.createElement(n,{tool:p.BRUSH,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var Nt=a(()=>{const{brushTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case re.BrushColorList:return Y.createElement(Lt,{key:o});case re.BrushHardnessSlider:return Y.createElement(Ut,{key:o});case re.BrushSizeSlider:return Y.createElement(Dt,{key:o});case re.Separator:return Y.createElement(l.ItemsSeparator,{full:true,key:x()});case re.RemoveBrushButton:return Y.createElement(wt,{key:o});default:return null}}else if(typeof o==="object"){return Y.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(s=>n(s)))}return null};return Y.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var as=({brushTool:e,displayTitle:t})=>Ye.createElement(Ye.Fragment,null,t&&Ye.createElement(l.Sidebar.Heading,null,e.locale.title),Ye.createElement(Nt,null));var Pt=H("brushTool")(a(as));import Ve from"react";var _t=({displayTitle:e})=>{const{config:t}=i();const r=t.state.config[p.CUSTOM].toolControlBar;const{title:n}=t.state.locale[p.CUSTOM];return Ve.createElement(Ve.Fragment,null,e&&Ve.createElement(l.Sidebar.Heading,null,n),Ve.createElement(r,{language:t.state.locale[p.CUSTOM]}))};import Xe from"react";import le from"react";import ms from"react";var Rt=a(()=>{const{filterTool:e}=i();const t=e.locale.controls;const r=e.state;const n=()=>{e.toolSnapshot()};return ms.createElement(C.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderIntensity,value:r.intensity,min:0,max:1,onChange:e.changeIntensity,onMouseUp:n,onTouchEnd:n,snap:r.isDuotone?.5:null,isDisabled:!e.isOptionSelected})});import L from"react";var ls=a(()=>{const{filterTool:e,custom:t}=i();const{categories:r,config:n,items:o,locale:s}=e;const m=t.getAdvancedItemCard();const c=t.getAdvancedCategoryCard();const f=(g,b)=>{const u=s.items[g.identifier]||g.name;if(!m){return null}return L.createElement(m,{tool:p.FILTER,type:I.MEDIUM,onClick:()=>e.selectFilter(g.identifier,g.defaultIntensity),key:g.identifier,image:g.thumbnailURI,label:u,style:{animationDelay:`${O(b)}s`},isActive:e.identifier===g.identifier},L.createElement(k,{withBackground:true},u))};const h=(g,b)=>{const{selectedCategoryIdentifier:u}=e;const S=u===g.identifier;const B=s.categories[g.identifier]||g.name;if(!g.items||!c){return null}return L.createElement("div",{key:g.identifier},L.createElement(c,{isActive:S,tool:p.FILTER,type:I.LARGE,onClick:()=>e.toggleCategorySelection(g.identifier),image:g.thumbnailURI,label:B,style:{animationDelay:`${O(b)}s`}},L.createElement(k,{withBackground:true,caret:true,isActive:S},B)),L.createElement(l.Sidebar.ExpandableContainer,{show:S},g.items.map(f)))};const v=(g,b)=>{const u=s.categories[g.identifier]||g.name;if(!g.items)return null;return L.createElement(l.Sidebar.TextCategory,{key:g.identifier,name:u,isFirstCategory:b===0,isLastCategory:b===r.length-1},g.items.map(f))};if(n.flattenCategories)return L.createElement(L.Fragment,null,o.map(f));if(n.categoryHeaderType===D.CARD)return L.createElement(L.Fragment,null,r.map(h));if(n.categoryHeaderType===D.TEXT)return L.createElement(L.Fragment,null,r.map(v));return null});var Ht=()=>{return L.createElement(l.Itemsbar,null,L.createElement(l.CardContainer,null,L.createElement(ls,null)))};import ds from"react";var $t=a(()=>{const{filterTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return ds.createElement(n,{tool:p.FILTER,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Mt=a(()=>{const{filterTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case be.Items:return le.createElement(Ht,{key:o});case be.Separator:return le.createElement(l.ItemsSeparator,{full:true,key:x()});case be.RemoveFilterButton:return le.createElement($t,{key:o});case be.FilterIntensitySlider:return le.createElement(Rt,{key:o});default:return null}}else if(typeof o==="object"){return le.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(s=>n(s)))}return null};return le.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var zt=a(({displayTitle:e})=>{const{filterTool:t}=i();return Xe.createElement(Xe.Fragment,null,e&&Xe.createElement(l.Sidebar.Heading,null,t.locale.title),Xe.createElement(Mt,null))});import Ke from"react";import de from"react";import cs from"react";var Gt=a(()=>{const{focusTool:e}=i();const t=e.locale.controls;const r=()=>{e.toolSnapshot(t.sliderIntensity)};return cs.createElement(C.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:r,onTouchEnd:r,isDisabled:!e.isOptionSelected})});import V from"react";var ps=a(()=>{const{focusTool:e,custom:t}=i();const{items:r}=e;const n=(o,s)=>{const m=e.locale.items[o.identifier]||o.name;const c=t.getAdvancedItemCard();if(!c){return null}return V.createElement(c,{tool:p.FOCUS,type:I.LARGE,onClick:()=>e.selectFocus(o.identifier),key:o.identifier,image:o.thumbnailURI,label:m,style:{animationDelay:`${O(s)}s`},isActive:o.identifier===e.identifier},V.createElement(k,{withBackground:true},m))};return V.createElement(V.Fragment,null,r.map(n))});var Wt=()=>{return V.createElement(l.Itemsbar,null,V.createElement(l.CardContainer,null,V.createElement(ps,null)))};import us from"react";var jt=a(()=>{const{focusTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return us.createElement(n,{tool:p.FOCUS,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Yt=a(()=>{const{focusTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case ge.Separator:return de.createElement(l.ItemsSeparator,{full:true,key:x()});case ge.RemoveFocusButton:return de.createElement(jt,{key:o});case ge.FocusIntensitySlider:return de.createElement(Gt,{key:o});case ge.Items:return de.createElement(Wt,{key:o});default:return null}}else if(typeof o==="object"){return de.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(s=>n(s)))}return null};return de.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Vt=a(({displayTitle:e})=>{const{focusTool:t}=i();return Ke.createElement(Ke.Fragment,null,e&&Ke.createElement(l.Sidebar.Heading,null,t.locale.title),Ke.createElement(Yt,null))});import Je from"react";import z from"react";import Xt from"react";var Kt=a(()=>{const{frameTool:e}=i();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n,tintable:o}=e;return Xt.createElement(C.Input.Selection,{isDisabled:!o,label:t.selectColor},Xt.createElement(w,{tool:p.FRAME,activeColor:e.color,colors:n,labelsColor:r,isDisabled:!o,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import qe from"react";var qt=a(()=>{const{frameTool:e,custom:t}=i();const{items:r}=e;const n=e.state?e.state.identifier:null;const o=(s,m)=>{const c=e.locale.items[s.identifier]||s.name;const f=t.getAdvancedItemCard();if(!f){return null}return qe.createElement(f,{tool:p.FRAME,type:I.MEDIUM,onClick:()=>e.selectFrame(s.identifier),key:s.identifier,image:s.thumbnailURI,label:c,style:{backgroundSize:"75%",animationDelay:`${O(m)}s`},isActive:s.identifier===n},qe.createElement(k,{hidden:true},c))};return qe.createElement(l.Itemsbar,null,qe.createElement(l.CardContainer,null,r.map(o)))});import fs from"react";var Jt=a(()=>{const{frameTool:e}=i();const t=e.locale.controls;const r=n=>{e.toolSnapshot(n)};return fs.createElement(C.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:()=>{r(t.sliderOpacity)},onTouchEnd:()=>{r(t.sliderOpacity)},isDisabled:!e.isOptionSelected})});import Cs from"react";var Qt=a(()=>{const{frameTool:e}=i();const t=e.locale.controls;const r=n=>{e.toolSnapshot(n)};return Cs.createElement(C.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:()=>{r(t.sliderSize)},onTouchEnd:()=>{r(t.sliderSize)},isDisabled:!e.isOptionSelected})});import hs from"react";var Zt=a(()=>{const{frameTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return hs.createElement(n,{tool:p.FRAME,ariaLabel:r.buttonReset,onClick:o,isDisabled:!e.isOptionSelected,label:r.buttonReset})});var er=a(()=>{const{frameTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case G.Items:return z.createElement(qt,{key:o});case G.Separator:return z.createElement(l.ItemsSeparator,{full:true,key:x()});case G.FrameOpacitySlider:return z.createElement(Jt,{key:o});case G.FrameSizeSlider:return z.createElement(Qt,{key:o});case G.FrameColorList:return z.createElement(Kt,{key:o});case G.RemoveFrameButton:return z.createElement(Zt,{key:o});default:return null}}else if(typeof o==="object"){return z.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(s=>n(s)))}return null};return z.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var or=a(({displayTitle:e})=>{const{frameTool:t}=i();return Je.createElement(Je.Fragment,null,e&&Je.createElement(l.Sidebar.Heading,null,t.locale.title),Je.createElement(er,null))});import Qe from"react";import ce from"react";import A from"react";var bs=a(()=>{const{active:e,library:t,custom:r}=i();const{query:n,config:o,selectedCategoryIdentifier:s,categories:m,items:c}=t;const f=r.getAdvancedCategoryCard();const h=r.getAdvancedItemCard();const v=(u,S)=>{if(!h){return null}return A.createElement(h,{tool:p.LIBRARY,type:I.MEDIUM,onClick:()=>e.newImage(u.rawUrl),key:`${u.identifier}-${S}`,image:u.thumbnailURI,label:u.name,style:{animationDelay:`${O(S)}s`},authorAvatar:u.authorAvatar,authorName:u.authorName},u.authorAvatar&&A.createElement(lo,{url:u.authorAvatar}),u.authorName&&A.createElement(k,{withBackground:true},u.authorName))};const g=(u,S)=>{const B=s===u.identifier;if(!u.items||!f){return null}return A.createElement("div",{key:u.identifier},A.createElement(f,{isActive:B,tool:p.LIBRARY,type:I.LARGE,onClick:()=>t.toggleCategorySelection(u.identifier),image:u.thumbnailURI,label:u.name,style:{animationDelay:`${O(S)}s`}},A.createElement(k,{withBackground:true,caret:true,isActive:B},u.name)),A.createElement(l.Sidebar.ExpandableContainer,{show:B},u.items.map(v)))};const b=(u,S)=>{if(!u.items)return null;return A.createElement(l.Sidebar.TextCategory,{key:u.identifier,name:u.name,isFirstCategory:S===0,isLastCategory:S===m.length-1},u.items.map(v))};if(n)return c.length?A.createElement(A.Fragment,null,c.map(v)):A.createElement("p",{"data-test":T.NoResult},t.locale.controls.noResults);if(o.flattenCategories)return A.createElement(A.Fragment,null,c.map(v));if(o.categoryHeaderType===D.CARD)return A.createElement(A.Fragment,null,m.map(g));if(o.categoryHeaderType===D.TEXT)return A.createElement(A.Fragment,null,m.map(b));return null});var tr=()=>{return A.createElement(l.Itemsbar,null,A.createElement(l.CardContainer,null,A.createElement(bs,null)))};import gs from"react";var rr=a(()=>{const{library:e,active:t}=i();const{config:r}=e;const n=e.locale.controls;const o=()=>{t.selectWebcam(true)};if(r.enableWebcam){return gs.createElement(Mo,{tool:p.LIBRARY,onClick:o,label:n.buttonWebcamOpen})}return null});import vs from"react";var nr=a(()=>{const{library:e}=i();const{libraryProvider:t}=e;const r=e.locale.controls;const n=o=>{e.fetchImages(o)};if(t){return vs.createElement(C.Input.Search,{onChange:n,placeholder:r.placeholderSearch})}return null});import sr from"react";var ir=a(()=>{const{library:e,active:t,custom:r}=i();const{config:n}=e;const o=e.locale.controls;const s=r.getButton("toolControlBarPrimaryButton");const m=f=>{const{files:h}=f.target;if(h.length){const v=new FileReader;v.onload=g=>{t.newImage(g.target.result)};v.readAsDataURL(h[0])}};const c=()=>{const f=document.getElementById("fileUpload");if(f){f.click()}};if(n.enableUpload){if(!s){return null}return sr.createElement(s,{"data-test":T.LibraryUploadButton,tool:p.LIBRARY,ariaLabel:o.buttonUpload,onClick:c,label:o.buttonUpload},sr.createElement(C.Input.File,{onChange:m}))}return null});var ar=a(()=>{const{library:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case ee.Items:return ce.createElement(tr,{key:o});case ee.OpenWebcamButton:return ce.createElement(rr,{key:o});case ee.SearchFieldInput:return ce.createElement(nr,{key:o});case ee.Separator:return ce.createElement(l.ItemsSeparator,{full:true,key:x()});case ee.UploadImageButton:return ce.createElement(ir,{key:o});default:return null}};return ce.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var mr=a(({displayTitle:e})=>{const{library:t}=i();return Qe.createElement(Qe.Fragment,null,e&&Qe.createElement(l.Sidebar.Heading,null,t.locale.title),Qe.createElement(ar,null))});import Ze from"react";import K from"react";import Ss from"react";var lr=a(()=>{const{overlayTool:e}=i();const{allBlendModes:t,blendMode:r}=e;const n=e.locale.controls;const o=s=>{e.changeBlendMode(s)};return Ss.createElement(C.Input.CarouselSlider,{label:n.carouselBlendMode,defaultIdentifier:r,onSelect:o,list:t})});import X from"react";var Ts=a(()=>{const{overlayTool:e,custom:t}=i();const{items:r,locale:n,identifier:o,selectOverlay:s}=e;const m=(c,f)=>{const h=n.items[c.identifier]||c.name;const v=t.getAdvancedItemCard();if(!v){return null}return X.createElement(v,{tool:p.OVERLAY,type:I.MEDIUM,onClick:()=>s(c.identifier),key:c.identifier,image:c.thumbnailURI,label:h,style:{animationDelay:`${O(f)}s`},isActive:c.identifier===o},X.createElement(k,{withBackground:true},h))};return X.createElement(X.Fragment,null,r.map(m))});var dr=()=>{return X.createElement(l.Itemsbar,null,X.createElement(l.CardContainer,null,X.createElement(Ts,null)))};import ys from"react";var cr=a(()=>{const{overlayTool:e}=i();const t=e.locale.controls;const r=()=>{e.toolSnapshot()};return ys.createElement(C.Input.Slider,{"aria-hidden":!e.isOptionSelected,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:r,onTouchEnd:r,isDisabled:!e.isOptionSelected})});import Is from"react";var pr=a(()=>{const{overlayTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Is.createElement(n,{tool:p.OVERLAY,label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var ur=a(()=>{const{overlayTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case oe.Items:return K.createElement(dr,{key:o});case oe.Separator:return K.createElement(l.ItemsSeparator,{full:true,key:x()});case oe.OverlayBlendModeCarousel:return K.createElement(lr,{key:o});case oe.OverlayOpacitySlider:return K.createElement(cr,{key:o});case oe.RemoveOverlayButton:return K.createElement(pr,{key:o});default:return null}}else if(typeof o==="object"){return K.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(s=>n(s)))}return null};return K.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var fr=a(({displayTitle:e})=>{const{overlayTool:t}=i();return Ze.createElement(Ze.Fragment,null,e&&Ze.createElement(l.Sidebar.Heading,null,t.locale.title),Ze.createElement(ur,null))});import eo from"react";import pe from"react";import Cr from"react";var hr=a(()=>{const{stickerTool:e}=i();const{colorList:t}=e;const r=e.locale.controls;const n=e.localeColor.colorPicker;const o=!e.isStickerSelected||!e.tintable&&e.isStickerSelected;return Cr.createElement(C.Input.Selection,{isDisabled:o,label:r.selectColor},Cr.createElement(w,{tool:p.STICKER,activeSprite:e.id,activeColor:e.tintColor,colors:t,labelsColor:n,isDisabled:o,onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot}))});import U from"react";var xs=a(()=>{const{stickerTool:e,custom:t}=i();const{categories:r,selectedCategoryIdentifier:n,config:o,items:s,locale:m}=e;const c=t.getAdvancedCategoryCard();const f=t.getAdvancedItemCard();const h=(b,u)=>{const S=m.items[b.identifier]||b.name;if(!f){return null}return U.createElement(f,{key:b.identifier,tool:p.STICKER,type:I.SMALL,onClick:()=>e.add(b.identifier),image:b.thumbnailURI,label:S,style:{backgroundSize:"75%",animationDelay:`${wo(u)}s`}},U.createElement(k,{hidden:true},S))};const v=(b,u)=>{const S=n===b.identifier;const B=m.categories[b.identifier]||b.name;if(!b.items||!c){return null}return U.createElement("div",{key:b.identifier},U.createElement(c,{isActive:S,tool:p.STICKER,type:I.LARGE,onClick:()=>e.toggleCategorySelection(b.identifier),image:b.thumbnailURI,label:B,style:{animationDelay:`${O(u)}s`}},U.createElement(k,{withBackground:true,caret:true,isActive:S},B)),U.createElement(l.Sidebar.ExpandableContainer,{show:S,key:`${b.identifier}-items`},b.items.map(h)))};const g=(b,u)=>{const S=m.categories[b.identifier]||b.name;if(!b.items)return null;return U.createElement(l.Sidebar.TextCategory,{key:b.identifier,name:S,isFirstCategory:u===0,isLastCategory:u===r.length-1},b.items.map(h))};if(o.flattenCategories)return U.createElement(U.Fragment,null,s.map(h));if(o.categoryHeaderType===D.CARD)return U.createElement(U.Fragment,null,r.map(v));if(o.categoryHeaderType===D.TEXT)return U.createElement(U.Fragment,null,r.map(g));return null});var br=()=>{return U.createElement(l.Itemsbar,null,U.createElement(l.CardContainer,null,U.createElement(xs,null)))};import ks from"react";var gr=a(()=>{const{stickerTool:e}=i();const t=e.locale.controls;const r=()=>{e.toolSnapshot()};return ks.createElement(C.Input.Slider,{isDisabled:!e.isStickerSelected,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:r,onTouchEnd:r})});import vr from"react";import Es from"styled-components";var Bs=Es.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:true})`
  ${No.VisuallyHidden}
`;var Sr=a(()=>{const{stickerTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{const m=document.getElementById("fileUpload");if(m){m.value=null;m.click()}};const s=m=>{const{files:c}=m.target;e.addFiles(c)};if(e.isCustomStickerEnabled){if(!n){return null}return vr.createElement(n,{tool:p.STICKER,ariaLabel:r.buttonUpload,onClick:o,label:r.buttonUpload},vr.createElement(Bs,{onChange:s}))}return null});var Tr=a(()=>{const{stickerTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case te.Items:return pe.createElement(br,{key:o});case te.Separator:return pe.createElement(l.ItemsSeparator,{full:true,key:x()});case te.UploadStickerButton:return pe.createElement(Sr,{key:o});case te.StickerColorList:return pe.createElement(hr,{key:o});case te.StickerOpacitySlider:return pe.createElement(gr,{key:o});default:return null}};return pe.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var yr=a(({displayTitle:e})=>{const{stickerTool:t}=i();return eo.createElement(eo.Fragment,null,e&&eo.createElement(l.Sidebar.Heading,null,t.locale.title),eo.createElement(Tr,null))});import oo from"react";import P from"react";import Ps from"styled-components";import Ir from"react";var xr=a(()=>{const{textTool:e}=i();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,backgroundColorList:o}=e;return Ir.createElement(C.Input.Selection,{isDisabled:!n,label:t.selectBackgroundColor},Ir.createElement(w,{tool:p.TEXT,activeSprite:e.id,activeColor:e.backgroundColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))});import As from"react";var kr=a(()=>{const{textTool:e}=i();const t=e.locale.controls;const{fontFamily:r,fontStyle:n,fontWeight:o,fontFamilies:s,isTextSelected:m}=e;const c=s.map(h=>({label:`${h.fontFamily} ${Ro.getDisplayFontStyle(h)}`,fontWeight:h.fontWeight,fontStyle:h.fontStyle,fontFamily:h.fontFamily,value:h.identifier}));const f=c.filter(({value:h})=>h===e.identifier)[0];return As.createElement(C.Input.Dropdown,{isDisabled:!m,style:{fontFamily:r,fontStyle:n,fontWeight:o},itemStyle:h=>({fontFamily:h.fontFamily,fontStyle:h.fontStyle,fontWeight:h.fontWeight}),label:t.dropdownFontFamily,list:c,onSelect:e.changeFont,selectedItem:f.label})});import Os from"react";import Fs from"styled-components";var Ls=Fs(C.Input.NumericInput)`
  max-width: 50%;
  margin-right: 16px;
`;var Er=a(()=>{const{textTool:e}=i();const t=e.locale.controls;const{isTextSelected:r}=e;const n=o=>{const s=o?parseFloat(o):0;e.setFontSize(Math.max(10,Math.min(690,s)))};return Os.createElement(Ls,{value:e.fontSize.toFixed(0),onSubmit:n,label:t.textFontSize,isDisabled:!r})});import Us from"react";var Br=a(()=>{const{textTool:e}=i();const t=e.locale.controls;const{isTextSelected:r}=e;const n=()=>{e.toolSnapshot()};return Us.createElement(C.Input.Slider,{isDisabled:!r,label:t.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:n,onTouchEnd:n,snap:1,divider:1,decimal:1})});import Ds from"react";var Ar=a(()=>{const{textTool:e,custom:t}=i();const r=e.locale.controls;const n=()=>{e.add()};const o=t.getButton("toolControlBarPrimaryButton");if(!o){return null}return Ds.createElement(o,{tool:p.TEXT,ariaLabel:r.buttonNew,onClick:n,label:r.buttonNew})});import Ao from"react";import ws from"styled-components";var Ns=ws(C.Input.Selection)`
  width: 50%;
`;var Or=a(()=>{const{textTool:e,custom:t}=i();const r=e.locale.controls;const{isTextSelected:n,alignment:o}=e;const s=["left","center","right"];const m=t.getButton("textAlignment");return Ao.createElement(Ns,{isDisabled:!n,inline:true,label:r.selectAlignment,"data-test":T.TextAlignment},s.map(c=>{const f=_o[c];return Ao.createElement(m,{tool:c,isDisabled:!n,ariaLabel:`Align ${c}`,isActive:c===o,key:c,style:{padding:"1px 3px 2px"},icon:Ao.createElement(f,null),onClick:()=>e.changeAlignment(c)})}))});import Fr from"react";var Lr=a(()=>{const{textTool:e}=i();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,colorList:o}=e;return Fr.createElement(C.Input.Selection,{isDisabled:!n,label:t.selectFontColor},Fr.createElement(w,{tool:p.TEXT,activeSprite:e.id,activeColor:e.textColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});var _s=Ps.div`
  display: flex;
  justify-content: space-between;
`;var Rs=({textTool:e})=>{const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case _.NewTextButton:return P.createElement(Ar,{key:o});case _.FontFamilyDropdown:return P.createElement(kr,{key:o});case _.Separator:return P.createElement(l.ItemsSeparator,{full:true,key:x()});case _.TextColorList:return P.createElement(Lr,{key:o});case _.BackgroundColorList:return P.createElement(xr,{key:o});case _.LineSpacingSlider:return P.createElement(Br,{key:o});case _.TextAligmentList:return P.createElement(Or,{key:o});case _.FontSizeInput:return P.createElement(Er,{key:o});default:return null}}else if(typeof o==="object"){return P.createElement(_s,{key:o.type},o.children.map(s=>n(s)))}return null};return P.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))};var Ur=H("textTool")(a(Rs));var Dr=a(({displayTitle:e})=>{const{textTool:t}=i();return oo.createElement(oo.Fragment,null,e&&oo.createElement(l.Sidebar.Heading,null,t.locale.title),oo.createElement(Ur,null))});import to from"react";import ue from"react";import Hs from"react";var wr=a(()=>{const{textDesignTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{e.add()};if(!n){return null}return Hs.createElement(n,{tool:p.TEXT_DESIGN,ariaLabel:r.buttonNew,onClick:o,label:r.buttonNew})});import $s from"react";var Nr=a(()=>{const{textDesignTool:e,custom:t}=i();const r=e.locale.controls;const{isTextDesignSelected:n}=e;const o=t.getButton("toolControlBarSecondaryButton");const s=()=>{e.changeSeed()};if(!o){return null}return $s.createElement(o,{tool:p.TEXT_DESIGN,ariaLabel:r.buttonShuffle,isDisabled:!n,onClick:s,label:r.buttonShuffle})});import Pr from"react";var _r=a(()=>{const{textDesignTool:e}=i();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextDesignSelected:n,colorList:o}=e;return Pr.createElement(C.Input.Selection,{isDisabled:!n,label:t.selectColor},Pr.createElement(w,{tool:p.TEXT_DESIGN,activeSprite:e.id,activeColor:e.color,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import q from"react";var Ms=a(()=>{const{textDesignTool:e,custom:t}=i();const{items:r,identifier:n}=e;const o=m=>{e.changeIdentifier(m)};const s=(m,c)=>{const f=t.getAdvancedItemCard();if(!f){return null}return q.createElement(f,{key:m.identifier,tool:p.TEXT_DESIGN,type:I.MEDIUM,onClick:()=>o(m.identifier),image:m.thumbnailURI,label:m.name||"",style:{animationDelay:`${O(c)}s`,backgroundSize:"60%"},isDisabled:!e.isTextDesignSelected,isActive:n===m.identifier},q.createElement(k,{hidden:true},m.name))};return q.createElement(q.Fragment,null,r.map(s))});var Rr=()=>{return q.createElement(l.Itemsbar,null,q.createElement(l.CardContainer,null,q.createElement(Ms,null)))};var Hr=a(()=>{const{textDesignTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case ne.Items:return ue.createElement(Rr,{key:o});case ne.Separator:return ue.createElement(l.ItemsSeparator,{full:true,key:x()});case ne.NewTextDesignButton:return ue.createElement(wr,{key:o});case ne.ShuffleLayoutButton:return ue.createElement(Nr,{key:o});case ne.TextDesignColorList:return ue.createElement(_r,{key:o});default:return null}};return ue.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var $r=a(({displayTitle:e})=>{const{textDesignTool:t}=i();return to.createElement(to.Fragment,null,e&&to.createElement(l.Sidebar.Heading,null,t.locale.title),to.createElement(Hr,null))});import ro from"react";import fe from"react";import zs from"react";var Mr=a(()=>{const{transformTool:e}=i();const t=e.locale.controls;const{forceDimensions:r,localOutputHeight:n,localOutputWidth:o}=e;return zs.createElement($o,{isDisabled:r,showLabel:true,valueHeight:n,valueWidth:o,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth})});import Gs from"react";var zr=a(()=>{const{transformTool:e,custom:t}=i();const r=e.locale.controls;const{forceDimensions:n,lockResolution:o}=e;const s=t.getCheckbox();if(!s){return null}return Gs.createElement(s,{tool:p.TRANSFORM,isDisabled:n,value:o,label:r.checkboxKeepResolution,checkMarkPosition:"right",onClick:e.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}})});import Ws from"react";var Gr=a(()=>{const{transformTool:e,custom:t}=i();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Ws.createElement(n,{tool:p.TRANSFORM,ariaLabel:r.buttonReset,onClick:o,label:r.buttonReset})});import F from"react";import{renderToStaticMarkup as Wr}from"react-dom/server";var js=a(()=>{const{transformTool:e,custom:t,editor:r}=i();const{categories:n,items:o,identifier:s,config:m,locale:c}=e;const f=t.getAdvancedItemCard();const h=t.getAdvancedCategoryCard();const v=(u,S)=>{const{theme:B,measurements:J}=r.configStore;const Q=c.items[u.identifier]||u.name;let Ce=u.thumbnailURI||"";let Z="80%";if(!e.checkIfTransformThumbnailExits(u.thumbnailURI)){const he=u.identifier.includes("imgly_transform_common");const Oe=ve.crops[u.identifier]||ve.crops.imgly_transform_common_custom;const Fe=F.createElement(Oe,{width:J.advancedCard.medium.width-(he?42:0),height:J.advancedCard.medium.height-(he?42:0),main:B.transform.crops.main,highlight:B.transform.crops.highlight,shadow:B.transform.crops.shadow});Ce=`'data:image/svg+xml,${encodeURIComponent(Wr(Fe))}'`;Z=N()||De()?"auto":"unset"}if(!f){return null}return F.createElement(f,{key:u.identifier,tool:p.TRANSFORM,type:I.MEDIUM,onClick:()=>e.changeIdentifier(u.identifier,true),image:Ce,label:Q,style:{backgroundSize:Z,animationDelay:`${O(S)}s`},isActive:u.identifier===s},F.createElement(k,null,Q))};const g=(u,S)=>{const{theme:B,measurements:J}=r.configStore;const Q=e.selectedCategoryIdentifier===u.identifier;const Ce=c.categories[u.identifier]||u.name;let Z=u.thumbnailURI||"";if(!u.items||!h){return null}if(!e.checkIfTransformThumbnailExits(u.thumbnailURI)){const he=ve.categories[u.identifier]||ve.crops.imgly_transform_common_custom;const Oe=F.createElement(he,{width:J.advancedCard.large.width-42,height:J.advancedCard.large.height-42,main:B.transform.crops.main,highlight:B.transform.crops.highlight,shadow:B.transform.crops.shadow});Z=`'data:image/svg+xml,${encodeURIComponent(Wr(Oe))}'`}return F.createElement("div",{key:u.identifier},F.createElement(h,{type:I.LARGE,onClick:()=>e.toggleCategorySelection(u.identifier),key:u.identifier,image:Z,style:{animationDelay:`${O(S)}s`},label:u.name,tool:p.TRANSFORM},F.createElement(k,{caret:true,isActive:Q},Ce)),F.createElement(l.Sidebar.ExpandableContainer,{show:Q},u.items.map(v)))};const b=(u,S)=>{const B=c.categories[u.identifier]||u.name;if(!u.items)return null;return F.createElement(l.Sidebar.TextCategory,{key:u.identifier,name:B,isFirstCategory:S===0,isLastCategory:S===n.length-1},u.items.map(v))};if(m.flattenCategories)return F.createElement(F.Fragment,null,o.map(v));if(m.categoryHeaderType===D.CARD)return F.createElement(F.Fragment,null,n.map(g));if(m.categoryHeaderType===D.TEXT)return F.createElement(F.Fragment,null,n.map(b));return null});var jr=()=>{return F.createElement(l.Itemsbar,null,F.createElement(l.CardContainer,null,F.createElement(js,null)))};var Yr=a(()=>{const{transformTool:e}=i();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case se.Items:return fe.createElement(jr,{key:o});case se.Separator:return fe.createElement(l.ItemsSeparator,{full:true,key:x()});case se.ResetTransformButton:return fe.createElement(Gr,{key:o});case se.KeepResolutionCheckbox:return fe.createElement(zr,{key:o});case se.CropSizeInput:return fe.createElement(Mr,{key:o});default:return null}};return fe.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Vr=a(({displayTitle:e})=>{const{transformTool:t}=i();return ro.createElement(ro.Fragment,null,e&&ro.createElement(l.Sidebar.Heading,null,t.locale.title),ro.createElement(Yr,null))});var Oo=a(function e(){const{active:t,config:r,custom:n}=i();const o=t.tool;const s=r.config.displayToolControlBarTitle;const m=n.getAdvancedToolControlBar();if(!m){return null}return y.createElement(m,{reverse:r.config.order==="reverse"},y.createElement(C.Switch.Index,{type:o},y.createElement(C.Switch.Case,{value:p.LIBRARY},y.createElement(mr,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.FILTER},y.createElement(zt,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.FOCUS},y.createElement(Vt,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.ADJUSTMENT},y.createElement(Ot,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.OVERLAY},y.createElement(fr,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.STICKER},y.createElement(yr,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.TEXT},y.createElement(Dr,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.TEXT_DESIGN},y.createElement($r,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.FRAME},y.createElement(or,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.BRUSH},y.createElement(Pt,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.TRANSFORM},y.createElement(Vr,{displayTitle:s})),y.createElement(C.Switch.Case,{value:p.CUSTOM},y.createElement(_t,{displayTitle:s}))))});var Xr=Ys.div`
  position: absolute;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width}px;
  top: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`;var Ee=class extends E.Component{static getDerivedStateFromError(t){console.error(t);return{hasError:true}}render(){const{config:t,active:r,canvas:n}=this.props;return t.isOrderDefault?E.createElement(C.Container,null,r.isWebcam?E.createElement(Xr,{style:{left:0}}):null,E.createElement(fo,null),E.createElement(Bo,null),E.createElement(Oo,null),E.createElement(co,null,E.createElement(po,null),E.createElement(ho,null,r.isWebcam?E.createElement(Co,null):null,r.image&&n&&E.createElement(uo,null)))):E.createElement(C.Container,null,r.isWebcam?E.createElement(Xr,{style:{right:0}}):null,E.createElement(fo,null),E.createElement(co,null,E.createElement(po,null),E.createElement(ho,null,r.isWebcam?E.createElement(Co,null):null,r.image&&n&&E.createElement(uo,null))),E.createElement(Oo,null),E.createElement(Bo,null))}};Ee=Ue([H("config","active","canvas"),a],Ee);import Be from"react";import Vs from"styled-components";var Kr=class extends Be.Component{constructor(t){super(t);this.ref=null;this.updatePosition=()=>{const{isReverse:t}=this.props;const r={x:0,y:0};if(this.ref.current){const{top:n,height:o,left:s,right:m}=this.ref.current.getBoundingClientRect();r.y=n+o/4;r.x=t?window.innerWidth-m:s}this.setState({tooltipPosition:r})};this.mouseOver=t=>{this.updatePosition();this.setState({hoverTool:t})};this.mouseOut=()=>{this.setState({hoverTool:null})};this.state={hoverTool:null,tooltipPosition:{x:0,y:0}};this.ref=Be.createRef()}componentDidMount(){this.updatePosition()}componentDidUpdate(t){const{isReverse:r}=this.props;if(r!==t.isReverse){this.updatePosition()}}render(){const{tool:t,isActive:r,isReverse:n,isDisabled:o,icon:s,label:m,onClick:c,className:f,children:h}=this.props;const{hoverTool:v,tooltipPosition:g}=this.state;return Be.createElement(Xs,{ref:this.ref,onMouseOver:()=>this.mouseOver(t),onMouseOut:()=>this.mouseOut(),onFocus:()=>this.mouseOver(t),onBlur:()=>this.mouseOut(),className:f},Be.createElement(l.Toolbar.Item,{ariaLabel:m,isActive:r,isDisabled:o,onClick:()=>c(t)},s,h),Be.createElement(l.Toolbar.Tooltip,{position:g,reverse:n,show:v===t},m))}};var no=Kr;var Xs=Vs.div`
  position: relative;
`;var io=class extends so.Component{constructor(){super(...arguments);this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:t,storeProps:r}=this.props;this.editor=t;this.storeProps=r;const n=new Ho(this.editor.configStore.config.custom.components,{advancedUICategoryCard:l.Card,advancedUIItemCard:l.Card,advancedUIToolbarItem:no,advancedUIToolbar:l.Toolbar.Index,advancedUIToolControlBar:l.Sidebar.Index});const o={getAdvancedCategoryCard:n.getAdvancedCategoryCard,getAdvancedItemCard:n.getAdvancedItemCard,getAdvancedToolbarItem:n.getAdvancedToolbarItem,getAdvancedToolbar:n.getAdvancedToolbar,getAdvancedToolControlBar:n.getAdvancedToolControlBar,getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox};this.storeProps.custom=o;this.forceUpdate()}render(){return this.storeProps?so.createElement(Do,{...this.storeProps},so.createElement(Ks,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},so.createElement(Ee,null))):null}};import qr,{useEffect as ei}from"react";import Jr from"react-dom";import Ae,{Suspense as qs,useMemo as Js}from"react";var Qs=Ae.lazy(()=>import("./basic-VUF4KTO6.js"));var Zs=e=>{return{filterTool:e.filterToolStore,focusTool:e.focusToolStore,adjustmentsTool:e.adjustmentsToolStore,overlayTool:e.overlayToolStore,frameTool:e.frameToolStore,brushTool:e.brushToolStore,transformTool:e.transformToolStore,scale:e.scale,sprite:e.spriteStore,stickerTool:e.spriteStore.stickerToolStore,textTool:e.spriteStore.textToolStore,textDesignTool:e.spriteStore.textDesignToolStore,library:e.libraryStore,modal:e.modalStore,snapping:e.snappingStore,config:e.configStore,active:e.activeStore,canvas:e.canvasStore,history:e.historyStore,editor:e}};var ao=({editor:e})=>{const t=Js(()=>{return Zs(e)},[e]);if(e.configStore.config.layout==="basic"){return Ae.createElement(qs,{fallback:Ae.createElement("div",null)},Ae.createElement(Qs,{editor:e,storeProps:t}))}return Ae.createElement(io,{editor:e,storeProps:t})};var Qr=class extends Ne{constructor(t,r,n){super();this.dispose=()=>{if(this.container){Jr.unmountComponentAtNode(this.container);this.removeAllListeners(d.EXPORT);this.removeAllListeners(d.HISTORY_UNDO);this.removeAllListeners(d.HISTORY_REDO);this.removeAllListeners(d.HISTORY_CHANGE);this.removeAllListeners(d.EDITOR_READY);this.removeAllListeners(d.ERROR_IMAGE_LOADING);this.removeAllListeners(d.IMAGE_LOAD);this.removeAllListeners(d.TOOL_ENTER);this.removeAllListeners(d.STICKER_UPLOAD_ADD);this.removeAllListeners(d.ERROR_WEBGL_CONTEXT_LOST);this.removeAllListeners(d.CROP_DIMENSIONS_CHANGE)}};this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.getImageMimeType=()=>{return this.editor.getImageMimeType()};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.container=r;const o={[d.EXPORT]:s=>{this.emit(d.EXPORT,s)},[d.CLOSE]:()=>{this.dispose();this.emit(d.CLOSE)},[d.HISTORY_UNDO]:()=>{this.emit(d.HISTORY_UNDO)},[d.HISTORY_REDO]:()=>{this.emit(d.HISTORY_REDO)},[d.HISTORY_CHANGE]:()=>{this.emit(d.HISTORY_CHANGE)},[d.STICKER_UPLOAD_ADD]:s=>{this.emit(d.STICKER_UPLOAD_ADD,s)},[d.CROP_DIMENSIONS_CHANGE]:s=>{this.emit(d.CROP_DIMENSIONS_CHANGE,s)}};if(n){Object.entries(n).forEach(([s,m])=>{o[s]=m(this)})}this.editor=new _e({...t},o)}hasChanges(){return this.editor.hasChanges()}};var Zr=class{constructor(){this.container=null}init(t){return new Promise((r,n)=>{if(typeof window==="undefined"){r();return}this.container=typeof t.container==="string"?document.querySelector(t.container):t.container;if(this.container){this.editorApi=new Qr(t,this.container,{[d.EDITOR_READY]:o=>()=>{setTimeout(()=>{o.emit(d.EDITOR_READY)},0);r(o)},[d.ERROR_IMAGE_LOADING]:o=>s=>{setTimeout(()=>{o.emit(d.ERROR_IMAGE_LOADING,s)},0);r(o)},[d.ERROR_WEBGL_CONTEXT_LOST]:o=>s=>{setTimeout(()=>{o.emit(d.ERROR_WEBGL_CONTEXT_LOST,s)},0);r(o)},[d.IMAGE_LOAD]:o=>()=>{setTimeout(()=>{o.emit(d.IMAGE_LOAD)},0);r(o)},[d.TOOL_ENTER]:o=>s=>{setTimeout(()=>{o.emit(d.TOOL_ENTER,s)},0);r(o)}});Jr.render(qr.createElement(oi,{editor:this.editorApi.editor}),this.container)}else{n(new Error("Provide a container"))}})}};var oi=({editor:e})=>{ei(()=>{return()=>{if(e.engine){e.engine.dispose()}e.configStore.events.removeAllListeners(d.EXPORT);e.configStore.events.removeAllListeners(d.CLOSE);e.configStore.events.removeAllListeners(d.HISTORY_UNDO);e.configStore.events.removeAllListeners(d.HISTORY_REDO);e.configStore.events.removeAllListeners(d.HISTORY_CHANGE);e.configStore.events.removeAllListeners(d.EDITOR_READY);e.configStore.events.removeAllListeners(d.ERROR_IMAGE_LOADING);e.configStore.events.removeAllListeners(d.IMAGE_LOAD);e.configStore.events.removeAllListeners(d.TOOL_ENTER);e.configStore.events.removeAllListeners(d.STICKER_UPLOAD_ADD);e.configStore.events.removeAllListeners(d.ERROR_WEBGL_CONTEXT_LOST);e.configStore.events.removeAllListeners(d.CROP_DIMENSIONS_CHANGE)}},[]);return qr.createElement(ao,{editor:e})};var ti={init:e=>{const t=new Zr;return t.init(e)}};import Fo from"react";var en=class extends Fo.Component{constructor(t){super(t);this.ui=new Ne;this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.dispose=()=>{this.ui.removeAllListeners(d.EXPORT);this.ui.removeAllListeners(d.HISTORY_UNDO);this.ui.removeAllListeners(d.HISTORY_REDO);this.ui.removeAllListeners(d.HISTORY_CHANGE);this.ui.removeAllListeners(d.EDITOR_READY);this.ui.removeAllListeners(d.ERROR_IMAGE_LOADING);this.ui.removeAllListeners(d.IMAGE_LOAD);this.ui.removeAllListeners(d.TOOL_ENTER);this.ui.removeAllListeners(d.STICKER_UPLOAD_ADD);this.ui.removeAllListeners(d.ERROR_WEBGL_CONTEXT_LOST);this.ui.removeAllListeners(d.CROP_DIMENSIONS_CHANGE)};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.editor=new _e({...t},{[d.EXPORT]:r=>{this.ui.emit(d.EXPORT,r)},[d.CLOSE]:()=>{this.componentWillUnmount();this.ui.emit(d.CLOSE)},[d.HISTORY_UNDO]:()=>{this.ui.emit(d.HISTORY_UNDO)},[d.HISTORY_REDO]:()=>{this.ui.emit(d.HISTORY_REDO)},[d.HISTORY_CHANGE]:()=>{this.ui.emit(d.HISTORY_CHANGE)},[d.EDITOR_READY]:()=>{this.ui.emit(d.EDITOR_READY)},[d.ERROR_IMAGE_LOADING]:r=>{this.ui.emit(d.ERROR_IMAGE_LOADING,r)},[d.IMAGE_LOAD]:()=>{this.ui.emit(d.IMAGE_LOAD)},[d.TOOL_ENTER]:r=>{this.ui.emit(d.TOOL_ENTER,r)},[d.STICKER_UPLOAD_ADD]:r=>{this.ui.emit(d.STICKER_UPLOAD_ADD,r)},[d.CROP_DIMENSIONS_CHANGE]:r=>{this.ui.emit(d.CROP_DIMENSIONS_CHANGE,r)},[d.ERROR_WEBGL_CONTEXT_LOST]:()=>{this.ui.emit(d.ERROR_WEBGL_CONTEXT_LOST)}})}componentWillUnmount(){this.dispose()}hasChanges(){return this.editor.hasChanges()}render(){return Fo.createElement(ao,{editor:this.editor})}};var ri=e=>{if(typeof window==="undefined"){return null}return Fo.createElement(en,{...e})};var pS=()=>{const{active:e}=i();return e.newImage};var CS=()=>{const e=i();return e.config.isLayoutAdvanced};Uo({isolateGlobalState:true});var{Container:DS,Input:ni,ColorItem:wS,ColorItemBase:NS,ColorItemBackground:PS,ColorItemTiledBackground:_S,ColorItemActiveOverlay:RS,Dialog:HS,DialogBase:$S,DialogContainer:MS,DialogBackdrop:zS,DialogHeader:GS,DialogBody:WS,DialogFooter:jS,DialogSpinner:YS}=C;var{Search:si,Label:VS,Checkbox:XS,CheckboxBase:KS,CheckboxInput:qS,CheckboxCheckMark:JS}=ni;var QS=Se;var ZS=Se;var eT=si;var oT=l.Toolbar.Index;var tT=l.Sidebar.Index;var rT=Re.Toolbar.Index;var nT=Re.Controlsbar;var sT=Re.Itemsbar;export{no as a,ti as b,ri as c,pS as d,CS as e,DS as f,wS as g,NS as h,PS as i,_S as j,RS as k,HS as l,$S as m,MS as n,zS as o,GS as p,WS as q,jS as r,YS as s,VS as t,XS as u,KS as v,qS as w,JS as x,QS as y,ZS as z,eT as A,oT as B,tT as C,rT as D,nT as E,sT as F};
