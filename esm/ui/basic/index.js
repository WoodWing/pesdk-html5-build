import{A as on,a as T,b as V,c as Ce,d as he,e as G,f as X,g as mn,h as xn,i as Cn,k as So,l as E,m as Lr,n as _e,p as In,q as gn,r as Le,s as Jr,t as yn,u as qr,v as Tn,w as Mr,x as hr,y as Gr,z as ho}from"../../chunk.AN6FD3K2.js";import{$ as To,H as yo,X as cr,Y as d,ca as cn,da as v,ea as x,ga as c,h as wn,i as Un,ia as a,j as Ln,ja as kn,ka as C,v as br,y as Je}from"../../chunk.BTYY4BFL.js";import{$ as Fo,V as Y,X as Io,Z as kr,_ as Dt,ba as wo,d as i,ea as zt,ga as Z,t as u}from"../../chunk.QYMXB7UL.js";import go from"react";import{ThemeProvider as Bn}from"styled-components";var Wo={ripple:wn,scale:Un,slide:Ln};var de=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},V.createElement("defs",null,V.createElement("path",{id:"photoeditorsdk-icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),V.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},V.createElement("mask",{fill:"currentColor"},V.createElement("use",{xlinkHref:"#photoeditorsdk-icon-add-text"})),V.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-icon-add-text"}))),fe=de;var ue=()=>Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ce.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"})),be=ue;var ge=()=>he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},he.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"})),Te=ge;function xe(){return G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},G.createElement("defs",null,G.createElement("path",{id:"photoeditorsdk-shuffle-icon",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),G.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},G.createElement("mask",{fill:"currentColor"},G.createElement("use",{xlinkHref:"#photoeditorsdk-shuffle-icon"})),G.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shuffle-icon"})))}var ye=xe;var Se=()=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},X.createElement("defs",null,X.createElement("path",{id:"photoeditorsdk-upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),X.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},X.createElement("mask",{fill:"currentColor"},X.createElement("use",{xlinkHref:"#photoeditorsdk-upload-icon"})),X.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-upload-icon"}))),ke=Se;var g={addText:fe,openWebcam:be,reset:Te,shuffle:ye,uploadImage:ke};import D from"react";import hn from"styled-components";import K from"react";import ve from"react";import Be from"styled-components";var zo=Be(To)`
  margin: 2px;
  min-width: ${o=>o.theme.measurements.basicCard.large.width}px;
  height: ${o=>o.theme.measurements.basicCard.large.height}px;
  color: ${o=>o.theme.card.foreground};
`;import Ie from"styled-components";var Ho=Ie(To)`
  margin: 2px;
  min-width: ${o=>o.theme.measurements.basicCard.medium.width}px;
  height: ${o=>o.theme.measurements.basicCard.medium.height}px;
  color: ${o=>o.theme.card.foreground};
`;var xo=o=>{let t=o.type===u.LARGE,e=Ho;return t&&(e=zo),ve.createElement(e,Y({},o))};xo.defaultProps={type:u.MEDIUM};import we from"styled-components";var jo=we(yo).attrs(()=>({"data-test":x.CardContainer}))`
  transition-property: width;
  transition-duration: 0.4s;
  transition-timing-function: ease-in;
  height: ${o=>o.theme.measurements.basicToolControlBar.itemsBarHeight}px;
`;import Ue from"styled-components";var No=Ue(Le)`
  &&& {
    min-height: 32px;
    font-size: ${o=>o.theme.measurements.fontSystem.basicUICardLabel.size}px;
    letter-spacing: ${o=>o.theme.measurements.fontSystem.basicUICardLabel.letterSpacing}px;
    text-transform: ${o=>o.theme.measurements.fontSystem.basicUICardLabel.case};
  }
`;import Fe from"styled-components";var Vo=Fe.div`
  display: flex;
  /* This fixes an IE11 issue where the items are behind the category */
  flex: 1 0 auto;
`;import Ae,{css as Go}from"styled-components";var Xo=Ae.div`
  position: relative;
  display: flex;
  flex-shrink: 0;
  height: auto;
  transition: max-height 0.4s ease-in-out;
  ${o=>o.show?Go`
          max-height: 80px;
        `:Go`
          max-height: 0px;
        `}
`,Yo=Xo;Xo.defaultProps={show:!0};import Ee from"styled-components";var Oe=Ee.div`
  text-align: -moz-center;
  text-align: center;
  text-align: -webkit-center;
  margin: 0 10vw;
  height: auto;
  box-shadow: ${o=>o.theme.toolControlBar.shadow};
  @media all and (min-width: 0) and (max-width: 599px) {
    margin: 0 5vw;
  }
`,_o=Oe;import De from"styled-components";var $e=De.div`
  width: 100px;
  @media all and (min-width: 0) and (max-width: 599px) {
    width: 42px;
  }
`,Jo=$e;import Pe,{css as Me}from"styled-components";var Ko=Pe.div.attrs(()=>({"data-test":x.ToolControlBarExpandableControls}))`
  position: absolute;
  left: 0%;
  transform: translateY(0%) scaleY(0);
  justify-content: center;
  padding: 0 5vw;
  width: 90%;
  height: ${o=>o.theme.measurements.basicToolControlBar.controlsBarHeight}px;
  display: flex;
  align-items: center;
  transition: transform 0.4s ease-in-out;
  z-index: ${o=>o.theme.measurements.zIndex.controlsBar};
  background: ${o=>o.theme.toolControlBar.background};
  color: ${o=>o.theme.toolControlBar.inputLabelForeground};

  ${({show:o})=>o&&Me`
      transform: translateY(-100%) scaleY(1);
    `}
`;import J from"react";import Qe from"styled-components";import We from"react";import ze from"styled-components";var He=ze.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,je=({label:o,className:t,children:e})=>We.createElement(He,{"aria-label":o,className:t},e),$=je;import k from"react";import ot from"styled-components";import Ne from"styled-components";var Ve=Ne.div`
  display: flex;
  justify-content: center;
  align-items: center;
  animation: ${Wo.scale} 0.2s linear;
  animation-fill-mode: both;
  height: 40px;
  min-width: 350px;
  @media all and (min-width: 0) and (max-width: 599px) {
    min-width: 280px;
  }
`,qo=Ve;import Qo from"react";import Ge,{css as Xe}from"styled-components";var Zo=Xe`
  background: ${o=>o.theme.tabTitle.activeBackground};
  color: ${o=>o.theme.tabTitle.activeForeground};
  border-bottom: 1px solid ${o=>o.theme.tabTitle.activeBorderColor};
`,Ye=Ge(So)`
  display: inline-flex;
  align-items: center;
  font-size: ${o=>o.theme.measurements.fontSystem.basicUITabLabel.size}px;
  letter-spacing: ${o=>o.theme.measurements.fontSystem.basicUITabLabel.letterSpacing}px;
  text-transform: ${o=>o.theme.measurements.fontSystem.basicUITabLabel.case};
  color: ${o=>o.theme.tabTitle.foreground};
  border-radius: 0px;
  padding: 1px 12px 2px;
  background: ${o=>o.theme.tabTitle.background};

  ${({isActive:o})=>o&&Zo}

  &:active {
    ${Zo}
  }

  @media all and (min-width: 0) and (max-width: 599px) {
    max-width: 150px;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
`,ko=class extends Qo.Component{constructor(){super(...arguments);this.onClick=()=>{let{label:t,onClick:e}=this.props;e(t)}}render(){let{activeTab:t,label:e}=this.props;return Qo.createElement(Ye,{ariaLabel:e,isActive:t===e,onClick:this.onClick},e)}},Ro=ko;var Ke=ot(Je)`
  display: inline-flex;
  padding: 0 4px;
  height: 20px;
  font-size: 16px;
`,qe=ot(_e)`
  display: inline-flex;
  justify-content: center;
  transform: translate(-100%, -100%);
  @media all and (min-width: 0) and (max-width: 499px) {
    left: 0;
    right: 0;
    transform: translateY(-120%);
    background: transparent;
    button {
      &:first-child {
        border-bottom-right-radius: 0;
        border-top-right-radius: 0;
      }
      &:last-child {
        border-bottom-left-radius: 0;
        border-top-left-radius: 0;
      }
      &:not(:first-child):not(:last-child) {
        border-radius: 0;
      }
    }
  }
`,tt=class extends k.Component{constructor(t){super(t);this.onTabClick=t=>{this.setState({activeTab:t,toggleExtend:!1})};this.getDropUp=()=>{let{length:t}=this.props,{toggleExtend:e}=this.state,n=k.Children.toArray(this.props.children),s=k.Children.count(this.props.children),p=n.slice(t,s);return k.createElement(qe,{show:e},p.map(l=>{let m=l.props.label||"";return k.createElement(So,{onClick:()=>this.onTabClick(m),key:m,ariaLabel:"More Options"},m)}))};this.extend=()=>{this.setState(({toggleExtend:t})=>({toggleExtend:!t}))};this.getExtension=()=>k.createElement(Ke,{onClick:this.extend,ariaLabel:"Select Next"},"...");let e=k.Children.count(this.props.children),n=k.Children.toArray(this.props.children);this.state={activeTab:e&&n[0].props&&n[0].props.label||"",toggleExtend:!1}}render(){let{length:t}=this.props,{activeTab:e,toggleExtend:n}=this.state,s=k.Children.toArray(this.props.children).slice(0,t),p=k.Children.count(this.props.children)>t;return k.createElement("div",null,s.map(l=>{if(l){let m=l.props.label||"";return k.createElement(Ro,{activeTab:e,key:m,label:m,onClick:this.onTabClick})}return null}),p?this.getExtension():null,n?this.getDropUp():null,k.Children.map(this.props.children,l=>!l||l.props&&l.props.label!==e?null:k.createElement(qo,{key:l.props.label},l.props.children)))}},_=tt;var Ze=Qe.div`
  position: relative;
  white-space: nowrap;
  display: flex;
  transition: all 0.2s linear;
`,lo=class extends J.Component{constructor(t){super(t);this.updateLength=()=>{let{maxWidth:t,children:e}=this.props,n=0;if(t)n=t;else{let l=window.innerWidth,m=l>600?300:200;n=l-m}let s=J.Children.count(e),p=n-s*lo.TAB_WIDTH;if(p<0){let l=Math.round(Math.abs(p/lo.TAB_WIDTH));this.setState({length:s-l})}};this.state={length:J.Children.count(this.props.children)}}componentDidMount(){window.addEventListener("resize",this.updateLength),this.updateLength()}componentWillUnmount(){window.removeEventListener("resize",this.updateLength)}render(){let{children:t}=this.props,{length:e}=this.state;return e?J.createElement(Ze,null,J.createElement(_,{length:e},t)):null}},ao=lo;ao.TAB_WIDTH=120;import Re,{css as or}from"styled-components";var tr=Re.div`
  &:after {
    content: '';
    position: absolute;
    bottom: 0px;
    ${o=>o.full?or`
            left: -24px;
            width: calc(100% + 48px);
          `:`
      left: 24px;
      width: calc(100% - 48px);
    `}
    border-bottom: 1px solid ${o=>o.theme.toolControlBar.separatorColor};
  }
`,et=tr;import er from"styled-components";var rr=er(c.Input.Slider).attrs(()=>({centerSlider:!0}))`
  max-width: 224px;
`,rt=rr;import nr,{css as sr}from"styled-components";var ir=nr.div.attrs(()=>({"data-test":x.CategoryItemsContainer}))`
  visibility: hidden;
  opacity: 0;
  display: none;

  ${({show:o})=>o&&sr`
      opacity: 1;
      visibility: visible;
      display: flex;
    `}
`,nt=ir;import ar,{css as st}from"styled-components";var Bo=ar.div`
  display: flex;
  flex-shrink: 0;
  justify-content: center;
  position: relative;
  width: 100%;
  z-index: ${o=>o.theme.measurements.zIndex.toolControlBar};

  ${o=>o.show?st`
          transition-timing-function: ease-in;
          transition-duration: 0.3s;
          transition-property: all;
          padding: 2px 0px;
          background: ${o.theme.toolControlBar.background};
          color: ${o.theme.toolControlBar.inputLabelForeground};
        `:st`
          max-height: 0px;
        `}
`;Bo.defaultProps={show:!0};import lr from"styled-components";var mr=lr.div`
  height: ${o=>o.theme.measurements.basicToolControlBar.itemsBarHeight}px;
  width: 2px;
  margin: 0 10px;
  display: inline-flex;
  position: relative;
  &:after {
    content: ' ';
    right: 0px;
    position: absolute;
    top: 8px;
    height: calc(100% - 16px);
    border-right: 1px solid
      ${o=>o.theme.toolControlBar.separatorColor};
  }
`,it=mr;import pt from"react";import dr,{css as ct}from"styled-components";import mo,{css as pr}from"styled-components";var at=mo.span`
  display: flex;
  cursor: pointer;
  z-index: ${o=>o.theme.measurements.zIndex.label};
  transition: bottom 0.3s linear;
`,lt=pr`
  background-color: ${o=>o.theme.toolbar.activeBackground};
  color: ${o=>o.theme.toolbar.activeForeground};
`,po=mo(cr)`
  display: block;
  height: 100%;
  width: 100%;
  color: ${o=>o.theme.toolbar.foreground};
  background-color: ${o=>o.theme.toolbar.background};
  border: unset;
  box-shadow: unset;
  font-size: ${o=>o.theme.measurements.fontSystem.label.size}px;
  letter-spacing: ${o=>o.theme.measurements.fontSystem.label.letterSpacing}px;
  text-transform: ${o=>o.theme.measurements.fontSystem.label.case};
  font-family: '${o=>o.theme.typography.fontFamily}', sans-serif;

  ${({isActive:o})=>o&&lt}

  &:active {
    ${lt}
  }

  svg {
    display: flex;
    transition: visibility 0s, opacity 0.5s linear;
    visibility: visible;
    opacity: 1;
  }
`,mt=mo.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,co=mo.div.attrs({role:"none"})`
  display: flex;
  height: ${o=>o.theme.measurements.basicUIToolbar.openHeight-2}px;
  text-align: center;
  min-width: 100px;
  /* Allow the text to grow in this limit */
  max-width: 150px;
  position: relative;
  /* Position inline-block box at the top of the line box */
  vertical-align: top;
  /* Allow text to wrap again, overwriting the Toolbar style */
  white-space: normal;
  margin: 1px;
`;var fr=dr.div`
  display: flex;
  flex-shrink: 0;
  justify-content: center;
  position: relative;
  width: 100%;
  transition: height 0.2s ease-out, display 0.1s fade-out;
  background-color: ${o=>o.theme.toolbar.background};
  color: ${o=>o.theme.toolbar.foreground};
  z-index: ${o=>o.theme.measurements.zIndex.toolbar};

  ${o=>o.show?ct`
          height: ${o.theme.measurements.basicUIToolbar.closeHeight}px;
          ${po} {
            svg {
              visibility: hidden;
              opacity: 0;
              height: 0;
            }
          }
          ${co} {
            height: ${o.theme.measurements.basicUIToolbar.closeHeight}px;
          }
        `:ct`
          height: ${o.theme.measurements.basicUIToolbar.openHeight}px;
        `}
`,dt=({show:o=!1,children:t})=>pt.createElement(fr,{"data-test":x.Toolbar,show:o},pt.createElement(yo,null,t));import fo from"react";var ft=({children:o,label:t,isActive:e,onClick:n})=>fo.createElement(co,{"aria-haspopup":!0,"aria-expanded":e},fo.createElement(po,{"data-test":x.ToolbarItem,ariaLabel:t,onClick:n,isActive:e},fo.createElement(mt,null,o,fo.createElement(at,null,t))));import Cr,{css as Ct}from"styled-components";var ur=Cr.li.attrs({role:"none"})`
  ${o=>o.active?Ct`
          height: ${o.theme.measurements.basicUIToolbar.closeHeight}px;
        `:Ct`
          height: ${o.theme.measurements.basicUIToolbar.openHeight}px;
        `}
  width: 2px;
  display: inline-block;
  position: relative;
  &:after {
    content: ' ';
    right: 0px;
    position: absolute;
    top: 8px;
    height: calc(100% - 16px);
    border-right: 1px solid
      ${o=>o.theme.toolControlBar.separatorColor};
  }
`,ut=ur;var r={CardContainer:jo,ExpandableContainer:nt,CategoryContainer:Vo,Card:xo,CardAvatar:br,CardLabel:No,Toolbar:{Index:dt,Item:ft,Separator:ut},BarSeparator:et,ItemsSeparator:it,Itemsbar:Bo,Controlsbar:Yo,ControlsbarContainer:Ko,ResponsiveTabWrapper:ao,Slider:rt,TabWrapper:_,Tab:$,Other:{ControlsWrapper:_o,EmptyDiv:Jo}};var gr=({config:o,active:t})=>{let{tools:e}=o,n=t.tool,s=m=>{let f=o.state.config[m];if(f.icon){let h=f.icon;return K.createElement(h,null)}let S=hr[m];return K.createElement(S,null)||null},p=m=>o.locale[m].title,l=(m,f)=>m&&K.createElement(r.Toolbar.Item,{onClick:()=>t.selectTool(m),key:m,label:p(m),isActive:n===m},s(m))||K.createElement(r.Toolbar.Separator,{key:m+f,active:!!n});return K.createElement(r.Toolbar.Index,{show:!!n},e.map(l))},bt=C("config","active")(a(gr));import b from"react";import P,{useRef as ht}from"react";var Tr=({adjustmentsTool:o,custom:t})=>{let e=o.selectedAdjustmentType.toLowerCase(),n=o[e],s=ht(!1),p=ht(n),l=t.getButton("toolControlBarSecondaryButton"),m=f=>{s.current&&f!==p.current&&(o.toolSnapshot(),s.current=!1,p.current=f)};return P.createElement(r.ControlsbarContainer,{show:Boolean(e)},P.createElement(l,{tool:i.ADJUSTMENT,ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:P.createElement(g.reset,null),label:o.locale.controls.buttonReset}),P.createElement(r.Other.ControlsWrapper,null,P.createElement(c.Spacer,{count:2}),P.createElement(r.Slider,{"aria-hidden":!e,adjust:!0,style:{width:"280px"},label:o.selectedOptionLabel,value:n,onChange:f=>{o.editAdjustments({type:e,value:f}),s.current=n!==f},onMouseUp:m,onTouchEnd:m,snap:0}),P.createElement(c.Spacer,{count:2}),P.createElement(r.BarSeparator,null)),P.createElement(r.Other.EmptyDiv,null))},gt=C("adjustmentsTool","custom")(a(Tr));import L from"react";import Co from"react";var Tt=a(()=>{let{brushTool:o}=d(),{colorList:t,locale:e,localeColor:n}=o,s=e.controls,p=n.colorPicker;return Co.createElement(Co.Fragment,null,Co.createElement(c.Input.Selection,{showLabel:!1,label:s.selectColor},Co.createElement(E,{tool:i.BRUSH,activeColor:o.color,colors:t,labelsColor:p,colorPickerDirection:"top",onChange:o.changeColor})))});import xr from"react";var xt=a(()=>{let{brushTool:o}=d(),{locale:t}=o,e=t.controls;return xr.createElement(r.Slider,{"data-test":x.BrushHardness,style:{width:"280px"},showLabel:!1,label:e.sliderHardness,value:o.hardness,min:0,max:1,onChange:o.changeHardness})});import yr from"react";var yt=a(()=>{let{brushTool:o}=d(),{locale:t}=o,e=t.controls;return yr.createElement(r.Slider,{"data-test":x.BrushSize,style:{width:"280px"},showLabel:!1,label:e.sliderSize,value:o.relativeSize,min:1,max:100,divider:1,onChange:o.changeRelativeSize})});var Sr=r.TabWrapper,{Tab:vo}=r,St=a(()=>{let{brushTool:o,custom:t}=d(),{locale:e,config:n}=o,{basicUIToolControlBarTabsOrder:s}=n,p=e.controls,l=t.getButton("toolControlBarSecondaryButton"),m=f=>{switch(f){case Io.BrushColor:return L.createElement(vo,{key:f,label:p.tabColor},L.createElement(Tt,null));case Io.BrushSize:return L.createElement(vo,{key:f,label:p.tabSize},L.createElement(yt,null));case Io.BrushHardness:return L.createElement(vo,{key:f,label:p.tabHardness},L.createElement(xt,null));default:return null}};return L.createElement(r.ControlsbarContainer,{style:{justifyContent:"center"},show:!0},L.createElement(l,{tool:i.BRUSH,ariaLabel:p.buttonReset,onClick:o.reset,icon:L.createElement(g.reset,null),isDisabled:!o.isDirty,label:p.buttonReset}),L.createElement(r.Other.ControlsWrapper,null,L.createElement(c.Input.Form,null,L.createElement(Sr,null,s.map(f=>m(f))))))});import Q from"react";import q from"react";var kt=a(()=>{let{filterTool:o}=d(),{state:t}=o,e=o.locale.controls,n=()=>{o.toolSnapshot()};return q.createElement(r.Other.ControlsWrapper,null,q.createElement(c.Spacer,{count:2}),q.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,style:{width:"280px"},label:e.sliderIntensity,value:t.intensity,min:0,max:1,onMouseUp:n,onTouchEnd:n,onChange:o.changeIntensity,snap:t.isDuotone?.5:null}),q.createElement(c.Spacer,{count:2}),q.createElement(r.BarSeparator,null))});var Bt=a(()=>{let{filterTool:o,custom:t}=d(),{config:e}=o,{basicUIToolControlBarTabsOrder:n}=e,s=t.getButton("toolControlBarSecondaryButton"),p=l=>{switch(l){case kr.FilterIntensity:return Q.createElement(kt,{key:l});default:return null}};return Q.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},Q.createElement(s,{tool:i.FILTER,ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:Q.createElement(g.reset,null),label:o.locale.controls.buttonReset}),n.map(l=>p(l)),Q.createElement(r.Other.EmptyDiv,null))});import M from"react";var It=a(()=>{let{focusTool:o,custom:t}=d(),e=o.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),s=()=>{o.toolSnapshot(e.sliderIntensity)};return M.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},M.createElement(n,{tool:i.FOCUS,ariaLabel:e.buttonReset,onClick:o.reset,icon:M.createElement(g.reset,null),label:e.buttonReset}),M.createElement(r.Other.ControlsWrapper,null,M.createElement(c.Spacer,{count:2}),M.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,style:{width:"280px"},label:e.sliderIntensity,value:o.relativeIntensity,min:0,max:100,divider:1,onChange:o.changeRelativeIntensity,onMouseUp:s,onTouchEnd:s}),M.createElement(c.Spacer,{count:2}),M.createElement(r.BarSeparator,null)),M.createElement(r.Other.EmptyDiv,null))});import B from"react";import vt from"react";var wt=a(()=>{let{frameTool:o}=d(),t=o.locale.controls,e=o.localeColor.colorPicker,{colorList:n}=o;return vt.createElement(c.Input.Selection,{label:t.selectColor,showLabel:!1},vt.createElement(E,{tool:i.FRAME,activeColor:o.color,colors:n,labelsColor:e,colorPickerDirection:"top",onChange:o.changeColor,onAddSnapshot:o.colorSnapshot}))});import Br from"react";var Ut=a(()=>{let{frameTool:o}=d(),t=o.locale.controls,e=()=>{o.toolSnapshot(t.sliderOpacity)};return Br.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:o.opacity,min:0,max:1,onChange:o.changeOpacity,onMouseUp:e,onTouchEnd:e})});import Ir from"react";var Lt=a(()=>{let{frameTool:o}=d(),t=o.locale.controls,e=()=>{o.toolSnapshot(t.sliderSize)};return Ir.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderSize,value:o.size,min:o.minSize,max:o.maxSize,divider:1,onChange:o.changeWidth,onMouseUp:e,onTouchEnd:e})});var vr=r.TabWrapper,{Tab:Uo}=r,Ft=a(()=>{let{frameTool:o,custom:t}=d(),e=o.locale.controls,{tintable:n,config:s}=o,{basicUIToolControlBarTabsOrder:p}=s,l=t.getButton("toolControlBarSecondaryButton"),m=f=>{switch(f){case wo.FrameOpacity:return B.createElement(Uo,{key:f,label:e.tabOpacity},B.createElement(Ut,null));case wo.FrameSize:return B.createElement(Uo,{key:f,label:e.tabSize},B.createElement(Lt,null));case wo.FrameColor:return n&&B.createElement(Uo,{key:f,label:e.tabColor},B.createElement(wt,null));default:return null}};return B.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},B.createElement(l,{tool:i.FRAME,ariaLabel:e.buttonReset,onClick:o.reset,icon:B.createElement(g.reset,null),label:e.buttonReset}),B.createElement(r.Other.ControlsWrapper,null,B.createElement(c.Spacer,null),B.createElement(vr,null,p.map(f=>m(f))),B.createElement(r.BarSeparator,null)),B.createElement(r.Other.EmptyDiv,null))});import W from"react";import wr,{css as Ur}from"styled-components";var Fr=wr(r.ControlsbarContainer)`
  ${o=>o.firstChildMargin&&Ur`
      > :first-child {
        margin-right: 16px;
      }
    `}
`,Ar=({library:o,active:t,custom:e})=>{let n=o.locale.controls.placeholderSearch,{config:s}=o,p=e.getButton("toolControlBarPrimaryButton"),l=h=>{o.fetchImages(h)},m=h=>{let{files:N}=h.target;if(N.length){let Mo=new FileReader;Mo.onload=ce=>{t.newImage(ce.target.result)},Mo.readAsDataURL(N[0])}},f=()=>{t.selectWebcam(!0)},S=()=>{let h=document.getElementById("fileUpload");h&&h.click()};return W.createElement(Fr,{firstChildMargin:s.enableWebcam&&!o.libraryProvider,show:!0},s.enableUpload&&W.createElement(p,{tool:i.LIBRARY,ariaLabel:o.locale.controls.buttonUpload,onClick:S,icon:W.createElement(g.uploadImage,null),label:o.locale.controls.buttonUpload},W.createElement(c.Input.File,{onChange:m})),o.libraryProvider&&W.createElement(r.Other.ControlsWrapper,null,W.createElement(c.Input.Search,{onChange:l,placeholder:n})),s.enableWebcam&&W.createElement(Lr,{tool:i.LIBRARY,onClick:f,icon:W.createElement(g.openWebcam,null),label:o.locale.controls.buttonWebcamOpen}),W.createElement(r.BarSeparator,null))},At=C("library","active","custom")(a(Ar));import F from"react";import Er from"react";var Et=a(()=>{let{overlayTool:o}=d(),t=o.locale.controls,{blendMode:e,allBlendModes:n}=o,s=p=>{o.changeBlendMode(p)};return Er.createElement(c.Input.CarouselSlider,{showLabel:!1,label:t.carouselBlendMode,defaultIdentifier:e,onSelect:s,list:n})});import Or from"react";var Ot=a(()=>{let{overlayTool:o}=d(),t=o.locale.controls,{state:e}=o,n=()=>{o.toolSnapshot()};return Or.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:o.changeOpacity,onMouseUp:n,onTouchEnd:n})});var Dr=r.TabWrapper,{Tab:$t}=r,Pt=a(()=>{let{overlayTool:o,custom:t}=d(),{config:e}=o,{basicUIToolControlBarTabsOrder:n}=e,s=o.locale.controls,p=t.getButton("toolControlBarSecondaryButton"),l=m=>{switch(m){case Dt.OverlayBlendMode:return F.createElement($t,{key:m,label:s.tabBlendMode},F.createElement(Et,null));case Dt.OverlayOpacity:return F.createElement($t,{key:m,label:s.tabOpacity},F.createElement(Ot,null));default:return null}};return F.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},F.createElement(p,{tool:i.OVERLAY,ariaLabel:s.buttonReset,onClick:o.reset,icon:F.createElement(g.reset,null),label:s.buttonReset}),F.createElement(r.Other.ControlsWrapper,null,F.createElement(c.Spacer,null),F.createElement(Dr,null,n.map(m=>l(m))),F.createElement(r.BarSeparator,null)),F.createElement(r.Other.EmptyDiv,null))});import A from"react";import Pr from"styled-components";import uo from"react";var Mt=a(()=>{let{stickerTool:o}=d(),t=o.locale.controls,e=o.localeColor.colorPicker,{colorList:n}=o;return uo.createElement(uo.Fragment,null,uo.createElement(c.Input.Selection,{isDisabled:!o.isStickerSelected,showLabel:!1,label:t.selectColor},uo.createElement(E,{tool:i.STICKER,activeSprite:o.id,activeColor:o.tintColor,colors:n,labelsColor:e,isDisabled:!o.isStickerSelected,colorPickerDirection:"top",onChange:o.changeTintColor,onAddSnapshot:o.tintColorSnapshot})))});import $r from"react";var Wt=a(()=>{let{stickerTool:o}=d(),t=o.locale.controls,e=()=>{o.toolSnapshot()};return $r.createElement(r.Slider,{isDisabled:!o.isStickerSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:o.opacity,min:0,max:1,onMouseUp:e,onTouchEnd:e,onChange:o.changeOpacity})});var Wr=r.TabWrapper,{Tab:Ht}=r,zr=Pr.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})`
  ${Mr.VisuallyHidden}
`,jt=a(()=>{let{stickerTool:o,custom:t}=d(),{config:e}=o,{basicUIToolControlBarTabsOrder:n}=e,s=o.locale.controls,p=t.getButton("toolControlBarPrimaryButton"),l=()=>{let h=document.getElementById("fileUpload");h&&(h.value=null,h.click())},m=h=>{let{files:N}=h.target;o.addFiles(N)},f=h=>{switch(h){case zt.StickerColor:return o.tintable?A.createElement(Ht,{key:h,label:s.tabColor},A.createElement(Mt,null)):null;case zt.StickerOpacity:return A.createElement(Ht,{key:h,label:s.tabOpacity},A.createElement(Wt,null));default:return null}},S=()=>o.isCustomStickerEnabled?A.createElement(p,{tool:i.STICKER,ariaLabel:s.buttonUpload,onClick:l,icon:A.createElement(g.uploadImage,null),label:s.buttonUpload},A.createElement(zr,{onChange:m})):null;return A.createElement(r.ControlsbarContainer,{show:!0},S(),A.createElement(r.Other.ControlsWrapper,null,A.createElement(Wr,null,n.map(h=>f(h))),A.createElement(r.BarSeparator,null)),A.createElement(r.Other.EmptyDiv,null))});import y from"react";import Nt from"react";var Vt=a(()=>{let{textTool:o}=d(),{backgroundColorList:t}=o,e=o.locale.controls,n=o.localeColor.colorPicker;return Nt.createElement(c.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:!1,label:e.selectBackgroundColor},Nt.createElement(E,{tool:i.TEXT,activeSprite:o.id,activeColor:o.backgroundColor,colors:t,labelsColor:n,colorPickerDirection:"top",isDisabled:!o.isTextSelected,onChange:o.changeBackgroundColor,onAddSnapshot:o.backgroundColorSnapshot}))});import Hr from"react";import jr from"styled-components";var Nr=jr(c.Input.NumericInput)`
  max-width: 55px;
  > div > input {
    text-align: center;
  }
`,Gt=a(()=>{let{textTool:o}=d(),t=e=>{let n=e?parseFloat(e):0;o.setFontSize(Math.max(10,Math.min(690,n)))};return Hr.createElement(Nr,{value:o.fontSize.toFixed(0),onSubmit:t,isDisabled:!o.isTextSelected})});import Vr from"react";var Xt=a(()=>{let{textTool:o}=d(),t=o.locale.controls,e=()=>{o.toolSnapshot()};return Vr.createElement(r.Slider,{isDisabled:!o.isTextSelected,showLabel:!1,label:t.sliderLineSpacing,value:o.lineHeight,min:.5,max:3,onChange:o.changeLineHeight,onMouseUp:e,onTouchEnd:e,snap:1,divider:1,decimal:1})});import Lo from"react";var Yt=a(()=>{let{textTool:o,custom:t}=d(),e=o.locale.controls,n=["left","center","right"],s=t.getButton("textAlignment");return Lo.createElement(c.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:!1,label:e.selectAlignment,"data-test":x.TextAlignment},n.map(p=>{let l=Gr[p];return Lo.createElement(s,{tool:p,isDisabled:!o.isTextSelected,ariaLabel:`Align ${p}`,isActive:p===o.alignment,key:p,icon:Lo.createElement(l,null),onClick:()=>o.changeAlignment(p)})}))});import _t from"react";var Jt=a(()=>{let{textTool:o}=d(),{colorList:t}=o,e=o.locale.controls,n=o.localeColor.colorPicker;return _t.createElement(c.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:!1,label:e.selectFontColor},_t.createElement(E,{tool:i.TEXT,activeSprite:o.id,activeColor:o.textColor,colors:t,labelsColor:n,colorPickerDirection:"top",isDisabled:!o.isTextSelected,onChange:o.changeColor,onAddSnapshot:o.colorSnapshot}))});var Xr=r.ResponsiveTabWrapper,Kt=a(()=>{let{textTool:o,custom:t}=d(),{config:e}=o,{basicUIToolControlBarTabsOrder:n}=e,s=o.locale.controls,p=t.getButton("toolControlBarPrimaryButton"),l=m=>{switch(m){case Z.FontSize:return y.createElement($,{key:m,label:s.tabFontSize},y.createElement(Gt,null));case Z.TextAligment:return y.createElement($,{key:m,label:s.tabAlignment},y.createElement(Yt,null));case Z.TextColor:return y.createElement($,{key:m,label:s.tabColor},y.createElement(Jt,null));case Z.BackgroundColor:return y.createElement($,{key:m,label:s.tabBgColor},y.createElement(Vt,null));case Z.LineSpacing:return y.createElement($,{key:m,label:s.tabLineHeight},y.createElement(Xt,null));default:return null}};return y.createElement(r.ControlsbarContainer,{show:!0},y.createElement(p,{tool:i.TEXT,ariaLabel:s.buttonNew,onClick:o.add,icon:y.createElement(g.addText,null),label:s.buttonNew}),y.createElement(r.Other.ControlsWrapper,null,y.createElement(c.Spacer,null),y.createElement(Xr,null,n.map(m=>l(m))),y.createElement(r.BarSeparator,null)),y.createElement(r.Other.EmptyDiv,null))});import z from"react";var Yr=({textDesignTool:o,custom:t})=>{let e=o.locale.controls,n=o.localeColor.colorPicker,{colorList:s}=o,p=t.getButton("toolControlBarSecondaryButton"),l=t.getButton("toolControlBarPrimaryButton");return z.createElement(r.ControlsbarContainer,{show:!0},z.createElement(l,{tool:i.TEXT_DESIGN,ariaLabel:e.buttonNew,onClick:o.add,icon:z.createElement(g.addText,null),label:e.buttonNew}),z.createElement(r.Other.ControlsWrapper,null,z.createElement(c.Input.Selection,{isDisabled:!o.isTextDesignSelected,label:e.selectColor},z.createElement(E,{tool:i.TEXT_DESIGN,activeSprite:o.id,activeColor:o.color,colors:s,labelsColor:n,colorPickerDirection:"top",isDisabled:!o.isTextDesignSelected,onChange:o.changeColor,onAddSnapshot:o.colorSnapshot}))),z.createElement(p,{tool:i.TEXT_DESIGN,ariaLabel:e.buttonShuffle,onClick:o.changeSeed,icon:z.createElement(g.shuffle,null),label:e.buttonShuffle}),z.createElement(r.BarSeparator,null))},qt=C("textDesignTool","custom")(a(Yr));import I from"react";import _r from"react";var Qt=a(()=>{let{transformTool:o}=d(),t=o.locale.controls,{forceDimensions:e}=o;return _r.createElement(Jr,{isDisabled:e,showLabel:!1,valueHeight:o.localOutputHeight,valueWidth:o.localOutputWidth,onSubmitWidth:o.onPixelWidth,onSubmitHeight:o.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth})});import Kr from"react";var Zt=()=>Kr.createElement(qr,null);import Qr from"react";var Rt=a(()=>{let{transformTool:o,custom:t}=d(),e=o.locale.controls,{forceDimensions:n}=o,s=t.getCheckbox();return Qr.createElement(s,{tool:i.TRANSFORM,isDisabled:n,style:{paddingTop:"5px",justifyContent:"center"},value:o.lockResolution,checkMarkPosition:"left",label:e.checkboxKeepResolution,onClick:o.changeLockResolution})});var Zr=r.ResponsiveTabWrapper,{Tab:Ao}=r,oe=a(()=>{let{transformTool:o,custom:t}=d(),{config:e}=o,{basicUIToolControlBarTabsOrder:n}=e,s=o.locale.controls,p=t.getButton("toolControlBarSecondaryButton"),l=m=>{switch(m){case Fo.FlipRotate:return I.createElement(Ao,{key:m,label:s.tabFlipAndRotate},I.createElement(Zt,null));case Fo.Resolution:return I.createElement(Ao,{key:m,label:s.tabResolution},I.createElement(Rt,null));case Fo.CropSize:return I.createElement(Ao,{key:m,label:s.tabCropSize},I.createElement(Qt,null));default:return null}};return I.createElement(r.ControlsbarContainer,{show:!0},I.createElement(p,{tool:i.TRANSFORM,ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:I.createElement(g.reset,null),label:o.locale.controls.buttonReset}),I.createElement(r.Other.ControlsWrapper,null,I.createElement(c.Spacer,null),I.createElement(Zr,null,n.map(m=>l(m))),I.createElement(r.BarSeparator,null)),I.createElement(r.Other.EmptyDiv,null))});var R=class extends b.Component{render(){let{active:t}=this.props,e=t.tool;return b.createElement(r.Controlsbar,{show:!!e},b.createElement(c.Switch.Index,{type:e},b.createElement(c.Switch.Case,{value:i.FILTER},b.createElement(Bt,null)),b.createElement(c.Switch.Case,{value:i.FOCUS},b.createElement(It,null)),b.createElement(c.Switch.Case,{value:i.ADJUSTMENT},b.createElement(gt,null)),b.createElement(c.Switch.Case,{value:i.OVERLAY},b.createElement(Pt,null)),b.createElement(c.Switch.Case,{value:i.STICKER},b.createElement(jt,null)),b.createElement(c.Switch.Case,{value:i.TEXT},b.createElement(Kt,null)),b.createElement(c.Switch.Case,{value:i.TEXT_DESIGN},b.createElement(qt,null)),b.createElement(c.Switch.Case,{value:i.LIBRARY},b.createElement(At,null)),b.createElement(c.Switch.Case,{value:i.FRAME},b.createElement(Ft,null)),b.createElement(c.Switch.Case,{value:i.BRUSH},b.createElement(St,null)),b.createElement(c.Switch.Case,{value:i.TRANSFORM},b.createElement(oe,null))))}};R=v([C("active","config"),a],R);import U from"react";import oo from"react";import Rr from"styled-components";var tn=Rr.div`
  position: relative;
  top: -8px;
  color: ${o=>o.theme.card.foreground};
`,en=({adjustmentsTool:o})=>{let t=(e,n)=>{let s=on[e.identifier];return oo.createElement(r.Card,{"data-test":e.identifier,tool:i.ADJUSTMENT,type:u.MEDIUM,onClick:()=>o.toggleOptionSelection(e.identifier),isActive:e.identifier===o.selectedAdjustmentType,key:`${e.identifier}-${n}`,label:e.name,style:{animationDelay:`${T(n)}s`}},oo.createElement(tn,null,oo.createElement(s,null)),oo.createElement(r.CardLabel,null,o.locale.items[e.identifier]||e.name))};return oo.createElement(r.CardContainer,null,o.items.map(t))},te=C("adjustmentsTool")(a(en));import rn from"react";var ee=()=>{let{config:o}=d(),t=o.state.config[i.CUSTOM].toolControlBar;return rn.createElement(t,{language:o.state.locale[i.CUSTOM]})};import H from"react";var to=class extends H.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{filterTool:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{filterTool:n}=this.props;return H.createElement(r.Card,{tool:i.FILTER,type:u.MEDIUM,onClick:()=>n.selectFilter(t.identifier,t.defaultIntensity),isActive:n.identifier===t.identifier,key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,style:{animationDelay:`${T(e)}s`}},H.createElement(r.CardLabel,{withBackground:!0},n.locale.categories[t.identifier]||n.locale.items[t.identifier]||t.name))};this.renderCategory=(t,e)=>{let{filterTool:n}=this.props,{selectedCategoryIdentifier:s}=n,p=s===t.identifier;return t.items?H.createElement(r.CategoryContainer,{key:t.identifier},H.createElement(r.Card,{tool:i.FILTER,type:u.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:t.thumbnailURI,label:t.name,style:{animationDelay:`${T(e)}s`}},H.createElement(r.CardLabel,{withBackground:!0},t.name)),H.createElement(r.ExpandableContainer,{show:p},t.items.map(this.renderItem))):null}}render(){let{filterTool:t}=this.props,{categories:e,config:n,items:s}=t;return n.flattenCategories?H.createElement(r.CardContainer,null,s.map(this.renderItem)):H.createElement(r.CardContainer,null,e.map(this.renderCategory))}};to=v([C("filterTool","active"),a],to);import Eo from"react";var nn=({focusTool:o})=>{let t=n=>{o.selectFocus(n)},e=(n,s)=>Eo.createElement(r.Card,{isActive:n.identifier===o.identifier,tool:i.FOCUS,type:u.MEDIUM,onClick:()=>t(n.identifier),key:`${n.identifier}-${s}`,image:n.thumbnailURI,label:n.name,style:{animationDelay:`${T(s)}s`}},Eo.createElement(r.CardLabel,{withBackground:!0},o.locale.items[n.identifier]||n.name));return Eo.createElement(r.CardContainer,null,o.items.map(e))},re=C("focusTool")(a(nn));import Oo from"react";var sn=({frameTool:o})=>{let t=o.identifier,e=(n,s)=>Oo.createElement(r.Card,{tool:i.FRAME,type:u.MEDIUM,onClick:()=>o.selectFrame(n.identifier),isActive:n.identifier===t,key:`${n.identifier}-${s}`,image:n.thumbnailURI,label:n.name,style:{animationDelay:`${T(s)}s`,backgroundSize:"60%"}}," ",Oo.createElement(r.CardLabel,{hidden:!0},o.locale.items[n.identifier]||n.name));return Oo.createElement(r.CardContainer,null,o.items.map(e))},ne=C("frameTool")(a(sn));import O from"react";import an from"styled-components";var se=an.p`
  height: ${o=>o.theme.measurements.basicToolControlBar.itemsBarHeight}px;
`;var eo=class extends O.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{library:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{active:n}=this.props;return O.createElement(r.Card,{tool:i.LIBRARY,type:u.MEDIUM,onClick:()=>n.newImage(t.rawUrl),key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,style:{animationDelay:`${T(e)}s`}})};this.renderCategory=(t,e)=>{let{library:n}=this.props,{selectedCategoryIdentifier:s}=n,p=s===t.identifier;return t.items?O.createElement(r.CategoryContainer,{key:t.identifier},O.createElement(r.Card,{tool:i.LIBRARY,type:u.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:t.thumbnailURI,label:t.name,style:{animationDelay:`${T(e)}s`}},O.createElement(r.CardLabel,{withBackground:!0},t.name)),O.createElement(r.ExpandableContainer,{show:p},t.items.map(this.renderItem))):null}}render(){let{library:t}=this.props,{query:e,categories:n,items:s,locale:p,config:l}=t;return e?s.length?O.createElement(r.CardContainer,null,s.map(this.renderItem)):O.createElement(se,{"data-test":x.NoResult},p.controls.noResults):l.flattenCategories?O.createElement(r.CardContainer,null,s.map(this.renderItem)):O.createElement(r.CardContainer,null,n.map(this.renderCategory))}};eo=v([C("library","active"),a],eo);import Do from"react";var ln=({overlayTool:o})=>{let{identifier:t,items:e,selectOverlay:n,locale:s}=o,p=(l,m)=>Do.createElement(r.Card,{tool:i.OVERLAY,type:u.MEDIUM,onClick:()=>n(l.identifier),isActive:l.identifier===t,key:`${l.identifier}-${m}`,image:l.thumbnailURI,label:l.name,style:{animationDelay:`${T(m)}s`}},Do.createElement(r.CardLabel,{withBackground:!0},s.items[l.identifier]||l.name));return Do.createElement(r.CardContainer,null,e.map(p))},ie=C("overlayTool")(a(ln));import j from"react";var ro=class extends j.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{stickerTool:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{stickerTool:n}=this.props;return j.createElement(r.Card,{tool:i.STICKER,type:u.MEDIUM,onClick:()=>n.add(t.identifier),key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,style:{backgroundSize:"55%",animationDelay:`${mn(e)}s`}},j.createElement(r.CardLabel,{hidden:!0},n.locale.items[t.identifier]||t.name))};this.renderCategory=(t,e)=>{let{stickerTool:n}=this.props,{selectedCategoryIdentifier:s,locale:p}=n,l=s===t.identifier;return t.items?j.createElement(r.CategoryContainer,{key:t.identifier},j.createElement(r.Card,{tool:i.STICKER,type:u.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:t.thumbnailURI,label:t.name,style:{animationDelay:`${T(e)}s`}},j.createElement(r.CardLabel,{withBackground:!0},p.categories[t.identifier]||t.name)),j.createElement(r.ExpandableContainer,{show:l},t.items.map(this.renderItem))):null}}render(){let{stickerTool:t}=this.props,{categories:e,items:n,config:s}=t;return s.flattenCategories?j.createElement(r.CardContainer,null,n.map(this.renderItem)):j.createElement(r.CardContainer,null,e.map(this.renderCategory))}};ro=v([C("stickerTool","active"),a],ro);import bo from"react";import pn from"styled-components";var dn=pn.div`
  font-size: 20px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: left top;
`,ae=class extends bo.Component{constructor(){super(...arguments);this.getWidth=({fontFamily:t,fontStyle:e,fontWeight:n},s)=>{let l=document.createElement("canvas").getContext("2d");return l.font=`${e} ${n} 20px ${t}`,l.fillText(s,0,0),l.measureText(s).width};this.renderItem=(t,e)=>{let{config:n,textTool:s}=this.props,{fontFamily:p,fontWeight:l,fontStyle:m,identifier:f}=t,S=`${t.fontFamily} ${cn.getDisplayFontStyle(t)}`,h=this.getWidth(t,S),N=(n.measurements.basicCard.medium.width-20)/h;return bo.createElement(r.Card,{tool:i.TEXT,type:u.MEDIUM,onClick:()=>s.changeFont(f),isDisabled:!this.textTool.isTextSelected,isActive:s.identifier===f,key:`${t.identifier}-${e}`,label:S,style:{animationDelay:`${T(e)}s`}},bo.createElement(dn,{style:{transform:`scale(${N}) translate(-50%, -50%)`,fontFamily:p,fontStyle:m,fontWeight:l}},S))}}get textTool(){return this.props.textTool}render(){let{textTool:t}=this.props,{fontsLoaded:e,fontFamilies:n}=t;return e?bo.createElement(r.CardContainer,null,n.map(this.renderItem)):null}},le=C("textTool","config")(a(ae));import $o from"react";var fn=({textDesignTool:o})=>{let{items:t,changeIdentifier:e,isTextDesignSelected:n,identifier:s}=o,p=(l,m)=>$o.createElement(r.Card,{tool:i.TEXT_DESIGN,type:u.MEDIUM,onClick:()=>e(l.identifier),isDisabled:!n,isActive:s===l.identifier,key:`${l.identifier}-${m}`,image:l.thumbnailURI,label:l.name,style:{animationDelay:`${T(m)}s`,backgroundSize:"60%"}},$o.createElement(r.CardLabel,{hidden:!0},l.name));return $o.createElement(r.CardContainer,null,t.map(p))},me=C("textDesignTool")(a(fn));import w from"react";import pe from"styled-components";var un=pe.div`
  svg {
    margin-bottom: 12px;
  }
`,bn=pe.div`
  svg {
    width: ${o=>o.theme.measurements.basicCard.medium.height}px;
    height: ${o=>o.theme.measurements.basicCard.medium.height}px;
  }

  ${Cn} {
    width: ${o=>o.theme.measurements.basicCard.medium.width-32}px;
    height: ${o=>o.theme.measurements.basicCard.medium.height-32}px;
    padding: 6px 0px 24px;
  }
`,no=class extends w.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{transformTool:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{transformTool:n,config:s}=this.props,{locale:p,identifier:l}=n,m=n.checkIfTransformThumbnailExits(t.thumbnailURI),f=ho.crops[t.identifier]||ho.crops.imgly_transform_common_custom,S=w.createElement(r.CardLabel,null,p.items[t.identifier]||t.name),h=m?S:w.createElement(bn,null,w.createElement(f,{main:s.theme.transform.crops.main,highlight:s.theme.transform.crops.highlight,shadow:s.theme.transform.crops.shadow}),S);return w.createElement(r.Card,{tool:i.TRANSFORM,type:u.MEDIUM,onClick:()=>n.changeIdentifier(t.identifier,!0),key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,isActive:t.identifier===l,style:{backgroundSize:"55%",animationDelay:`${T(e)}s`}},h)};this.renderCategory=(t,e)=>{let{transformTool:n}=this.props,{selectedCategoryIdentifier:s,locale:p}=n,l=s===t.identifier;if(!t.items)return null;let m=n.checkIfTransformThumbnailExits(t.thumbnailURI),f=w.createElement(r.CardLabel,null,p.categories[t.identifier]||t.name),S=m?f:w.createElement(un,null,ho.categories[t.identifier]&&w.createElement(ho.categories[t.identifier]),f);return w.createElement(r.CategoryContainer,{key:t.identifier},w.createElement(r.Card,{tool:i.TRANSFORM,type:u.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:m?t.thumbnailURI:"",label:t.name,style:{animationDelay:`${T(e)}s`}},S),w.createElement(r.ExpandableContainer,{show:l},t.items.map(this.renderItem)))}}render(){let{transformTool:t}=this.props,{categories:e,config:n,items:s}=t;return n.flattenCategories?w.createElement(r.CardContainer,null,s.map(this.renderItem)):w.createElement(r.CardContainer,null,e.map(this.renderCategory))}};no=v([C("transformTool","config"),a],no);var so=class extends U.Component{constructor(){super(...arguments);this.getToolItemsComponent=t=>{switch(t){case i.LIBRARY:return U.createElement(eo,null);case i.FILTER:return U.createElement(to,null);case i.FOCUS:return U.createElement(re,null);case i.ADJUSTMENT:return U.createElement(te,null);case i.OVERLAY:return U.createElement(ie,null);case i.STICKER:return U.createElement(ro,null);case i.TEXT:return U.createElement(le,null);case i.TEXT_DESIGN:return U.createElement(me,null);case i.FRAME:return U.createElement(ne,null);case i.TRANSFORM:return U.createElement(no,null);case i.CUSTOM:return U.createElement(ee,null);default:return null}}}render(){let{library:t,active:e}=this.props,n=e.tool;return n===i.BRUSH||n===i.LIBRARY&&!t.libraryProvider?null:U.createElement(r.Itemsbar,{"data-test":x.ToolControlBar,show:!!n},this.getToolItemsComponent(n))}};so=v([C("active","library"),a],so);var Sn=hn.div`
  position: absolute;
  width: 100%;
  height: ${o=>o.theme.measurements.basicToolControlBar.maxHeight}px;
  bottom: 0;
  left: 0;
  background: ${o=>o.theme.webcam.backdrop};
  z-index: ${o=>o.theme.measurements.zIndex.disable};
`,io=class extends D.Component{static getDerivedStateFromError(t){return console.error(t),{hasError:!0}}render(){let{active:t}=this.props;return D.createElement(c.Container,{"data-test":x.EditorContainer},t.isWebcam?D.createElement(Sn,null):null,D.createElement(yn,null),D.createElement(xn,null,D.createElement(Tn,null),D.createElement(gn,null),D.createElement(R,null),D.createElement(so,null),D.createElement(bt,null)))}};io=v([C("active"),a],io);var Po=class extends go.Component{componentDidMount(){let{editor:t,storeProps:e}=this.props;this.editor=t,this.storeProps=e;let n=new In(this.editor.configStore.config.custom.components,{}),s={getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox};this.storeProps.custom=s,this.forceUpdate()}render(){return this.storeProps?go.createElement(kn,Y({},this.storeProps),go.createElement(Bn,{theme:Y(Y({},this.editor.configStore.theme),{measurements:this.editor.configStore.measurements})},go.createElement(io,null))):null}};export{Po as default};
