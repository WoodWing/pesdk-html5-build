import{B as Je,D as Oo,G as xe,H as Qe,I as F,K as Ze,M as ko,N as eo,O as Uo,P as oo,Q as to,R as Fo,T as Ee,a,b as Io,c as N,f as ye,h as Ke,m as J,n as x,o as qe,p as xo,q as Eo,r as f,u as s,w as Ao,x as Bo,z as le}from"./chunk-TY26UOQT.js";import{La as Ie,Oa as y,Ta as S,Xa as B,Ya as yo,a as ve,b as So,c as Se,n as To,s as Te,t as D}from"./chunk-26X3PXJM.js";var Zo=ve((Ca,Qo)=>{"use strict";var An=false;var Jo=function(){};if(An){qo=function e(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var o=1;o<n;o++){r[o-1]=arguments[o]}var i=0;var m="Warning: "+t.replace(/%s/g,function(){return r[i++]});if(typeof console!=="undefined"){console.error(m)}try{throw new Error(m)}catch(d){}};Jo=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var o=2;o<n;o++){r[o-2]=arguments[o]}if(t===void 0){throw new Error("`warning(condition, format, ...args)` requires a warning message argument")}if(!e){qo.apply(null,[t].concat(r))}}}var qo;Qo.exports=Jo});var it=ve((Na,nt)=>{"use strict";var _n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";nt.exports=_n});var mt=ve((_a,lt)=>{"use strict";var Pn=it();function st(){}function at(){}at.resetWarningCache=st;lt.exports=function(){function e(n,o,i,m,d,p){if(p===Pn){return}var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");u.name="Invariant Violation";throw u};e.isRequired=e;function t(){return e};var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:at,resetWarningCache:st};r.PropTypes=r;return r}});var pt=ve((Ha,dt)=>{if(false){Pa=null;Ra=true;dt.exports=null(Pa.isElement,Ra)}else{dt.exports=mt()()}var Pa;var Ra});import Ye from"react";import{ThemeProvider as _i}from"styled-components";import Jr from"react";import jr from"react";import Yr from"styled-components";var Vr=Yr(J)`
  width: ${e=>e.theme.measurements.advancedUICard.large.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.large.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
`;var Xr=({isActive:e,...t})=>{return jr.createElement(Vr,{...t})};var Do=Xr;import Kr from"styled-components";var Lo=Kr(J)`
  width: ${e=>e.theme.measurements.advancedUICard.medium.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.medium.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(2n + 1) {
    margin-right: ${e=>e.theme.measurements.advancedUISpacer}px;
  }
`;import qr from"styled-components";var wo=qr(J)`
  width: ${e=>e.theme.measurements.advancedUICard.small.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.small.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(3n + 1),
  &:nth-child(3n + 2) {
    margin-right: ${e=>e.theme.measurements.advancedUISpacer}px;
  }
`;var me=({type:e,...t})=>{const r=e==="large";const n=e==="small";let o=Lo;if(r){o=Do}else if(n){o=wo}return Jr.createElement(o,{type:e,...t})};import Qr from"styled-components";var Ae=Qr.div.attrs(e=>({"data-test":e["data-test"]||S.CardContainer}))`
  display: flex;
  flex-wrap: wrap;
  /* width - padding on both sides */
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width-48}px;
`;import Zr from"react";import en,{css as No}from"styled-components";var on=en.div`
  display: flex;
  flex-direction: column;
  flex-shrink: 0;

  position: relative;
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width}px;
  /* for Firefox */
  min-height: 0;
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.marginBottom}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolControlBar};

  background: ${e=>e.theme.toolControlBar.background};
  transition: width 0.4s ease-in;
  ${e=>!e.reverse?No`
          border-right: 1px solid ${e.theme.toolControlBar.borderColor};
        `:No`
          border-left: 1px solid ${e.theme.toolControlBar.borderColor};
        `}
`;var _o=({reverse:e=false,style:t,className:r,children:n})=>Zr.createElement(on,{"data-test":S.ToolControlBar,reverse:e,className:r,style:t},n);import tn,{css as ro}from"styled-components";var Po=tn.div.attrs(()=>({"data-test":S.CategoryItemsContainer}))`
  transition: max-height 0.8s ease-out, transform 0.8s ease-out;
  background: ${e=>e.theme.toolControlBar.background};
  visibility: hidden;
  opacity: 0;
  transform-origin: 0 0;
  display: none;
  flex-wrap: wrap;

  ${({show:e})=>e&&ro`
      opacity: 1;
      visibility: visible;
      ${D()?ro`
            display: block;
          `:ro`
            display: flex;
          `}
    `}
`;import Ro from"react";import Ho from"styled-components";var rn=Ho(xo)`
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* the padding and margin should only be applied to the children */
  margin: 0 !important;
  padding: 0 !important;
`;var nn=Ho.div`
  display: flex;
  flex-direction: column;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var $o=({show:e,children:t})=>{return Ro.createElement(rn,{duration:300,height:e?"auto":0,easing:"ease-in-out",animateOpacity:true},Ro.createElement(nn,{"data-test":S.ToolControlBarExpandableControls},t))};import sn,{css as an}from"styled-components";var de=sn(ye)`
  position: relative;

  box-sizing: border-box;

  /* for Firefox */
  min-height: 0;

  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* compensate the padding in IE and Edge */
  ${()=>{if(D()||Te()){return an`
        > ul {
          padding-right: 34px;
          margin-right: -34px;
        }
      `}return""}}
`;de.defaultProps={direction:"vertical"};import ln,{css as mn}from"styled-components";var dn=ln.div`
  position: relative;
  &:after {
    content: '';
    position: absolute;
    bottom: 0px;
    ${e=>e.full?mn`
            left: -${3*e.theme.measurements.advancedUISpacer/2}px;
            width: calc(
              100% + ${3*e.theme.measurements.advancedUISpacer}px
            );
          `:`
      left: ${3*e.theme.measurements.advancedUISpacer/2}px;
      width: calc(100% - ${3*e.theme.measurements.advancedUISpacer}px);
    `}
    border-bottom: 2px solid ${e=>e.theme.toolControlBar.separatorColor};
  }
`;var Be=dn;import pn from"styled-components";var cn=pn.h2`
  color: ${e=>e.theme.toolControlBar.titleForeground};
  font-size: ${e=>e.theme.measurements.fontSystem.headline2.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline2.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline2.case};
  font-weight: 500;
  min-height: ${e=>2*e.theme.measurements.advancedUISpacer}px;
  margin-top: 0;
`;var Oe=cn;import P from"react";import un from"styled-components";var fn=un.div`
  display: flex;
  flex-direction: column;
  position: relative;
  width: 100%;
  flex: 1 0 auto;
`;var Mo=({name:e,isFirstCategory:t,isLastCategory:r,children:n})=>{return P.createElement(fn,null,!t&&P.createElement(f.Spacer,{count:2}),P.createElement(Oe,{"data-test":e},e),P.createElement(Ae,{"data-test":S.CategoryItemsContainer},n),!r&&P.createElement(P.Fragment,null,P.createElement(f.Spacer,{count:2}),P.createElement(Be,{full:true})))};import Cn from"styled-components";var hn=Cn.h1`
  /* Center text horizontally and vertically */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 0;
  padding: 0 4px;
  margin: 0;
  min-height: ${e=>e.theme.measurements.mainCanvasActionBar.height-2}px;
  font-size: ${e=>e.theme.measurements.fontSystem.headline1.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline1.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline1.case};
  background: ${e=>e.theme.toolControlBar.background};
  color: ${e=>e.theme.toolControlBar.titleForeground};
  border-bottom: 1px solid ${e=>e.theme.toolControlBar.separatorColor};
  font-weight: 500;
  text-align: center;
  /* prevent the padding from leaving the width of the parent  */
  box-sizing: border-box;
`;var Wo=hn;import bn from"react";import gn from"styled-components";var vn=gn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;

  overflow-y: auto;
  overflow-x: hidden;

  /* calculate the max-height based on the padding and if the heading is used */
  max-height: calc(
    100% -
      ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom+e.theme.measurements.advancedUIToolControlBar.paddingTop}px -
      ${e=>e.displayTitle?e.theme.measurements.mainCanvasActionBar.height-2:"0"}px
  );

  padding-top: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingTop}px;
  padding-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom}px;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  /* The scrollable content needs a padding for the scrollbar position */
  > ${de} {
    margin-left: 0px;
    margin-right: 0px;
    padding-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    padding-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  > :not(:last-child) {
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var zo=({children:e})=>{const{config:t}=s();const r=t.config.displayToolControlBarTitle;return bn.createElement(vn,{displayTitle:r},e)};import Go from"react";import Sn,{css as no}from"styled-components";var Tn=Sn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;
  align-items: center;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolbar};

  background-color: ${e=>e.theme.toolbar.background};
  color: ${e=>e.theme.toolbar.foreground};
  ${e=>{const t=e.theme.toolbar.border?e.theme.toolbar.border:no`
          1px solid ${e.theme.toolbar.borderColor};
        `;return!e.reverse?no`
          border-right: ${t};
        `:no`
          border-left: ${t};
        `}}
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolbar.marginBottom}px;
`;var jo=({reverse:e,style:t,className:r,children:n})=>{return Go.createElement(Tn,{reverse:e,"data-test":S.Toolbar,className:r,style:t},Go.createElement(ye,{direction:"vertical"},n))};import Yo from"react";import Vo,{css as io}from"styled-components";var In=Vo(Ke)`
  width: inherit;
  height: inherit;
  padding: 0;
  margin: 0;
  ${D()?io`
        background-color: transparent;
      `:io`
        background-color: inherit;
      `}

  ${e=>e.isActive&&io`
      background-color: ${e.theme.toolbar.activeBackground};
      color: ${e.theme.toolbar.activeForeground};

      svg {
        color: ${e.theme.toolbar.activeForeground};
      }
    `}
`;var yn=Vo.li.attrs({"aria-haspopup":true,"aria-hidden":true,role:"menuitem"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.itemHeight}px;
  cursor: pointer;
  position: relative;
`;var Xo=e=>Yo.createElement(yn,null,Yo.createElement(In,{...e,"data-test":S.ToolbarItem}));import xn from"styled-components";var En=xn.li.attrs({role:"none"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.separatorHeight}px;
  cursor: pointer;
  position: relative;
`;var Ko=En;import Ue,{useRef as $n}from"react";import{useRef as tt,createElement as Ln}from"react";var Fn=So(Zo());import*as ha from"react";import{useLayoutEffect as Bn,useEffect as On,isValidElement as ga,cloneElement as va,createContext as Sa,forwardRef as Ta,memo as Ia,useRef as ya,useState as kn,useCallback as Un,useMemo as xa}from"react";var et=Dn()?Bn:On;if(false){Ea=typeof process!=="undefined"?process:{env:{NODE_ENV:"development"}},Aa=Ea.env;checkStyles=function e(t){if(checkedPkgs[t])return;checkedPkgs[t]=true;if(Aa.NODE_ENV!=="test"&&parseInt(window.getComputedStyle(document.body).getPropertyValue("--reach-"+t),10)!==1){console.warn("@reach/"+t+' styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\n\n    import "@reach/'+t+`/styles.css";

  Otherwise you'll need to include them some other way:

    <link rel="stylesheet" type="text/css" href="node_modules/@reach/`+t+'/styles.css" />\n\n  For more information visit https://ui.reach.tech/styling.\n  ')}}}var Ea;var Aa;var Ba=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();function Dn(){return!!(typeof window!=="undefined"&&window.document&&window.document.createElement)}if(false){useControlledSwitchWarning=function e(t,r,n){var o=ya(t!=null);var i=ya({componentName:n,controlledPropName:r});On(function(){i.current={componentName:n,controlledPropName:r}},[n,r]);On(function(){var m=o.current;var d=i.current,p=d.componentName,u=d.controlledPropName;var g=t!=null;if(m!==g){console.error("A component is changing an "+(m?"":"un")+"controlled `"+u+"` state of "+p+" to be "+(m?"un":"")+"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled "+p+" element for the lifetime of the component.\nMore info: https://fb.me/react-controlled-components")}},[t])}}if(false){useCheckStyles=function e(t){var r=ya(t);On(function(){return void(r.current=t)},[t]);On(function(){return checkStyles(r.current)},[])}}function ot(){var e=kn(Object.create(null)),t=e[1];return Un(function(){t(Object.create(null))},[])}if(false){useStateLogger=function e(t,r){if(r===void 0){r=false}var n=ya(r);On(function(){n.current=r},[r]);On(function(){if(n.current){console.group("State Updated");console.log("%c"+t,"font-weight: normal; font-size: 120%; font-style: italic;");console.groupEnd()}},[t])}}import{createPortal as wn}from"react-dom";var Nn=function e(t){var r=t.children,n=t.type,o=n===void 0?"reach-portal":n;var i=tt(null);var m=tt(null);var d=ot();et(function(){if(!i.current)return;var p=i.current.ownerDocument;m.current=p===null||p===void 0?void 0:p.createElement(o);p.body.appendChild(m.current);d();return function(){if(m.current&&m.current.ownerDocument){m.current.ownerDocument.body.removeChild(m.current)}}},[o,d]);return m.current?wn(r,m.current):Ln("span",{ref:i})};if(false){Nn.displayName="Portal"}var rt=Nn;function so(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function ao(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var Hn=So(pt());import ke from"react";import po from"react-dom";var lo={disabled:false};import Rn from"react";var mo=Rn.createContext(null);var pe="unmounted";var M="exited";var W="entering";var Z="entered";var co="exiting";var w=function(e){ao(t,e);function t(n,o){var i;i=e.call(this,n,o)||this;var m=o;var d=m&&!m.isMounting?n.enter:n.appear;var p;i.appearStatus=null;if(n.in){if(d){p=M;i.appearStatus=W}else{p=Z}}else{if(n.unmountOnExit||n.mountOnEnter){p=pe}else{p=M}}i.state={status:p};i.nextCallback=null;return i}t.getDerivedStateFromProps=function n(o,i){var m=o.in;if(m&&i.status===pe){return{status:M}}return null};var r=t.prototype;r.componentDidMount=function n(){this.updateStatus(true,this.appearStatus)};r.componentDidUpdate=function n(o){var i=null;if(o!==this.props){var m=this.state.status;if(this.props.in){if(m!==W&&m!==Z){i=W}}else{if(m===W||m===Z){i=co}}}this.updateStatus(false,i)};r.componentWillUnmount=function n(){this.cancelNextCallback()};r.getTimeouts=function n(){var o=this.props.timeout;var i,m,d;i=m=d=o;if(o!=null&&typeof o!=="number"){i=o.exit;m=o.enter;d=o.appear!==void 0?o.appear:m}return{exit:i,enter:m,appear:d}};r.updateStatus=function n(o,i){if(o===void 0){o=false}if(i!==null){this.cancelNextCallback();if(i===W){this.performEnter(o)}else{this.performExit()}}else if(this.props.unmountOnExit&&this.state.status===M){this.setState({status:pe})}};r.performEnter=function n(o){var i=this;var m=this.props.enter;var d=this.context?this.context.isMounting:o;var p=this.props.nodeRef?[d]:[po.findDOMNode(this),d],u=p[0],g=p[1];var C=this.getTimeouts();var h=d?C.appear:C.enter;if(!o&&!m||lo.disabled){this.safeSetState({status:Z},function(){i.props.onEntered(u)});return}this.props.onEnter(u,g);this.safeSetState({status:W},function(){i.props.onEntering(u,g);i.onTransitionEnd(h,function(){i.safeSetState({status:Z},function(){i.props.onEntered(u,g)})})})};r.performExit=function n(){var o=this;var i=this.props.exit;var m=this.getTimeouts();var d=this.props.nodeRef?void 0:po.findDOMNode(this);if(!i||lo.disabled){this.safeSetState({status:M},function(){o.props.onExited(d)});return}this.props.onExit(d);this.safeSetState({status:co},function(){o.props.onExiting(d);o.onTransitionEnd(m.exit,function(){o.safeSetState({status:M},function(){o.props.onExited(d)})})})};r.cancelNextCallback=function n(){if(this.nextCallback!==null){this.nextCallback.cancel();this.nextCallback=null}};r.safeSetState=function n(o,i){i=this.setNextCallback(i);this.setState(o,i)};r.setNextCallback=function n(o){var i=this;var m=true;this.nextCallback=function(d){if(m){m=false;i.nextCallback=null;o(d)}};this.nextCallback.cancel=function(){m=false};return this.nextCallback};r.onTransitionEnd=function n(o,i){this.setNextCallback(i);var m=this.props.nodeRef?this.props.nodeRef.current:po.findDOMNode(this);var d=o==null&&!this.props.addEndListener;if(!m||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[m,this.nextCallback],u=p[0],g=p[1];this.props.addEndListener(u,g)}if(o!=null){setTimeout(this.nextCallback,o)}};r.render=function n(){var o=this.state.status;if(o===pe){return null}var i=this.props,m=i.children,d=i.in,p=i.mountOnEnter,u=i.unmountOnExit,g=i.appear,C=i.enter,h=i.exit,c=i.timeout,v=i.addEndListener,E=i.onEnter,X=i.onEntering,K=i.onEntered,se=i.onExit,q=i.onExiting,ae=i.onExited,be=i.nodeRef,ge=so(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(mo.Provider,{value:null},typeof m==="function"?m(o,ge):ke.cloneElement(ke.Children.only(m),ge))};return t}(ke.Component);w.contextType=mo;w.propTypes=false?{nodeRef:Hn.default.shape({current:typeof Element==="undefined"?Hn.default.any:Hn.default.instanceOf(Element)}),children:Hn.default.oneOfType([Hn.default.func.isRequired,Hn.default.element.isRequired]).isRequired,in:Hn.default.bool,mountOnEnter:Hn.default.bool,unmountOnExit:Hn.default.bool,appear:Hn.default.bool,enter:Hn.default.bool,exit:Hn.default.bool,timeout:function e(t){var r=timeoutsShape;if(!t.addEndListener)r=r.isRequired;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++){o[i-1]=arguments[i]}return r.apply(void 0,[t].concat(o))},addEndListener:Hn.default.func,onEnter:Hn.default.func,onEntering:Hn.default.func,onEntered:Hn.default.func,onExit:Hn.default.func,onExiting:Hn.default.func,onExited:Hn.default.func}:{};function Q(){}w.defaultProps={in:false,mountOnEnter:false,unmountOnExit:false,appear:false,enter:true,exit:true,onEnter:Q,onEntering:Q,onEntered:Q,onExit:Q,onExiting:Q,onExited:Q};w.UNMOUNTED=pe;w.EXITED=M;w.ENTERING=W;w.ENTERED=Z;w.EXITING=co;var uo=w;import ct,{css as fo}from"styled-components";var Mn=ct.div`
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* added line-height reset from appContainer */
  font-family: '${e=>e.theme.typography.fontFamily}', sans-serif;

  ${D()?fo`
        position: -ms-device-fixed;
      `:fo`
        position: fixed;
      `}
  top: ${e=>e.position.y-5}px;
  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,
    right 0.25s ease-in-out;
  z-index: ${e=>e.theme.measurements.zIndex.toolbar};
  pointer-events: none;
  cursor: pointer;

  &:before {
    content: ' ';
    position: absolute;
    top: 10px;
    left: -8px;
    width: 0;
    height: 0;
    border-right: 8px solid ${e=>e.theme.tooltip.background};
    border-bottom: 6px solid transparent;
    border-top: 6px solid transparent;
  }

  &:after {
    content: '${e=>e.label}';
    position: absolute;
    color: ${e=>e.theme.tooltip.foreground};
    background: ${e=>e.theme.tooltip.background};
    padding: 8px 12px;
    text-align: center;
    vertical-align: super;
    font-size: ${e=>e.theme.measurements.fontSystem.label.size}px;
    letter-spacing: ${e=>e.theme.measurements.fontSystem.label.letterSpacing}px;
    text-transform: ${e=>e.theme.measurements.fontSystem.label.case};
    border-radius: ${e=>e.theme.shape.radiusSmall}px;
    white-space: nowrap;
  }

  ${e=>e.reverse&&fo`
      direction: rtl;

      &:before {
        border-left: 8px solid ${e.theme.tooltip.background};
        border-right: none;
        right: -8px;
        left: unset;
        top: 10px;
      }
    `}
`;var Wn=ct.span`
  display: none;
`;var ut=({show:e=true,reverse:t,position:r,children:n})=>{const o=$n(null);const{config:i}=s();const{measurements:m}=i;const d=typeof n==="string"?n:"";const p=r.x+m.advancedUIToolbar.width-10;const u=r.x+m.advancedUIToolbar.width+16;const g=t?"right":"left";const C={entering:{opacity:0,[g]:`${p}px`},entered:{opacity:1,[g]:`${u}px`},exiting:{opacity:0,[g]:`${p}px`},exited:{opacity:0,[g]:`${p}px`}};return Ue.createElement(uo,{nodeRef:o,in:e,timeout:{exit:500}},h=>h!=="exited"&&Ue.createElement(rt,null,Ue.createElement(Mn,{ref:o,style:C[h],"data-test":S.Tooltip,reverse:t,position:r,label:d},Ue.createElement(Wn,null,d))))};var l={Card:me,CardContainer:Ae,Toolbar:{Index:jo,Item:Xo,Separator:Ko,Tooltip:ut},Itemsbar:de,BarSeparator:"",ItemsSeparator:Be,Controlsbar:$o,ToolControlBarItems:zo,Sidebar:{Index:_o,Heading:Wo,SubHeading:Oe,TextCategory:Mo,ExpandableContainer:Po}};import I from"react";import Li from"styled-components";import Ct from"react";import ce from"react";var Fe=class extends ce.Component{constructor(){super(...arguments);this.renderIcon=t=>{const{tool:r,config:n}=this.props;const o=n.state.config[r];if("icon"in o){const m=o.icon;return ce.createElement(m,null)}const i=Ao[t];return ce.createElement(i,null)||null};this.update=t=>{const{active:r}=this.props;r.selectTool(t)}}getToolTitle(t){const{config:r}=this.props;return r.locale[t].title}render(){const{tool:t,disabled:r,custom:n,active:o,isReverse:i}=this.props;const m=o.tool;if(t){const d=n.getAdvancedToolbarItem();if(!d){return null}return ce.createElement(d,{key:t,isDisabled:r,isActive:t===m,isReverse:i,icon:this.renderIcon(t),onClick:()=>this.update(t),tool:t,label:this.getToolTitle(t)})}return ce.createElement(l.Toolbar.Separator,null)}};Fe=Se([N("active","config","custom"),a],Fe);var ft=Fe;var Co=a(function e(){const{custom:t,config:r,active:n}=s();const o=r.config.order==="reverse";const i=t.getAdvancedToolbar();if(!i){return null}return Ct.createElement(i,{reverse:o},r.tools.map((m,d)=>Ct.createElement(ft,{key:m||d,tool:m,isReverse:o,disabled:!(n.image||m==="library"||m==="customTool")})))});import T from"react";import De from"react";import ue from"react";import R from"react";var zn=a(()=>{const{adjustmentsTool:e,custom:t}=s();const{categories:r,items:n,config:o,locale:i}=e;const m=p=>{const u=e[p.identifier];const g=e.locale.categories[p.identifier]||p.name;const C=t.getSlider();if(!C){return null}return R.createElement(C,{tool:"adjustment",identifier:p.identifier,adjust:true,key:p.identifier,label:g,value:u,onChange:h=>{e.editAdjustments({type:p.identifier,value:h})},onMouseUp:()=>e.toolSnapshot(),onTouchEnd:()=>e.toolSnapshot(),snap:0,style:{paddingBottom:"16px",width:"100%"}})};const d=(p,u)=>{const g=i.categories[p.identifier]||p.name;if(!p.items)return null;return R.createElement(l.Sidebar.TextCategory,{key:p.identifier,name:g,isFirstCategory:u===0,isLastCategory:u===r.length-1},p.items.map(m))};if(o.flattenCategories)return R.createElement(R.Fragment,null,n.map(m));return R.createElement(R.Fragment,null,r.map(d))});var ht=()=>{return R.createElement(l.Itemsbar,null,R.createElement(zn,null))};import Gn from"react";var bt=a(()=>{const{adjustmentsTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Gn.createElement(n,{tool:"adjustment",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var gt=a(()=>{const{adjustmentsTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return ue.createElement(ht,{key:o});case"separator":return ue.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeAdjustmentButton":return ue.createElement(bt,{key:o});default:return null}}else if(typeof o==="object"){return ue.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(i=>n(i)))}return null};return ue.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var vt=a(({displayTitle:e})=>{const{adjustmentsTool:t}=s();return De.createElement(De.Fragment,null,e&&De.createElement(l.Sidebar.Heading,null,t.locale.title),De.createElement(gt,null))});import Le from"react";import z from"react";import St from"react";var Tt=a(()=>{const{brushTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n}=e;return St.createElement(f.Input.Selection,{label:t.selectColor},St.createElement(F,{tool:"brush",activeColor:e.color,colors:n,labelsColor:r,onChange:e.changeColor}))});import jn from"react";var It=a(()=>{const{brushTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getSlider();if(!n){return null}return jn.createElement(n,{identifier:"brush-hardness",tool:"brush","data-test":S.BrushHardness,label:r.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})});import Yn from"react";var yt=a(()=>{const{brushTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getSlider();if(!n){return null}return Yn.createElement(n,{identifier:"brush-size",tool:"brush","data-test":S.BrushSize,label:r.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})});import Vn from"react";var xt=a(()=>{const{brushTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Vn.createElement(n,{tool:"brush",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var Et=a(()=>{const{brushTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"brushColorList":return z.createElement(Tt,{key:o});case"brushHardnessSlider":return z.createElement(It,{key:o});case"brushSizeSlider":return z.createElement(yt,{key:o});case"separator":return z.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeBrushButton":return z.createElement(xt,{key:o});default:return null}}else if(typeof o==="object"){return z.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(i=>n(i)))}return null};return z.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Xn=({brushTool:e,displayTitle:t})=>Le.createElement(Le.Fragment,null,t&&Le.createElement(l.Sidebar.Heading,null,e.locale.title),Le.createElement(Et,null));var At=N("brushTool")(a(Xn));import we from"react";var Bt=({displayTitle:e})=>{const{config:t}=s();const r=t.state.config["customTool"].toolControlBar;const{title:n}=t.state.locale["customTool"];return we.createElement(we.Fragment,null,e&&we.createElement(l.Sidebar.Heading,null,n),we.createElement(r,{language:t.state.locale["customTool"]}))};import Ne from"react";import ee from"react";import Kn from"react";var Ot=a(()=>{const{filterTool:e,custom:t}=s();const r=e.locale.controls;const n=e.state;const o=()=>{e.toolSnapshot()};const i=t.getSlider();if(!i){return null}return Kn.createElement(i,{identifier:"filter-intensity",tool:"filter","aria-hidden":!e.isOptionSelected,label:r.sliderIntensity,value:n.intensity,min:0,max:1,onChange:e.changeIntensity,onMouseUp:o,onTouchEnd:o,snap:n.isDuotone?.5:null,isDisabled:!e.isOptionSelected})});import k from"react";var qn=a(()=>{const{filterTool:e,custom:t}=s();const{categories:r,config:n,items:o,locale:i}=e;const m=t.getAdvancedItemCard();const d=t.getAdvancedCategoryCard();const p=(C,h)=>{const c=i.items[C.identifier]||C.name;if(!m){return null}return k.createElement(m,{tool:"filter",type:"medium",onClick:()=>e.selectFilter(C.identifier,C.defaultIntensity),key:C.identifier,image:C.thumbnailURI,label:c,style:{animationDelay:`${B(h)}s`},isActive:e.identifier===C.identifier},k.createElement(x,{withBackground:true},c))};const u=(C,h)=>{const{selectedCategoryIdentifier:c}=e;const v=c===C.identifier;const E=i.categories[C.identifier]||C.name;if(!C.items||!d){return null}return k.createElement("div",{key:C.identifier},k.createElement(d,{isActive:v,tool:"filter",type:"large",onClick:()=>e.toggleCategorySelection(C.identifier),image:C.thumbnailURI,label:E,style:{animationDelay:`${B(h)}s`}},k.createElement(x,{withBackground:true,caret:true,isActive:v},E)),k.createElement(l.Sidebar.ExpandableContainer,{show:v},C.items.map(p)))};const g=(C,h)=>{const c=i.categories[C.identifier]||C.name;if(!C.items)return null;return k.createElement(l.Sidebar.TextCategory,{key:C.identifier,name:c,isFirstCategory:h===0,isLastCategory:h===r.length-1},C.items.map(p))};if(n.flattenCategories)return k.createElement(k.Fragment,null,o.map(p));if(n.categoryHeaderType==="card")return k.createElement(k.Fragment,null,r.map(u));if(n.categoryHeaderType==="text")return k.createElement(k.Fragment,null,r.map(g));return null});var kt=()=>{return k.createElement(l.Itemsbar,null,k.createElement(l.CardContainer,null,k.createElement(qn,null)))};import Jn from"react";var Ut=a(()=>{const{filterTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Jn.createElement(n,{tool:"filter",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Ft=a(()=>{const{filterTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return ee.createElement(kt,{key:o});case"separator":return ee.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeFilterButton":return ee.createElement(Ut,{key:o});case"filterIntensitySlider":return ee.createElement(Ot,{key:o});default:return null}}else if(typeof o==="object"){return ee.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return ee.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Dt=a(({displayTitle:e})=>{const{filterTool:t}=s();return Ne.createElement(Ne.Fragment,null,e&&Ne.createElement(l.Sidebar.Heading,null,t.locale.title),Ne.createElement(Ft,null))});import _e from"react";import oe from"react";import Qn from"react";var Lt=a(()=>{const{focusTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.toolSnapshot(r.sliderIntensity)};const o=t.getSlider();if(!o){return null}return Qn.createElement(o,{identifier:"focus-intensity",tool:"focus","aria-hidden":!e.isOptionSelected,label:r.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:n,onTouchEnd:n,isDisabled:!e.isOptionSelected})});import G from"react";var Zn=a(()=>{const{focusTool:e,custom:t}=s();const{items:r}=e;const n=(o,i)=>{const m=e.locale.items[o.identifier]||o.name;const d=t.getAdvancedItemCard();if(!d){return null}return G.createElement(d,{tool:"focus",type:"large",onClick:()=>e.selectFocus(o.identifier),key:o.identifier,image:o.thumbnailURI,label:m,style:{animationDelay:`${B(i)}s`},isActive:o.identifier===e.identifier},G.createElement(x,{withBackground:true},m))};return G.createElement(G.Fragment,null,r.map(n))});var wt=()=>{return G.createElement(l.Itemsbar,null,G.createElement(l.CardContainer,null,G.createElement(Zn,null)))};import ei from"react";var Nt=a(()=>{const{focusTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return ei.createElement(n,{tool:"focus",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var _t=a(()=>{const{focusTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"separator":return oe.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeFocusButton":return oe.createElement(Nt,{key:o});case"focusIntensitySlider":return oe.createElement(Lt,{key:o});case"items":return oe.createElement(wt,{key:o});default:return null}}else if(typeof o==="object"){return oe.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return oe.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Pt=a(({displayTitle:e})=>{const{focusTool:t}=s();return _e.createElement(_e.Fragment,null,e&&_e.createElement(l.Sidebar.Heading,null,t.locale.title),_e.createElement(_t,null))});import Re from"react";import $ from"react";import Rt from"react";var Ht=a(()=>{const{frameTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n,tintable:o}=e;return Rt.createElement(f.Input.Selection,{isDisabled:!o,label:t.selectColor},Rt.createElement(F,{tool:"frame",activeColor:e.color,colors:n,labelsColor:r,isDisabled:!o,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import Pe from"react";var $t=a(()=>{const{frameTool:e,custom:t}=s();const{items:r}=e;const n=e.state?e.state.identifier:null;const o=(i,m)=>{const d=e.locale.items[i.identifier]||i.name;const p=t.getAdvancedItemCard();if(!p){return null}return Pe.createElement(p,{tool:"frame",type:"medium",onClick:()=>e.selectFrame(i.identifier),key:i.identifier,image:i.thumbnailURI,label:d,style:{backgroundSize:"75%",animationDelay:`${B(m)}s`},isActive:i.identifier===n},Pe.createElement(x,{hidden:true},d))};return Pe.createElement(l.Itemsbar,null,Pe.createElement(l.CardContainer,null,r.map(o)))});import oi from"react";var Mt=a(()=>{const{frameTool:e,custom:t}=s();const r=e.locale.controls;const n=i=>{e.toolSnapshot(i)};const o=t.getSlider();if(!o){return null}return oi.createElement(o,{identifier:"frame-opacity",tool:"frame","aria-hidden":!e.isOptionSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:()=>{n(r.sliderOpacity)},onTouchEnd:()=>{n(r.sliderOpacity)},isDisabled:!e.isOptionSelected})});import ti from"react";var Wt=a(()=>{const{frameTool:e,custom:t}=s();const r=e.locale.controls;const n=i=>{e.toolSnapshot(i)};const o=t.getSlider();if(!o){return null}return ti.createElement(o,{identifier:"frame-size",tool:"frame","aria-hidden":!e.isOptionSelected,label:r.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:()=>{n(r.sliderSize)},onTouchEnd:()=>{n(r.sliderSize)},isDisabled:!e.isOptionSelected})});import ri from"react";var zt=a(()=>{const{frameTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return ri.createElement(n,{tool:"frame",ariaLabel:r.buttonReset,onClick:o,isDisabled:!e.isOptionSelected,label:r.buttonReset})});var Gt=a(()=>{const{frameTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return $.createElement($t,{key:o});case"separator":return $.createElement(l.ItemsSeparator,{full:true,key:y()});case"frameOpacitySlider":return $.createElement(Mt,{key:o});case"frameSizeSlider":return $.createElement(Wt,{key:o});case"frameColorList":return $.createElement(Ht,{key:o});case"removeFrameButton":return $.createElement(zt,{key:o});default:return null}}else if(typeof o==="object"){return $.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return $.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var jt=a(({displayTitle:e})=>{const{frameTool:t}=s();return Re.createElement(Re.Fragment,null,e&&Re.createElement(l.Sidebar.Heading,null,t.locale.title),Re.createElement(Gt,null))});import He from"react";import te from"react";import A from"react";var ni=a(()=>{const{active:e,library:t,custom:r}=s();const{query:n,config:o,selectedCategoryIdentifier:i,categories:m,items:d}=t;const p=r.getAdvancedCategoryCard();const u=r.getAdvancedItemCard();const g=(c,v)=>{if(!u){return null}return A.createElement(u,{tool:"library",type:"medium",onClick:()=>e.newImage(c.rawUrl),key:`${c.identifier}-${v}`,image:c.thumbnailURI,label:c.name,style:{animationDelay:`${B(v)}s`},authorAvatar:c.authorAvatar,authorName:c.authorName},c.authorAvatar&&A.createElement(qe,{url:c.authorAvatar}),c.authorName&&A.createElement(x,{withBackground:true},c.authorName))};const C=(c,v)=>{const E=i===c.identifier;if(!c.items||!p){return null}return A.createElement("div",{key:c.identifier},A.createElement(p,{isActive:E,tool:"library",type:"large",onClick:()=>t.toggleCategorySelection(c.identifier),image:c.thumbnailURI,label:c.name,style:{animationDelay:`${B(v)}s`}},A.createElement(x,{withBackground:true,caret:true,isActive:E},c.name)),A.createElement(l.Sidebar.ExpandableContainer,{show:E},c.items.map(g)))};const h=(c,v)=>{if(!c.items)return null;return A.createElement(l.Sidebar.TextCategory,{key:c.identifier,name:c.name,isFirstCategory:v===0,isLastCategory:v===m.length-1},c.items.map(g))};if(n)return d.length?A.createElement(A.Fragment,null,d.map(g)):A.createElement("p",{"data-test":S.NoResult},t.locale.controls.noResults);if(o.flattenCategories)return A.createElement(A.Fragment,null,d.map(g));if(o.categoryHeaderType==="card")return A.createElement(A.Fragment,null,m.map(C));if(o.categoryHeaderType==="text")return A.createElement(A.Fragment,null,m.map(h));return null});var Yt=()=>{return A.createElement(l.Itemsbar,null,A.createElement(l.CardContainer,null,A.createElement(ni,null)))};import ii from"react";var Vt=a(()=>{const{library:e,active:t}=s();const{config:r}=e;const n=e.locale.controls;const o=()=>{t.selectWebcam(true)};if(r.enableWebcam){return ii.createElement(Fo,{tool:"library",onClick:o,label:n.buttonWebcamOpen})}return null});import si from"react";var Xt=a(()=>{const{library:e}=s();const{libraryProvider:t}=e;const r=e.locale.controls;const n=o=>{e.fetchImages(o)};if(t){return si.createElement(f.Input.Search,{onChange:n,placeholder:r.placeholderSearch})}return null});import Kt from"react";var qt=a(()=>{const{library:e,active:t,custom:r}=s();const{config:n}=e;const o=e.locale.controls;const i=r.getButton("toolControlBarPrimaryButton");const m=p=>{const{files:u}=p.target;if(u.length){const g=new FileReader;g.onload=C=>{t.newImage(C.target.result)};g.readAsDataURL(u[0])}};const d=()=>{const p=document.getElementById("fileUpload");if(p){p.click()}};if(n.enableUpload){if(!i){return null}return Kt.createElement(i,{"data-test":S.LibraryUploadButton,tool:"library",ariaLabel:o.buttonUpload,onClick:d,label:o.buttonUpload},Kt.createElement(f.Input.File,{onChange:m}))}return null});var Jt=a(()=>{const{library:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return te.createElement(Yt,{key:o});case"openWebcamButton":return te.createElement(Vt,{key:o});case"searchFieldInput":return te.createElement(Xt,{key:o});case"separator":return te.createElement(l.ItemsSeparator,{full:true,key:y()});case"uploadImageButton":return te.createElement(qt,{key:o});default:return null}};return te.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Qt=a(({displayTitle:e})=>{const{library:t}=s();return He.createElement(He.Fragment,null,e&&He.createElement(l.Sidebar.Heading,null,t.locale.title),He.createElement(Jt,null))});import $e from"react";import Y from"react";import ai from"react";var Zt=a(()=>{const{overlayTool:e}=s();const{allBlendModes:t,blendMode:r}=e;const n=e.locale.controls;const o=i=>{e.changeBlendMode(i)};return ai.createElement(f.Input.CarouselSlider,{label:n.carouselBlendMode,defaultIdentifier:r,onSelect:o,list:t})});import j from"react";var li=a(()=>{const{overlayTool:e,custom:t}=s();const{items:r,locale:n,identifier:o,selectOverlay:i}=e;const m=(d,p)=>{const u=n.items[d.identifier]||d.name;const g=t.getAdvancedItemCard();if(!g){return null}return j.createElement(g,{tool:"overlay",type:"medium",onClick:()=>i(d.identifier),key:d.identifier,image:d.thumbnailURI,label:u,style:{animationDelay:`${B(p)}s`},isActive:d.identifier===o},j.createElement(x,{withBackground:true},u))};return j.createElement(j.Fragment,null,r.map(m))});var er=()=>{return j.createElement(l.Itemsbar,null,j.createElement(l.CardContainer,null,j.createElement(li,null)))};import mi from"react";var or=a(()=>{const{overlayTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.toolSnapshot()};const o=t.getSlider();if(!o){return null}return mi.createElement(o,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!e.isOptionSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:n,onTouchEnd:n,isDisabled:!e.isOptionSelected})});import di from"react";var tr=a(()=>{const{overlayTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return di.createElement(n,{tool:"overlay",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var rr=a(()=>{const{overlayTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return Y.createElement(er,{key:o});case"separator":return Y.createElement(l.ItemsSeparator,{full:true,key:y()});case"overlayBlendModeCarousel":return Y.createElement(Zt,{key:o});case"overlayOpacitySlider":return Y.createElement(or,{key:o});case"removeOverlayButton":return Y.createElement(tr,{key:o});default:return null}}else if(typeof o==="object"){return Y.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return Y.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var nr=a(({displayTitle:e})=>{const{overlayTool:t}=s();return $e.createElement($e.Fragment,null,e&&$e.createElement(l.Sidebar.Heading,null,t.locale.title),$e.createElement(rr,null))});import Me from"react";import re from"react";import ir from"react";var sr=a(()=>{const{stickerTool:e}=s();const{colorList:t}=e;const r=e.locale.controls;const n=e.localeColor.colorPicker;const o=!e.isStickerSelected||!e.tintable&&e.isStickerSelected;return ir.createElement(f.Input.Selection,{isDisabled:o,label:r.selectColor},ir.createElement(F,{tool:"sticker",activeSprite:e.id,activeColor:e.tintColor,colors:t,labelsColor:n,isDisabled:o,onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot}))});import U from"react";var pi=a(()=>{const{stickerTool:e,custom:t}=s();const{categories:r,selectedCategoryIdentifier:n,config:o,items:i,locale:m}=e;const d=t.getAdvancedCategoryCard();const p=t.getAdvancedItemCard();const u=(h,c)=>{const v=m.items[h.identifier]||h.name;if(!p){return null}return U.createElement(p,{key:h.identifier,tool:"sticker",type:"small",onClick:()=>e.add(h.identifier),image:h.thumbnailURI,label:v,style:{backgroundSize:"75%",animationDelay:`${yo(c)}s`}},U.createElement(x,{hidden:true},v))};const g=(h,c)=>{const v=n===h.identifier;const E=m.categories[h.identifier]||h.name;if(!h.items||!d){return null}return U.createElement("div",{key:h.identifier},U.createElement(d,{isActive:v,tool:"sticker",type:"large",onClick:()=>e.toggleCategorySelection(h.identifier),image:h.thumbnailURI,label:E,style:{animationDelay:`${B(c)}s`}},U.createElement(x,{withBackground:true,caret:true,isActive:v},E)),U.createElement(l.Sidebar.ExpandableContainer,{show:v,key:`${h.identifier}-items`},h.items.map(u)))};const C=(h,c)=>{const v=m.categories[h.identifier]||h.name;if(!h.items)return null;return U.createElement(l.Sidebar.TextCategory,{key:h.identifier,name:v,isFirstCategory:c===0,isLastCategory:c===r.length-1},h.items.map(u))};if(o.flattenCategories)return U.createElement(U.Fragment,null,i.map(u));if(o.categoryHeaderType==="card")return U.createElement(U.Fragment,null,r.map(g));if(o.categoryHeaderType==="text")return U.createElement(U.Fragment,null,r.map(C));return null});var ar=()=>{return U.createElement(l.Itemsbar,null,U.createElement(l.CardContainer,null,U.createElement(pi,null)))};import ci from"react";var lr=a(()=>{const{stickerTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.toolSnapshot()};const o=t.getSlider();if(!o){return null}return ci.createElement(o,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!e.isStickerSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:n,onTouchEnd:n})});import mr from"react";import ui from"styled-components";var fi=ui.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:true})`
  ${Eo.VisuallyHidden}
`;var dr=a(()=>{const{stickerTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{const m=document.getElementById("fileUpload");if(m){m.value=null;m.click()}};const i=m=>{const{files:d}=m.target;e.addFiles(d)};if(e.isCustomStickerEnabled){if(!n){return null}return mr.createElement(n,{tool:"sticker",ariaLabel:r.buttonUpload,onClick:o,label:r.buttonUpload},mr.createElement(fi,{onChange:i}))}return null});var pr=a(()=>{const{stickerTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return re.createElement(ar,{key:o});case"separator":return re.createElement(l.ItemsSeparator,{full:true,key:y()});case"uploadStickerButton":return re.createElement(dr,{key:o});case"stickerColorList":return re.createElement(sr,{key:o});case"stickerOpacitySlider":return re.createElement(lr,{key:o});default:return null}};return re.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var cr=a(({displayTitle:e})=>{const{stickerTool:t}=s();return Me.createElement(Me.Fragment,null,e&&Me.createElement(l.Sidebar.Heading,null,t.locale.title),Me.createElement(pr,null))});import We from"react";import L from"react";import yi from"styled-components";import ur from"react";var fr=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,backgroundColorList:o}=e;return ur.createElement(f.Input.Selection,{isDisabled:!n,label:t.selectBackgroundColor},ur.createElement(F,{tool:"text",activeSprite:e.id,activeColor:e.backgroundColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))});import Ci from"react";var Cr=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const{fontFamily:r,fontStyle:n,fontWeight:o,fontFamilies:i,isTextSelected:m}=e;const d=i.map(u=>({label:`${u.fontFamily} ${Oo.getDisplayFontStyle(u)}`,fontWeight:u.fontWeight,fontStyle:u.fontStyle,fontFamily:u.fontFamily,value:u.identifier}));const p=d.filter(({value:u})=>u===e.identifier)[0];return Ci.createElement(f.Input.Dropdown,{isDisabled:!m,style:{fontFamily:r,fontStyle:n,fontWeight:o},itemStyle:u=>({fontFamily:u.fontFamily,fontStyle:u.fontStyle,fontWeight:u.fontWeight}),label:t.dropdownFontFamily,list:d,onSelect:e.changeFont,selectedItem:p.label})});import hi from"react";import bi from"styled-components";var gi=bi(f.Input.NumericInput)`
  max-width: 50%;
  margin-right: 16px;
`;var hr=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const{isTextSelected:r}=e;const n=o=>{const i=o?parseFloat(o):0;e.setFontSize(Math.max(10,Math.min(690,i)))};return hi.createElement(gi,{value:e.fontSize.toFixed(0),onSubmit:n,label:t.textFontSize,isDisabled:!r})});import vi from"react";var br=a(()=>{const{textTool:e,custom:t}=s();const r=e.locale.controls;const{isTextSelected:n}=e;const o=()=>{e.toolSnapshot()};const i=t.getSlider();if(!i){return null}return vi.createElement(i,{identifier:"text-line-spacing",tool:"text",isDisabled:!n,label:r.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:o,onTouchEnd:o,snap:1,divider:1,decimal:1})});import Si from"react";var gr=a(()=>{const{textTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.add()};const o=t.getButton("toolControlBarPrimaryButton");if(!o){return null}return Si.createElement(o,{tool:"text",ariaLabel:r.buttonNew,onClick:n,label:r.buttonNew})});import bo from"react";import Ti from"styled-components";var Ii=Ti(f.Input.Selection)`
  width: 50%;
`;var vr=a(()=>{const{textTool:e,custom:t}=s();const r=e.locale.controls;const{isTextSelected:n,alignment:o}=e;const i=["left","center","right"];const m=t.getButton("textAlignment");return bo.createElement(Ii,{isDisabled:!n,inline:true,label:r.selectAlignment,"data-test":S.TextAlignment},i.map(d=>{const p=Bo[d];return bo.createElement(m,{tool:d,isDisabled:!n,ariaLabel:`Align ${d}`,isActive:d===o,key:d,style:{padding:"1px 3px 2px"},icon:bo.createElement(p,null),onClick:()=>e.changeAlignment(d)})}))});import Sr from"react";var Tr=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,colorList:o}=e;return Sr.createElement(f.Input.Selection,{isDisabled:!n,label:t.selectFontColor},Sr.createElement(F,{tool:"text",activeSprite:e.id,activeColor:e.textColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});var xi=yi.div`
  display: flex;
  justify-content: space-between;
`;var Ei=({textTool:e})=>{const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"newTextButton":return L.createElement(gr,{key:o});case"fontFamilyDropdown":return L.createElement(Cr,{key:o});case"separator":return L.createElement(l.ItemsSeparator,{full:true,key:y()});case"textColorList":return L.createElement(Tr,{key:o});case"backgroundColorList":return L.createElement(fr,{key:o});case"lineSpacingSlider":return L.createElement(br,{key:o});case"textAlignmentList":return L.createElement(vr,{key:o});case"fontSizeInput":return L.createElement(hr,{key:o});default:return null}}else if(typeof o==="object"){return L.createElement(xi,{key:o.type},o.children.map(i=>n(i)))}return null};return L.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))};var Ir=N("textTool")(a(Ei));var yr=a(({displayTitle:e})=>{const{textTool:t}=s();return We.createElement(We.Fragment,null,e&&We.createElement(l.Sidebar.Heading,null,t.locale.title),We.createElement(Ir,null))});import ze from"react";import ne from"react";import Ai from"react";var xr=a(()=>{const{textDesignTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{e.add()};if(!n){return null}return Ai.createElement(n,{tool:"textdesign",ariaLabel:r.buttonNew,onClick:o,label:r.buttonNew})});import Bi from"react";var Er=a(()=>{const{textDesignTool:e,custom:t}=s();const r=e.locale.controls;const{isTextDesignSelected:n}=e;const o=t.getButton("toolControlBarSecondaryButton");const i=()=>{e.changeSeed()};if(!o){return null}return Bi.createElement(o,{tool:"textdesign",ariaLabel:r.buttonShuffle,isDisabled:!n,onClick:i,label:r.buttonShuffle})});import Ar from"react";var Br=a(()=>{const{textDesignTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextDesignSelected:n,colorList:o}=e;return Ar.createElement(f.Input.Selection,{isDisabled:!n,label:t.selectColor},Ar.createElement(F,{tool:"textdesign",activeSprite:e.id,activeColor:e.color,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import V from"react";var Oi=a(()=>{const{textDesignTool:e,custom:t}=s();const{items:r,identifier:n}=e;const o=m=>{e.changeIdentifier(m)};const i=(m,d)=>{const p=t.getAdvancedItemCard();if(!p){return null}return V.createElement(p,{key:m.identifier,tool:"textdesign",type:"medium",onClick:()=>o(m.identifier),image:m.thumbnailURI,label:m.name||"",style:{animationDelay:`${B(d)}s`,backgroundSize:"60%"},isDisabled:!e.isTextDesignSelected,isActive:n===m.identifier},V.createElement(x,{hidden:true},m.name))};return V.createElement(V.Fragment,null,r.map(i))});var Or=()=>{return V.createElement(l.Itemsbar,null,V.createElement(l.CardContainer,null,V.createElement(Oi,null)))};var kr=a(()=>{const{textDesignTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return ne.createElement(Or,{key:o});case"separator":return ne.createElement(l.ItemsSeparator,{full:true,key:y()});case"newTextDesignButton":return ne.createElement(xr,{key:o});case"shuffleLayoutButton":return ne.createElement(Er,{key:o});case"textDesignColorList":return ne.createElement(Br,{key:o});default:return null}};return ne.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Ur=a(({displayTitle:e})=>{const{textDesignTool:t}=s();return ze.createElement(ze.Fragment,null,e&&ze.createElement(l.Sidebar.Heading,null,t.locale.title),ze.createElement(kr,null))});import Ge from"react";import ie from"react";import ki from"react";var Fr=a(()=>{const{transformTool:e}=s();const t=e.locale.controls;const{forceDimensions:r,localOutputHeight:n,localOutputWidth:o}=e;return ki.createElement(Uo,{isDisabled:r,showLabel:true,valueHeight:n,valueWidth:o,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth})});import Ui from"react";var Dr=a(()=>{const{transformTool:e,custom:t}=s();const r=e.locale.controls;const{forceDimensions:n,lockResolution:o}=e;const i=t.getCheckbox();if(!i){return null}return Ui.createElement(i,{tool:"transform",isDisabled:n,value:o,label:r.checkboxKeepResolution,checkMarkPosition:"right",onClick:e.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}})});import Fi from"react";var Lr=a(()=>{const{transformTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Fi.createElement(n,{tool:"transform",ariaLabel:r.buttonReset,onClick:o,label:r.buttonReset})});import O from"react";import{renderToStaticMarkup as wr}from"react-dom/server";var Di=a(()=>{const{transformTool:e,custom:t,editor:r}=s();const{categories:n,items:o,identifier:i,config:m,locale:d}=e;const p=t.getAdvancedItemCard();const u=t.getAdvancedCategoryCard();const g=(c,v)=>{const{theme:E,measurements:X}=r.configStore;const K=d.items[c.identifier]||c.name;let se=c.thumbnailURI||"";let q="80%";if(!e.checkIfTransformThumbnailExits(c.thumbnailURI)){const ae=c.identifier.includes("imgly_transform_common");const be=le.crops[c.identifier]||le.crops.imgly_transform_common_custom;const ge=O.createElement(be,{width:X.advancedUICard.medium.width-(ae?42:0),height:X.advancedUICard.medium.height-(ae?42:0),main:E.transform.crops.main,highlight:E.transform.crops.highlight,shadow:E.transform.crops.shadow});se=`'data:image/svg+xml,${encodeURIComponent(wr(ge))}'`;q=D()||Te()?"auto":"unset"}if(!p){return null}return O.createElement(p,{key:c.identifier,tool:"transform",type:"medium",onClick:()=>e.changeIdentifier(c.identifier,true),image:se,label:K,style:{backgroundSize:q,animationDelay:`${B(v)}s`},isActive:c.identifier===i},O.createElement(x,null,K))};const C=(c,v)=>{const{theme:E,measurements:X}=r.configStore;const K=e.selectedCategoryIdentifier===c.identifier;const se=d.categories[c.identifier]||c.name;let q=c.thumbnailURI||"";if(!c.items||!u){return null}if(!e.checkIfTransformThumbnailExits(c.thumbnailURI)){const ae=le.categories[c.identifier]||le.crops.imgly_transform_common_custom;const be=O.createElement(ae,{width:X.advancedUICard.large.width-42,height:X.advancedUICard.large.height-42,main:E.transform.crops.main,highlight:E.transform.crops.highlight,shadow:E.transform.crops.shadow});q=`'data:image/svg+xml,${encodeURIComponent(wr(be))}'`}return O.createElement("div",{key:c.identifier},O.createElement(u,{type:"large",onClick:()=>e.toggleCategorySelection(c.identifier),key:c.identifier,image:q,style:{animationDelay:`${B(v)}s`},label:c.name,tool:"transform"},O.createElement(x,{caret:true,isActive:K},se)),O.createElement(l.Sidebar.ExpandableContainer,{show:K},c.items.map(g)))};const h=(c,v)=>{const E=d.categories[c.identifier]||c.name;if(!c.items)return null;return O.createElement(l.Sidebar.TextCategory,{key:c.identifier,name:E,isFirstCategory:v===0,isLastCategory:v===n.length-1},c.items.map(g))};if(m.flattenCategories)return O.createElement(O.Fragment,null,o.map(g));if(m.categoryHeaderType==="card")return O.createElement(O.Fragment,null,n.map(C));if(m.categoryHeaderType==="text")return O.createElement(O.Fragment,null,n.map(h));return null});var Nr=()=>{return O.createElement(l.Itemsbar,null,O.createElement(l.CardContainer,null,O.createElement(Di,null)))};var _r=a(()=>{const{transformTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return ie.createElement(Nr,{key:o});case"separator":return ie.createElement(l.ItemsSeparator,{full:true,key:y()});case"resetTransformButton":return ie.createElement(Lr,{key:o});case"keepResolutionCheckbox":return ie.createElement(Dr,{key:o});case"cropSizeInput":return ie.createElement(Fr,{key:o});default:return null}};return ie.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Pr=a(({displayTitle:e})=>{const{transformTool:t}=s();return Ge.createElement(Ge.Fragment,null,e&&Ge.createElement(l.Sidebar.Heading,null,t.locale.title),Ge.createElement(_r,null))});var go=a(function e(){const{active:t,config:r,custom:n}=s();const o=t.tool;const i=r.config.displayToolControlBarTitle;const m=n.getAdvancedToolControlBar();if(!m){return null}return T.createElement(m,{reverse:r.config.order==="reverse",tool:o},T.createElement(f.Switch.Index,{type:o},T.createElement(f.Switch.Case,{value:"library"},T.createElement(Qt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"filter"},T.createElement(Dt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"focus"},T.createElement(Pt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"adjustment"},T.createElement(vt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"overlay"},T.createElement(nr,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"sticker"},T.createElement(cr,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"text"},T.createElement(yr,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"textdesign"},T.createElement(Ur,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"frame"},T.createElement(jt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"brush"},T.createElement(At,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"transform"},T.createElement(Pr,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"customTool"},T.createElement(Bt,{displayTitle:i}))))});var Rr=Li.div`
  position: absolute;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width}px;
  top: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`;var fe=class extends I.Component{static getDerivedStateFromError(t){console.error(t);return{hasError:true}}render(){const{config:t,active:r,canvas:n,custom:o}=this.props;const i=o.getWindowContainer();return t.isOrderDefault?I.createElement(f.Container,null,r.isWebcam?I.createElement(Rr,{style:{left:0}}):null,I.createElement(eo,null),I.createElement(Co,null),I.createElement(go,null),I.createElement(Je,null,I.createElement(Qe,null),i&&I.createElement(i,{tool:r.tool},I.createElement(to,null,r.isWebcam?I.createElement(oo,null):null,r.image&&n&&I.createElement(Ze,null))))):I.createElement(f.Container,null,r.isWebcam?I.createElement(Rr,{style:{right:0}}):null,I.createElement(eo,null),I.createElement(Je,null,I.createElement(Qe,null),i&&I.createElement(i,{tool:r.tool},I.createElement(to,null,r.isWebcam?I.createElement(oo,null):null,r.image&&n&&I.createElement(Ze,null)))),I.createElement(go,null),I.createElement(Co,null))}};fe=Se([N("config","active","canvas","custom"),a],fe);import Ce from"react";import wi from"styled-components";var Hr=class extends Ce.Component{constructor(t){super(t);this.ref=null;this.updatePosition=()=>{const{isReverse:t}=this.props;const r={x:0,y:0};if(this.ref.current){const{top:n,height:o,left:i,right:m}=this.ref.current.getBoundingClientRect();r.y=n+o/4;r.x=t?window.innerWidth-m:i}this.setState({tooltipPosition:r})};this.mouseOver=t=>{this.updatePosition();this.setState({hoverTool:t})};this.mouseOut=()=>{this.setState({hoverTool:null})};this.state={hoverTool:null,tooltipPosition:{x:0,y:0}};this.ref=Ce.createRef()}componentDidMount(){this.updatePosition()}componentDidUpdate(t){const{isReverse:r}=this.props;if(r!==t.isReverse){this.updatePosition()}}render(){const{tool:t,isActive:r,isReverse:n,isDisabled:o,icon:i,label:m,onClick:d,className:p,children:u}=this.props;const{hoverTool:g,tooltipPosition:C}=this.state;return Ce.createElement(Ni,{ref:this.ref,onMouseOver:()=>this.mouseOver(t),onMouseOut:()=>this.mouseOut(),onFocus:()=>this.mouseOver(t),onBlur:()=>this.mouseOut(),className:p},Ce.createElement(l.Toolbar.Item,{ariaLabel:m,isActive:r,isDisabled:o,onClick:()=>d(t)},i,u),Ce.createElement(l.Toolbar.Tooltip,{position:C,reverse:n,show:g===t},m))}};var je=Hr;var Ni=wi.div`
  position: relative;
`;var Ve=class extends Ye.Component{constructor(){super(...arguments);this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:t,storeProps:r}=this.props;this.editor=t;this.storeProps=r;const n=new ko(this.editor.configStore.config.custom.components,{advancedUICategoryCard:l.Card,advancedUIItemCard:l.Card,advancedUIToolbarItem:je,advancedUIToolbar:l.Toolbar.Index,advancedUIToolControlBar:l.Sidebar.Index});const o={getAdvancedCategoryCard:n.getAdvancedCategoryCard,getAdvancedItemCard:n.getAdvancedItemCard,getAdvancedToolbarItem:n.getAdvancedToolbarItem,getAdvancedToolbar:n.getAdvancedToolbar,getAdvancedToolControlBar:n.getAdvancedToolControlBar,getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox,getWindowContainer:n.getWindowContainer,getSlider:n.getSlider};this.storeProps.custom=o;this.forceUpdate()}render(){return this.storeProps?Ye.createElement(Io,{...this.storeProps},Ye.createElement(_i,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},Ye.createElement(fe,null))):null}};import $r,{useEffect as Wi}from"react";import Mr from"react-dom";import he,{Suspense as Pi,useMemo as Ri}from"react";var Hi=he.lazy(()=>import("./basic-2GQZUPAW.js"));var $i=e=>{return{filterTool:e.filterToolStore,focusTool:e.focusToolStore,adjustmentsTool:e.adjustmentsToolStore,overlayTool:e.overlayToolStore,frameTool:e.frameToolStore,brushTool:e.brushToolStore,transformTool:e.transformToolStore,scale:e.scale,sprite:e.spriteStore,stickerTool:e.spriteStore.stickerToolStore,textTool:e.spriteStore.textToolStore,textDesignTool:e.spriteStore.textDesignToolStore,library:e.libraryStore,modal:e.modalStore,snapping:e.snappingStore,config:e.configStore,active:e.activeStore,canvas:e.canvasStore,history:e.historyStore,editor:e}};var Xe=({editor:e})=>{const t=Ri(()=>{return $i(e)},[e]);if(e.configStore.config.layout==="basic"){return he.createElement(Pi,{fallback:he.createElement("div",null)},he.createElement(Hi,{editor:e,storeProps:t}))}return he.createElement(Ve,{editor:e,storeProps:t})};var Wr=class extends Ie{constructor(t,r,n){super();this.dispose=()=>{if(this.container){Mr.unmountComponentAtNode(this.container);this.removeAllListeners("export");this.removeAllListeners("historyUndo");this.removeAllListeners("historyRedo");this.removeAllListeners("historyChange");this.removeAllListeners("editorReady");this.removeAllListeners("errorImageLoading");this.removeAllListeners("imageLoad");this.removeAllListeners("toolEnter");this.removeAllListeners("stickerUploadAdd");this.removeAllListeners("errorWebGLContextLost");this.removeAllListeners("cropDimensionsChange");if(this.editor){this.editor.dispose()}}};this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.getImageMimeType=()=>{return this.editor.getImageMimeType()};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.container=r;const o={["export"]:i=>{this.emit("export",i)},["close"]:()=>{this.emit("close");this.dispose()},["historyUndo"]:()=>{this.emit("historyUndo")},["historyRedo"]:()=>{this.emit("historyRedo")},["historyChange"]:()=>{this.emit("historyChange")},["stickerUploadAdd"]:i=>{this.emit("stickerUploadAdd",i)},["cropDimensionsChange"]:i=>{this.emit("cropDimensionsChange",i)}};if(n){Object.entries(n).forEach(([i,m])=>{o[i]=m(this)})}this.editor=new xe({...t},o)}hasChanges(){return this.editor.hasChanges()}};var zr=class{constructor(){this.container=null}init(t){return new Promise((r,n)=>{if(typeof window==="undefined"){r();return}this.container=typeof t.container==="string"?document.querySelector(t.container):t.container;if(this.container){this.editorApi=new Wr(t,this.container,{["editorReady"]:o=>()=>{setTimeout(()=>{o.emit("editorReady")},0);r(o)},["errorImageLoading"]:o=>i=>{setTimeout(()=>{o.emit("errorImageLoading",i)},0);r(o)},["errorWebGLContextLost"]:o=>i=>{setTimeout(()=>{o.emit("errorWebGLContextLost",i)},0);r(o)},["imageLoad"]:o=>()=>{setTimeout(()=>{o.emit("imageLoad")},0);r(o)},["toolEnter"]:o=>i=>{setTimeout(()=>{o.emit("toolEnter",i)},0);r(o)}});Mr.render($r.createElement(zi,{editor:this.editorApi.editor}),this.container)}else{n(new Error("Provide a container"))}})}};var zi=({editor:e})=>{Wi(()=>{return()=>{var t;if((t=e==null?void 0:e.configStore)==null?void 0:t.events){e.configStore.events.removeAllListeners("export");e.configStore.events.removeAllListeners("close");e.configStore.events.removeAllListeners("historyUndo");e.configStore.events.removeAllListeners("historyRedo");e.configStore.events.removeAllListeners("historyChange");e.configStore.events.removeAllListeners("editorReady");e.configStore.events.removeAllListeners("errorImageLoading");e.configStore.events.removeAllListeners("imageLoad");e.configStore.events.removeAllListeners("toolEnter");e.configStore.events.removeAllListeners("stickerUploadAdd");e.configStore.events.removeAllListeners("errorWebGLContextLost");e.configStore.events.removeAllListeners("cropDimensionsChange")}}},[]);return $r.createElement(Xe,{editor:e})};var Gi={init:e=>{const t=new zr;return t.init(e)}};import vo from"react";var Gr=class extends vo.Component{constructor(t){super(t);this.ui=new Ie;this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.dispose=()=>{this.ui.removeAllListeners("export");this.ui.removeAllListeners("historyUndo");this.ui.removeAllListeners("historyRedo");this.ui.removeAllListeners("historyChange");this.ui.removeAllListeners("editorReady");this.ui.removeAllListeners("errorImageLoading");this.ui.removeAllListeners("imageLoad");this.ui.removeAllListeners("toolEnter");this.ui.removeAllListeners("stickerUploadAdd");this.ui.removeAllListeners("errorWebGLContextLost");this.ui.removeAllListeners("cropDimensionsChange");if(this.editor){this.editor.dispose()}};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.editor=new xe({...t},{["export"]:r=>{this.ui.emit("export",r)},["close"]:()=>{this.componentWillUnmount();this.ui.emit("close")},["historyUndo"]:()=>{this.ui.emit("historyUndo")},["historyRedo"]:()=>{this.ui.emit("historyRedo")},["historyChange"]:()=>{this.ui.emit("historyChange")},["editorReady"]:()=>{this.ui.emit("editorReady")},["errorImageLoading"]:r=>{this.ui.emit("errorImageLoading",r)},["imageLoad"]:()=>{this.ui.emit("imageLoad")},["toolEnter"]:r=>{this.ui.emit("toolEnter",r)},["stickerUploadAdd"]:r=>{this.ui.emit("stickerUploadAdd",r)},["cropDimensionsChange"]:r=>{this.ui.emit("cropDimensionsChange",r)},["errorWebGLContextLost"]:()=>{this.ui.emit("errorWebGLContextLost")}})}componentWillUnmount(){this.dispose()}hasChanges(){return this.editor.hasChanges()}render(){return vo.createElement(Xe,{editor:this.editor})}};var ji=e=>{if(typeof window==="undefined"){return null}return vo.createElement(Gr,{...e})};var cS=()=>{const{active:e}=s();return e.newImage};var CS=()=>{const{active:e}=s();return e.image};var gS=()=>{const e=s();return e.config.isLayoutAdvanced};To({isolateGlobalState:true});var{Container:MS,Input:Yi,ColorItem:WS,ColorItemBase:zS,ColorItemBackground:GS,ColorItemTiledBackground:jS,ColorItemActiveOverlay:YS,Dialog:VS,DialogBase:XS,DialogContainer:KS,DialogBackdrop:qS,DialogHeader:JS,DialogBody:QS,DialogFooter:ZS,DialogSpinner:eT}=f;var{Search:Vi,Label:oT,Checkbox:tT,CheckboxBase:rT,CheckboxInput:nT,CheckboxCheckMark:iT,Dropdown:sT,Slider:aT,SliderBase:lT,SliderContainer:mT,SliderInput:dT,SliderTrack:pT,SliderLabel:cT}=Yi;var uT=me;var fT=me;var CT=Vi;var hT=l.Toolbar.Index;var bT=l.Sidebar.Index;var gT=l.Controlsbar;var vT=Ee.Toolbar.Index;var ST=Ee.Controlsbar;var TT=Ee.Itemsbar;export{je as a,Gi as b,ji as c,cS as d,CS as e,gS as f,MS as g,WS as h,zS as i,GS as j,jS as k,YS as l,VS as m,XS as n,KS as o,qS as p,JS as q,QS as r,ZS as s,eT as t,oT as u,tT as v,rT as w,nT as x,iT as y,sT as z,aT as A,lT as B,mT as C,dT as D,pT as E,cT as F,uT as G,fT as H,CT as I,hT as J,bT as K,gT as L,vT as M,ST as N,TT as O};
