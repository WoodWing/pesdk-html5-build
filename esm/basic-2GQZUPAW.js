import{A as Io,B as go,D as yo,H as vo,I as k,J as xo,K as Uo,M as ko,N as Fo,O as Lo,P as Ao,Q as wo,R as Oo,S as j,T as e,a as s,b as fo,c as u,d as uo,q as To,r as p,u as m,v as ho,w as So,x as Bo,y as b,z as V}from"./chunk-TY26UOQT.js";import{Ta as U,Xa as h,Ya as bo,c as D}from"./chunk-26X3PXJM.js";import eo from"react";import{ThemeProvider as zt}from"styled-components";import x from"react";import Wt from"styled-components";import X from"react";var Eo=s(function o(){const{config:r,active:t,custom:n}=m();const{tools:i}=r;const a=t.tool;const l=d=>{const A=r.state.config[d];if("icon"in A){const no=A.icon;return X.createElement(no,null)}const R=So[d];return X.createElement(R,null)||null};const c=d=>{return r.locale[d].title};const f=(d,A)=>d&&X.createElement(e.Toolbar.Item,{onClick:()=>t.selectTool(d),key:d,label:c(d),isActive:a===d,isDisabled:!(t.image||d==="library"||d==="customTool")},l(d))||X.createElement(e.Toolbar.Separator,{key:d+A,active:!!a});const B=n.getBasicToolbar();if(!B){return null}return X.createElement(B,{show:!!a},i.map(f))});import T from"react";import P from"react";import wr from"styled-components";var Or=wr(e.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`;var Er=({adjustmentsTool:o,custom:r})=>{const t=o.selectedAdjustmentType.toLowerCase();const n=o[t];const i=r.getButton("toolControlBarSecondaryButton");return P.createElement(Or,{show:Boolean(t)},i&&P.createElement("div",null,P.createElement(i,{tool:"adjustment",ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:P.createElement(b.reset,null),label:o.locale.controls.buttonReset})),P.createElement(e.Other.ControlsWrapper,null,P.createElement(p.Spacer,{count:2}),P.createElement(e.Slider,{identifier:o.selectedAdjustmentType,tool:"adjustment","aria-hidden":!t,adjust:true,label:o.selectedOptionLabel,value:n,onChange:a=>{o.editAdjustments({type:t,value:a})},onMouseUp:()=>o.toolSnapshot(),onTouchEnd:()=>o.toolSnapshot(),snap:0}),P.createElement(p.Spacer,{count:2}),P.createElement(e.BarSeparator,null)))};var Do=u("adjustmentsTool","custom")(s(Er));import I from"react";import Pr from"styled-components";import oo from"react";var Mo=s(()=>{const{brushTool:o}=m();const{colorList:r,locale:t,localeColor:n}=o;const i=t.controls;const a=n.colorPicker;return oo.createElement(oo.Fragment,null,oo.createElement(p.Input.Selection,{showLabel:false,label:i.selectColor},oo.createElement(k,{tool:"brush",activeColor:o.color,colors:r,labelsColor:a,colorPickerDirection:"top",onChange:o.changeColor})))});import Dr from"react";var Po=s(()=>{const{brushTool:o}=m();const{locale:r}=o;const t=r.controls;return Dr.createElement(e.Slider,{identifier:"brush-hardness",tool:"brush","data-test":U.BrushHardness,showLabel:false,label:t.sliderHardness,value:o.hardness,min:0,max:1,onChange:o.changeHardness})});import Mr from"react";var Wo=s(()=>{const{brushTool:o}=m();const{locale:r}=o;const t=r.controls;return Mr.createElement(e.Slider,{identifier:"brush-size",tool:"brush","data-test":U.BrushSize,showLabel:false,label:t.sliderSize,value:o.relativeSize,min:1,max:100,divider:1,onChange:o.changeRelativeSize})});var Wr=e.ResponsiveTabWrapper;var{Tab:io}=e;var $r=Pr(e.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`;var $o=s(()=>{const{brushTool:o,custom:r}=m();const{locale:t,config:n}=o;const{basicUIToolControlBarTabsOrder:i}=n;const a=t.controls;const l=r.getButton("toolControlBarSecondaryButton");const c=f=>{switch(f){case"brushColor":return I.createElement(io,{key:f,label:a.tabColor},I.createElement(Mo,null));case"brushSize":return I.createElement(io,{key:f,label:a.tabSize},I.createElement(Wo,null));case"brushHardness":return I.createElement(io,{key:f,label:a.tabHardness},I.createElement(Po,null));default:return null}};return I.createElement($r,{style:{justifyContent:"center"},show:true},l&&I.createElement("div",null,I.createElement(l,{tool:"brush",ariaLabel:a.buttonReset,onClick:o.reset,icon:I.createElement(b.reset,null),isDisabled:!o.isDirty,label:a.buttonReset})),I.createElement(e.Other.ControlsWrapper,null,I.createElement(p.Input.Form,null,I.createElement(Wr,null,i.map(f=>c(f))))))});import G from"react";import zr from"styled-components";import Y from"react";var zo=s(()=>{const{filterTool:o}=m();const{state:r}=o;const t=o.locale.controls;const n=()=>{o.toolSnapshot()};return Y.createElement(e.Other.ControlsWrapper,null,Y.createElement(p.Spacer,{count:2}),Y.createElement(e.Slider,{identifier:"filter-intensity",tool:"filter","aria-hidden":!o.isOptionSelected,label:t.sliderIntensity,value:r.intensity,min:0,max:1,onMouseUp:n,onTouchEnd:n,onChange:o.changeIntensity,snap:r.isDuotone?.5:null}),Y.createElement(p.Spacer,{count:2}),Y.createElement(e.BarSeparator,null))});var Hr=zr(e.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`;var Ho=s(()=>{const{filterTool:o,custom:r}=m();const{config:t}=o;const{basicUIToolControlBarTabsOrder:n}=t;const i=r.getButton("toolControlBarSecondaryButton");const a=l=>{switch(l){case"filterIntensity":return G.createElement(zo,{key:l});default:return null}};return G.createElement(Hr,{show:o.isOptionSelected},i&&G.createElement("div",null,G.createElement(i,{tool:"filter",ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:G.createElement(b.reset,null),label:o.locale.controls.buttonReset})),n.map(l=>a(l)))});import W from"react";import Nr from"styled-components";var jr=Nr(e.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`;var No=s(()=>{const{focusTool:o,custom:r}=m();const t=o.locale.controls;const n=r.getButton("toolControlBarSecondaryButton");const i=()=>{o.toolSnapshot(t.sliderIntensity)};return W.createElement(jr,{show:o.isOptionSelected},n&&W.createElement("div",null,W.createElement(n,{tool:"focus",ariaLabel:t.buttonReset,onClick:o.reset,icon:W.createElement(b.reset,null),label:t.buttonReset})),W.createElement(e.Other.ControlsWrapper,null,W.createElement(p.Spacer,{count:2}),W.createElement(e.Slider,{identifier:"focus-intensity",tool:"focus","aria-hidden":!o.isOptionSelected,label:t.sliderIntensity,value:o.relativeIntensity,min:0,max:100,divider:1,onChange:o.changeRelativeIntensity,onMouseUp:i,onTouchEnd:i}),W.createElement(p.Spacer,{count:2}),W.createElement(e.BarSeparator,null)))});import g from"react";import Yr from"styled-components";import jo from"react";var Vo=s(()=>{const{frameTool:o}=m();const r=o.locale.controls;const t=o.localeColor.colorPicker;const{colorList:n}=o;return jo.createElement(p.Input.Selection,{label:r.selectColor,showLabel:false},jo.createElement(k,{tool:"frame",activeColor:o.color,colors:n,labelsColor:t,colorPickerDirection:"top",onChange:o.changeColor,onAddSnapshot:o.colorSnapshot}))});import Vr from"react";var Xo=s(()=>{const{frameTool:o}=m();const r=o.locale.controls;const t=()=>{o.toolSnapshot(r.sliderOpacity)};return Vr.createElement(e.Slider,{identifier:"frame-opacity",tool:"frame","aria-hidden":!o.isOptionSelected,showLabel:false,label:r.sliderOpacity,value:o.opacity,min:0,max:1,onChange:o.changeOpacity,onMouseUp:t,onTouchEnd:t})});import Xr from"react";var Yo=s(()=>{const{frameTool:o}=m();const r=o.locale.controls;const t=()=>{o.toolSnapshot(r.sliderSize)};return Xr.createElement(e.Slider,{identifier:"frame-size",tool:"frame","aria-hidden":!o.isOptionSelected,showLabel:false,label:r.sliderSize,value:o.size,min:o.minSize,max:o.maxSize,divider:1,onChange:o.changeWidth,onMouseUp:t,onTouchEnd:t})});var Gr=e.TabWrapper;var{Tab:so}=e;var _r=Yr(e.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`;var Go=s(()=>{const{frameTool:o,custom:r}=m();const t=o.locale.controls;const{tintable:n,config:i}=o;const{basicUIToolControlBarTabsOrder:a}=i;const l=r.getButton("toolControlBarSecondaryButton");const c=f=>{switch(f){case"frameOpacity":return g.createElement(so,{key:f,label:t.tabOpacity},g.createElement(Xo,null));case"frameSize":return g.createElement(so,{key:f,label:t.tabSize},g.createElement(Yo,null));case"frameColor":return n&&g.createElement(so,{key:f,label:t.tabColor},g.createElement(Vo,null));default:return null}};return g.createElement(_r,{show:o.isOptionSelected},l&&g.createElement("div",null,g.createElement(l,{tool:"frame",ariaLabel:t.buttonReset,onClick:o.reset,icon:g.createElement(b.reset,null),label:t.buttonReset})),g.createElement(e.Other.ControlsWrapper,null,g.createElement(Gr,null,a.map(f=>c(f))),g.createElement(e.BarSeparator,null)))});import w from"react";import _o,{css as Kr}from"styled-components";var Jr=_o(e.ControlsbarContainer)`
  ${o=>o.firstChildMargin&&Kr`
      > :first-child {
        margin-right: 16px;
      }
    `}
`;var qr=_o(e.Other.ControlsWrapper)`
  grid-column-start: 2;
  align-self: center;
`;var Qr=({library:o,active:r,custom:t})=>{const n=o.locale.controls.placeholderSearch;const{config:i}=o;const a=t.getButton("toolControlBarPrimaryButton");const l=d=>{o.fetchImages(d)};const c=d=>{const{files:A}=d.target;if(A.length){const R=new FileReader;R.onload=no=>{r.newImage(no.target.result)};R.readAsDataURL(A[0])}};const f=()=>{r.selectWebcam(true)};const B=()=>{const d=document.getElementById("fileUpload");if(d){d.click()}};return w.createElement(Jr,{firstChildMargin:i.enableWebcam&&!o.libraryProvider,show:true},i.enableUpload&&a&&w.createElement("div",null,w.createElement(a,{tool:"library","data-test":U.LibraryUploadButton,ariaLabel:o.locale.controls.buttonUpload,onClick:B,icon:w.createElement(b.uploadImage,null),label:o.locale.controls.buttonUpload},w.createElement(p.Input.File,{onChange:c}))),o.libraryProvider&&w.createElement(qr,null,w.createElement(p.Input.Search,{onChange:l,placeholder:n})),i.enableWebcam&&w.createElement("div",null,w.createElement(Oo,{tool:"library",onClick:f,icon:w.createElement(b.openWebcam,null),label:o.locale.controls.buttonWebcamOpen})),w.createElement(e.BarSeparator,null))};var Ko=u("library","active","custom")(s(Qr));import O from"react";import Zr from"react";var Jo=s(()=>{const{overlayTool:o}=m();const r=o.locale.controls;const{blendMode:t,allBlendModes:n}=o;const i=a=>{o.changeBlendMode(a)};return Zr.createElement(p.Input.CarouselSlider,{showLabel:false,label:r.carouselBlendMode,defaultIdentifier:t,onSelect:i,list:n})});import Rr from"react";var qo=s(()=>{const{overlayTool:o}=m();const r=o.locale.controls;const{state:t}=o;const n=()=>{o.toolSnapshot()};return Rr.createElement(e.Slider,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!o.isOptionSelected,showLabel:false,label:r.sliderOpacity,value:t.opacity,min:0,max:1,onChange:o.changeOpacity,onMouseUp:n,onTouchEnd:n})});var ot=e.TabWrapper;var{Tab:Qo}=e;var Zo=s(()=>{const{overlayTool:o,custom:r}=m();const{config:t}=o;const{basicUIToolControlBarTabsOrder:n}=t;const i=o.locale.controls;const a=r.getButton("toolControlBarSecondaryButton");const l=c=>{switch(c){case"overlayBlendMode":return O.createElement(Qo,{key:c,label:i.tabBlendMode},O.createElement(Jo,null));case"overlayOpacity":return O.createElement(Qo,{key:c,label:i.tabOpacity},O.createElement(qo,null));default:return null}};return O.createElement(e.ControlsbarContainer,{show:o.isOptionSelected},a&&O.createElement("div",null,O.createElement(a,{tool:"overlay",ariaLabel:i.buttonReset,onClick:o.reset,icon:O.createElement(b.reset,null),label:i.buttonReset})),O.createElement(e.Other.ControlsWrapper,null,O.createElement(ot,null,n.map(c=>l(c))),O.createElement(e.BarSeparator,null)))});import F from"react";import tr from"styled-components";import ro from"react";var Ro=s(()=>{const{stickerTool:o}=m();const r=o.locale.controls;const t=o.localeColor.colorPicker;const{colorList:n}=o;return ro.createElement(ro.Fragment,null,ro.createElement(p.Input.Selection,{isDisabled:!o.isStickerSelected,showLabel:false,label:r.selectColor},ro.createElement(k,{tool:"sticker",activeSprite:o.id,activeColor:o.tintColor,colors:n,labelsColor:t,isDisabled:!o.isStickerSelected,colorPickerDirection:"top",onChange:o.changeTintColor,onAddSnapshot:o.tintColorSnapshot})))});import rt from"react";var or=s(()=>{const{stickerTool:o}=m();const r=o.locale.controls;const t=()=>{o.toolSnapshot()};return rt.createElement(e.Slider,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!o.isStickerSelected,showLabel:false,label:r.sliderOpacity,value:o.opacity,min:0,max:1,onMouseUp:t,onTouchEnd:t,onChange:o.changeOpacity})});var tt=e.TabWrapper;var{Tab:rr}=e;var et=tr.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:true})`
  ${To.VisuallyHidden}
`;var nt=tr(e.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`;var er=s(()=>{const{stickerTool:o,custom:r}=m();const{config:t}=o;const{basicUIToolControlBarTabsOrder:n}=t;const i=o.locale.controls;const a=r.getButton("toolControlBarPrimaryButton");const l=()=>{const d=document.getElementById("fileUpload");if(d){d.value=null;d.click()}};const c=d=>{const{files:A}=d.target;o.addFiles(A)};const f=d=>{switch(d){case"stickerColor":if(!o.tintable)return null;return F.createElement(rr,{key:d,label:i.tabColor},F.createElement(Ro,null));case"stickerOpacity":return F.createElement(rr,{key:d,label:i.tabOpacity},F.createElement(or,null));default:return null}};const B=()=>{if(o.isCustomStickerEnabled&&a){return F.createElement("div",null,F.createElement(a,{tool:"sticker",ariaLabel:i.buttonUpload,onClick:l,icon:F.createElement(b.uploadImage,null),label:i.buttonUpload},F.createElement(et,{onChange:c})))}return null};return F.createElement(nt,{show:true},B(),F.createElement(e.Other.ControlsWrapper,null,F.createElement(tt,null,n.map(d=>f(d))),F.createElement(e.BarSeparator,null)))});import S from"react";import mt from"styled-components";import nr from"react";var ir=s(()=>{const{textTool:o}=m();const{backgroundColorList:r}=o;const t=o.locale.controls;const n=o.localeColor.colorPicker;return nr.createElement(p.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:false,label:t.selectBackgroundColor},nr.createElement(k,{tool:"text",activeSprite:o.id,activeColor:o.backgroundColor,colors:r,labelsColor:n,colorPickerDirection:"top",isDisabled:!o.isTextSelected,onChange:o.changeBackgroundColor,onAddSnapshot:o.backgroundColorSnapshot}))});import it from"react";import st from"styled-components";var at=st(p.Input.NumericInput)`
  max-width: 55px;
  > div > input {
    text-align: center;
  }
`;var sr=s(()=>{const{textTool:o}=m();const r=t=>{const n=t?parseFloat(t):0;o.setFontSize(Math.max(10,Math.min(690,n)))};return it.createElement(at,{value:o.fontSize.toFixed(0),onSubmit:r,isDisabled:!o.isTextSelected})});import lt from"react";var ar=s(()=>{const{textTool:o}=m();const r=o.locale.controls;const t=()=>{o.toolSnapshot()};return lt.createElement(e.Slider,{identifier:"text-line-spacing",tool:"text",isDisabled:!o.isTextSelected,showLabel:false,label:r.sliderLineSpacing,value:o.lineHeight,min:.5,max:3,onChange:o.changeLineHeight,onMouseUp:t,onTouchEnd:t,snap:1,divider:1,decimal:1})});import ao from"react";var lr=s(()=>{const{textTool:o,custom:r}=m();const t=o.locale.controls;const n=["left","center","right"];const i=r.getButton("textAlignment");return ao.createElement(p.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:false,label:t.selectAlignment,"data-test":U.TextAlignment},n.map(a=>{const l=Bo[a];return ao.createElement(i,{tool:a,isDisabled:!o.isTextSelected,ariaLabel:`Align ${a}`,isActive:a===o.alignment,key:a,icon:ao.createElement(l,null),onClick:()=>o.changeAlignment(a)})}))});import mr from"react";var pr=s(()=>{const{textTool:o}=m();const{colorList:r}=o;const t=o.locale.controls;const n=o.localeColor.colorPicker;return mr.createElement(p.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:false,label:t.selectFontColor},mr.createElement(k,{tool:"text",activeSprite:o.id,activeColor:o.textColor,colors:r,labelsColor:n,colorPickerDirection:"top",isDisabled:!o.isTextSelected,onChange:o.changeColor,onAddSnapshot:o.colorSnapshot}))});var pt=e.ResponsiveTabWrapper;var ct=mt(e.ControlsbarContainer)`
  > div {
    grid-template-columns: 1fr 5fr minmax(56px, 1fr);
  }
`;var cr=s(()=>{const{textTool:o,custom:r}=m();const{config:t}=o;const{basicUIToolControlBarTabsOrder:n}=t;const i=o.locale.controls;const a=r.getButton("toolControlBarPrimaryButton");const l=c=>{switch(c){case"fontSize":return S.createElement(j,{key:c,label:i.tabFontSize},S.createElement(sr,null));case"textAlignment":return S.createElement(j,{key:c,label:i.tabAlignment},S.createElement(lr,null));case"textColor":return S.createElement(j,{key:c,label:i.tabColor},S.createElement(pr,null));case"backgroundColor":return S.createElement(j,{key:c,label:i.tabBgColor},S.createElement(ir,null));case"lineSpacing":return S.createElement(j,{key:c,label:i.tabLineHeight},S.createElement(ar,null));default:return null}};return S.createElement(ct,{show:true},S.createElement("div",null,S.createElement(a,{tool:"text",ariaLabel:i.buttonNew,onClick:o.add,icon:S.createElement(b.addText,null),label:i.buttonNew})),S.createElement(e.Other.ControlsWrapper,null,S.createElement(pt,null,n.map(c=>l(c))),S.createElement(e.BarSeparator,null)))});import E from"react";import Ct from"styled-components";var dt=Ct(k)`
  height: 40px;
`;var ft=({textDesignTool:o,custom:r})=>{const t=o.locale.controls;const n=o.localeColor.colorPicker;const{colorList:i}=o;const a=r.getButton("toolControlBarSecondaryButton");const l=r.getButton("toolControlBarPrimaryButton");return E.createElement(e.ControlsbarContainer,{show:true},l&&E.createElement("div",null,E.createElement(l,{tool:"textdesign",ariaLabel:t.buttonNew,onClick:o.add,icon:E.createElement(b.addText,null),label:t.buttonNew})),E.createElement(e.Other.ControlsWrapper,null,E.createElement(p.Input.Selection,{isDisabled:!o.isTextDesignSelected,label:t.selectColor},E.createElement(dt,{tool:"textdesign",activeSprite:o.id,activeColor:o.color,colors:i,labelsColor:n,colorPickerDirection:"top",isDisabled:!o.isTextDesignSelected,onChange:o.changeColor,onAddSnapshot:o.colorSnapshot})),E.createElement(e.BarSeparator,null)),a&&E.createElement("div",null,E.createElement(a,{tool:"textdesign",ariaLabel:t.buttonShuffle,onClick:o.changeSeed,icon:E.createElement(b.shuffle,null),label:t.buttonShuffle})))};var Cr=u("textDesignTool","custom")(s(ft));import y,{useContext as ht}from"react";import St,{css as Bt}from"styled-components";import ut from"react";var dr=s(()=>{const{transformTool:o}=m();const r=o.locale.controls;const{forceDimensions:t}=o;return ut.createElement(Lo,{isDisabled:t,showLabel:false,valueHeight:o.localOutputHeight,valueWidth:o.localOutputWidth,onSubmitWidth:o.onPixelWidth,onSubmitHeight:o.onPixelHeight,label:r.inputCropSize,labelHeight:r.inputHeight,labelWidth:r.inputWidth})});import bt from"react";var fr=()=>bt.createElement(xo,null);import Tt from"react";var ur=s(()=>{const{transformTool:o,custom:r}=m();const t=o.locale.controls;const{forceDimensions:n}=o;const i=r.getCheckbox();if(!i){return null}return Tt.createElement(i,{tool:"transform",isDisabled:n,style:{paddingTop:"5px",justifyContent:"center"},value:o.lockResolution,checkMarkPosition:"left",label:t.checkboxKeepResolution,onClick:o.changeLockResolution})});var It=e.ResponsiveTabWrapper;var{Tab:lo}=e;var br=Bt`
  min-width: unset;
`;var gt=St(e.Other.ControlsWrapper)`
  min-width: 365px;

  ${o=>o.smallContainer&&br}
  @media all and (min-width: 0) and (max-width: 599px) {
    ${br}
  }
`;var Tr=s(()=>{const{transformTool:o,custom:r}=m();const{rect:t}=ht(uo);const{config:n}=o;const{basicUIToolControlBarTabsOrder:i}=n;const a=o.locale.controls;const l=r.getButton("toolControlBarSecondaryButton");const c=f=>{switch(f){case"flipRotate":return y.createElement(lo,{key:f,label:a.tabFlipAndRotate},y.createElement(fr,null));case"resolution":return y.createElement(lo,{key:f,label:a.tabResolution},y.createElement(ur,null));case"cropSize":return y.createElement(lo,{key:f,label:a.tabCropSize},y.createElement(dr,null));default:return null}};return y.createElement(e.ControlsbarContainer,{show:true},l&&y.createElement("div",null,y.createElement(l,{tool:"transform",ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:y.createElement(b.reset,null),label:o.locale.controls.buttonReset})),y.createElement(gt,{smallContainer:!!t&&t.width<600},y.createElement(It,null,i.map(f=>c(f))),y.createElement(e.BarSeparator,null)))});var hr=s(function o(){const{active:r,custom:t}=m();const n=r.tool;const i=t.getBasicToolControlBar();if(!i){return null}return T.createElement(i,{show:!!n,tool:n},T.createElement(p.Switch.Index,{type:n},T.createElement(p.Switch.Case,{value:"filter"},T.createElement(Ho,null)),T.createElement(p.Switch.Case,{value:"focus"},T.createElement(No,null)),T.createElement(p.Switch.Case,{value:"adjustment"},T.createElement(Do,null)),T.createElement(p.Switch.Case,{value:"overlay"},T.createElement(Zo,null)),T.createElement(p.Switch.Case,{value:"sticker"},T.createElement(er,null)),T.createElement(p.Switch.Case,{value:"text"},T.createElement(cr,null)),T.createElement(p.Switch.Case,{value:"textdesign"},T.createElement(Cr,null)),T.createElement(p.Switch.Case,{value:"library"},T.createElement(Ko,null)),T.createElement(p.Switch.Case,{value:"frame"},T.createElement(Go,null)),T.createElement(p.Switch.Case,{value:"brush"},T.createElement($o,null)),T.createElement(p.Switch.Case,{value:"transform"},T.createElement(Tr,null))))});import L,{useMemo as Pt}from"react";import _ from"react";import yt from"styled-components";var vt=yt.div`
  position: relative;
  top: -8px;
  color: ${o=>o.theme.card.foreground};
`;var xt=({adjustmentsTool:o})=>{const r=(t,n)=>{const i=Io[t.identifier];return _.createElement(e.Card,{"data-test":t.identifier,tool:"adjustment",type:"medium",onClick:()=>o.toggleOptionSelection(t.identifier),isActive:t.identifier===o.selectedAdjustmentType,key:`${t.identifier}-${n}`,label:t.name,style:{animationDelay:`${h(n)}s`}},_.createElement(vt,null,_.createElement(i,null)),_.createElement(e.CardLabel,null,o.locale.items[t.identifier]||t.name))};return _.createElement(e.CardContainer,null,o.items.map(r))};var Sr=u("adjustmentsTool")(s(xt));import Ut from"react";var Br=()=>{const{config:o}=m();const r=o.state.config["customTool"].toolControlBar;return Ut.createElement(r,{language:o.state.locale["customTool"]})};import z from"react";var K=class extends z.Component{constructor(){super(...arguments);this.onCategoryClick=r=>{const{filterTool:t}=this.props;t.toggleCategorySelection(r)};this.renderItem=(r,t)=>{const{filterTool:n}=this.props;return z.createElement(e.Card,{tool:"filter",type:"medium",onClick:()=>n.selectFilter(r.identifier,r.defaultIntensity),isActive:n.identifier===r.identifier,key:`${r.identifier}-${t}`,image:r.thumbnailURI,label:r.name,style:{animationDelay:`${h(t)}s`}},z.createElement(e.CardLabel,{withBackground:true},n.locale.categories[r.identifier]||n.locale.items[r.identifier]||r.name))};this.renderCategory=(r,t)=>{const{filterTool:n}=this.props;const{selectedCategoryIdentifier:i}=n;const a=i===r.identifier;if(!r.items)return null;return z.createElement(e.CategoryContainer,{key:r.identifier},z.createElement(e.Card,{tool:"filter",type:"large",onClick:()=>this.onCategoryClick(r.identifier),image:r.thumbnailURI,label:r.name,style:{animationDelay:`${h(t)}s`}},z.createElement(e.CardLabel,{withBackground:true},r.name)),z.createElement(e.ExpandableContainer,{show:a},r.items.map(this.renderItem)))}}render(){const{filterTool:r}=this.props;const{categories:t,config:n,items:i}=r;if(n.flattenCategories)return z.createElement(e.CardContainer,null,i.map(this.renderItem));return z.createElement(e.CardContainer,null,t.map(this.renderCategory))}};K=D([u("filterTool","active"),s],K);import mo from"react";var kt=({focusTool:o})=>{const r=n=>{o.selectFocus(n)};const t=(n,i)=>mo.createElement(e.Card,{isActive:n.identifier===o.identifier,tool:"focus",type:"medium",onClick:()=>r(n.identifier),key:`${n.identifier}-${i}`,image:n.thumbnailURI,label:n.name,style:{animationDelay:`${h(i)}s`}},mo.createElement(e.CardLabel,{withBackground:true},o.locale.items[n.identifier]||n.name));return mo.createElement(e.CardContainer,null,o.items.map(t))};var Ir=u("focusTool")(s(kt));import po from"react";var Ft=({frameTool:o})=>{const r=o.identifier;const t=(n,i)=>po.createElement(e.Card,{tool:"frame",type:"medium",onClick:()=>o.selectFrame(n.identifier),isActive:n.identifier===r,key:`${n.identifier}-${i}`,image:n.thumbnailURI,label:n.name,style:{animationDelay:`${h(i)}s`,backgroundSize:"60%"}}," ",po.createElement(e.CardLabel,{hidden:true},o.locale.items[n.identifier]||n.name));return po.createElement(e.CardContainer,null,o.items.map(t))};var gr=u("frameTool")(s(Ft));import M from"react";import Lt from"styled-components";var yr=Lt.p`
  height: ${o=>o.theme.measurements.basicUIToolControlBar.itemsBarHeight}px;
`;var J=class extends M.Component{constructor(){super(...arguments);this.onCategoryClick=r=>{const{library:t}=this.props;t.toggleCategorySelection(r)};this.renderItem=(r,t)=>{const{active:n}=this.props;return M.createElement(e.Card,{tool:"library",type:"medium",onClick:()=>n.newImage(r.rawUrl),key:`${r.identifier}-${t}`,image:r.thumbnailURI,label:r.name,style:{animationDelay:`${h(t)}s`}})};this.renderCategory=(r,t)=>{const{library:n}=this.props;const{selectedCategoryIdentifier:i}=n;const a=i===r.identifier;if(!r.items)return null;return M.createElement(e.CategoryContainer,{key:r.identifier},M.createElement(e.Card,{tool:"library",type:"large",onClick:()=>this.onCategoryClick(r.identifier),image:r.thumbnailURI,label:r.name,style:{animationDelay:`${h(t)}s`}},M.createElement(e.CardLabel,{withBackground:true},r.name)),M.createElement(e.ExpandableContainer,{show:a},r.items.map(this.renderItem)))}}render(){const{library:r}=this.props;const{query:t,categories:n,items:i,locale:a,config:l}=r;if(t){return i.length?M.createElement(e.CardContainer,null,i.map(this.renderItem)):M.createElement(yr,{"data-test":U.NoResult},a.controls.noResults)}if(l.flattenCategories)return M.createElement(e.CardContainer,null,i.map(this.renderItem));return M.createElement(e.CardContainer,null,n.map(this.renderCategory))}};J=D([u("library","active"),s],J);import co from"react";var At=({overlayTool:o})=>{const{identifier:r,items:t,selectOverlay:n,locale:i}=o;const a=(l,c)=>co.createElement(e.Card,{tool:"overlay",type:"medium",onClick:()=>n(l.identifier),isActive:l.identifier===r,key:`${l.identifier}-${c}`,image:l.thumbnailURI,label:l.name,style:{animationDelay:`${h(c)}s`}},co.createElement(e.CardLabel,{withBackground:true},i.items[l.identifier]||l.name));return co.createElement(e.CardContainer,null,t.map(a))};var vr=u("overlayTool")(s(At));import H from"react";var q=class extends H.Component{constructor(){super(...arguments);this.onCategoryClick=r=>{const{stickerTool:t}=this.props;t.toggleCategorySelection(r)};this.renderItem=(r,t)=>{const{stickerTool:n}=this.props;return H.createElement(e.Card,{tool:"sticker",type:"medium",onClick:()=>n.add(r.identifier),key:`${r.identifier}-${t}`,image:r.thumbnailURI,label:r.name,style:{backgroundSize:"55%",animationDelay:`${bo(t)}s`}},H.createElement(e.CardLabel,{hidden:true},n.locale.items[r.identifier]||r.name))};this.renderCategory=(r,t)=>{const{stickerTool:n}=this.props;const{selectedCategoryIdentifier:i,locale:a}=n;const l=i===r.identifier;if(!r.items)return null;return H.createElement(e.CategoryContainer,{key:r.identifier},H.createElement(e.Card,{tool:"sticker",type:"large",onClick:()=>this.onCategoryClick(r.identifier),image:r.thumbnailURI,label:r.name,style:{animationDelay:`${h(t)}s`}},H.createElement(e.CardLabel,{withBackground:true},a.categories[r.identifier]||r.name)),H.createElement(e.ExpandableContainer,{show:l},r.items.map(this.renderItem)))}}render(){const{stickerTool:r}=this.props;const{categories:t,items:n,config:i}=r;if(i.flattenCategories)return H.createElement(e.CardContainer,null,n.map(this.renderItem));return H.createElement(e.CardContainer,null,t.map(this.renderCategory))}};q=D([u("stickerTool","active"),s],q);import to from"react";import wt from"styled-components";var Ot=wt.div`
  font-size: 20px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: left top;
`;var xr=class extends to.Component{constructor(){super(...arguments);this.getWidth=({fontFamily:r,fontStyle:t,fontWeight:n},i)=>{const a=document.createElement("canvas");const l=a.getContext("2d");l.font=`${t} ${n} 20px ${r}`;l.fillText(i,0,0);return l.measureText(i).width};this.renderItem=(r,t)=>{const{config:n,textTool:i}=this.props;const{fontFamily:a,fontWeight:l,fontStyle:c,identifier:f}=r;const B=`${r.fontFamily} ${yo.getDisplayFontStyle(r)}`;const d=this.getWidth(r,B);const A=(n.measurements.basicCard.medium.width-20)/d;return to.createElement(e.Card,{tool:"text",type:"medium",onClick:()=>i.changeFont(f),isDisabled:!this.textTool.isTextSelected,isActive:i.identifier===f,key:`${r.identifier}-${t}`,label:B,style:{animationDelay:`${h(t)}s`}},to.createElement(Ot,{style:{transform:`scale(${A}) translate(-50%, -50%)`,fontFamily:a,fontStyle:c,fontWeight:l}},B))}}get textTool(){return this.props.textTool}render(){const{textTool:r}=this.props;const{fontsLoaded:t,fontFamilies:n}=r;if(!t)return null;return to.createElement(e.CardContainer,null,n.map(this.renderItem))}};var Ur=u("textTool","config")(s(xr));import Co from"react";var Et=({textDesignTool:o})=>{const{items:r,changeIdentifier:t,isTextDesignSelected:n,identifier:i}=o;const a=(l,c)=>{return Co.createElement(e.Card,{tool:"textdesign",type:"medium",onClick:()=>t(l.identifier),isDisabled:!n,isActive:i===l.identifier,key:`${l.identifier}-${c}`,image:l.thumbnailURI,label:l.name,style:{animationDelay:`${h(c)}s`,backgroundSize:"60%"}},Co.createElement(e.CardLabel,{hidden:true},l.name))};return Co.createElement(e.CardContainer,null,r.map(a))};var kr=u("textDesignTool")(s(Et));import v from"react";import Fr from"styled-components";var Dt=Fr.div`
  svg {
    margin-bottom: 12px;
  }
`;var Mt=Fr.div`
  svg {
    width: ${o=>o.theme.measurements.basicCard.medium.height}px;
    height: ${o=>o.theme.measurements.basicCard.medium.height}px;
  }

  ${ho} {
    width: ${o=>o.theme.measurements.basicCard.medium.width-32}px;
    height: ${o=>o.theme.measurements.basicCard.medium.height-32}px;
    padding: 6px 0px 24px;
  }
`;var Q=class extends v.Component{constructor(){super(...arguments);this.onCategoryClick=r=>{const{transformTool:t}=this.props;t.toggleCategorySelection(r)};this.renderItem=(r,t)=>{const{transformTool:n,config:i}=this.props;const{locale:a,identifier:l}=n;const c=n.checkIfTransformThumbnailExits(r.thumbnailURI);const f=V.crops[r.identifier]||V.crops.imgly_transform_common_custom;const B=v.createElement(e.CardLabel,null,a.items[r.identifier]||r.name);const d=c?B:v.createElement(Mt,null,v.createElement(f,{main:i.theme.transform.crops.main,highlight:i.theme.transform.crops.highlight,shadow:i.theme.transform.crops.shadow}),B);return v.createElement(e.Card,{tool:"transform",type:"medium",onClick:()=>n.changeIdentifier(r.identifier,true),key:`${r.identifier}-${t}`,image:r.thumbnailURI,label:r.name,isActive:r.identifier===l,style:{backgroundSize:"55%",animationDelay:`${h(t)}s`}},d)};this.renderCategory=(r,t)=>{const{transformTool:n}=this.props;const{selectedCategoryIdentifier:i,locale:a}=n;const l=i===r.identifier;if(!r.items)return null;const c=n.checkIfTransformThumbnailExits(r.thumbnailURI);const f=v.createElement(e.CardLabel,null,a.categories[r.identifier]||r.name);const B=c?f:v.createElement(Dt,null,V.categories[r.identifier]&&v.createElement(V.categories[r.identifier]),f);return v.createElement(e.CategoryContainer,{key:r.identifier},v.createElement(e.Card,{tool:"transform",type:"large",onClick:()=>this.onCategoryClick(r.identifier),image:c?r.thumbnailURI:"",label:r.name,style:{animationDelay:`${h(t)}s`}},B),v.createElement(e.ExpandableContainer,{show:l},r.items.map(this.renderItem)))}}render(){const{transformTool:r}=this.props;const{categories:t,config:n,items:i}=r;if(n.flattenCategories)return v.createElement(e.CardContainer,null,i.map(this.renderItem));return v.createElement(e.CardContainer,null,t.map(this.renderCategory))}};Q=D([u("transformTool","config"),s],Q);var Lr=s(function o(){const{active:r,library:t,custom:n}=m();const i=r.tool;const a=Pt(()=>{switch(i){case"library":return L.createElement(J,null);case"filter":return L.createElement(K,null);case"focus":return L.createElement(Ir,null);case"adjustment":return L.createElement(Sr,null);case"overlay":return L.createElement(vr,null);case"sticker":return L.createElement(q,null);case"text":return L.createElement(Ur,null);case"textdesign":return L.createElement(kr,null);case"frame":return L.createElement(gr,null);case"transform":return L.createElement(Q,null);case"customTool":return L.createElement(Br,null);default:return null}},[i]);const l=n.getBasicToolItemsBar();if(!l||i==="brush"||i==="library"&&!t.libraryProvider){return null}return L.createElement(l,{show:!!i},a)});var $t=Wt.div`
  position: absolute;
  width: 100%;
  height: ${o=>o.theme.measurements.basicUIToolControlBar.maxHeight}px;
  bottom: 0;
  left: 0;
  background: ${o=>o.theme.webcam.backdrop};
  z-index: ${o=>o.theme.measurements.zIndex.disable};
`;var Z=class extends x.Component{static getDerivedStateFromError(r){console.error(r);return{hasError:true}}render(){const{active:r,custom:t}=this.props;const n=t.getWindowContainer();return x.createElement(p.Container,{"data-test":U.EditorContainer},r.isWebcam?x.createElement($t,null):null,x.createElement(Fo,null),x.createElement(go,null,x.createElement(vo,null),n&&x.createElement(n,{tool:r.tool},x.createElement(wo,null,r.isWebcam?x.createElement(Ao,null):null,r.image&&x.createElement(Uo,null))),x.createElement(hr,null),x.createElement(Lr,null),x.createElement(Eo,null)))}};Z=D([u("active","custom"),s],Z);var Ar=class extends eo.Component{constructor(){super(...arguments);this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:r,storeProps:t}=this.props;this.editor=r;this.storeProps=t;const n=new ko(this.editor.configStore.config.custom.components,{basicUIToolbar:e.Toolbar.Index,basicUIToolControlBar:e.Controlsbar,basicUIToolItemsBar:e.Itemsbar});const i={getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox,getSlider:n.getSlider,getBasicToolbar:n.getBasicToolbar,getBasicToolControlBar:n.getBasicToolControlBar,getBasicToolItemsBar:n.getBasicToolItemsBar,getWindowContainer:n.getWindowContainer};this.storeProps.custom=i;this.forceUpdate()}render(){return this.storeProps?eo.createElement(fo,{...this.storeProps},eo.createElement(zt,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},eo.createElement(Z,null))):null}};export{Ar as default};
